(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))o(d);new MutationObserver(d=>{for(const m of d)if(m.type==="childList")for(const u of m.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function l(d){const m={};return d.integrity&&(m.integrity=d.integrity),d.referrerPolicy&&(m.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?m.credentials="include":d.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function o(d){if(d.ep)return;d.ep=!0;const m=l(d);fetch(d.href,m)}})();function Hh(i,r){const l=Object.create(null),o=i.split(",");for(let d=0;d<o.length;d++)l[o[d]]=!0;return r?d=>!!l[d.toLowerCase()]:d=>!!l[d]}const xn={},fl=[],Wo=()=>{},FL=()=>!1,VL=/^on[^a-z]/,fd=i=>VL.test(i),C0=i=>i.startsWith("onUpdate:"),Mn=Object.assign,A0=(i,r)=>{const l=i.indexOf(r);l>-1&&i.splice(l,1)},UL=Object.prototype.hasOwnProperty,an=(i,r)=>UL.call(i,r),vt=Array.isArray,pl=i=>Pl(i)==="[object Map]",wa=i=>Pl(i)==="[object Set]",VA=i=>Pl(i)==="[object Date]",HL=i=>Pl(i)==="[object RegExp]",Rt=i=>typeof i=="function",jn=i=>typeof i=="string",Xc=i=>typeof i=="symbol",Sn=i=>i!==null&&typeof i=="object",x0=i=>Sn(i)&&Rt(i.then)&&Rt(i.catch),q5=Object.prototype.toString,Pl=i=>q5.call(i),WL=i=>Pl(i).slice(8,-1),Z5=i=>Pl(i)==="[object Object]",S0=i=>jn(i)&&i!=="NaN"&&i[0]!=="-"&&""+parseInt(i,10)===i,Nc=Hh(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Wh=i=>{const r=Object.create(null);return l=>r[l]||(r[l]=i(l))},GL=/-(\w)/g,Xi=Wh(i=>i.replace(GL,(r,l)=>l?l.toUpperCase():"")),KL=/\B([A-Z])/g,So=Wh(i=>i.replace(KL,"-$1").toLowerCase()),pd=Wh(i=>i.charAt(0).toUpperCase()+i.slice(1)),$c=Wh(i=>i?`on${pd(i)}`:""),vl=(i,r)=>!Object.is(i,r),ml=(i,r)=>{for(let l=0;l<i.length;l++)i[l](r)},kh=(i,r,l)=>{Object.defineProperty(i,r,{configurable:!0,enumerable:!1,value:l})},wh=i=>{const r=parseFloat(i);return isNaN(r)?i:r},yh=i=>{const r=jn(i)?Number(i):NaN;return isNaN(r)?i:r};let UA;const Lg=()=>UA||(UA=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),YL="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",qL=Hh(YL);function Vn(i){if(vt(i)){const r={};for(let l=0;l<i.length;l++){const o=i[l],d=jn(o)?XL(o):Vn(o);if(d)for(const m in d)r[m]=d[m]}return r}else{if(jn(i))return i;if(Sn(i))return i}}const ZL=/;(?![^(]*\))/g,QL=/:([^]+)/,JL=/\/\*[^]*?\*\//g;function XL(i){const r={};return i.replace(JL,"").split(ZL).forEach(l=>{if(l){const o=l.split(QL);o.length>1&&(r[o[0].trim()]=o[1].trim())}}),r}function je(i){let r="";if(jn(i))r=i;else if(vt(i))for(let l=0;l<i.length;l++){const o=je(i[l]);o&&(r+=o+" ")}else if(Sn(i))for(const l in i)i[l]&&(r+=l+" ");return r.trim()}function yi(i){if(!i)return null;let{class:r,style:l}=i;return r&&!jn(r)&&(i.class=je(r)),l&&(i.style=Vn(l)),i}const eR="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",tR=Hh(eR);function Q5(i){return!!i||i===""}function nR(i,r){if(i.length!==r.length)return!1;let l=!0;for(let o=0;l&&o<i.length;o++)l=ws(i[o],r[o]);return l}function ws(i,r){if(i===r)return!0;let l=VA(i),o=VA(r);if(l||o)return l&&o?i.getTime()===r.getTime():!1;if(l=Xc(i),o=Xc(r),l||o)return i===r;if(l=vt(i),o=vt(r),l||o)return l&&o?nR(i,r):!1;if(l=Sn(i),o=Sn(r),l||o){if(!l||!o)return!1;const d=Object.keys(i).length,m=Object.keys(r).length;if(d!==m)return!1;for(const u in i){const h=i.hasOwnProperty(u),f=r.hasOwnProperty(u);if(h&&!f||!h&&f||!ws(i[u],r[u]))return!1}}return String(i)===String(r)}function Gh(i,r){return i.findIndex(l=>ws(l,r))}const _e=i=>jn(i)?i:i==null?"":vt(i)||Sn(i)&&(i.toString===q5||!Rt(i.toString))?JSON.stringify(i,J5,2):String(i),J5=(i,r)=>r&&r.__v_isRef?J5(i,r.value):pl(r)?{[`Map(${r.size})`]:[...r.entries()].reduce((l,[o,d])=>(l[`${o} =>`]=d,l),{})}:wa(r)?{[`Set(${r.size})`]:[...r.values()]}:Sn(r)&&!vt(r)&&!Z5(r)?String(r):r;let ho;class E0{constructor(r=!1){this.detached=r,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ho,!r&&ho&&(this.index=(ho.scopes||(ho.scopes=[])).push(this)-1)}get active(){return this._active}run(r){if(this._active){const l=ho;try{return ho=this,r()}finally{ho=l}}}on(){ho=this}off(){ho=this.parent}stop(r){if(this._active){let l,o;for(l=0,o=this.effects.length;l<o;l++)this.effects[l].stop();for(l=0,o=this.cleanups.length;l<o;l++)this.cleanups[l]();if(this.scopes)for(l=0,o=this.scopes.length;l<o;l++)this.scopes[l].stop(!0);if(!this.detached&&this.parent&&!r){const d=this.parent.scopes.pop();d&&d!==this&&(this.parent.scopes[this.index]=d,d.index=this.index)}this.parent=void 0,this._active=!1}}}function D0(i){return new E0(i)}function X5(i,r=ho){r&&r.active&&r.effects.push(i)}function Kh(){return ho}function T0(i){ho&&ho.cleanups.push(i)}const I0=i=>{const r=new Set(i);return r.w=0,r.n=0,r},e3=i=>(i.w&ys)>0,t3=i=>(i.n&ys)>0,iR=({deps:i})=>{if(i.length)for(let r=0;r<i.length;r++)i[r].w|=ys},oR=i=>{const{deps:r}=i;if(r.length){let l=0;for(let o=0;o<r.length;o++){const d=r[o];e3(d)&&!t3(d)?d.delete(i):r[l++]=d,d.w&=~ys,d.n&=~ys}r.length=l}},Ch=new WeakMap;let Ic=0,ys=1;const Rg=30;let Uo;const ca=Symbol(""),Ng=Symbol("");class md{constructor(r,l=null,o){this.fn=r,this.scheduler=l,this.active=!0,this.deps=[],this.parent=void 0,X5(this,o)}run(){if(!this.active)return this.fn();let r=Uo,l=vs;for(;r;){if(r===this)return;r=r.parent}try{return this.parent=Uo,Uo=this,vs=!0,ys=1<<++Ic,Ic<=Rg?iR(this):HA(this),this.fn()}finally{Ic<=Rg&&oR(this),ys=1<<--Ic,Uo=this.parent,vs=l,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Uo===this?this.deferStop=!0:this.active&&(HA(this),this.onStop&&this.onStop(),this.active=!1)}}function HA(i){const{deps:r}=i;if(r.length){for(let l=0;l<r.length;l++)r[l].delete(i);r.length=0}}function rR(i,r){i.effect&&(i=i.effect.fn);const l=new md(i);r&&(Mn(l,r),r.scope&&X5(l,r.scope)),(!r||!r.lazy)&&l.run();const o=l.run.bind(l);return o.effect=l,o}function sR(i){i.effect.stop()}let vs=!0;const n3=[];function Ol(){n3.push(vs),vs=!1}function Bl(){const i=n3.pop();vs=i===void 0?!0:i}function to(i,r,l){if(vs&&Uo){let o=Ch.get(i);o||Ch.set(i,o=new Map);let d=o.get(l);d||o.set(l,d=I0()),i3(d)}}function i3(i,r){let l=!1;Ic<=Rg?t3(i)||(i.n|=ys,l=!e3(i)):l=!i.has(Uo),l&&(i.add(Uo),Uo.deps.push(i))}function Vr(i,r,l,o,d,m){const u=Ch.get(i);if(!u)return;let h=[];if(r==="clear")h=[...u.values()];else if(l==="length"&&vt(i)){const f=Number(o);u.forEach((g,y)=>{(y==="length"||y>=f)&&h.push(g)})}else switch(l!==void 0&&h.push(u.get(l)),r){case"add":vt(i)?S0(l)&&h.push(u.get("length")):(h.push(u.get(ca)),pl(i)&&h.push(u.get(Ng)));break;case"delete":vt(i)||(h.push(u.get(ca)),pl(i)&&h.push(u.get(Ng)));break;case"set":pl(i)&&h.push(u.get(ca));break}if(h.length===1)h[0]&&$g(h[0]);else{const f=[];for(const g of h)g&&f.push(...g);$g(I0(f))}}function $g(i,r){const l=vt(i)?i:[...i];for(const o of l)o.computed&&WA(o);for(const o of l)o.computed||WA(o)}function WA(i,r){(i!==Uo||i.allowRecurse)&&(i.scheduler?i.scheduler():i.run())}function aR(i,r){var l;return(l=Ch.get(i))==null?void 0:l.get(r)}const lR=Hh("__proto__,__v_isRef,__isVue"),o3=new Set(Object.getOwnPropertyNames(Symbol).filter(i=>i!=="arguments"&&i!=="caller").map(i=>Symbol[i]).filter(Xc)),cR=Yh(),dR=Yh(!1,!0),uR=Yh(!0),hR=Yh(!0,!0),GA=fR();function fR(){const i={};return["includes","indexOf","lastIndexOf"].forEach(r=>{i[r]=function(...l){const o=Xt(this);for(let m=0,u=this.length;m<u;m++)to(o,"get",m+"");const d=o[r](...l);return d===-1||d===!1?o[r](...l.map(Xt)):d}}),["push","pop","shift","unshift","splice"].forEach(r=>{i[r]=function(...l){Ol();const o=Xt(this)[r].apply(this,l);return Bl(),o}}),i}function pR(i){const r=Xt(this);return to(r,"has",i),r.hasOwnProperty(i)}function Yh(i=!1,r=!1){return function(o,d,m){if(d==="__v_isReactive")return!i;if(d==="__v_isReadonly")return i;if(d==="__v_isShallow")return r;if(d==="__v_raw"&&m===(i?r?u3:d3:r?c3:l3).get(o))return o;const u=vt(o);if(!i){if(u&&an(GA,d))return Reflect.get(GA,d,m);if(d==="hasOwnProperty")return pR}const h=Reflect.get(o,d,m);return(Xc(d)?o3.has(d):lR(d))||(i||to(o,"get",d),r)?h:hn(h)?u&&S0(d)?h:h.value:Sn(h)?i?O0(h):Ve(h):h}}const mR=r3(),gR=r3(!0);function r3(i=!1){return function(l,o,d,m){let u=l[o];if(pa(u)&&hn(u)&&!hn(d))return!1;if(!i&&(!ed(d)&&!pa(d)&&(u=Xt(u),d=Xt(d)),!vt(l)&&hn(u)&&!hn(d)))return u.value=d,!0;const h=vt(l)&&S0(o)?Number(o)<l.length:an(l,o),f=Reflect.set(l,o,d,m);return l===Xt(m)&&(h?vl(d,u)&&Vr(l,"set",o,d):Vr(l,"add",o,d)),f}}function _R(i,r){const l=an(i,r);i[r];const o=Reflect.deleteProperty(i,r);return o&&l&&Vr(i,"delete",r,void 0),o}function bR(i,r){const l=Reflect.has(i,r);return(!Xc(r)||!o3.has(r))&&to(i,"has",r),l}function vR(i){return to(i,"iterate",vt(i)?"length":ca),Reflect.ownKeys(i)}const s3={get:cR,set:mR,deleteProperty:_R,has:bR,ownKeys:vR},a3={get:uR,set(i,r){return!0},deleteProperty(i,r){return!0}},kR=Mn({},s3,{get:dR,set:gR}),wR=Mn({},a3,{get:hR}),M0=i=>i,qh=i=>Reflect.getPrototypeOf(i);function Fu(i,r,l=!1,o=!1){i=i.__v_raw;const d=Xt(i),m=Xt(r);l||(r!==m&&to(d,"get",r),to(d,"get",m));const{has:u}=qh(d),h=o?M0:l?L0:td;if(u.call(d,r))return h(i.get(r));if(u.call(d,m))return h(i.get(m));i!==d&&i.get(r)}function Vu(i,r=!1){const l=this.__v_raw,o=Xt(l),d=Xt(i);return r||(i!==d&&to(o,"has",i),to(o,"has",d)),i===d?l.has(i):l.has(i)||l.has(d)}function Uu(i,r=!1){return i=i.__v_raw,!r&&to(Xt(i),"iterate",ca),Reflect.get(i,"size",i)}function KA(i){i=Xt(i);const r=Xt(this);return qh(r).has.call(r,i)||(r.add(i),Vr(r,"add",i,i)),this}function YA(i,r){r=Xt(r);const l=Xt(this),{has:o,get:d}=qh(l);let m=o.call(l,i);m||(i=Xt(i),m=o.call(l,i));const u=d.call(l,i);return l.set(i,r),m?vl(r,u)&&Vr(l,"set",i,r):Vr(l,"add",i,r),this}function qA(i){const r=Xt(this),{has:l,get:o}=qh(r);let d=l.call(r,i);d||(i=Xt(i),d=l.call(r,i)),o&&o.call(r,i);const m=r.delete(i);return d&&Vr(r,"delete",i,void 0),m}function ZA(){const i=Xt(this),r=i.size!==0,l=i.clear();return r&&Vr(i,"clear",void 0,void 0),l}function Hu(i,r){return function(o,d){const m=this,u=m.__v_raw,h=Xt(u),f=r?M0:i?L0:td;return!i&&to(h,"iterate",ca),u.forEach((g,y)=>o.call(d,f(g),f(y),m))}}function Wu(i,r,l){return function(...o){const d=this.__v_raw,m=Xt(d),u=pl(m),h=i==="entries"||i===Symbol.iterator&&u,f=i==="keys"&&u,g=d[i](...o),y=l?M0:r?L0:td;return!r&&to(m,"iterate",f?Ng:ca),{next(){const{value:k,done:v}=g.next();return v?{value:k,done:v}:{value:h?[y(k[0]),y(k[1])]:y(k),done:v}},[Symbol.iterator](){return this}}}}function ss(i){return function(...r){return i==="delete"?!1:this}}function yR(){const i={get(m){return Fu(this,m)},get size(){return Uu(this)},has:Vu,add:KA,set:YA,delete:qA,clear:ZA,forEach:Hu(!1,!1)},r={get(m){return Fu(this,m,!1,!0)},get size(){return Uu(this)},has:Vu,add:KA,set:YA,delete:qA,clear:ZA,forEach:Hu(!1,!0)},l={get(m){return Fu(this,m,!0)},get size(){return Uu(this,!0)},has(m){return Vu.call(this,m,!0)},add:ss("add"),set:ss("set"),delete:ss("delete"),clear:ss("clear"),forEach:Hu(!0,!1)},o={get(m){return Fu(this,m,!0,!0)},get size(){return Uu(this,!0)},has(m){return Vu.call(this,m,!0)},add:ss("add"),set:ss("set"),delete:ss("delete"),clear:ss("clear"),forEach:Hu(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(m=>{i[m]=Wu(m,!1,!1),l[m]=Wu(m,!0,!1),r[m]=Wu(m,!1,!0),o[m]=Wu(m,!0,!0)}),[i,l,r,o]}const[CR,AR,xR,SR]=yR();function Zh(i,r){const l=r?i?SR:xR:i?AR:CR;return(o,d,m)=>d==="__v_isReactive"?!i:d==="__v_isReadonly"?i:d==="__v_raw"?o:Reflect.get(an(l,d)&&d in o?l:o,d,m)}const ER={get:Zh(!1,!1)},DR={get:Zh(!1,!0)},TR={get:Zh(!0,!1)},IR={get:Zh(!0,!0)},l3=new WeakMap,c3=new WeakMap,d3=new WeakMap,u3=new WeakMap;function MR(i){switch(i){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function PR(i){return i.__v_skip||!Object.isExtensible(i)?0:MR(WL(i))}function Ve(i){return pa(i)?i:Qh(i,!1,s3,ER,l3)}function P0(i){return Qh(i,!1,kR,DR,c3)}function O0(i){return Qh(i,!0,a3,TR,d3)}function OR(i){return Qh(i,!0,wR,IR,u3)}function Qh(i,r,l,o,d){if(!Sn(i)||i.__v_raw&&!(r&&i.__v_isReactive))return i;const m=d.get(i);if(m)return m;const u=PR(i);if(u===0)return i;const h=new Proxy(i,u===2?o:l);return d.set(i,h),h}function $r(i){return pa(i)?$r(i.__v_raw):!!(i&&i.__v_isReactive)}function pa(i){return!!(i&&i.__v_isReadonly)}function ed(i){return!!(i&&i.__v_isShallow)}function B0(i){return $r(i)||pa(i)}function Xt(i){const r=i&&i.__v_raw;return r?Xt(r):i}function gd(i){return kh(i,"__v_skip",!0),i}const td=i=>Sn(i)?Ve(i):i,L0=i=>Sn(i)?O0(i):i;function R0(i){vs&&Uo&&(i=Xt(i),i3(i.dep||(i.dep=I0())))}function Jh(i,r){i=Xt(i);const l=i.dep;l&&$g(l)}function hn(i){return!!(i&&i.__v_isRef===!0)}function et(i){return h3(i,!1)}function Ll(i){return h3(i,!0)}function h3(i,r){return hn(i)?i:new BR(i,r)}class BR{constructor(r,l){this.__v_isShallow=l,this.dep=void 0,this.__v_isRef=!0,this._rawValue=l?r:Xt(r),this._value=l?r:td(r)}get value(){return R0(this),this._value}set value(r){const l=this.__v_isShallow||ed(r)||pa(r);r=l?r:Xt(r),vl(r,this._rawValue)&&(this._rawValue=r,this._value=l?r:td(r),Jh(this))}}function LR(i){Jh(i)}function P(i){return hn(i)?i.value:i}function RR(i){return Rt(i)?i():P(i)}const NR={get:(i,r,l)=>P(Reflect.get(i,r,l)),set:(i,r,l,o)=>{const d=i[r];return hn(d)&&!hn(l)?(d.value=l,!0):Reflect.set(i,r,l,o)}};function N0(i){return $r(i)?i:new Proxy(i,NR)}class $R{constructor(r){this.dep=void 0,this.__v_isRef=!0;const{get:l,set:o}=r(()=>R0(this),()=>Jh(this));this._get=l,this._set=o}get value(){return this._get()}set value(r){this._set(r)}}function jR(i){return new $R(i)}function _d(i){const r=vt(i)?new Array(i.length):{};for(const l in i)r[l]=f3(i,l);return r}class zR{constructor(r,l,o){this._object=r,this._key=l,this._defaultValue=o,this.__v_isRef=!0}get value(){const r=this._object[this._key];return r===void 0?this._defaultValue:r}set value(r){this._object[this._key]=r}get dep(){return aR(Xt(this._object),this._key)}}class FR{constructor(r){this._getter=r,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function kl(i,r,l){return hn(i)?i:Rt(i)?new FR(i):Sn(i)&&arguments.length>1?f3(i,r,l):et(i)}function f3(i,r,l){const o=i[r];return hn(o)?o:new zR(i,r,l)}class VR{constructor(r,l,o,d){this._setter=l,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new md(r,()=>{this._dirty||(this._dirty=!0,Jh(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!d,this.__v_isReadonly=o}get value(){const r=Xt(this);return R0(r),(r._dirty||!r._cacheable)&&(r._dirty=!1,r._value=r.effect.run()),r._value}set value(r){this._setter(r)}}function UR(i,r,l=!1){let o,d;const m=Rt(i);return m?(o=i,d=Wo):(o=i.get,d=i.set),new VR(o,d,m||!d,l)}function HR(i,...r){}function WR(i,r){}function jr(i,r,l,o){let d;try{d=o?i(...o):i()}catch(m){ya(m,r,l)}return d}function go(i,r,l,o){if(Rt(i)){const m=jr(i,r,l,o);return m&&x0(m)&&m.catch(u=>{ya(u,r,l)}),m}const d=[];for(let m=0;m<i.length;m++)d.push(go(i[m],r,l,o));return d}function ya(i,r,l,o=!0){const d=r?r.vnode:null;if(r){let m=r.parent;const u=r.proxy,h=l;for(;m;){const g=m.ec;if(g){for(let y=0;y<g.length;y++)if(g[y](i,u,h)===!1)return}m=m.parent}const f=r.appContext.config.errorHandler;if(f){jr(f,null,10,[i,u,h]);return}}GR(i,l,d,o)}function GR(i,r,l,o=!0){console.error(i)}let nd=!1,jg=!1;const Di=[];let lr=0;const gl=[];let Mr=null,oa=0;const p3=Promise.resolve();let $0=null;function eo(i){const r=$0||p3;return i?r.then(this?i.bind(this):i):r}function KR(i){let r=lr+1,l=Di.length;for(;r<l;){const o=r+l>>>1;id(Di[o])<i?r=o+1:l=o}return r}function Xh(i){(!Di.length||!Di.includes(i,nd&&i.allowRecurse?lr+1:lr))&&(i.id==null?Di.push(i):Di.splice(KR(i.id),0,i),m3())}function m3(){!nd&&!jg&&(jg=!0,$0=p3.then(g3))}function YR(i){const r=Di.indexOf(i);r>lr&&Di.splice(r,1)}function j0(i){vt(i)?gl.push(...i):(!Mr||!Mr.includes(i,i.allowRecurse?oa+1:oa))&&gl.push(i),m3()}function QA(i,r=nd?lr+1:0){for(;r<Di.length;r++){const l=Di[r];l&&l.pre&&(Di.splice(r,1),r--,l())}}function Ah(i){if(gl.length){const r=[...new Set(gl)];if(gl.length=0,Mr){Mr.push(...r);return}for(Mr=r,Mr.sort((l,o)=>id(l)-id(o)),oa=0;oa<Mr.length;oa++)Mr[oa]();Mr=null,oa=0}}const id=i=>i.id==null?1/0:i.id,qR=(i,r)=>{const l=id(i)-id(r);if(l===0){if(i.pre&&!r.pre)return-1;if(r.pre&&!i.pre)return 1}return l};function g3(i){jg=!1,nd=!0,Di.sort(qR);const r=Wo;try{for(lr=0;lr<Di.length;lr++){const l=Di[lr];l&&l.active!==!1&&jr(l,null,14)}}finally{lr=0,Di.length=0,Ah(),nd=!1,$0=null,(Di.length||gl.length)&&g3()}}let ll,Gu=[];function _3(i,r){var l,o;ll=i,ll?(ll.enabled=!0,Gu.forEach(({event:d,args:m})=>ll.emit(d,...m)),Gu=[]):typeof window<"u"&&window.HTMLElement&&!((o=(l=window.navigator)==null?void 0:l.userAgent)!=null&&o.includes("jsdom"))?((r.__VUE_DEVTOOLS_HOOK_REPLAY__=r.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(m=>{_3(m,r)}),setTimeout(()=>{ll||(r.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Gu=[])},3e3)):Gu=[]}function ZR(i,r,...l){if(i.isUnmounted)return;const o=i.vnode.props||xn;let d=l;const m=r.startsWith("update:"),u=m&&r.slice(7);if(u&&u in o){const y=`${u==="modelValue"?"model":u}Modifiers`,{number:k,trim:v}=o[y]||xn;v&&(d=l.map(A=>jn(A)?A.trim():A)),k&&(d=l.map(wh))}let h,f=o[h=$c(r)]||o[h=$c(Xi(r))];!f&&m&&(f=o[h=$c(So(r))]),f&&go(f,i,6,d);const g=o[h+"Once"];if(g){if(!i.emitted)i.emitted={};else if(i.emitted[h])return;i.emitted[h]=!0,go(g,i,6,d)}}function b3(i,r,l=!1){const o=r.emitsCache,d=o.get(i);if(d!==void 0)return d;const m=i.emits;let u={},h=!1;if(!Rt(i)){const f=g=>{const y=b3(g,r,!0);y&&(h=!0,Mn(u,y))};!l&&r.mixins.length&&r.mixins.forEach(f),i.extends&&f(i.extends),i.mixins&&i.mixins.forEach(f)}return!m&&!h?(Sn(i)&&o.set(i,null),null):(vt(m)?m.forEach(f=>u[f]=null):Mn(u,m),Sn(i)&&o.set(i,u),u)}function ef(i,r){return!i||!fd(r)?!1:(r=r.slice(2).replace(/Once$/,""),an(i,r[0].toLowerCase()+r.slice(1))||an(i,So(r))||an(i,r))}let pi=null,tf=null;function od(i){const r=pi;return pi=i,tf=i&&i.type.__scopeId||null,r}function Kt(i){tf=i}function Yt(){tf=null}const QR=i=>qe;function qe(i,r=pi,l){if(!r||i._n)return i;const o=(...d)=>{o._d&&Gg(-1);const m=od(r);let u;try{u=i(...d)}finally{od(m),o._d&&Gg(1)}return u};return o._n=!0,o._c=!0,o._d=!0,o}function lh(i){const{type:r,vnode:l,proxy:o,withProxy:d,props:m,propsOptions:[u],slots:h,attrs:f,emit:g,render:y,renderCache:k,data:v,setupState:A,ctx:T,inheritAttrs:x}=i;let C,D;const S=od(i);try{if(l.shapeFlag&4){const B=d||o;C=mo(y.call(B,B,k,m,A,v,T)),D=f}else{const B=r;C=mo(B.length>1?B(m,{attrs:f,slots:h,emit:g}):B(m,null)),D=r.props?f:XR(f)}}catch(B){Fc.length=0,ya(B,i,1),C=ue(Mi)}let M=C;if(D&&x!==!1){const B=Object.keys(D),{shapeFlag:R}=M;B.length&&R&7&&(u&&B.some(C0)&&(D=eN(D,u)),M=mr(M,D))}return l.dirs&&(M=mr(M),M.dirs=M.dirs?M.dirs.concat(l.dirs):l.dirs),l.transition&&(M.transition=l.transition),C=M,od(S),C}function JR(i){let r;for(let l=0;l<i.length;l++){const o=i[l];if(Cs(o)){if(o.type!==Mi||o.children==="v-if"){if(r)return;r=o}}else return}return r}const XR=i=>{let r;for(const l in i)(l==="class"||l==="style"||fd(l))&&((r||(r={}))[l]=i[l]);return r},eN=(i,r)=>{const l={};for(const o in i)(!C0(o)||!(o.slice(9)in r))&&(l[o]=i[o]);return l};function tN(i,r,l){const{props:o,children:d,component:m}=i,{props:u,children:h,patchFlag:f}=r,g=m.emitsOptions;if(r.dirs||r.transition)return!0;if(l&&f>=0){if(f&1024)return!0;if(f&16)return o?JA(o,u,g):!!u;if(f&8){const y=r.dynamicProps;for(let k=0;k<y.length;k++){const v=y[k];if(u[v]!==o[v]&&!ef(g,v))return!0}}}else return(d||h)&&(!h||!h.$stable)?!0:o===u?!1:o?u?JA(o,u,g):!0:!!u;return!1}function JA(i,r,l){const o=Object.keys(r);if(o.length!==Object.keys(i).length)return!0;for(let d=0;d<o.length;d++){const m=o[d];if(r[m]!==i[m]&&!ef(l,m))return!0}return!1}function z0({vnode:i,parent:r},l){for(;r&&r.subTree===i;)(i=r.vnode).el=l,r=r.parent}const v3=i=>i.__isSuspense,nN={name:"Suspense",__isSuspense:!0,process(i,r,l,o,d,m,u,h,f,g){i==null?oN(r,l,o,d,m,u,h,f,g):rN(i,r,l,o,d,u,h,f,g)},hydrate:sN,create:F0,normalize:aN},iN=nN;function rd(i,r){const l=i.props&&i.props[r];Rt(l)&&l()}function oN(i,r,l,o,d,m,u,h,f){const{p:g,o:{createElement:y}}=f,k=y("div"),v=i.suspense=F0(i,d,o,r,k,l,m,u,h,f);g(null,v.pendingBranch=i.ssContent,k,null,o,v,m,u),v.deps>0?(rd(i,"onPending"),rd(i,"onFallback"),g(null,i.ssFallback,r,l,o,null,m,u),_l(v,i.ssFallback)):v.resolve(!1,!0)}function rN(i,r,l,o,d,m,u,h,{p:f,um:g,o:{createElement:y}}){const k=r.suspense=i.suspense;k.vnode=r,r.el=i.el;const v=r.ssContent,A=r.ssFallback,{activeBranch:T,pendingBranch:x,isInFallback:C,isHydrating:D}=k;if(x)k.pendingBranch=v,Ho(v,x)?(f(x,v,k.hiddenContainer,null,d,k,m,u,h),k.deps<=0?k.resolve():C&&(f(T,A,l,o,d,null,m,u,h),_l(k,A))):(k.pendingId++,D?(k.isHydrating=!1,k.activeBranch=x):g(x,d,k),k.deps=0,k.effects.length=0,k.hiddenContainer=y("div"),C?(f(null,v,k.hiddenContainer,null,d,k,m,u,h),k.deps<=0?k.resolve():(f(T,A,l,o,d,null,m,u,h),_l(k,A))):T&&Ho(v,T)?(f(T,v,l,o,d,k,m,u,h),k.resolve(!0)):(f(null,v,k.hiddenContainer,null,d,k,m,u,h),k.deps<=0&&k.resolve()));else if(T&&Ho(v,T))f(T,v,l,o,d,k,m,u,h),_l(k,v);else if(rd(r,"onPending"),k.pendingBranch=v,k.pendingId++,f(null,v,k.hiddenContainer,null,d,k,m,u,h),k.deps<=0)k.resolve();else{const{timeout:S,pendingId:M}=k;S>0?setTimeout(()=>{k.pendingId===M&&k.fallback(A)},S):S===0&&k.fallback(A)}}function F0(i,r,l,o,d,m,u,h,f,g,y=!1){const{p:k,m:v,um:A,n:T,o:{parentNode:x,remove:C}}=g;let D;const S=lN(i);S&&r!=null&&r.pendingBranch&&(D=r.pendingId,r.deps++);const M=i.props?yh(i.props.timeout):void 0,B={vnode:i,parent:r,parentComponent:l,isSVG:u,container:o,hiddenContainer:d,anchor:m,deps:0,pendingId:0,timeout:typeof M=="number"?M:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:y,isUnmounted:!1,effects:[],resolve(R=!1,L=!1){const{vnode:j,activeBranch:N,pendingBranch:z,pendingId:Z,effects:K,parentComponent:H,container:Y}=B;if(B.isHydrating)B.isHydrating=!1;else if(!R){const re=N&&z.transition&&z.transition.mode==="out-in";re&&(N.transition.afterLeave=()=>{Z===B.pendingId&&v(z,Y,W,0)});let{anchor:W}=B;N&&(W=T(N),A(N,H,B,!0)),re||v(z,Y,W,0)}_l(B,z),B.pendingBranch=null,B.isInFallback=!1;let oe=B.parent,me=!1;for(;oe;){if(oe.pendingBranch){oe.effects.push(...K),me=!0;break}oe=oe.parent}me||j0(K),B.effects=[],S&&r&&r.pendingBranch&&D===r.pendingId&&(r.deps--,r.deps===0&&!L&&r.resolve()),rd(j,"onResolve")},fallback(R){if(!B.pendingBranch)return;const{vnode:L,activeBranch:j,parentComponent:N,container:z,isSVG:Z}=B;rd(L,"onFallback");const K=T(j),H=()=>{B.isInFallback&&(k(null,R,z,K,N,null,Z,h,f),_l(B,R))},Y=R.transition&&R.transition.mode==="out-in";Y&&(j.transition.afterLeave=H),B.isInFallback=!0,A(j,N,null,!0),Y||H()},move(R,L,j){B.activeBranch&&v(B.activeBranch,R,L,j),B.container=R},next(){return B.activeBranch&&T(B.activeBranch)},registerDep(R,L){const j=!!B.pendingBranch;j&&B.deps++;const N=R.vnode.el;R.asyncDep.catch(z=>{ya(z,R,0)}).then(z=>{if(R.isUnmounted||B.isUnmounted||B.pendingId!==R.suspenseId)return;R.asyncResolved=!0;const{vnode:Z}=R;Kg(R,z,!1),N&&(Z.el=N);const K=!N&&R.subTree.el;L(R,Z,x(N||R.subTree.el),N?null:T(R.subTree),B,u,f),K&&C(K),z0(R,Z.el),j&&--B.deps===0&&B.resolve()})},unmount(R,L){B.isUnmounted=!0,B.activeBranch&&A(B.activeBranch,l,R,L),B.pendingBranch&&A(B.pendingBranch,l,R,L)}};return B}function sN(i,r,l,o,d,m,u,h,f){const g=r.suspense=F0(r,o,l,i.parentNode,document.createElement("div"),null,d,m,u,h,!0),y=f(i,g.pendingBranch=r.ssContent,l,g,m,u);return g.deps===0&&g.resolve(!1,!0),y}function aN(i){const{shapeFlag:r,children:l}=i,o=r&32;i.ssContent=XA(o?l.default:l),i.ssFallback=o?XA(l.fallback):ue(Mi)}function XA(i){let r;if(Rt(i)){const l=_a&&i._c;l&&(i._d=!1,F()),i=i(),l&&(i._d=!0,r=Ji,Y3())}return vt(i)&&(i=JR(i)),i=mo(i),r&&!i.dynamicChildren&&(i.dynamicChildren=r.filter(l=>l!==i)),i}function k3(i,r){r&&r.pendingBranch?vt(i)?r.effects.push(...i):r.effects.push(i):j0(i)}function _l(i,r){i.activeBranch=r;const{vnode:l,parentComponent:o}=i,d=l.el=r.el;o&&o.subTree===l&&(o.vnode.el=d,z0(o,d))}function lN(i){var r;return((r=i.props)==null?void 0:r.suspensible)!=null&&i.props.suspensible!==!1}function cN(i,r){return bd(i,null,r)}function w3(i,r){return bd(i,null,{flush:"post"})}function dN(i,r){return bd(i,null,{flush:"sync"})}const Ku={};function Bt(i,r,l){return bd(i,r,l)}function bd(i,r,{immediate:l,deep:o,flush:d,onTrack:m,onTrigger:u}=xn){var h;const f=Kh()===((h=li)==null?void 0:h.scope)?li:null;let g,y=!1,k=!1;if(hn(i)?(g=()=>i.value,y=ed(i)):$r(i)?(g=()=>i,o=!0):vt(i)?(k=!0,y=i.some(B=>$r(B)||ed(B)),g=()=>i.map(B=>{if(hn(B))return B.value;if($r(B))return sa(B);if(Rt(B))return jr(B,f,2)})):Rt(i)?r?g=()=>jr(i,f,2):g=()=>{if(!(f&&f.isUnmounted))return v&&v(),go(i,f,3,[A])}:g=Wo,r&&o){const B=g;g=()=>sa(B())}let v,A=B=>{v=S.onStop=()=>{jr(B,f,4)}},T;if(yl)if(A=Wo,r?l&&go(r,f,3,[g(),k?[]:void 0,A]):g(),d==="sync"){const B=ix();T=B.__watcherHandles||(B.__watcherHandles=[])}else return Wo;let x=k?new Array(i.length).fill(Ku):Ku;const C=()=>{if(S.active)if(r){const B=S.run();(o||y||(k?B.some((R,L)=>vl(R,x[L])):vl(B,x)))&&(v&&v(),go(r,f,3,[B,x===Ku?void 0:k&&x[0]===Ku?[]:x,A]),x=B)}else S.run()};C.allowRecurse=!!r;let D;d==="sync"?D=C:d==="post"?D=()=>wi(C,f&&f.suspense):(C.pre=!0,f&&(C.id=f.uid),D=()=>Xh(C));const S=new md(g,D);r?l?C():x=S.run():d==="post"?wi(S.run.bind(S),f&&f.suspense):S.run();const M=()=>{S.stop(),f&&f.scope&&A0(f.scope.effects,S)};return T&&T.push(M),M}function uN(i,r,l){const o=this.proxy,d=jn(i)?i.includes(".")?y3(o,i):()=>o[i]:i.bind(o,o);let m;Rt(r)?m=r:(m=r.handler,l=r);const u=li;As(this);const h=bd(d,m.bind(o),l);return u?As(u):ks(),h}function y3(i,r){const l=r.split(".");return()=>{let o=i;for(let d=0;d<l.length&&o;d++)o=o[l[d]];return o}}function sa(i,r){if(!Sn(i)||i.__v_skip||(r=r||new Set,r.has(i)))return i;if(r.add(i),hn(i))sa(i.value,r);else if(vt(i))for(let l=0;l<i.length;l++)sa(i[l],r);else if(wa(i)||pl(i))i.forEach(l=>{sa(l,r)});else if(Z5(i))for(const l in i)sa(i[l],r);return i}function ct(i,r){const l=pi;if(l===null)return i;const o=af(l)||l.proxy,d=i.dirs||(i.dirs=[]);for(let m=0;m<r.length;m++){let[u,h,f,g=xn]=r[m];u&&(Rt(u)&&(u={mounted:u,updated:u}),u.deep&&sa(h),d.push({dir:u,instance:o,value:h,oldValue:void 0,arg:f,modifiers:g}))}return i}function ar(i,r,l,o){const d=i.dirs,m=r&&r.dirs;for(let u=0;u<d.length;u++){const h=d[u];m&&(h.oldValue=m[u].value);let f=h.dir[o];f&&(Ol(),go(f,l,8,[i.el,h,i,r]),Bl())}}function V0(){const i={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ue(()=>{i.isMounted=!0}),Hr(()=>{i.isUnmounting=!0}),i}const Co=[Function,Array],U0={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Co,onEnter:Co,onAfterEnter:Co,onEnterCancelled:Co,onBeforeLeave:Co,onLeave:Co,onAfterLeave:Co,onLeaveCancelled:Co,onBeforeAppear:Co,onAppear:Co,onAfterAppear:Co,onAppearCancelled:Co},hN={name:"BaseTransition",props:U0,setup(i,{slots:r}){const l=Ke(),o=V0();let d;return()=>{const m=r.default&&nf(r.default(),!0);if(!m||!m.length)return;let u=m[0];if(m.length>1){for(const x of m)if(x.type!==Mi){u=x;break}}const h=Xt(i),{mode:f}=h;if(o.isLeaving)return Ym(u);const g=e4(u);if(!g)return Ym(u);const y=wl(g,h,o,l);ma(g,y);const k=l.subTree,v=k&&e4(k);let A=!1;const{getTransitionKey:T}=g.type;if(T){const x=T();d===void 0?d=x:x!==d&&(d=x,A=!0)}if(v&&v.type!==Mi&&(!Ho(g,v)||A)){const x=wl(v,h,o,l);if(ma(v,x),f==="out-in")return o.isLeaving=!0,x.afterLeave=()=>{o.isLeaving=!1,l.update.active!==!1&&l.update()},Ym(u);f==="in-out"&&g.type!==Mi&&(x.delayLeave=(C,D,S)=>{const M=A3(o,v);M[String(v.key)]=v,C._leaveCb=()=>{D(),C._leaveCb=void 0,delete y.delayedLeave},y.delayedLeave=S})}return u}}},C3=hN;function A3(i,r){const{leavingVNodes:l}=i;let o=l.get(r.type);return o||(o=Object.create(null),l.set(r.type,o)),o}function wl(i,r,l,o){const{appear:d,mode:m,persisted:u=!1,onBeforeEnter:h,onEnter:f,onAfterEnter:g,onEnterCancelled:y,onBeforeLeave:k,onLeave:v,onAfterLeave:A,onLeaveCancelled:T,onBeforeAppear:x,onAppear:C,onAfterAppear:D,onAppearCancelled:S}=r,M=String(i.key),B=A3(l,i),R=(N,z)=>{N&&go(N,o,9,z)},L=(N,z)=>{const Z=z[1];R(N,z),vt(N)?N.every(K=>K.length<=1)&&Z():N.length<=1&&Z()},j={mode:m,persisted:u,beforeEnter(N){let z=h;if(!l.isMounted)if(d)z=x||h;else return;N._leaveCb&&N._leaveCb(!0);const Z=B[M];Z&&Ho(i,Z)&&Z.el._leaveCb&&Z.el._leaveCb(),R(z,[N])},enter(N){let z=f,Z=g,K=y;if(!l.isMounted)if(d)z=C||f,Z=D||g,K=S||y;else return;let H=!1;const Y=N._enterCb=oe=>{H||(H=!0,oe?R(K,[N]):R(Z,[N]),j.delayedLeave&&j.delayedLeave(),N._enterCb=void 0)};z?L(z,[N,Y]):Y()},leave(N,z){const Z=String(i.key);if(N._enterCb&&N._enterCb(!0),l.isUnmounting)return z();R(k,[N]);let K=!1;const H=N._leaveCb=Y=>{K||(K=!0,z(),Y?R(T,[N]):R(A,[N]),N._leaveCb=void 0,B[Z]===i&&delete B[Z])};B[Z]=i,v?L(v,[N,H]):H()},clone(N){return wl(N,r,l,o)}};return j}function Ym(i){if(vd(i))return i=mr(i),i.children=null,i}function e4(i){return vd(i)?i.children?i.children[0]:void 0:i}function ma(i,r){i.shapeFlag&6&&i.component?ma(i.component.subTree,r):i.shapeFlag&128?(i.ssContent.transition=r.clone(i.ssContent),i.ssFallback.transition=r.clone(i.ssFallback)):i.transition=r}function nf(i,r=!1,l){let o=[],d=0;for(let m=0;m<i.length;m++){let u=i[m];const h=l==null?u.key:String(l)+String(u.key!=null?u.key:m);u.type===xe?(u.patchFlag&128&&d++,o=o.concat(nf(u.children,r,h))):(r||u.type!==Mi)&&o.push(h!=null?mr(u,{key:h}):u)}if(d>1)for(let m=0;m<o.length;m++)o[m].patchFlag=-2;return o}function Pi(i,r){return Rt(i)?(()=>Mn({name:i.name},r,{setup:i}))():i}const da=i=>!!i.type.__asyncLoader;function fN(i){Rt(i)&&(i={loader:i});const{loader:r,loadingComponent:l,errorComponent:o,delay:d=200,timeout:m,suspensible:u=!0,onError:h}=i;let f=null,g,y=0;const k=()=>(y++,f=null,v()),v=()=>{let A;return f||(A=f=r().catch(T=>{if(T=T instanceof Error?T:new Error(String(T)),h)return new Promise((x,C)=>{h(T,()=>x(k()),()=>C(T),y+1)});throw T}).then(T=>A!==f&&f?f:(T&&(T.__esModule||T[Symbol.toStringTag]==="Module")&&(T=T.default),g=T,T)))};return Pi({name:"AsyncComponentWrapper",__asyncLoader:v,get __asyncResolved(){return g},setup(){const A=li;if(g)return()=>qm(g,A);const T=S=>{f=null,ya(S,A,13,!o)};if(u&&A.suspense||yl)return v().then(S=>()=>qm(S,A)).catch(S=>(T(S),()=>o?ue(o,{error:S}):null));const x=et(!1),C=et(),D=et(!!d);return d&&setTimeout(()=>{D.value=!1},d),m!=null&&setTimeout(()=>{if(!x.value&&!C.value){const S=new Error(`Async component timed out after ${m}ms.`);T(S),C.value=S}},m),v().then(()=>{x.value=!0,A.parent&&vd(A.parent.vnode)&&Xh(A.parent.update)}).catch(S=>{T(S),C.value=S}),()=>{if(x.value&&g)return qm(g,A);if(C.value&&o)return ue(o,{error:C.value});if(l&&!D.value)return ue(l)}}})}function qm(i,r){const{ref:l,props:o,children:d,ce:m}=r.vnode,u=ue(i,o,d);return u.ref=l,u.ce=m,delete r.vnode.ce,u}const vd=i=>i.type.__isKeepAlive,pN={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(i,{slots:r}){const l=Ke(),o=l.ctx;if(!o.renderer)return()=>{const S=r.default&&r.default();return S&&S.length===1?S[0]:S};const d=new Map,m=new Set;let u=null;const h=l.suspense,{renderer:{p:f,m:g,um:y,o:{createElement:k}}}=o,v=k("div");o.activate=(S,M,B,R,L)=>{const j=S.component;g(S,M,B,0,h),f(j.vnode,S,M,B,j,h,R,S.slotScopeIds,L),wi(()=>{j.isDeactivated=!1,j.a&&ml(j.a);const N=S.props&&S.props.onVnodeMounted;N&&Qi(N,j.parent,S)},h)},o.deactivate=S=>{const M=S.component;g(S,v,null,1,h),wi(()=>{M.da&&ml(M.da);const B=S.props&&S.props.onVnodeUnmounted;B&&Qi(B,M.parent,S),M.isDeactivated=!0},h)};function A(S){Zm(S),y(S,l,h,!0)}function T(S){d.forEach((M,B)=>{const R=qg(M.type);R&&(!S||!S(R))&&x(B)})}function x(S){const M=d.get(S);!u||!Ho(M,u)?A(M):u&&Zm(u),d.delete(S),m.delete(S)}Bt(()=>[i.include,i.exclude],([S,M])=>{S&&T(B=>Mc(S,B)),M&&T(B=>!Mc(M,B))},{flush:"post",deep:!0});let C=null;const D=()=>{C!=null&&d.set(C,Qm(l.subTree))};return Ue(D),kd(D),Hr(()=>{d.forEach(S=>{const{subTree:M,suspense:B}=l,R=Qm(M);if(S.type===R.type&&S.key===R.key){Zm(R);const L=R.component.da;L&&wi(L,B);return}A(S)})}),()=>{if(C=null,!r.default)return null;const S=r.default(),M=S[0];if(S.length>1)return u=null,S;if(!Cs(M)||!(M.shapeFlag&4)&&!(M.shapeFlag&128))return u=null,M;let B=Qm(M);const R=B.type,L=qg(da(B)?B.type.__asyncResolved||{}:R),{include:j,exclude:N,max:z}=i;if(j&&(!L||!Mc(j,L))||N&&L&&Mc(N,L))return u=B,M;const Z=B.key==null?R:B.key,K=d.get(Z);return B.el&&(B=mr(B),M.shapeFlag&128&&(M.ssContent=B)),C=Z,K?(B.el=K.el,B.component=K.component,B.transition&&ma(B,B.transition),B.shapeFlag|=512,m.delete(Z),m.add(Z)):(m.add(Z),z&&m.size>parseInt(z,10)&&x(m.values().next().value)),B.shapeFlag|=256,u=B,v3(M.type)?M:B}}},mN=pN;function Mc(i,r){return vt(i)?i.some(l=>Mc(l,r)):jn(i)?i.split(",").includes(r):HL(i)?i.test(r):!1}function x3(i,r){E3(i,"a",r)}function S3(i,r){E3(i,"da",r)}function E3(i,r,l=li){const o=i.__wdc||(i.__wdc=()=>{let d=l;for(;d;){if(d.isDeactivated)return;d=d.parent}return i()});if(of(r,o,l),l){let d=l.parent;for(;d&&d.parent;)vd(d.parent.vnode)&&gN(o,r,l,d),d=d.parent}}function gN(i,r,l,o){const d=of(r,i,o,!0);Aa(()=>{A0(o[r],d)},l)}function Zm(i){i.shapeFlag&=-257,i.shapeFlag&=-513}function Qm(i){return i.shapeFlag&128?i.ssContent:i}function of(i,r,l=li,o=!1){if(l){const d=l[i]||(l[i]=[]),m=r.__weh||(r.__weh=(...u)=>{if(l.isUnmounted)return;Ol(),As(l);const h=go(r,l,i,u);return ks(),Bl(),h});return o?d.unshift(m):d.push(m),m}}const Ur=i=>(r,l=li)=>(!yl||i==="sp")&&of(i,(...o)=>r(...o),l),Ca=Ur("bm"),Ue=Ur("m"),H0=Ur("bu"),kd=Ur("u"),Hr=Ur("bum"),Aa=Ur("um"),D3=Ur("sp"),T3=Ur("rtg"),I3=Ur("rtc");function M3(i,r=li){of("ec",i,r)}const W0="components",_N="directives";function Ht(i,r){return G0(W0,i,!0,r)||i}const P3=Symbol.for("v-ndc");function Yo(i){return jn(i)?G0(W0,i,!1)||i:i||P3}function bN(i){return G0(_N,i)}function G0(i,r,l=!0,o=!1){const d=pi||li;if(d){const m=d.type;if(i===W0){const h=qg(m,!1);if(h&&(h===r||h===Xi(r)||h===pd(Xi(r))))return m}const u=t4(d[i]||m[i],r)||t4(d.appContext[i],r);return!u&&o?m:u}}function t4(i,r){return i&&(i[r]||i[Xi(r)]||i[pd(Xi(r))])}function Xe(i,r,l,o){let d;const m=l&&l[o];if(vt(i)||jn(i)){d=new Array(i.length);for(let u=0,h=i.length;u<h;u++)d[u]=r(i[u],u,void 0,m&&m[u])}else if(typeof i=="number"){d=new Array(i);for(let u=0;u<i;u++)d[u]=r(u+1,u,void 0,m&&m[u])}else if(Sn(i))if(i[Symbol.iterator])d=Array.from(i,(u,h)=>r(u,h,void 0,m&&m[h]));else{const u=Object.keys(i);d=new Array(u.length);for(let h=0,f=u.length;h<f;h++){const g=u[h];d[h]=r(i[g],g,h,m&&m[h])}}else d=[];return l&&(l[o]=d),d}function Ni(i,r){for(let l=0;l<r.length;l++){const o=r[l];if(vt(o))for(let d=0;d<o.length;d++)i[o[d].name]=o[d].fn;else o&&(i[o.name]=o.key?(...d)=>{const m=o.fn(...d);return m&&(m.key=o.key),m}:o.fn)}return i}function bt(i,r,l={},o,d){if(pi.isCE||pi.parent&&da(pi.parent)&&pi.parent.isCE)return r!=="default"&&(l.name=r),ue("slot",l,o&&o());let m=i[r];m&&m._c&&(m._d=!1),F();const u=m&&O3(m(l)),h=lt(xe,{key:l.key||u&&u.key||`_${r}`},u||(o?o():[]),u&&i._===1?64:-2);return!d&&h.scopeId&&(h.slotScopeIds=[h.scopeId+"-s"]),m&&m._c&&(m._d=!0),h}function O3(i){return i.some(r=>Cs(r)?!(r.type===Mi||r.type===xe&&!O3(r.children)):!0)?i:null}function vN(i,r){const l={};for(const o in i)l[r&&/[A-Z]/.test(o)?`on:${o}`:$c(o)]=i[o];return l}const zg=i=>i?J3(i)?af(i)||i.proxy:zg(i.parent):null,jc=Mn(Object.create(null),{$:i=>i,$el:i=>i.vnode.el,$data:i=>i.data,$props:i=>i.props,$attrs:i=>i.attrs,$slots:i=>i.slots,$refs:i=>i.refs,$parent:i=>zg(i.parent),$root:i=>zg(i.root),$emit:i=>i.emit,$options:i=>K0(i),$forceUpdate:i=>i.f||(i.f=()=>Xh(i.update)),$nextTick:i=>i.n||(i.n=eo.bind(i.proxy)),$watch:i=>uN.bind(i)}),Jm=(i,r)=>i!==xn&&!i.__isScriptSetup&&an(i,r),Fg={get({_:i},r){const{ctx:l,setupState:o,data:d,props:m,accessCache:u,type:h,appContext:f}=i;let g;if(r[0]!=="$"){const A=u[r];if(A!==void 0)switch(A){case 1:return o[r];case 2:return d[r];case 4:return l[r];case 3:return m[r]}else{if(Jm(o,r))return u[r]=1,o[r];if(d!==xn&&an(d,r))return u[r]=2,d[r];if((g=i.propsOptions[0])&&an(g,r))return u[r]=3,m[r];if(l!==xn&&an(l,r))return u[r]=4,l[r];Vg&&(u[r]=0)}}const y=jc[r];let k,v;if(y)return r==="$attrs"&&to(i,"get",r),y(i);if((k=h.__cssModules)&&(k=k[r]))return k;if(l!==xn&&an(l,r))return u[r]=4,l[r];if(v=f.config.globalProperties,an(v,r))return v[r]},set({_:i},r,l){const{data:o,setupState:d,ctx:m}=i;return Jm(d,r)?(d[r]=l,!0):o!==xn&&an(o,r)?(o[r]=l,!0):an(i.props,r)||r[0]==="$"&&r.slice(1)in i?!1:(m[r]=l,!0)},has({_:{data:i,setupState:r,accessCache:l,ctx:o,appContext:d,propsOptions:m}},u){let h;return!!l[u]||i!==xn&&an(i,u)||Jm(r,u)||(h=m[0])&&an(h,u)||an(o,u)||an(jc,u)||an(d.config.globalProperties,u)},defineProperty(i,r,l){return l.get!=null?i._.accessCache[r]=0:an(l,"value")&&this.set(i,r,l.value,null),Reflect.defineProperty(i,r,l)}},kN=Mn({},Fg,{get(i,r){if(r!==Symbol.unscopables)return Fg.get(i,r,i)},has(i,r){return r[0]!=="_"&&!qL(r)}});function wN(){return null}function yN(){return null}function CN(i){}function AN(i){}function xN(){return null}function SN(){}function EN(i,r){return null}function rf(){return B3().slots}function DN(){return B3().attrs}function TN(i,r,l){const o=Ke();if(l&&l.local){const d=et(i[r]);return Bt(()=>i[r],m=>d.value=m),Bt(d,m=>{m!==i[r]&&o.emit(`update:${r}`,m)}),d}else return{__v_isRef:!0,get value(){return i[r]},set value(d){o.emit(`update:${r}`,d)}}}function B3(){const i=Ke();return i.setupContext||(i.setupContext=tx(i))}function sd(i){return vt(i)?i.reduce((r,l)=>(r[l]=null,r),{}):i}function IN(i,r){const l=sd(i);for(const o in r){if(o.startsWith("__skip"))continue;let d=l[o];d?vt(d)||Rt(d)?d=l[o]={type:d,default:r[o]}:d.default=r[o]:d===null&&(d=l[o]={default:r[o]}),d&&r[`__skip_${o}`]&&(d.skipFactory=!0)}return l}function MN(i,r){return!i||!r?i||r:vt(i)&&vt(r)?i.concat(r):Mn({},sd(i),sd(r))}function PN(i,r){const l={};for(const o in i)r.includes(o)||Object.defineProperty(l,o,{enumerable:!0,get:()=>i[o]});return l}function ON(i){const r=Ke();let l=i();return ks(),x0(l)&&(l=l.catch(o=>{throw As(r),o})),[l,()=>As(r)]}let Vg=!0;function BN(i){const r=K0(i),l=i.proxy,o=i.ctx;Vg=!1,r.beforeCreate&&n4(r.beforeCreate,i,"bc");const{data:d,computed:m,methods:u,watch:h,provide:f,inject:g,created:y,beforeMount:k,mounted:v,beforeUpdate:A,updated:T,activated:x,deactivated:C,beforeDestroy:D,beforeUnmount:S,destroyed:M,unmounted:B,render:R,renderTracked:L,renderTriggered:j,errorCaptured:N,serverPrefetch:z,expose:Z,inheritAttrs:K,components:H,directives:Y,filters:oe}=r;if(g&&LN(g,o,null),u)for(const W in u){const J=u[W];Rt(J)&&(o[W]=J.bind(l))}if(d){const W=d.call(l,l);Sn(W)&&(i.data=Ve(W))}if(Vg=!0,m)for(const W in m){const J=m[W],q=Rt(J)?J.bind(l,l):Rt(J.get)?J.get.bind(l,l):Wo,ae=!Rt(J)&&Rt(J.set)?J.set.bind(l):Wo,be=Ge({get:q,set:ae});Object.defineProperty(o,W,{enumerable:!0,configurable:!0,get:()=>be.value,set:ke=>be.value=ke})}if(h)for(const W in h)L3(h[W],o,l,W);if(f){const W=Rt(f)?f.call(l):f;Reflect.ownKeys(W).forEach(J=>{fo(J,W[J])})}y&&n4(y,i,"c");function re(W,J){vt(J)?J.forEach(q=>W(q.bind(l))):J&&W(J.bind(l))}if(re(Ca,k),re(Ue,v),re(H0,A),re(kd,T),re(x3,x),re(S3,C),re(M3,N),re(I3,L),re(T3,j),re(Hr,S),re(Aa,B),re(D3,z),vt(Z))if(Z.length){const W=i.exposed||(i.exposed={});Z.forEach(J=>{Object.defineProperty(W,J,{get:()=>l[J],set:q=>l[J]=q})})}else i.exposed||(i.exposed={});R&&i.render===Wo&&(i.render=R),K!=null&&(i.inheritAttrs=K),H&&(i.components=H),Y&&(i.directives=Y)}function LN(i,r,l=Wo){vt(i)&&(i=Ug(i));for(const o in i){const d=i[o];let m;Sn(d)?"default"in d?m=rn(d.from||o,d.default,!0):m=rn(d.from||o):m=rn(d),hn(m)?Object.defineProperty(r,o,{enumerable:!0,configurable:!0,get:()=>m.value,set:u=>m.value=u}):r[o]=m}}function n4(i,r,l){go(vt(i)?i.map(o=>o.bind(r.proxy)):i.bind(r.proxy),r,l)}function L3(i,r,l,o){const d=o.includes(".")?y3(l,o):()=>l[o];if(jn(i)){const m=r[i];Rt(m)&&Bt(d,m)}else if(Rt(i))Bt(d,i.bind(l));else if(Sn(i))if(vt(i))i.forEach(m=>L3(m,r,l,o));else{const m=Rt(i.handler)?i.handler.bind(l):r[i.handler];Rt(m)&&Bt(d,m,i)}}function K0(i){const r=i.type,{mixins:l,extends:o}=r,{mixins:d,optionsCache:m,config:{optionMergeStrategies:u}}=i.appContext,h=m.get(r);let f;return h?f=h:!d.length&&!l&&!o?f=r:(f={},d.length&&d.forEach(g=>xh(f,g,u,!0)),xh(f,r,u)),Sn(r)&&m.set(r,f),f}function xh(i,r,l,o=!1){const{mixins:d,extends:m}=r;m&&xh(i,m,l,!0),d&&d.forEach(u=>xh(i,u,l,!0));for(const u in r)if(!(o&&u==="expose")){const h=RN[u]||l&&l[u];i[u]=h?h(i[u],r[u]):r[u]}return i}const RN={data:i4,props:o4,emits:o4,methods:Pc,computed:Pc,beforeCreate:Li,created:Li,beforeMount:Li,mounted:Li,beforeUpdate:Li,updated:Li,beforeDestroy:Li,beforeUnmount:Li,destroyed:Li,unmounted:Li,activated:Li,deactivated:Li,errorCaptured:Li,serverPrefetch:Li,components:Pc,directives:Pc,watch:$N,provide:i4,inject:NN};function i4(i,r){return r?i?function(){return Mn(Rt(i)?i.call(this,this):i,Rt(r)?r.call(this,this):r)}:r:i}function NN(i,r){return Pc(Ug(i),Ug(r))}function Ug(i){if(vt(i)){const r={};for(let l=0;l<i.length;l++)r[i[l]]=i[l];return r}return i}function Li(i,r){return i?[...new Set([].concat(i,r))]:r}function Pc(i,r){return i?Mn(Object.create(null),i,r):r}function o4(i,r){return i?vt(i)&&vt(r)?[...new Set([...i,...r])]:Mn(Object.create(null),sd(i),sd(r??{})):r}function $N(i,r){if(!i)return r;if(!r)return i;const l=Mn(Object.create(null),i);for(const o in r)l[o]=Li(i[o],r[o]);return l}function R3(){return{app:null,config:{isNativeTag:FL,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let jN=0;function zN(i,r){return function(o,d=null){Rt(o)||(o=Mn({},o)),d!=null&&!Sn(d)&&(d=null);const m=R3(),u=new Set;let h=!1;const f=m.app={_uid:jN++,_component:o,_props:d,_container:null,_context:m,_instance:null,version:rx,get config(){return m.config},set config(g){},use(g,...y){return u.has(g)||(g&&Rt(g.install)?(u.add(g),g.install(f,...y)):Rt(g)&&(u.add(g),g(f,...y))),f},mixin(g){return m.mixins.includes(g)||m.mixins.push(g),f},component(g,y){return y?(m.components[g]=y,f):m.components[g]},directive(g,y){return y?(m.directives[g]=y,f):m.directives[g]},mount(g,y,k){if(!h){const v=ue(o,d);return v.appContext=m,y&&r?r(v,g):i(v,g,k),h=!0,f._container=g,g.__vue_app__=f,af(v.component)||v.component.proxy}},unmount(){h&&(i(null,f._container),delete f._container.__vue_app__)},provide(g,y){return m.provides[g]=y,f},runWithContext(g){ad=f;try{return g()}finally{ad=null}}};return f}}let ad=null;function fo(i,r){if(li){let l=li.provides;const o=li.parent&&li.parent.provides;o===l&&(l=li.provides=Object.create(o)),l[i]=r}}function rn(i,r,l=!1){const o=li||pi;if(o||ad){const d=o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:ad._context.provides;if(d&&i in d)return d[i];if(arguments.length>1)return l&&Rt(r)?r.call(o&&o.proxy):r}}function N3(){return!!(li||pi||ad)}function FN(i,r,l,o=!1){const d={},m={};kh(m,sf,1),i.propsDefaults=Object.create(null),$3(i,r,d,m);for(const u in i.propsOptions[0])u in d||(d[u]=void 0);l?i.props=o?d:P0(d):i.type.props?i.props=d:i.props=m,i.attrs=m}function VN(i,r,l,o){const{props:d,attrs:m,vnode:{patchFlag:u}}=i,h=Xt(d),[f]=i.propsOptions;let g=!1;if((o||u>0)&&!(u&16)){if(u&8){const y=i.vnode.dynamicProps;for(let k=0;k<y.length;k++){let v=y[k];if(ef(i.emitsOptions,v))continue;const A=r[v];if(f)if(an(m,v))A!==m[v]&&(m[v]=A,g=!0);else{const T=Xi(v);d[T]=Hg(f,h,T,A,i,!1)}else A!==m[v]&&(m[v]=A,g=!0)}}}else{$3(i,r,d,m)&&(g=!0);let y;for(const k in h)(!r||!an(r,k)&&((y=So(k))===k||!an(r,y)))&&(f?l&&(l[k]!==void 0||l[y]!==void 0)&&(d[k]=Hg(f,h,k,void 0,i,!0)):delete d[k]);if(m!==h)for(const k in m)(!r||!an(r,k))&&(delete m[k],g=!0)}g&&Vr(i,"set","$attrs")}function $3(i,r,l,o){const[d,m]=i.propsOptions;let u=!1,h;if(r)for(let f in r){if(Nc(f))continue;const g=r[f];let y;d&&an(d,y=Xi(f))?!m||!m.includes(y)?l[y]=g:(h||(h={}))[y]=g:ef(i.emitsOptions,f)||(!(f in o)||g!==o[f])&&(o[f]=g,u=!0)}if(m){const f=Xt(l),g=h||xn;for(let y=0;y<m.length;y++){const k=m[y];l[k]=Hg(d,f,k,g[k],i,!an(g,k))}}return u}function Hg(i,r,l,o,d,m){const u=i[l];if(u!=null){const h=an(u,"default");if(h&&o===void 0){const f=u.default;if(u.type!==Function&&!u.skipFactory&&Rt(f)){const{propsDefaults:g}=d;l in g?o=g[l]:(As(d),o=g[l]=f.call(null,r),ks())}else o=f}u[0]&&(m&&!h?o=!1:u[1]&&(o===""||o===So(l))&&(o=!0))}return o}function j3(i,r,l=!1){const o=r.propsCache,d=o.get(i);if(d)return d;const m=i.props,u={},h=[];let f=!1;if(!Rt(i)){const y=k=>{f=!0;const[v,A]=j3(k,r,!0);Mn(u,v),A&&h.push(...A)};!l&&r.mixins.length&&r.mixins.forEach(y),i.extends&&y(i.extends),i.mixins&&i.mixins.forEach(y)}if(!m&&!f)return Sn(i)&&o.set(i,fl),fl;if(vt(m))for(let y=0;y<m.length;y++){const k=Xi(m[y]);r4(k)&&(u[k]=xn)}else if(m)for(const y in m){const k=Xi(y);if(r4(k)){const v=m[y],A=u[k]=vt(v)||Rt(v)?{type:v}:Mn({},v);if(A){const T=l4(Boolean,A.type),x=l4(String,A.type);A[0]=T>-1,A[1]=x<0||T<x,(T>-1||an(A,"default"))&&h.push(k)}}}const g=[u,h];return Sn(i)&&o.set(i,g),g}function r4(i){return i[0]!=="$"}function s4(i){const r=i&&i.toString().match(/^\s*(function|class) (\w+)/);return r?r[2]:i===null?"null":""}function a4(i,r){return s4(i)===s4(r)}function l4(i,r){return vt(r)?r.findIndex(l=>a4(l,i)):Rt(r)&&a4(r,i)?0:-1}const z3=i=>i[0]==="_"||i==="$stable",Y0=i=>vt(i)?i.map(mo):[mo(i)],UN=(i,r,l)=>{if(r._n)return r;const o=qe((...d)=>Y0(r(...d)),l);return o._c=!1,o},F3=(i,r,l)=>{const o=i._ctx;for(const d in i){if(z3(d))continue;const m=i[d];if(Rt(m))r[d]=UN(d,m,o);else if(m!=null){const u=Y0(m);r[d]=()=>u}}},V3=(i,r)=>{const l=Y0(r);i.slots.default=()=>l},HN=(i,r)=>{if(i.vnode.shapeFlag&32){const l=r._;l?(i.slots=Xt(r),kh(r,"_",l)):F3(r,i.slots={})}else i.slots={},r&&V3(i,r);kh(i.slots,sf,1)},WN=(i,r,l)=>{const{vnode:o,slots:d}=i;let m=!0,u=xn;if(o.shapeFlag&32){const h=r._;h?l&&h===1?m=!1:(Mn(d,r),!l&&h===1&&delete d._):(m=!r.$stable,F3(r,d)),u=r}else r&&(V3(i,r),u={default:1});if(m)for(const h in d)!z3(h)&&!(h in u)&&delete d[h]};function Sh(i,r,l,o,d=!1){if(vt(i)){i.forEach((v,A)=>Sh(v,r&&(vt(r)?r[A]:r),l,o,d));return}if(da(o)&&!d)return;const m=o.shapeFlag&4?af(o.component)||o.component.proxy:o.el,u=d?null:m,{i:h,r:f}=i,g=r&&r.r,y=h.refs===xn?h.refs={}:h.refs,k=h.setupState;if(g!=null&&g!==f&&(jn(g)?(y[g]=null,an(k,g)&&(k[g]=null)):hn(g)&&(g.value=null)),Rt(f))jr(f,h,12,[u,y]);else{const v=jn(f),A=hn(f);if(v||A){const T=()=>{if(i.f){const x=v?an(k,f)?k[f]:y[f]:f.value;d?vt(x)&&A0(x,m):vt(x)?x.includes(m)||x.push(m):v?(y[f]=[m],an(k,f)&&(k[f]=y[f])):(f.value=[m],i.k&&(y[i.k]=f.value))}else v?(y[f]=u,an(k,f)&&(k[f]=u)):A&&(f.value=u,i.k&&(y[i.k]=u))};u?(T.id=-1,wi(T,l)):T()}}}let as=!1;const Yu=i=>/svg/.test(i.namespaceURI)&&i.tagName!=="foreignObject",qu=i=>i.nodeType===8;function GN(i){const{mt:r,p:l,o:{patchProp:o,createText:d,nextSibling:m,parentNode:u,remove:h,insert:f,createComment:g}}=i,y=(D,S)=>{if(!S.hasChildNodes()){l(null,D,S),Ah(),S._vnode=D;return}as=!1,k(S.firstChild,D,null,null,null),Ah(),S._vnode=D,as&&console.error("Hydration completed but contains mismatches.")},k=(D,S,M,B,R,L=!1)=>{const j=qu(D)&&D.data==="[",N=()=>x(D,S,M,B,R,j),{type:z,ref:Z,shapeFlag:K,patchFlag:H}=S;let Y=D.nodeType;S.el=D,H===-2&&(L=!1,S.dynamicChildren=null);let oe=null;switch(z){case ga:Y!==3?S.children===""?(f(S.el=d(""),u(D),D),oe=D):oe=N():(D.data!==S.children&&(as=!0,D.data=S.children),oe=m(D));break;case Mi:Y!==8||j?oe=N():oe=m(D);break;case ua:if(j&&(D=m(D),Y=D.nodeType),Y===1||Y===3){oe=D;const me=!S.children.length;for(let re=0;re<S.staticCount;re++)me&&(S.children+=oe.nodeType===1?oe.outerHTML:oe.data),re===S.staticCount-1&&(S.anchor=oe),oe=m(oe);return j?m(oe):oe}else N();break;case xe:j?oe=T(D,S,M,B,R,L):oe=N();break;default:if(K&1)Y!==1||S.type.toLowerCase()!==D.tagName.toLowerCase()?oe=N():oe=v(D,S,M,B,R,L);else if(K&6){S.slotScopeIds=R;const me=u(D);if(r(S,me,null,M,B,Yu(me),L),oe=j?C(D):m(D),oe&&qu(oe)&&oe.data==="teleport end"&&(oe=m(oe)),da(S)){let re;j?(re=ue(xe),re.anchor=oe?oe.previousSibling:me.lastChild):re=D.nodeType===3?rt(""):ue("div"),re.el=D,S.component.subTree=re}}else K&64?Y!==8?oe=N():oe=S.type.hydrate(D,S,M,B,R,L,i,A):K&128&&(oe=S.type.hydrate(D,S,M,B,Yu(u(D)),R,L,i,k))}return Z!=null&&Sh(Z,null,B,S),oe},v=(D,S,M,B,R,L)=>{L=L||!!S.dynamicChildren;const{type:j,props:N,patchFlag:z,shapeFlag:Z,dirs:K}=S,H=j==="input"&&K||j==="option";if(H||z!==-1){if(K&&ar(S,null,M,"created"),N)if(H||!L||z&48)for(const oe in N)(H&&oe.endsWith("value")||fd(oe)&&!Nc(oe))&&o(D,oe,null,N[oe],!1,void 0,M);else N.onClick&&o(D,"onClick",null,N.onClick,!1,void 0,M);let Y;if((Y=N&&N.onVnodeBeforeMount)&&Qi(Y,M,S),K&&ar(S,null,M,"beforeMount"),((Y=N&&N.onVnodeMounted)||K)&&k3(()=>{Y&&Qi(Y,M,S),K&&ar(S,null,M,"mounted")},B),Z&16&&!(N&&(N.innerHTML||N.textContent))){let oe=A(D.firstChild,S,D,M,B,R,L);for(;oe;){as=!0;const me=oe;oe=oe.nextSibling,h(me)}}else Z&8&&D.textContent!==S.children&&(as=!0,D.textContent=S.children)}return D.nextSibling},A=(D,S,M,B,R,L,j)=>{j=j||!!S.dynamicChildren;const N=S.children,z=N.length;for(let Z=0;Z<z;Z++){const K=j?N[Z]:N[Z]=mo(N[Z]);if(D)D=k(D,K,B,R,L,j);else{if(K.type===ga&&!K.children)continue;as=!0,l(null,K,M,null,B,R,Yu(M),L)}}return D},T=(D,S,M,B,R,L)=>{const{slotScopeIds:j}=S;j&&(R=R?R.concat(j):j);const N=u(D),z=A(m(D),S,N,M,B,R,L);return z&&qu(z)&&z.data==="]"?m(S.anchor=z):(as=!0,f(S.anchor=g("]"),N,z),z)},x=(D,S,M,B,R,L)=>{if(as=!0,S.el=null,L){const z=C(D);for(;;){const Z=m(D);if(Z&&Z!==z)h(Z);else break}}const j=m(D),N=u(D);return h(D),l(null,S,N,j,M,B,Yu(N),R),j},C=D=>{let S=0;for(;D;)if(D=m(D),D&&qu(D)&&(D.data==="["&&S++,D.data==="]")){if(S===0)return m(D);S--}return D};return[y,k]}const wi=k3;function U3(i){return W3(i)}function H3(i){return W3(i,GN)}function W3(i,r){const l=Lg();l.__VUE__=!0;const{insert:o,remove:d,patchProp:m,createElement:u,createText:h,createComment:f,setText:g,setElementText:y,parentNode:k,nextSibling:v,setScopeId:A=Wo,insertStaticContent:T}=i,x=(ne,de,ge,Ee=null,Ie=null,Le=null,ot=!1,We=null,Fe=!!de.dynamicChildren)=>{if(ne===de)return;ne&&!Ho(ne,de)&&(Ee=X(ne),ke(ne,Ie,Le,!0),ne=null),de.patchFlag===-2&&(Fe=!1,de.dynamicChildren=null);const{type:Ae,ref:Be,shapeFlag:$e}=de;switch(Ae){case ga:C(ne,de,ge,Ee);break;case Mi:D(ne,de,ge,Ee);break;case ua:ne==null&&S(de,ge,Ee,ot);break;case xe:H(ne,de,ge,Ee,Ie,Le,ot,We,Fe);break;default:$e&1?R(ne,de,ge,Ee,Ie,Le,ot,We,Fe):$e&6?Y(ne,de,ge,Ee,Ie,Le,ot,We,Fe):($e&64||$e&128)&&Ae.process(ne,de,ge,Ee,Ie,Le,ot,We,Fe,pe)}Be!=null&&Ie&&Sh(Be,ne&&ne.ref,Le,de||ne,!de)},C=(ne,de,ge,Ee)=>{if(ne==null)o(de.el=h(de.children),ge,Ee);else{const Ie=de.el=ne.el;de.children!==ne.children&&g(Ie,de.children)}},D=(ne,de,ge,Ee)=>{ne==null?o(de.el=f(de.children||""),ge,Ee):de.el=ne.el},S=(ne,de,ge,Ee)=>{[ne.el,ne.anchor]=T(ne.children,de,ge,Ee,ne.el,ne.anchor)},M=({el:ne,anchor:de},ge,Ee)=>{let Ie;for(;ne&&ne!==de;)Ie=v(ne),o(ne,ge,Ee),ne=Ie;o(de,ge,Ee)},B=({el:ne,anchor:de})=>{let ge;for(;ne&&ne!==de;)ge=v(ne),d(ne),ne=ge;d(de)},R=(ne,de,ge,Ee,Ie,Le,ot,We,Fe)=>{ot=ot||de.type==="svg",ne==null?L(de,ge,Ee,Ie,Le,ot,We,Fe):z(ne,de,Ie,Le,ot,We,Fe)},L=(ne,de,ge,Ee,Ie,Le,ot,We)=>{let Fe,Ae;const{type:Be,props:$e,shapeFlag:dt,transition:mt,dirs:It}=ne;if(Fe=ne.el=u(ne.type,Le,$e&&$e.is,$e),dt&8?y(Fe,ne.children):dt&16&&N(ne.children,Fe,null,Ee,Ie,Le&&Be!=="foreignObject",ot,We),It&&ar(ne,null,Ee,"created"),j(Fe,ne,ne.scopeId,ot,Ee),$e){for(const zt in $e)zt!=="value"&&!Nc(zt)&&m(Fe,zt,null,$e[zt],Le,ne.children,Ee,Ie,te);"value"in $e&&m(Fe,"value",null,$e.value),(Ae=$e.onVnodeBeforeMount)&&Qi(Ae,Ee,ne)}It&&ar(ne,null,Ee,"beforeMount");const Wt=(!Ie||Ie&&!Ie.pendingBranch)&&mt&&!mt.persisted;Wt&&mt.beforeEnter(Fe),o(Fe,de,ge),((Ae=$e&&$e.onVnodeMounted)||Wt||It)&&wi(()=>{Ae&&Qi(Ae,Ee,ne),Wt&&mt.enter(Fe),It&&ar(ne,null,Ee,"mounted")},Ie)},j=(ne,de,ge,Ee,Ie)=>{if(ge&&A(ne,ge),Ee)for(let Le=0;Le<Ee.length;Le++)A(ne,Ee[Le]);if(Ie){let Le=Ie.subTree;if(de===Le){const ot=Ie.vnode;j(ne,ot,ot.scopeId,ot.slotScopeIds,Ie.parent)}}},N=(ne,de,ge,Ee,Ie,Le,ot,We,Fe=0)=>{for(let Ae=Fe;Ae<ne.length;Ae++){const Be=ne[Ae]=We?ps(ne[Ae]):mo(ne[Ae]);x(null,Be,de,ge,Ee,Ie,Le,ot,We)}},z=(ne,de,ge,Ee,Ie,Le,ot)=>{const We=de.el=ne.el;let{patchFlag:Fe,dynamicChildren:Ae,dirs:Be}=de;Fe|=ne.patchFlag&16;const $e=ne.props||xn,dt=de.props||xn;let mt;ge&&Qs(ge,!1),(mt=dt.onVnodeBeforeUpdate)&&Qi(mt,ge,de,ne),Be&&ar(de,ne,ge,"beforeUpdate"),ge&&Qs(ge,!0);const It=Ie&&de.type!=="foreignObject";if(Ae?Z(ne.dynamicChildren,Ae,We,ge,Ee,It,Le):ot||J(ne,de,We,null,ge,Ee,It,Le,!1),Fe>0){if(Fe&16)K(We,de,$e,dt,ge,Ee,Ie);else if(Fe&2&&$e.class!==dt.class&&m(We,"class",null,dt.class,Ie),Fe&4&&m(We,"style",$e.style,dt.style,Ie),Fe&8){const Wt=de.dynamicProps;for(let zt=0;zt<Wt.length;zt++){const Ce=Wt[zt],De=$e[Ce],Me=dt[Ce];(Me!==De||Ce==="value")&&m(We,Ce,De,Me,Ie,ne.children,ge,Ee,te)}}Fe&1&&ne.children!==de.children&&y(We,de.children)}else!ot&&Ae==null&&K(We,de,$e,dt,ge,Ee,Ie);((mt=dt.onVnodeUpdated)||Be)&&wi(()=>{mt&&Qi(mt,ge,de,ne),Be&&ar(de,ne,ge,"updated")},Ee)},Z=(ne,de,ge,Ee,Ie,Le,ot)=>{for(let We=0;We<de.length;We++){const Fe=ne[We],Ae=de[We],Be=Fe.el&&(Fe.type===xe||!Ho(Fe,Ae)||Fe.shapeFlag&70)?k(Fe.el):ge;x(Fe,Ae,Be,null,Ee,Ie,Le,ot,!0)}},K=(ne,de,ge,Ee,Ie,Le,ot)=>{if(ge!==Ee){if(ge!==xn)for(const We in ge)!Nc(We)&&!(We in Ee)&&m(ne,We,ge[We],null,ot,de.children,Ie,Le,te);for(const We in Ee){if(Nc(We))continue;const Fe=Ee[We],Ae=ge[We];Fe!==Ae&&We!=="value"&&m(ne,We,Ae,Fe,ot,de.children,Ie,Le,te)}"value"in Ee&&m(ne,"value",ge.value,Ee.value)}},H=(ne,de,ge,Ee,Ie,Le,ot,We,Fe)=>{const Ae=de.el=ne?ne.el:h(""),Be=de.anchor=ne?ne.anchor:h("");let{patchFlag:$e,dynamicChildren:dt,slotScopeIds:mt}=de;mt&&(We=We?We.concat(mt):mt),ne==null?(o(Ae,ge,Ee),o(Be,ge,Ee),N(de.children,ge,Be,Ie,Le,ot,We,Fe)):$e>0&&$e&64&&dt&&ne.dynamicChildren?(Z(ne.dynamicChildren,dt,ge,Ie,Le,ot,We),(de.key!=null||Ie&&de===Ie.subTree)&&q0(ne,de,!0)):J(ne,de,ge,Be,Ie,Le,ot,We,Fe)},Y=(ne,de,ge,Ee,Ie,Le,ot,We,Fe)=>{de.slotScopeIds=We,ne==null?de.shapeFlag&512?Ie.ctx.activate(de,ge,Ee,ot,Fe):oe(de,ge,Ee,Ie,Le,ot,Fe):me(ne,de,Fe)},oe=(ne,de,ge,Ee,Ie,Le,ot)=>{const We=ne.component=Q3(ne,Ee,Ie);if(vd(ne)&&(We.ctx.renderer=pe),X3(We),We.asyncDep){if(Ie&&Ie.registerDep(We,re),!ne.el){const Fe=We.subTree=ue(Mi);D(null,Fe,de,ge)}return}re(We,ne,de,ge,Ie,Le,ot)},me=(ne,de,ge)=>{const Ee=de.component=ne.component;if(tN(ne,de,ge))if(Ee.asyncDep&&!Ee.asyncResolved){W(Ee,de,ge);return}else Ee.next=de,YR(Ee.update),Ee.update();else de.el=ne.el,Ee.vnode=de},re=(ne,de,ge,Ee,Ie,Le,ot)=>{const We=()=>{if(ne.isMounted){let{next:Be,bu:$e,u:dt,parent:mt,vnode:It}=ne,Wt=Be,zt;Qs(ne,!1),Be?(Be.el=It.el,W(ne,Be,ot)):Be=It,$e&&ml($e),(zt=Be.props&&Be.props.onVnodeBeforeUpdate)&&Qi(zt,mt,Be,It),Qs(ne,!0);const Ce=lh(ne),De=ne.subTree;ne.subTree=Ce,x(De,Ce,k(De.el),X(De),ne,Ie,Le),Be.el=Ce.el,Wt===null&&z0(ne,Ce.el),dt&&wi(dt,Ie),(zt=Be.props&&Be.props.onVnodeUpdated)&&wi(()=>Qi(zt,mt,Be,It),Ie)}else{let Be;const{el:$e,props:dt}=de,{bm:mt,m:It,parent:Wt}=ne,zt=da(de);if(Qs(ne,!1),mt&&ml(mt),!zt&&(Be=dt&&dt.onVnodeBeforeMount)&&Qi(Be,Wt,de),Qs(ne,!0),$e&&Ze){const Ce=()=>{ne.subTree=lh(ne),Ze($e,ne.subTree,ne,Ie,null)};zt?de.type.__asyncLoader().then(()=>!ne.isUnmounted&&Ce()):Ce()}else{const Ce=ne.subTree=lh(ne);x(null,Ce,ge,Ee,ne,Ie,Le),de.el=Ce.el}if(It&&wi(It,Ie),!zt&&(Be=dt&&dt.onVnodeMounted)){const Ce=de;wi(()=>Qi(Be,Wt,Ce),Ie)}(de.shapeFlag&256||Wt&&da(Wt.vnode)&&Wt.vnode.shapeFlag&256)&&ne.a&&wi(ne.a,Ie),ne.isMounted=!0,de=ge=Ee=null}},Fe=ne.effect=new md(We,()=>Xh(Ae),ne.scope),Ae=ne.update=()=>Fe.run();Ae.id=ne.uid,Qs(ne,!0),Ae()},W=(ne,de,ge)=>{de.component=ne;const Ee=ne.vnode.props;ne.vnode=de,ne.next=null,VN(ne,de.props,Ee,ge),WN(ne,de.children,ge),Ol(),QA(),Bl()},J=(ne,de,ge,Ee,Ie,Le,ot,We,Fe=!1)=>{const Ae=ne&&ne.children,Be=ne?ne.shapeFlag:0,$e=de.children,{patchFlag:dt,shapeFlag:mt}=de;if(dt>0){if(dt&128){ae(Ae,$e,ge,Ee,Ie,Le,ot,We,Fe);return}else if(dt&256){q(Ae,$e,ge,Ee,Ie,Le,ot,We,Fe);return}}mt&8?(Be&16&&te(Ae,Ie,Le),$e!==Ae&&y(ge,$e)):Be&16?mt&16?ae(Ae,$e,ge,Ee,Ie,Le,ot,We,Fe):te(Ae,Ie,Le,!0):(Be&8&&y(ge,""),mt&16&&N($e,ge,Ee,Ie,Le,ot,We,Fe))},q=(ne,de,ge,Ee,Ie,Le,ot,We,Fe)=>{ne=ne||fl,de=de||fl;const Ae=ne.length,Be=de.length,$e=Math.min(Ae,Be);let dt;for(dt=0;dt<$e;dt++){const mt=de[dt]=Fe?ps(de[dt]):mo(de[dt]);x(ne[dt],mt,ge,null,Ie,Le,ot,We,Fe)}Ae>Be?te(ne,Ie,Le,!0,!1,$e):N(de,ge,Ee,Ie,Le,ot,We,Fe,$e)},ae=(ne,de,ge,Ee,Ie,Le,ot,We,Fe)=>{let Ae=0;const Be=de.length;let $e=ne.length-1,dt=Be-1;for(;Ae<=$e&&Ae<=dt;){const mt=ne[Ae],It=de[Ae]=Fe?ps(de[Ae]):mo(de[Ae]);if(Ho(mt,It))x(mt,It,ge,null,Ie,Le,ot,We,Fe);else break;Ae++}for(;Ae<=$e&&Ae<=dt;){const mt=ne[$e],It=de[dt]=Fe?ps(de[dt]):mo(de[dt]);if(Ho(mt,It))x(mt,It,ge,null,Ie,Le,ot,We,Fe);else break;$e--,dt--}if(Ae>$e){if(Ae<=dt){const mt=dt+1,It=mt<Be?de[mt].el:Ee;for(;Ae<=dt;)x(null,de[Ae]=Fe?ps(de[Ae]):mo(de[Ae]),ge,It,Ie,Le,ot,We,Fe),Ae++}}else if(Ae>dt)for(;Ae<=$e;)ke(ne[Ae],Ie,Le,!0),Ae++;else{const mt=Ae,It=Ae,Wt=new Map;for(Ae=It;Ae<=dt;Ae++){const Re=de[Ae]=Fe?ps(de[Ae]):mo(de[Ae]);Re.key!=null&&Wt.set(Re.key,Ae)}let zt,Ce=0;const De=dt-It+1;let Me=!1,Qe=0;const fe=new Array(De);for(Ae=0;Ae<De;Ae++)fe[Ae]=0;for(Ae=mt;Ae<=$e;Ae++){const Re=ne[Ae];if(Ce>=De){ke(Re,Ie,Le,!0);continue}let Je;if(Re.key!=null)Je=Wt.get(Re.key);else for(zt=It;zt<=dt;zt++)if(fe[zt-It]===0&&Ho(Re,de[zt])){Je=zt;break}Je===void 0?ke(Re,Ie,Le,!0):(fe[Je-It]=Ae+1,Je>=Qe?Qe=Je:Me=!0,x(Re,de[Je],ge,null,Ie,Le,ot,We,Fe),Ce++)}const Se=Me?KN(fe):fl;for(zt=Se.length-1,Ae=De-1;Ae>=0;Ae--){const Re=It+Ae,Je=de[Re],Et=Re+1<Be?de[Re+1].el:Ee;fe[Ae]===0?x(null,Je,ge,Et,Ie,Le,ot,We,Fe):Me&&(zt<0||Ae!==Se[zt]?be(Je,ge,Et,2):zt--)}}},be=(ne,de,ge,Ee,Ie=null)=>{const{el:Le,type:ot,transition:We,children:Fe,shapeFlag:Ae}=ne;if(Ae&6){be(ne.component.subTree,de,ge,Ee);return}if(Ae&128){ne.suspense.move(de,ge,Ee);return}if(Ae&64){ot.move(ne,de,ge,pe);return}if(ot===xe){o(Le,de,ge);for(let $e=0;$e<Fe.length;$e++)be(Fe[$e],de,ge,Ee);o(ne.anchor,de,ge);return}if(ot===ua){M(ne,de,ge);return}if(Ee!==2&&Ae&1&&We)if(Ee===0)We.beforeEnter(Le),o(Le,de,ge),wi(()=>We.enter(Le),Ie);else{const{leave:$e,delayLeave:dt,afterLeave:mt}=We,It=()=>o(Le,de,ge),Wt=()=>{$e(Le,()=>{It(),mt&&mt()})};dt?dt(Le,It,Wt):Wt()}else o(Le,de,ge)},ke=(ne,de,ge,Ee=!1,Ie=!1)=>{const{type:Le,props:ot,ref:We,children:Fe,dynamicChildren:Ae,shapeFlag:Be,patchFlag:$e,dirs:dt}=ne;if(We!=null&&Sh(We,null,ge,ne,!0),Be&256){de.ctx.deactivate(ne);return}const mt=Be&1&&dt,It=!da(ne);let Wt;if(It&&(Wt=ot&&ot.onVnodeBeforeUnmount)&&Qi(Wt,de,ne),Be&6)le(ne.component,ge,Ee);else{if(Be&128){ne.suspense.unmount(ge,Ee);return}mt&&ar(ne,null,de,"beforeUnmount"),Be&64?ne.type.remove(ne,de,ge,Ie,pe,Ee):Ae&&(Le!==xe||$e>0&&$e&64)?te(Ae,de,ge,!1,!0):(Le===xe&&$e&384||!Ie&&Be&16)&&te(Fe,de,ge),Ee&&se(ne)}(It&&(Wt=ot&&ot.onVnodeUnmounted)||mt)&&wi(()=>{Wt&&Qi(Wt,de,ne),mt&&ar(ne,null,de,"unmounted")},ge)},se=ne=>{const{type:de,el:ge,anchor:Ee,transition:Ie}=ne;if(de===xe){ee(ge,Ee);return}if(de===ua){B(ne);return}const Le=()=>{d(ge),Ie&&!Ie.persisted&&Ie.afterLeave&&Ie.afterLeave()};if(ne.shapeFlag&1&&Ie&&!Ie.persisted){const{leave:ot,delayLeave:We}=Ie,Fe=()=>ot(ge,Le);We?We(ne.el,Le,Fe):Fe()}else Le()},ee=(ne,de)=>{let ge;for(;ne!==de;)ge=v(ne),d(ne),ne=ge;d(de)},le=(ne,de,ge)=>{const{bum:Ee,scope:Ie,update:Le,subTree:ot,um:We}=ne;Ee&&ml(Ee),Ie.stop(),Le&&(Le.active=!1,ke(ot,ne,de,ge)),We&&wi(We,de),wi(()=>{ne.isUnmounted=!0},de),de&&de.pendingBranch&&!de.isUnmounted&&ne.asyncDep&&!ne.asyncResolved&&ne.suspenseId===de.pendingId&&(de.deps--,de.deps===0&&de.resolve())},te=(ne,de,ge,Ee=!1,Ie=!1,Le=0)=>{for(let ot=Le;ot<ne.length;ot++)ke(ne[ot],de,ge,Ee,Ie)},X=ne=>ne.shapeFlag&6?X(ne.component.subTree):ne.shapeFlag&128?ne.suspense.next():v(ne.anchor||ne.el),ce=(ne,de,ge)=>{ne==null?de._vnode&&ke(de._vnode,null,null,!0):x(de._vnode||null,ne,de,null,null,null,ge),QA(),Ah(),de._vnode=ne},pe={p:x,um:ke,m:be,r:se,mt:oe,mc:N,pc:J,pbc:Z,n:X,o:i};let we,Ze;return r&&([we,Ze]=r(pe)),{render:ce,hydrate:we,createApp:zN(ce,we)}}function Qs({effect:i,update:r},l){i.allowRecurse=r.allowRecurse=l}function q0(i,r,l=!1){const o=i.children,d=r.children;if(vt(o)&&vt(d))for(let m=0;m<o.length;m++){const u=o[m];let h=d[m];h.shapeFlag&1&&!h.dynamicChildren&&((h.patchFlag<=0||h.patchFlag===32)&&(h=d[m]=ps(d[m]),h.el=u.el),l||q0(u,h)),h.type===ga&&(h.el=u.el)}}function KN(i){const r=i.slice(),l=[0];let o,d,m,u,h;const f=i.length;for(o=0;o<f;o++){const g=i[o];if(g!==0){if(d=l[l.length-1],i[d]<g){r[o]=d,l.push(o);continue}for(m=0,u=l.length-1;m<u;)h=m+u>>1,i[l[h]]<g?m=h+1:u=h;g<i[l[m]]&&(m>0&&(r[o]=l[m-1]),l[m]=o)}}for(m=l.length,u=l[m-1];m-- >0;)l[m]=u,u=r[u];return l}const YN=i=>i.__isTeleport,zc=i=>i&&(i.disabled||i.disabled===""),c4=i=>typeof SVGElement<"u"&&i instanceof SVGElement,Wg=(i,r)=>{const l=i&&i.to;return jn(l)?r?r(l):null:l},qN={__isTeleport:!0,process(i,r,l,o,d,m,u,h,f,g){const{mc:y,pc:k,pbc:v,o:{insert:A,querySelector:T,createText:x,createComment:C}}=g,D=zc(r.props);let{shapeFlag:S,children:M,dynamicChildren:B}=r;if(i==null){const R=r.el=x(""),L=r.anchor=x("");A(R,l,o),A(L,l,o);const j=r.target=Wg(r.props,T),N=r.targetAnchor=x("");j&&(A(N,j),u=u||c4(j));const z=(Z,K)=>{S&16&&y(M,Z,K,d,m,u,h,f)};D?z(l,L):j&&z(j,N)}else{r.el=i.el;const R=r.anchor=i.anchor,L=r.target=i.target,j=r.targetAnchor=i.targetAnchor,N=zc(i.props),z=N?l:L,Z=N?R:j;if(u=u||c4(L),B?(v(i.dynamicChildren,B,z,d,m,u,h),q0(i,r,!0)):f||k(i,r,z,Z,d,m,u,h,!1),D)N||Zu(r,l,R,g,1);else if((r.props&&r.props.to)!==(i.props&&i.props.to)){const K=r.target=Wg(r.props,T);K&&Zu(r,K,null,g,0)}else N&&Zu(r,L,j,g,1)}K3(r)},remove(i,r,l,o,{um:d,o:{remove:m}},u){const{shapeFlag:h,children:f,anchor:g,targetAnchor:y,target:k,props:v}=i;if(k&&m(y),(u||!zc(v))&&(m(g),h&16))for(let A=0;A<f.length;A++){const T=f[A];d(T,r,l,!0,!!T.dynamicChildren)}},move:Zu,hydrate:ZN};function Zu(i,r,l,{o:{insert:o},m:d},m=2){m===0&&o(i.targetAnchor,r,l);const{el:u,anchor:h,shapeFlag:f,children:g,props:y}=i,k=m===2;if(k&&o(u,r,l),(!k||zc(y))&&f&16)for(let v=0;v<g.length;v++)d(g[v],r,l,2);k&&o(h,r,l)}function ZN(i,r,l,o,d,m,{o:{nextSibling:u,parentNode:h,querySelector:f}},g){const y=r.target=Wg(r.props,f);if(y){const k=y._lpa||y.firstChild;if(r.shapeFlag&16)if(zc(r.props))r.anchor=g(u(i),r,h(i),l,o,d,m),r.targetAnchor=k;else{r.anchor=u(i);let v=k;for(;v;)if(v=u(v),v&&v.nodeType===8&&v.data==="teleport anchor"){r.targetAnchor=v,y._lpa=r.targetAnchor&&u(r.targetAnchor);break}g(k,r,y,l,o,d,m)}K3(r)}return r.anchor&&u(r.anchor)}const G3=qN;function K3(i){const r=i.ctx;if(r&&r.ut){let l=i.children[0].el;for(;l!==i.targetAnchor;)l.nodeType===1&&l.setAttribute("data-v-owner",r.uid),l=l.nextSibling;r.ut()}}const xe=Symbol.for("v-fgt"),ga=Symbol.for("v-txt"),Mi=Symbol.for("v-cmt"),ua=Symbol.for("v-stc"),Fc=[];let Ji=null;function F(i=!1){Fc.push(Ji=i?null:[])}function Y3(){Fc.pop(),Ji=Fc[Fc.length-1]||null}let _a=1;function Gg(i){_a+=i}function q3(i){return i.dynamicChildren=_a>0?Ji||fl:null,Y3(),_a>0&&Ji&&Ji.push(i),i}function U(i,r,l,o,d,m){return q3(b(i,r,l,o,d,m,!0))}function lt(i,r,l,o,d){return q3(ue(i,r,l,o,d,!0))}function Cs(i){return i?i.__v_isVNode===!0:!1}function Ho(i,r){return i.type===r.type&&i.key===r.key}function QN(i){}const sf="__vInternal",Z3=({key:i})=>i??null,ch=({ref:i,ref_key:r,ref_for:l})=>(typeof i=="number"&&(i=""+i),i!=null?jn(i)||hn(i)||Rt(i)?{i:pi,r:i,k:r,f:!!l}:i:null);function b(i,r=null,l=null,o=0,d=null,m=i===xe?0:1,u=!1,h=!1){const f={__v_isVNode:!0,__v_skip:!0,type:i,props:r,key:r&&Z3(r),ref:r&&ch(r),scopeId:tf,slotScopeIds:null,children:l,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:m,patchFlag:o,dynamicProps:d,dynamicChildren:null,appContext:null,ctx:pi};return h?(Z0(f,l),m&128&&i.normalize(f)):l&&(f.shapeFlag|=jn(l)?8:16),_a>0&&!u&&Ji&&(f.patchFlag>0||m&6)&&f.patchFlag!==32&&Ji.push(f),f}const ue=JN;function JN(i,r=null,l=null,o=0,d=null,m=!1){if((!i||i===P3)&&(i=Mi),Cs(i)){const h=mr(i,r,!0);return l&&Z0(h,l),_a>0&&!m&&Ji&&(h.shapeFlag&6?Ji[Ji.indexOf(i)]=h:Ji.push(h)),h.patchFlag|=-2,h}if(r$(i)&&(i=i.__vccOpts),r){r=po(r);let{class:h,style:f}=r;h&&!jn(h)&&(r.class=je(h)),Sn(f)&&(B0(f)&&!vt(f)&&(f=Mn({},f)),r.style=Vn(f))}const u=jn(i)?1:v3(i)?128:YN(i)?64:Sn(i)?4:Rt(i)?2:0;return b(i,r,l,o,d,u,m,!0)}function po(i){return i?B0(i)||sf in i?Mn({},i):i:null}function mr(i,r,l=!1){const{props:o,ref:d,patchFlag:m,children:u}=i,h=r?ai(o||{},r):o;return{__v_isVNode:!0,__v_skip:!0,type:i.type,props:h,key:h&&Z3(h),ref:r&&r.ref?l&&d?vt(d)?d.concat(ch(r)):[d,ch(r)]:ch(r):d,scopeId:i.scopeId,slotScopeIds:i.slotScopeIds,children:u,target:i.target,targetAnchor:i.targetAnchor,staticCount:i.staticCount,shapeFlag:i.shapeFlag,patchFlag:r&&i.type!==xe?m===-1?16:m|16:m,dynamicProps:i.dynamicProps,dynamicChildren:i.dynamicChildren,appContext:i.appContext,dirs:i.dirs,transition:i.transition,component:i.component,suspense:i.suspense,ssContent:i.ssContent&&mr(i.ssContent),ssFallback:i.ssFallback&&mr(i.ssFallback),el:i.el,anchor:i.anchor,ctx:i.ctx,ce:i.ce}}function rt(i=" ",r=0){return ue(ga,null,i,r)}function Po(i,r){const l=ue(ua,null,i);return l.staticCount=r,l}function ve(i="",r=!1){return r?(F(),lt(Mi,null,i)):ue(Mi,null,i)}function mo(i){return i==null||typeof i=="boolean"?ue(Mi):vt(i)?ue(xe,null,i.slice()):typeof i=="object"?ps(i):ue(ga,null,String(i))}function ps(i){return i.el===null&&i.patchFlag!==-1||i.memo?i:mr(i)}function Z0(i,r){let l=0;const{shapeFlag:o}=i;if(r==null)r=null;else if(vt(r))l=16;else if(typeof r=="object")if(o&65){const d=r.default;d&&(d._c&&(d._d=!1),Z0(i,d()),d._c&&(d._d=!0));return}else{l=32;const d=r._;!d&&!(sf in r)?r._ctx=pi:d===3&&pi&&(pi.slots._===1?r._=1:(r._=2,i.patchFlag|=1024))}else Rt(r)?(r={default:r,_ctx:pi},l=32):(r=String(r),o&64?(l=16,r=[rt(r)]):l=8);i.children=r,i.shapeFlag|=l}function ai(...i){const r={};for(let l=0;l<i.length;l++){const o=i[l];for(const d in o)if(d==="class")r.class!==o.class&&(r.class=je([r.class,o.class]));else if(d==="style")r.style=Vn([r.style,o.style]);else if(fd(d)){const m=r[d],u=o[d];u&&m!==u&&!(vt(m)&&m.includes(u))&&(r[d]=m?[].concat(m,u):u)}else d!==""&&(r[d]=o[d])}return r}function Qi(i,r,l,o=null){go(i,r,7,[l,o])}const XN=R3();let e$=0;function Q3(i,r,l){const o=i.type,d=(r?r.appContext:i.appContext)||XN,m={uid:e$++,vnode:i,type:o,parent:r,appContext:d,root:null,next:null,subTree:null,effect:null,update:null,scope:new E0(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:r?r.provides:Object.create(d.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:j3(o,d),emitsOptions:b3(o,d),emit:null,emitted:null,propsDefaults:xn,inheritAttrs:o.inheritAttrs,ctx:xn,data:xn,props:xn,attrs:xn,slots:xn,refs:xn,setupState:xn,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:l,suspenseId:l?l.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return m.ctx={_:m},m.root=r?r.root:m,m.emit=ZR.bind(null,m),i.ce&&i.ce(m),m}let li=null;const Ke=()=>li||pi;let Q0,tl,d4="__VUE_INSTANCE_SETTERS__";(tl=Lg()[d4])||(tl=Lg()[d4]=[]),tl.push(i=>li=i),Q0=i=>{tl.length>1?tl.forEach(r=>r(i)):tl[0](i)};const As=i=>{Q0(i),i.scope.on()},ks=()=>{li&&li.scope.off(),Q0(null)};function J3(i){return i.vnode.shapeFlag&4}let yl=!1;function X3(i,r=!1){yl=r;const{props:l,children:o}=i.vnode,d=J3(i);FN(i,l,d,r),HN(i,o);const m=d?t$(i,r):void 0;return yl=!1,m}function t$(i,r){const l=i.type;i.accessCache=Object.create(null),i.proxy=gd(new Proxy(i.ctx,Fg));const{setup:o}=l;if(o){const d=i.setupContext=o.length>1?tx(i):null;As(i),Ol();const m=jr(o,i,0,[i.props,d]);if(Bl(),ks(),x0(m)){if(m.then(ks,ks),r)return m.then(u=>{Kg(i,u,r)}).catch(u=>{ya(u,i,0)});i.asyncDep=m}else Kg(i,m,r)}else ex(i,r)}function Kg(i,r,l){Rt(r)?i.type.__ssrInlineRender?i.ssrRender=r:i.render=r:Sn(r)&&(i.setupState=N0(r)),ex(i,l)}let Eh,Yg;function n$(i){Eh=i,Yg=r=>{r.render._rc&&(r.withProxy=new Proxy(r.ctx,kN))}}const i$=()=>!Eh;function ex(i,r,l){const o=i.type;if(!i.render){if(!r&&Eh&&!o.render){const d=o.template||K0(i).template;if(d){const{isCustomElement:m,compilerOptions:u}=i.appContext.config,{delimiters:h,compilerOptions:f}=o,g=Mn(Mn({isCustomElement:m,delimiters:h},u),f);o.render=Eh(d,g)}}i.render=o.render||Wo,Yg&&Yg(i)}As(i),Ol(),BN(i),Bl(),ks()}function o$(i){return i.attrsProxy||(i.attrsProxy=new Proxy(i.attrs,{get(r,l){return to(i,"get","$attrs"),r[l]}}))}function tx(i){const r=l=>{i.exposed=l||{}};return{get attrs(){return o$(i)},slots:i.slots,emit:i.emit,expose:r}}function af(i){if(i.exposed)return i.exposeProxy||(i.exposeProxy=new Proxy(N0(gd(i.exposed)),{get(r,l){if(l in r)return r[l];if(l in jc)return jc[l](i)},has(r,l){return l in r||l in jc}}))}function qg(i,r=!0){return Rt(i)?i.displayName||i.name:i.name||r&&i.__name}function r$(i){return Rt(i)&&"__vccOpts"in i}const Ge=(i,r)=>UR(i,r,yl);function lf(i,r,l){const o=arguments.length;return o===2?Sn(r)&&!vt(r)?Cs(r)?ue(i,null,[r]):ue(i,r):ue(i,null,r):(o>3?l=Array.prototype.slice.call(arguments,2):o===3&&Cs(l)&&(l=[l]),ue(i,r,l))}const nx=Symbol.for("v-scx"),ix=()=>rn(nx);function s$(){}function a$(i,r,l,o){const d=l[o];if(d&&ox(d,i))return d;const m=r();return m.memo=i.slice(),l[o]=m}function ox(i,r){const l=i.memo;if(l.length!=r.length)return!1;for(let o=0;o<l.length;o++)if(vl(l[o],r[o]))return!1;return _a>0&&Ji&&Ji.push(i),!0}const rx="3.3.4",l$={createComponentInstance:Q3,setupComponent:X3,renderComponentRoot:lh,setCurrentRenderingInstance:od,isVNode:Cs,normalizeVNode:mo},c$=l$,d$=null,u$=null,h$="http://www.w3.org/2000/svg",ra=typeof document<"u"?document:null,u4=ra&&ra.createElement("template"),f$={insert:(i,r,l)=>{r.insertBefore(i,l||null)},remove:i=>{const r=i.parentNode;r&&r.removeChild(i)},createElement:(i,r,l,o)=>{const d=r?ra.createElementNS(h$,i):ra.createElement(i,l?{is:l}:void 0);return i==="select"&&o&&o.multiple!=null&&d.setAttribute("multiple",o.multiple),d},createText:i=>ra.createTextNode(i),createComment:i=>ra.createComment(i),setText:(i,r)=>{i.nodeValue=r},setElementText:(i,r)=>{i.textContent=r},parentNode:i=>i.parentNode,nextSibling:i=>i.nextSibling,querySelector:i=>ra.querySelector(i),setScopeId(i,r){i.setAttribute(r,"")},insertStaticContent(i,r,l,o,d,m){const u=l?l.previousSibling:r.lastChild;if(d&&(d===m||d.nextSibling))for(;r.insertBefore(d.cloneNode(!0),l),!(d===m||!(d=d.nextSibling)););else{u4.innerHTML=o?`<svg>${i}</svg>`:i;const h=u4.content;if(o){const f=h.firstChild;for(;f.firstChild;)h.appendChild(f.firstChild);h.removeChild(f)}r.insertBefore(h,l)}return[u?u.nextSibling:r.firstChild,l?l.previousSibling:r.lastChild]}};function p$(i,r,l){const o=i._vtc;o&&(r=(r?[r,...o]:[...o]).join(" ")),r==null?i.removeAttribute("class"):l?i.setAttribute("class",r):i.className=r}function m$(i,r,l){const o=i.style,d=jn(l);if(l&&!d){if(r&&!jn(r))for(const m in r)l[m]==null&&Zg(o,m,"");for(const m in l)Zg(o,m,l[m])}else{const m=o.display;d?r!==l&&(o.cssText=l):r&&i.removeAttribute("style"),"_vod"in i&&(o.display=m)}}const h4=/\s*!important$/;function Zg(i,r,l){if(vt(l))l.forEach(o=>Zg(i,r,o));else if(l==null&&(l=""),r.startsWith("--"))i.setProperty(r,l);else{const o=g$(i,r);h4.test(l)?i.setProperty(So(o),l.replace(h4,""),"important"):i[o]=l}}const f4=["Webkit","Moz","ms"],Xm={};function g$(i,r){const l=Xm[r];if(l)return l;let o=Xi(r);if(o!=="filter"&&o in i)return Xm[r]=o;o=pd(o);for(let d=0;d<f4.length;d++){const m=f4[d]+o;if(m in i)return Xm[r]=m}return r}const p4="http://www.w3.org/1999/xlink";function _$(i,r,l,o,d){if(o&&r.startsWith("xlink:"))l==null?i.removeAttributeNS(p4,r.slice(6,r.length)):i.setAttributeNS(p4,r,l);else{const m=tR(r);l==null||m&&!Q5(l)?i.removeAttribute(r):i.setAttribute(r,m?"":l)}}function b$(i,r,l,o,d,m,u){if(r==="innerHTML"||r==="textContent"){o&&u(o,d,m),i[r]=l??"";return}const h=i.tagName;if(r==="value"&&h!=="PROGRESS"&&!h.includes("-")){i._value=l;const g=h==="OPTION"?i.getAttribute("value"):i.value,y=l??"";g!==y&&(i.value=y),l==null&&i.removeAttribute(r);return}let f=!1;if(l===""||l==null){const g=typeof i[r];g==="boolean"?l=Q5(l):l==null&&g==="string"?(l="",f=!0):g==="number"&&(l=0,f=!0)}try{i[r]=l}catch{}f&&i.removeAttribute(r)}function Pr(i,r,l,o){i.addEventListener(r,l,o)}function v$(i,r,l,o){i.removeEventListener(r,l,o)}function k$(i,r,l,o,d=null){const m=i._vei||(i._vei={}),u=m[r];if(o&&u)u.value=o;else{const[h,f]=w$(r);if(o){const g=m[r]=A$(o,d);Pr(i,h,g,f)}else u&&(v$(i,h,u,f),m[r]=void 0)}}const m4=/(?:Once|Passive|Capture)$/;function w$(i){let r;if(m4.test(i)){r={};let o;for(;o=i.match(m4);)i=i.slice(0,i.length-o[0].length),r[o[0].toLowerCase()]=!0}return[i[2]===":"?i.slice(3):So(i.slice(2)),r]}let eg=0;const y$=Promise.resolve(),C$=()=>eg||(y$.then(()=>eg=0),eg=Date.now());function A$(i,r){const l=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=l.attached)return;go(x$(o,l.value),r,5,[o])};return l.value=i,l.attached=C$(),l}function x$(i,r){if(vt(r)){const l=i.stopImmediatePropagation;return i.stopImmediatePropagation=()=>{l.call(i),i._stopped=!0},r.map(o=>d=>!d._stopped&&o&&o(d))}else return r}const g4=/^on[a-z]/,S$=(i,r,l,o,d=!1,m,u,h,f)=>{r==="class"?p$(i,o,d):r==="style"?m$(i,l,o):fd(r)?C0(r)||k$(i,r,l,o,u):(r[0]==="."?(r=r.slice(1),!0):r[0]==="^"?(r=r.slice(1),!1):E$(i,r,o,d))?b$(i,r,o,m,u,h,f):(r==="true-value"?i._trueValue=o:r==="false-value"&&(i._falseValue=o),_$(i,r,o,d))};function E$(i,r,l,o){return o?!!(r==="innerHTML"||r==="textContent"||r in i&&g4.test(r)&&Rt(l)):r==="spellcheck"||r==="draggable"||r==="translate"||r==="form"||r==="list"&&i.tagName==="INPUT"||r==="type"&&i.tagName==="TEXTAREA"||g4.test(r)&&jn(l)?!1:r in i}function sx(i,r){const l=Pi(i);class o extends cf{constructor(m){super(l,m,r)}}return o.def=l,o}const D$=i=>sx(i,vx),T$=typeof HTMLElement<"u"?HTMLElement:class{};class cf extends T${constructor(r,l={},o){super(),this._def=r,this._props=l,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&o?o(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,eo(()=>{this._connected||(Xg(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let o=0;o<this.attributes.length;o++)this._setAttr(this.attributes[o].name);new MutationObserver(o=>{for(const d of o)this._setAttr(d.attributeName)}).observe(this,{attributes:!0});const r=(o,d=!1)=>{const{props:m,styles:u}=o;let h;if(m&&!vt(m))for(const f in m){const g=m[f];(g===Number||g&&g.type===Number)&&(f in this._props&&(this._props[f]=yh(this._props[f])),(h||(h=Object.create(null)))[Xi(f)]=!0)}this._numberProps=h,d&&this._resolveProps(o),this._applyStyles(u),this._update()},l=this._def.__asyncLoader;l?l().then(o=>r(o,!0)):r(this._def)}_resolveProps(r){const{props:l}=r,o=vt(l)?l:Object.keys(l||{});for(const d of Object.keys(this))d[0]!=="_"&&o.includes(d)&&this._setProp(d,this[d],!0,!1);for(const d of o.map(Xi))Object.defineProperty(this,d,{get(){return this._getProp(d)},set(m){this._setProp(d,m)}})}_setAttr(r){let l=this.getAttribute(r);const o=Xi(r);this._numberProps&&this._numberProps[o]&&(l=yh(l)),this._setProp(o,l,!1)}_getProp(r){return this._props[r]}_setProp(r,l,o=!0,d=!0){l!==this._props[r]&&(this._props[r]=l,d&&this._instance&&this._update(),o&&(l===!0?this.setAttribute(So(r),""):typeof l=="string"||typeof l=="number"?this.setAttribute(So(r),l+""):l||this.removeAttribute(So(r))))}_update(){Xg(this._createVNode(),this.shadowRoot)}_createVNode(){const r=ue(this._def,Mn({},this._props));return this._instance||(r.ce=l=>{this._instance=l,l.isCE=!0;const o=(m,u)=>{this.dispatchEvent(new CustomEvent(m,{detail:u}))};l.emit=(m,...u)=>{o(m,u),So(m)!==m&&o(So(m),u)};let d=this;for(;d=d&&(d.parentNode||d.host);)if(d instanceof cf){l.parent=d._instance,l.provides=d._instance.provides;break}}),r}_applyStyles(r){r&&r.forEach(l=>{const o=document.createElement("style");o.textContent=l,this.shadowRoot.appendChild(o)})}}function I$(i="$style"){{const r=Ke();if(!r)return xn;const l=r.type.__cssModules;if(!l)return xn;const o=l[i];return o||xn}}function M$(i){const r=Ke();if(!r)return;const l=r.ut=(d=i(r.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${r.uid}"]`)).forEach(m=>Jg(m,d))},o=()=>{const d=i(r.proxy);Qg(r.subTree,d),l(d)};w3(o),Ue(()=>{const d=new MutationObserver(o);d.observe(r.subTree.el.parentNode,{childList:!0}),Aa(()=>d.disconnect())})}function Qg(i,r){if(i.shapeFlag&128){const l=i.suspense;i=l.activeBranch,l.pendingBranch&&!l.isHydrating&&l.effects.push(()=>{Qg(l.activeBranch,r)})}for(;i.component;)i=i.component.subTree;if(i.shapeFlag&1&&i.el)Jg(i.el,r);else if(i.type===xe)i.children.forEach(l=>Qg(l,r));else if(i.type===ua){let{el:l,anchor:o}=i;for(;l&&(Jg(l,r),l!==o);)l=l.nextSibling}}function Jg(i,r){if(i.nodeType===1){const l=i.style;for(const o in r)l.setProperty(`--${o}`,r[o])}}const ls="transition",bc="animation",Wr=(i,{slots:r})=>lf(C3,lx(i),r);Wr.displayName="Transition";const ax={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},P$=Wr.props=Mn({},U0,ax),Js=(i,r=[])=>{vt(i)?i.forEach(l=>l(...r)):i&&i(...r)},_4=i=>i?vt(i)?i.some(r=>r.length>1):i.length>1:!1;function lx(i){const r={};for(const H in i)H in ax||(r[H]=i[H]);if(i.css===!1)return r;const{name:l="v",type:o,duration:d,enterFromClass:m=`${l}-enter-from`,enterActiveClass:u=`${l}-enter-active`,enterToClass:h=`${l}-enter-to`,appearFromClass:f=m,appearActiveClass:g=u,appearToClass:y=h,leaveFromClass:k=`${l}-leave-from`,leaveActiveClass:v=`${l}-leave-active`,leaveToClass:A=`${l}-leave-to`}=i,T=O$(d),x=T&&T[0],C=T&&T[1],{onBeforeEnter:D,onEnter:S,onEnterCancelled:M,onLeave:B,onLeaveCancelled:R,onBeforeAppear:L=D,onAppear:j=S,onAppearCancelled:N=M}=r,z=(H,Y,oe)=>{hs(H,Y?y:h),hs(H,Y?g:u),oe&&oe()},Z=(H,Y)=>{H._isLeaving=!1,hs(H,k),hs(H,A),hs(H,v),Y&&Y()},K=H=>(Y,oe)=>{const me=H?j:S,re=()=>z(Y,H,oe);Js(me,[Y,re]),b4(()=>{hs(Y,H?f:m),Ir(Y,H?y:h),_4(me)||v4(Y,o,x,re)})};return Mn(r,{onBeforeEnter(H){Js(D,[H]),Ir(H,m),Ir(H,u)},onBeforeAppear(H){Js(L,[H]),Ir(H,f),Ir(H,g)},onEnter:K(!1),onAppear:K(!0),onLeave(H,Y){H._isLeaving=!0;const oe=()=>Z(H,Y);Ir(H,k),dx(),Ir(H,v),b4(()=>{H._isLeaving&&(hs(H,k),Ir(H,A),_4(B)||v4(H,o,C,oe))}),Js(B,[H,oe])},onEnterCancelled(H){z(H,!1),Js(M,[H])},onAppearCancelled(H){z(H,!0),Js(N,[H])},onLeaveCancelled(H){Z(H),Js(R,[H])}})}function O$(i){if(i==null)return null;if(Sn(i))return[tg(i.enter),tg(i.leave)];{const r=tg(i);return[r,r]}}function tg(i){return yh(i)}function Ir(i,r){r.split(/\s+/).forEach(l=>l&&i.classList.add(l)),(i._vtc||(i._vtc=new Set)).add(r)}function hs(i,r){r.split(/\s+/).forEach(o=>o&&i.classList.remove(o));const{_vtc:l}=i;l&&(l.delete(r),l.size||(i._vtc=void 0))}function b4(i){requestAnimationFrame(()=>{requestAnimationFrame(i)})}let B$=0;function v4(i,r,l,o){const d=i._endId=++B$,m=()=>{d===i._endId&&o()};if(l)return setTimeout(m,l);const{type:u,timeout:h,propCount:f}=cx(i,r);if(!u)return o();const g=u+"end";let y=0;const k=()=>{i.removeEventListener(g,v),m()},v=A=>{A.target===i&&++y>=f&&k()};setTimeout(()=>{y<f&&k()},h+1),i.addEventListener(g,v)}function cx(i,r){const l=window.getComputedStyle(i),o=T=>(l[T]||"").split(", "),d=o(`${ls}Delay`),m=o(`${ls}Duration`),u=k4(d,m),h=o(`${bc}Delay`),f=o(`${bc}Duration`),g=k4(h,f);let y=null,k=0,v=0;r===ls?u>0&&(y=ls,k=u,v=m.length):r===bc?g>0&&(y=bc,k=g,v=f.length):(k=Math.max(u,g),y=k>0?u>g?ls:bc:null,v=y?y===ls?m.length:f.length:0);const A=y===ls&&/\b(transform|all)(,|$)/.test(o(`${ls}Property`).toString());return{type:y,timeout:k,propCount:v,hasTransform:A}}function k4(i,r){for(;i.length<r.length;)i=i.concat(i);return Math.max(...r.map((l,o)=>w4(l)+w4(i[o])))}function w4(i){return Number(i.slice(0,-1).replace(",","."))*1e3}function dx(){return document.body.offsetHeight}const ux=new WeakMap,hx=new WeakMap,fx={name:"TransitionGroup",props:Mn({},P$,{tag:String,moveClass:String}),setup(i,{slots:r}){const l=Ke(),o=V0();let d,m;return kd(()=>{if(!d.length)return;const u=i.moveClass||`${i.name||"v"}-move`;if(!z$(d[0].el,l.vnode.el,u))return;d.forEach(N$),d.forEach($$);const h=d.filter(j$);dx(),h.forEach(f=>{const g=f.el,y=g.style;Ir(g,u),y.transform=y.webkitTransform=y.transitionDuration="";const k=g._moveCb=v=>{v&&v.target!==g||(!v||/transform$/.test(v.propertyName))&&(g.removeEventListener("transitionend",k),g._moveCb=null,hs(g,u))};g.addEventListener("transitionend",k)})}),()=>{const u=Xt(i),h=lx(u);let f=u.tag||xe;d=m,m=r.default?nf(r.default()):[];for(let g=0;g<m.length;g++){const y=m[g];y.key!=null&&ma(y,wl(y,h,o,l))}if(d)for(let g=0;g<d.length;g++){const y=d[g];ma(y,wl(y,h,o,l)),ux.set(y,y.el.getBoundingClientRect())}return ue(f,null,m)}}},L$=i=>delete i.mode;fx.props;const R$=fx;function N$(i){const r=i.el;r._moveCb&&r._moveCb(),r._enterCb&&r._enterCb()}function $$(i){hx.set(i,i.el.getBoundingClientRect())}function j$(i){const r=ux.get(i),l=hx.get(i),o=r.left-l.left,d=r.top-l.top;if(o||d){const m=i.el.style;return m.transform=m.webkitTransform=`translate(${o}px,${d}px)`,m.transitionDuration="0s",i}}function z$(i,r,l){const o=i.cloneNode();i._vtc&&i._vtc.forEach(u=>{u.split(/\s+/).forEach(h=>h&&o.classList.remove(h))}),l.split(/\s+/).forEach(u=>u&&o.classList.add(u)),o.style.display="none";const d=r.nodeType===1?r:r.parentNode;d.appendChild(o);const{hasTransform:m}=cx(o);return d.removeChild(o),m}const xs=i=>{const r=i.props["onUpdate:modelValue"]||!1;return vt(r)?l=>ml(r,l):r};function F$(i){i.target.composing=!0}function y4(i){const r=i.target;r.composing&&(r.composing=!1,r.dispatchEvent(new Event("input")))}const gt={created(i,{modifiers:{lazy:r,trim:l,number:o}},d){i._assign=xs(d);const m=o||d.props&&d.props.type==="number";Pr(i,r?"change":"input",u=>{if(u.target.composing)return;let h=i.value;l&&(h=h.trim()),m&&(h=wh(h)),i._assign(h)}),l&&Pr(i,"change",()=>{i.value=i.value.trim()}),r||(Pr(i,"compositionstart",F$),Pr(i,"compositionend",y4),Pr(i,"change",y4))},mounted(i,{value:r}){i.value=r??""},beforeUpdate(i,{value:r,modifiers:{lazy:l,trim:o,number:d}},m){if(i._assign=xs(m),i.composing||document.activeElement===i&&i.type!=="range"&&(l||o&&i.value.trim()===r||(d||i.type==="number")&&wh(i.value)===r))return;const u=r??"";i.value!==u&&(i.value=u)}},xa={deep:!0,created(i,r,l){i._assign=xs(l),Pr(i,"change",()=>{const o=i._modelValue,d=Cl(i),m=i.checked,u=i._assign;if(vt(o)){const h=Gh(o,d),f=h!==-1;if(m&&!f)u(o.concat(d));else if(!m&&f){const g=[...o];g.splice(h,1),u(g)}}else if(wa(o)){const h=new Set(o);m?h.add(d):h.delete(d),u(h)}else u(px(i,m))})},mounted:C4,beforeUpdate(i,r,l){i._assign=xs(l),C4(i,r,l)}};function C4(i,{value:r,oldValue:l},o){i._modelValue=r,vt(r)?i.checked=Gh(r,o.props.value)>-1:wa(r)?i.checked=r.has(o.props.value):r!==l&&(i.checked=ws(r,px(i,!0)))}const J0={created(i,{value:r},l){i.checked=ws(r,l.props.value),i._assign=xs(l),Pr(i,"change",()=>{i._assign(Cl(i))})},beforeUpdate(i,{value:r,oldValue:l},o){i._assign=xs(o),r!==l&&(i.checked=ws(r,o.props.value))}},ba={deep:!0,created(i,{value:r,modifiers:{number:l}},o){const d=wa(r);Pr(i,"change",()=>{const m=Array.prototype.filter.call(i.options,u=>u.selected).map(u=>l?wh(Cl(u)):Cl(u));i._assign(i.multiple?d?new Set(m):m:m[0])}),i._assign=xs(o)},mounted(i,{value:r}){A4(i,r)},beforeUpdate(i,r,l){i._assign=xs(l)},updated(i,{value:r}){A4(i,r)}};function A4(i,r){const l=i.multiple;if(!(l&&!vt(r)&&!wa(r))){for(let o=0,d=i.options.length;o<d;o++){const m=i.options[o],u=Cl(m);if(l)vt(r)?m.selected=Gh(r,u)>-1:m.selected=r.has(u);else if(ws(Cl(m),r)){i.selectedIndex!==o&&(i.selectedIndex=o);return}}!l&&i.selectedIndex!==-1&&(i.selectedIndex=-1)}}function Cl(i){return"_value"in i?i._value:i.value}function px(i,r){const l=r?"_trueValue":"_falseValue";return l in i?i[l]:r}const Al={created(i,r,l){Qu(i,r,l,null,"created")},mounted(i,r,l){Qu(i,r,l,null,"mounted")},beforeUpdate(i,r,l,o){Qu(i,r,l,o,"beforeUpdate")},updated(i,r,l,o){Qu(i,r,l,o,"updated")}};function mx(i,r){switch(i){case"SELECT":return ba;case"TEXTAREA":return gt;default:switch(r){case"checkbox":return xa;case"radio":return J0;default:return gt}}}function Qu(i,r,l,o,d){const u=mx(i.tagName,l.props&&l.props.type)[d];u&&u(i,r,l,o)}function V$(){gt.getSSRProps=({value:i})=>({value:i}),J0.getSSRProps=({value:i},r)=>{if(r.props&&ws(r.props.value,i))return{checked:!0}},xa.getSSRProps=({value:i},r)=>{if(vt(i)){if(r.props&&Gh(i,r.props.value)>-1)return{checked:!0}}else if(wa(i)){if(r.props&&i.has(r.props.value))return{checked:!0}}else if(i)return{checked:!0}},Al.getSSRProps=(i,r)=>{if(typeof r.type!="string")return;const l=mx(r.type.toUpperCase(),r.props&&r.props.type);if(l.getSSRProps)return l.getSSRProps(i,r)}}const U$=["ctrl","shift","alt","meta"],H$={stop:i=>i.stopPropagation(),prevent:i=>i.preventDefault(),self:i=>i.target!==i.currentTarget,ctrl:i=>!i.ctrlKey,shift:i=>!i.shiftKey,alt:i=>!i.altKey,meta:i=>!i.metaKey,left:i=>"button"in i&&i.button!==0,middle:i=>"button"in i&&i.button!==1,right:i=>"button"in i&&i.button!==2,exact:(i,r)=>U$.some(l=>i[`${l}Key`]&&!r.includes(l))},mi=(i,r)=>(l,...o)=>{for(let d=0;d<r.length;d++){const m=H$[r[d]];if(m&&m(l,r))return}return i(l,...o)},W$={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},St=(i,r)=>l=>{if(!("key"in l))return;const o=So(l.key);if(r.some(d=>d===o||W$[d]===o))return i(l)},fr={beforeMount(i,{value:r},{transition:l}){i._vod=i.style.display==="none"?"":i.style.display,l&&r?l.beforeEnter(i):vc(i,r)},mounted(i,{value:r},{transition:l}){l&&r&&l.enter(i)},updated(i,{value:r,oldValue:l},{transition:o}){!r!=!l&&(o?r?(o.beforeEnter(i),vc(i,!0),o.enter(i)):o.leave(i,()=>{vc(i,!1)}):vc(i,r))},beforeUnmount(i,{value:r}){vc(i,r)}};function vc(i,r){i.style.display=r?i._vod:"none"}function G$(){fr.getSSRProps=({value:i})=>{if(!i)return{style:{display:"none"}}}}const gx=Mn({patchProp:S$},f$);let Vc,x4=!1;function _x(){return Vc||(Vc=U3(gx))}function bx(){return Vc=x4?Vc:H3(gx),x4=!0,Vc}const Xg=(...i)=>{_x().render(...i)},vx=(...i)=>{bx().hydrate(...i)},kx=(...i)=>{const r=_x().createApp(...i),{mount:l}=r;return r.mount=o=>{const d=wx(o);if(!d)return;const m=r._component;!Rt(m)&&!m.render&&!m.template&&(m.template=d.innerHTML),d.innerHTML="";const u=l(d,!1,d instanceof SVGElement);return d instanceof Element&&(d.removeAttribute("v-cloak"),d.setAttribute("data-v-app","")),u},r},K$=(...i)=>{const r=bx().createApp(...i),{mount:l}=r;return r.mount=o=>{const d=wx(o);if(d)return l(d,!0,d instanceof SVGElement)},r};function wx(i){return jn(i)?document.querySelector(i):i}let S4=!1;const Y$=()=>{S4||(S4=!0,V$(),G$())},q$=()=>{},Z$=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:C3,BaseTransitionPropsValidators:U0,Comment:Mi,EffectScope:E0,Fragment:xe,KeepAlive:mN,ReactiveEffect:md,Static:ua,Suspense:iN,Teleport:G3,Text:ga,Transition:Wr,TransitionGroup:R$,VueElement:cf,assertNumber:WR,callWithAsyncErrorHandling:go,callWithErrorHandling:jr,camelize:Xi,capitalize:pd,cloneVNode:mr,compatUtils:u$,compile:q$,computed:Ge,createApp:kx,createBlock:lt,createCommentVNode:ve,createElementBlock:U,createElementVNode:b,createHydrationRenderer:H3,createPropsRestProxy:PN,createRenderer:U3,createSSRApp:K$,createSlots:Ni,createStaticVNode:Po,createTextVNode:rt,createVNode:ue,customRef:jR,defineAsyncComponent:fN,defineComponent:Pi,defineCustomElement:sx,defineEmits:yN,defineExpose:CN,defineModel:SN,defineOptions:AN,defineProps:wN,defineSSRCustomElement:D$,defineSlots:xN,get devtools(){return ll},effect:rR,effectScope:D0,getCurrentInstance:Ke,getCurrentScope:Kh,getTransitionRawChildren:nf,guardReactiveProps:po,h:lf,handleError:ya,hasInjectionContext:N3,hydrate:vx,initCustomFormatter:s$,initDirectivesForSSR:Y$,inject:rn,isMemoSame:ox,isProxy:B0,isReactive:$r,isReadonly:pa,isRef:hn,isRuntimeOnly:i$,isShallow:ed,isVNode:Cs,markRaw:gd,mergeDefaults:IN,mergeModels:MN,mergeProps:ai,nextTick:eo,normalizeClass:je,normalizeProps:yi,normalizeStyle:Vn,onActivated:x3,onBeforeMount:Ca,onBeforeUnmount:Hr,onBeforeUpdate:H0,onDeactivated:S3,onErrorCaptured:M3,onMounted:Ue,onRenderTracked:I3,onRenderTriggered:T3,onScopeDispose:T0,onServerPrefetch:D3,onUnmounted:Aa,onUpdated:kd,openBlock:F,popScopeId:Yt,provide:fo,proxyRefs:N0,pushScopeId:Kt,queuePostFlushCb:j0,reactive:Ve,readonly:O0,ref:et,registerRuntimeCompiler:n$,render:Xg,renderList:Xe,renderSlot:bt,resolveComponent:Ht,resolveDirective:bN,resolveDynamicComponent:Yo,resolveFilter:d$,resolveTransitionHooks:wl,setBlockTracking:Gg,setDevtoolsHook:_3,setTransitionHooks:ma,shallowReactive:P0,shallowReadonly:OR,shallowRef:Ll,ssrContextKey:nx,ssrUtils:c$,stop:sR,toDisplayString:_e,toHandlerKey:$c,toHandlers:vN,toRaw:Xt,toRef:kl,toRefs:_d,toValue:RR,transformVNodeArgs:QN,triggerRef:LR,unref:P,useAttrs:DN,useCssModule:I$,useCssVars:M$,useModel:TN,useSSRContext:ix,useSlots:rf,useTransitionState:V0,vModelCheckbox:xa,vModelDynamic:Al,vModelRadio:J0,vModelSelect:ba,vModelText:gt,vShow:fr,version:rx,warn:HR,watch:Bt,watchEffect:cN,watchPostEffect:w3,watchSyncEffect:dN,withAsyncContext:ON,withCtx:qe,withDefaults:EN,withDirectives:ct,withKeys:St,withMemo:a$,withModifiers:mi,withScopeId:QR},Symbol.toStringTag,{value:"Module"}));function yx(i,r){return function(){return i.apply(r,arguments)}}const{toString:Q$}=Object.prototype,{getPrototypeOf:X0}=Object,df=(i=>r=>{const l=Q$.call(r);return i[l]||(i[l]=l.slice(8,-1).toLowerCase())})(Object.create(null)),vr=i=>(i=i.toLowerCase(),r=>df(r)===i),uf=i=>r=>typeof r===i,{isArray:Rl}=Array,ld=uf("undefined");function J$(i){return i!==null&&!ld(i)&&i.constructor!==null&&!ld(i.constructor)&&Eo(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const Cx=vr("ArrayBuffer");function X$(i){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(i):r=i&&i.buffer&&Cx(i.buffer),r}const ej=uf("string"),Eo=uf("function"),Ax=uf("number"),hf=i=>i!==null&&typeof i=="object",tj=i=>i===!0||i===!1,dh=i=>{if(df(i)!=="object")return!1;const r=X0(i);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},nj=vr("Date"),ij=vr("File"),oj=vr("Blob"),rj=vr("FileList"),sj=i=>hf(i)&&Eo(i.pipe),aj=i=>{let r;return i&&(typeof FormData=="function"&&i instanceof FormData||Eo(i.append)&&((r=df(i))==="formdata"||r==="object"&&Eo(i.toString)&&i.toString()==="[object FormData]"))},lj=vr("URLSearchParams"),cj=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wd(i,r,{allOwnKeys:l=!1}={}){if(i===null||typeof i>"u")return;let o,d;if(typeof i!="object"&&(i=[i]),Rl(i))for(o=0,d=i.length;o<d;o++)r.call(null,i[o],o,i);else{const m=l?Object.getOwnPropertyNames(i):Object.keys(i),u=m.length;let h;for(o=0;o<u;o++)h=m[o],r.call(null,i[h],h,i)}}function xx(i,r){r=r.toLowerCase();const l=Object.keys(i);let o=l.length,d;for(;o-- >0;)if(d=l[o],r===d.toLowerCase())return d;return null}const Sx=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Ex=i=>!ld(i)&&i!==Sx;function e0(){const{caseless:i}=Ex(this)&&this||{},r={},l=(o,d)=>{const m=i&&xx(r,d)||d;dh(r[m])&&dh(o)?r[m]=e0(r[m],o):dh(o)?r[m]=e0({},o):Rl(o)?r[m]=o.slice():r[m]=o};for(let o=0,d=arguments.length;o<d;o++)arguments[o]&&wd(arguments[o],l);return r}const dj=(i,r,l,{allOwnKeys:o}={})=>(wd(r,(d,m)=>{l&&Eo(d)?i[m]=yx(d,l):i[m]=d},{allOwnKeys:o}),i),uj=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),hj=(i,r,l,o)=>{i.prototype=Object.create(r.prototype,o),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:r.prototype}),l&&Object.assign(i.prototype,l)},fj=(i,r,l,o)=>{let d,m,u;const h={};if(r=r||{},i==null)return r;do{for(d=Object.getOwnPropertyNames(i),m=d.length;m-- >0;)u=d[m],(!o||o(u,i,r))&&!h[u]&&(r[u]=i[u],h[u]=!0);i=l!==!1&&X0(i)}while(i&&(!l||l(i,r))&&i!==Object.prototype);return r},pj=(i,r,l)=>{i=String(i),(l===void 0||l>i.length)&&(l=i.length),l-=r.length;const o=i.indexOf(r,l);return o!==-1&&o===l},mj=i=>{if(!i)return null;if(Rl(i))return i;let r=i.length;if(!Ax(r))return null;const l=new Array(r);for(;r-- >0;)l[r]=i[r];return l},gj=(i=>r=>i&&r instanceof i)(typeof Uint8Array<"u"&&X0(Uint8Array)),_j=(i,r)=>{const o=(i&&i[Symbol.iterator]).call(i);let d;for(;(d=o.next())&&!d.done;){const m=d.value;r.call(i,m[0],m[1])}},bj=(i,r)=>{let l;const o=[];for(;(l=i.exec(r))!==null;)o.push(l);return o},vj=vr("HTMLFormElement"),kj=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(l,o,d){return o.toUpperCase()+d}),E4=(({hasOwnProperty:i})=>(r,l)=>i.call(r,l))(Object.prototype),wj=vr("RegExp"),Dx=(i,r)=>{const l=Object.getOwnPropertyDescriptors(i),o={};wd(l,(d,m)=>{r(d,m,i)!==!1&&(o[m]=d)}),Object.defineProperties(i,o)},yj=i=>{Dx(i,(r,l)=>{if(Eo(i)&&["arguments","caller","callee"].indexOf(l)!==-1)return!1;const o=i[l];if(Eo(o)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+l+"'")})}})},Cj=(i,r)=>{const l={},o=d=>{d.forEach(m=>{l[m]=!0})};return Rl(i)?o(i):o(String(i).split(r)),l},Aj=()=>{},xj=(i,r)=>(i=+i,Number.isFinite(i)?i:r),ng="abcdefghijklmnopqrstuvwxyz",D4="0123456789",Tx={DIGIT:D4,ALPHA:ng,ALPHA_DIGIT:ng+ng.toUpperCase()+D4},Sj=(i=16,r=Tx.ALPHA_DIGIT)=>{let l="";const{length:o}=r;for(;i--;)l+=r[Math.random()*o|0];return l};function Ej(i){return!!(i&&Eo(i.append)&&i[Symbol.toStringTag]==="FormData"&&i[Symbol.iterator])}const Dj=i=>{const r=new Array(10),l=(o,d)=>{if(hf(o)){if(r.indexOf(o)>=0)return;if(!("toJSON"in o)){r[d]=o;const m=Rl(o)?[]:{};return wd(o,(u,h)=>{const f=l(u,d+1);!ld(f)&&(m[h]=f)}),r[d]=void 0,m}}return o};return l(i,0)},Tj=vr("AsyncFunction"),Ij=i=>i&&(hf(i)||Eo(i))&&Eo(i.then)&&Eo(i.catch),ze={isArray:Rl,isArrayBuffer:Cx,isBuffer:J$,isFormData:aj,isArrayBufferView:X$,isString:ej,isNumber:Ax,isBoolean:tj,isObject:hf,isPlainObject:dh,isUndefined:ld,isDate:nj,isFile:ij,isBlob:oj,isRegExp:wj,isFunction:Eo,isStream:sj,isURLSearchParams:lj,isTypedArray:gj,isFileList:rj,forEach:wd,merge:e0,extend:dj,trim:cj,stripBOM:uj,inherits:hj,toFlatObject:fj,kindOf:df,kindOfTest:vr,endsWith:pj,toArray:mj,forEachEntry:_j,matchAll:bj,isHTMLForm:vj,hasOwnProperty:E4,hasOwnProp:E4,reduceDescriptors:Dx,freezeMethods:yj,toObjectSet:Cj,toCamelCase:kj,noop:Aj,toFiniteNumber:xj,findKey:xx,global:Sx,isContextDefined:Ex,ALPHABET:Tx,generateString:Sj,isSpecCompliantForm:Ej,toJSONObject:Dj,isAsyncFn:Tj,isThenable:Ij};function ln(i,r,l,o,d){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",r&&(this.code=r),l&&(this.config=l),o&&(this.request=o),d&&(this.response=d)}ze.inherits(ln,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ze.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Ix=ln.prototype,Mx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{Mx[i]={value:i}});Object.defineProperties(ln,Mx);Object.defineProperty(Ix,"isAxiosError",{value:!0});ln.from=(i,r,l,o,d,m)=>{const u=Object.create(Ix);return ze.toFlatObject(i,u,function(f){return f!==Error.prototype},h=>h!=="isAxiosError"),ln.call(u,i.message,r,l,o,d),u.cause=i,u.name=i.name,m&&Object.assign(u,m),u};const Mj=null;function t0(i){return ze.isPlainObject(i)||ze.isArray(i)}function Px(i){return ze.endsWith(i,"[]")?i.slice(0,-2):i}function T4(i,r,l){return i?i.concat(r).map(function(d,m){return d=Px(d),!l&&m?"["+d+"]":d}).join(l?".":""):r}function Pj(i){return ze.isArray(i)&&!i.some(t0)}const Oj=ze.toFlatObject(ze,{},null,function(r){return/^is[A-Z]/.test(r)});function ff(i,r,l){if(!ze.isObject(i))throw new TypeError("target must be an object");r=r||new FormData,l=ze.toFlatObject(l,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,C){return!ze.isUndefined(C[x])});const o=l.metaTokens,d=l.visitor||y,m=l.dots,u=l.indexes,f=(l.Blob||typeof Blob<"u"&&Blob)&&ze.isSpecCompliantForm(r);if(!ze.isFunction(d))throw new TypeError("visitor must be a function");function g(T){if(T===null)return"";if(ze.isDate(T))return T.toISOString();if(!f&&ze.isBlob(T))throw new ln("Blob is not supported. Use a Buffer instead.");return ze.isArrayBuffer(T)||ze.isTypedArray(T)?f&&typeof Blob=="function"?new Blob([T]):Buffer.from(T):T}function y(T,x,C){let D=T;if(T&&!C&&typeof T=="object"){if(ze.endsWith(x,"{}"))x=o?x:x.slice(0,-2),T=JSON.stringify(T);else if(ze.isArray(T)&&Pj(T)||(ze.isFileList(T)||ze.endsWith(x,"[]"))&&(D=ze.toArray(T)))return x=Px(x),D.forEach(function(M,B){!(ze.isUndefined(M)||M===null)&&r.append(u===!0?T4([x],B,m):u===null?x:x+"[]",g(M))}),!1}return t0(T)?!0:(r.append(T4(C,x,m),g(T)),!1)}const k=[],v=Object.assign(Oj,{defaultVisitor:y,convertValue:g,isVisitable:t0});function A(T,x){if(!ze.isUndefined(T)){if(k.indexOf(T)!==-1)throw Error("Circular reference detected in "+x.join("."));k.push(T),ze.forEach(T,function(D,S){(!(ze.isUndefined(D)||D===null)&&d.call(r,D,ze.isString(S)?S.trim():S,x,v))===!0&&A(D,x?x.concat(S):[S])}),k.pop()}}if(!ze.isObject(i))throw new TypeError("data must be an object");return A(i),r}function I4(i){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(o){return r[o]})}function e1(i,r){this._pairs=[],i&&ff(i,this,r)}const Ox=e1.prototype;Ox.append=function(r,l){this._pairs.push([r,l])};Ox.toString=function(r){const l=r?function(o){return r.call(this,o,I4)}:I4;return this._pairs.map(function(d){return l(d[0])+"="+l(d[1])},"").join("&")};function Bj(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Bx(i,r,l){if(!r)return i;const o=l&&l.encode||Bj,d=l&&l.serialize;let m;if(d?m=d(r,l):m=ze.isURLSearchParams(r)?r.toString():new e1(r,l).toString(o),m){const u=i.indexOf("#");u!==-1&&(i=i.slice(0,u)),i+=(i.indexOf("?")===-1?"?":"&")+m}return i}class Lj{constructor(){this.handlers=[]}use(r,l,o){return this.handlers.push({fulfilled:r,rejected:l,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){ze.forEach(this.handlers,function(o){o!==null&&r(o)})}}const M4=Lj,Lx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Rj=typeof URLSearchParams<"u"?URLSearchParams:e1,Nj=typeof FormData<"u"?FormData:null,$j=typeof Blob<"u"?Blob:null,jj=(()=>{let i;return typeof navigator<"u"&&((i=navigator.product)==="ReactNative"||i==="NativeScript"||i==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),zj=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),ur={isBrowser:!0,classes:{URLSearchParams:Rj,FormData:Nj,Blob:$j},isStandardBrowserEnv:jj,isStandardBrowserWebWorkerEnv:zj,protocols:["http","https","file","blob","url","data"]};function Fj(i,r){return ff(i,new ur.classes.URLSearchParams,Object.assign({visitor:function(l,o,d,m){return ur.isNode&&ze.isBuffer(l)?(this.append(o,l.toString("base64")),!1):m.defaultVisitor.apply(this,arguments)}},r))}function Vj(i){return ze.matchAll(/\w+|\[(\w*)]/g,i).map(r=>r[0]==="[]"?"":r[1]||r[0])}function Uj(i){const r={},l=Object.keys(i);let o;const d=l.length;let m;for(o=0;o<d;o++)m=l[o],r[m]=i[m];return r}function Rx(i){function r(l,o,d,m){let u=l[m++];const h=Number.isFinite(+u),f=m>=l.length;return u=!u&&ze.isArray(d)?d.length:u,f?(ze.hasOwnProp(d,u)?d[u]=[d[u],o]:d[u]=o,!h):((!d[u]||!ze.isObject(d[u]))&&(d[u]=[]),r(l,o,d[u],m)&&ze.isArray(d[u])&&(d[u]=Uj(d[u])),!h)}if(ze.isFormData(i)&&ze.isFunction(i.entries)){const l={};return ze.forEachEntry(i,(o,d)=>{r(Vj(o),d,l,0)}),l}return null}const Hj={"Content-Type":void 0};function Wj(i,r,l){if(ze.isString(i))try{return(r||JSON.parse)(i),ze.trim(i)}catch(o){if(o.name!=="SyntaxError")throw o}return(l||JSON.stringify)(i)}const pf={transitional:Lx,adapter:["xhr","http"],transformRequest:[function(r,l){const o=l.getContentType()||"",d=o.indexOf("application/json")>-1,m=ze.isObject(r);if(m&&ze.isHTMLForm(r)&&(r=new FormData(r)),ze.isFormData(r))return d&&d?JSON.stringify(Rx(r)):r;if(ze.isArrayBuffer(r)||ze.isBuffer(r)||ze.isStream(r)||ze.isFile(r)||ze.isBlob(r))return r;if(ze.isArrayBufferView(r))return r.buffer;if(ze.isURLSearchParams(r))return l.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let h;if(m){if(o.indexOf("application/x-www-form-urlencoded")>-1)return Fj(r,this.formSerializer).toString();if((h=ze.isFileList(r))||o.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return ff(h?{"files[]":r}:r,f&&new f,this.formSerializer)}}return m||d?(l.setContentType("application/json",!1),Wj(r)):r}],transformResponse:[function(r){const l=this.transitional||pf.transitional,o=l&&l.forcedJSONParsing,d=this.responseType==="json";if(r&&ze.isString(r)&&(o&&!this.responseType||d)){const u=!(l&&l.silentJSONParsing)&&d;try{return JSON.parse(r)}catch(h){if(u)throw h.name==="SyntaxError"?ln.from(h,ln.ERR_BAD_RESPONSE,this,null,this.response):h}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ur.classes.FormData,Blob:ur.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};ze.forEach(["delete","get","head"],function(r){pf.headers[r]={}});ze.forEach(["post","put","patch"],function(r){pf.headers[r]=ze.merge(Hj)});const t1=pf,Gj=ze.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Kj=i=>{const r={};let l,o,d;return i&&i.split(`
`).forEach(function(u){d=u.indexOf(":"),l=u.substring(0,d).trim().toLowerCase(),o=u.substring(d+1).trim(),!(!l||r[l]&&Gj[l])&&(l==="set-cookie"?r[l]?r[l].push(o):r[l]=[o]:r[l]=r[l]?r[l]+", "+o:o)}),r},P4=Symbol("internals");function kc(i){return i&&String(i).trim().toLowerCase()}function uh(i){return i===!1||i==null?i:ze.isArray(i)?i.map(uh):String(i)}function Yj(i){const r=Object.create(null),l=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=l.exec(i);)r[o[1]]=o[2];return r}const qj=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function ig(i,r,l,o,d){if(ze.isFunction(o))return o.call(this,r,l);if(d&&(r=l),!!ze.isString(r)){if(ze.isString(o))return r.indexOf(o)!==-1;if(ze.isRegExp(o))return o.test(r)}}function Zj(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,l,o)=>l.toUpperCase()+o)}function Qj(i,r){const l=ze.toCamelCase(" "+r);["get","set","has"].forEach(o=>{Object.defineProperty(i,o+l,{value:function(d,m,u){return this[o].call(this,r,d,m,u)},configurable:!0})})}class mf{constructor(r){r&&this.set(r)}set(r,l,o){const d=this;function m(h,f,g){const y=kc(f);if(!y)throw new Error("header name must be a non-empty string");const k=ze.findKey(d,y);(!k||d[k]===void 0||g===!0||g===void 0&&d[k]!==!1)&&(d[k||f]=uh(h))}const u=(h,f)=>ze.forEach(h,(g,y)=>m(g,y,f));return ze.isPlainObject(r)||r instanceof this.constructor?u(r,l):ze.isString(r)&&(r=r.trim())&&!qj(r)?u(Kj(r),l):r!=null&&m(l,r,o),this}get(r,l){if(r=kc(r),r){const o=ze.findKey(this,r);if(o){const d=this[o];if(!l)return d;if(l===!0)return Yj(d);if(ze.isFunction(l))return l.call(this,d,o);if(ze.isRegExp(l))return l.exec(d);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,l){if(r=kc(r),r){const o=ze.findKey(this,r);return!!(o&&this[o]!==void 0&&(!l||ig(this,this[o],o,l)))}return!1}delete(r,l){const o=this;let d=!1;function m(u){if(u=kc(u),u){const h=ze.findKey(o,u);h&&(!l||ig(o,o[h],h,l))&&(delete o[h],d=!0)}}return ze.isArray(r)?r.forEach(m):m(r),d}clear(r){const l=Object.keys(this);let o=l.length,d=!1;for(;o--;){const m=l[o];(!r||ig(this,this[m],m,r,!0))&&(delete this[m],d=!0)}return d}normalize(r){const l=this,o={};return ze.forEach(this,(d,m)=>{const u=ze.findKey(o,m);if(u){l[u]=uh(d),delete l[m];return}const h=r?Zj(m):String(m).trim();h!==m&&delete l[m],l[h]=uh(d),o[h]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const l=Object.create(null);return ze.forEach(this,(o,d)=>{o!=null&&o!==!1&&(l[d]=r&&ze.isArray(o)?o.join(", "):o)}),l}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,l])=>r+": "+l).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...l){const o=new this(r);return l.forEach(d=>o.set(d)),o}static accessor(r){const o=(this[P4]=this[P4]={accessors:{}}).accessors,d=this.prototype;function m(u){const h=kc(u);o[h]||(Qj(d,u),o[h]=!0)}return ze.isArray(r)?r.forEach(m):m(r),this}}mf.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ze.freezeMethods(mf.prototype);ze.freezeMethods(mf);const zr=mf;function og(i,r){const l=this||t1,o=r||l,d=zr.from(o.headers);let m=o.data;return ze.forEach(i,function(h){m=h.call(l,m,d.normalize(),r?r.status:void 0)}),d.normalize(),m}function Nx(i){return!!(i&&i.__CANCEL__)}function yd(i,r,l){ln.call(this,i??"canceled",ln.ERR_CANCELED,r,l),this.name="CanceledError"}ze.inherits(yd,ln,{__CANCEL__:!0});function Jj(i,r,l){const o=l.config.validateStatus;!l.status||!o||o(l.status)?i(l):r(new ln("Request failed with status code "+l.status,[ln.ERR_BAD_REQUEST,ln.ERR_BAD_RESPONSE][Math.floor(l.status/100)-4],l.config,l.request,l))}const Xj=ur.isStandardBrowserEnv?function(){return{write:function(l,o,d,m,u,h){const f=[];f.push(l+"="+encodeURIComponent(o)),ze.isNumber(d)&&f.push("expires="+new Date(d).toGMTString()),ze.isString(m)&&f.push("path="+m),ze.isString(u)&&f.push("domain="+u),h===!0&&f.push("secure"),document.cookie=f.join("; ")},read:function(l){const o=document.cookie.match(new RegExp("(^|;\\s*)("+l+")=([^;]*)"));return o?decodeURIComponent(o[3]):null},remove:function(l){this.write(l,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function ez(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function tz(i,r){return r?i.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):i}function $x(i,r){return i&&!ez(r)?tz(i,r):r}const nz=ur.isStandardBrowserEnv?function(){const r=/(msie|trident)/i.test(navigator.userAgent),l=document.createElement("a");let o;function d(m){let u=m;return r&&(l.setAttribute("href",u),u=l.href),l.setAttribute("href",u),{href:l.href,protocol:l.protocol?l.protocol.replace(/:$/,""):"",host:l.host,search:l.search?l.search.replace(/^\?/,""):"",hash:l.hash?l.hash.replace(/^#/,""):"",hostname:l.hostname,port:l.port,pathname:l.pathname.charAt(0)==="/"?l.pathname:"/"+l.pathname}}return o=d(window.location.href),function(u){const h=ze.isString(u)?d(u):u;return h.protocol===o.protocol&&h.host===o.host}}():function(){return function(){return!0}}();function iz(i){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return r&&r[1]||""}function oz(i,r){i=i||10;const l=new Array(i),o=new Array(i);let d=0,m=0,u;return r=r!==void 0?r:1e3,function(f){const g=Date.now(),y=o[m];u||(u=g),l[d]=f,o[d]=g;let k=m,v=0;for(;k!==d;)v+=l[k++],k=k%i;if(d=(d+1)%i,d===m&&(m=(m+1)%i),g-u<r)return;const A=y&&g-y;return A?Math.round(v*1e3/A):void 0}}function O4(i,r){let l=0;const o=oz(50,250);return d=>{const m=d.loaded,u=d.lengthComputable?d.total:void 0,h=m-l,f=o(h),g=m<=u;l=m;const y={loaded:m,total:u,progress:u?m/u:void 0,bytes:h,rate:f||void 0,estimated:f&&u&&g?(u-m)/f:void 0,event:d};y[r?"download":"upload"]=!0,i(y)}}const rz=typeof XMLHttpRequest<"u",sz=rz&&function(i){return new Promise(function(l,o){let d=i.data;const m=zr.from(i.headers).normalize(),u=i.responseType;let h;function f(){i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}ze.isFormData(d)&&(ur.isStandardBrowserEnv||ur.isStandardBrowserWebWorkerEnv?m.setContentType(!1):m.setContentType("multipart/form-data;",!1));let g=new XMLHttpRequest;if(i.auth){const A=i.auth.username||"",T=i.auth.password?unescape(encodeURIComponent(i.auth.password)):"";m.set("Authorization","Basic "+btoa(A+":"+T))}const y=$x(i.baseURL,i.url);g.open(i.method.toUpperCase(),Bx(y,i.params,i.paramsSerializer),!0),g.timeout=i.timeout;function k(){if(!g)return;const A=zr.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),x={data:!u||u==="text"||u==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:A,config:i,request:g};Jj(function(D){l(D),f()},function(D){o(D),f()},x),g=null}if("onloadend"in g?g.onloadend=k:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(k)},g.onabort=function(){g&&(o(new ln("Request aborted",ln.ECONNABORTED,i,g)),g=null)},g.onerror=function(){o(new ln("Network Error",ln.ERR_NETWORK,i,g)),g=null},g.ontimeout=function(){let T=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const x=i.transitional||Lx;i.timeoutErrorMessage&&(T=i.timeoutErrorMessage),o(new ln(T,x.clarifyTimeoutError?ln.ETIMEDOUT:ln.ECONNABORTED,i,g)),g=null},ur.isStandardBrowserEnv){const A=(i.withCredentials||nz(y))&&i.xsrfCookieName&&Xj.read(i.xsrfCookieName);A&&m.set(i.xsrfHeaderName,A)}d===void 0&&m.setContentType(null),"setRequestHeader"in g&&ze.forEach(m.toJSON(),function(T,x){g.setRequestHeader(x,T)}),ze.isUndefined(i.withCredentials)||(g.withCredentials=!!i.withCredentials),u&&u!=="json"&&(g.responseType=i.responseType),typeof i.onDownloadProgress=="function"&&g.addEventListener("progress",O4(i.onDownloadProgress,!0)),typeof i.onUploadProgress=="function"&&g.upload&&g.upload.addEventListener("progress",O4(i.onUploadProgress)),(i.cancelToken||i.signal)&&(h=A=>{g&&(o(!A||A.type?new yd(null,i,g):A),g.abort(),g=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const v=iz(y);if(v&&ur.protocols.indexOf(v)===-1){o(new ln("Unsupported protocol "+v+":",ln.ERR_BAD_REQUEST,i));return}g.send(d||null)})},hh={http:Mj,xhr:sz};ze.forEach(hh,(i,r)=>{if(i){try{Object.defineProperty(i,"name",{value:r})}catch{}Object.defineProperty(i,"adapterName",{value:r})}});const az={getAdapter:i=>{i=ze.isArray(i)?i:[i];const{length:r}=i;let l,o;for(let d=0;d<r&&(l=i[d],!(o=ze.isString(l)?hh[l.toLowerCase()]:l));d++);if(!o)throw o===!1?new ln(`Adapter ${l} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(ze.hasOwnProp(hh,l)?`Adapter '${l}' is not available in the build`:`Unknown adapter '${l}'`);if(!ze.isFunction(o))throw new TypeError("adapter is not a function");return o},adapters:hh};function rg(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new yd(null,i)}function B4(i){return rg(i),i.headers=zr.from(i.headers),i.data=og.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),az.getAdapter(i.adapter||t1.adapter)(i).then(function(o){return rg(i),o.data=og.call(i,i.transformResponse,o),o.headers=zr.from(o.headers),o},function(o){return Nx(o)||(rg(i),o&&o.response&&(o.response.data=og.call(i,i.transformResponse,o.response),o.response.headers=zr.from(o.response.headers))),Promise.reject(o)})}const L4=i=>i instanceof zr?i.toJSON():i;function xl(i,r){r=r||{};const l={};function o(g,y,k){return ze.isPlainObject(g)&&ze.isPlainObject(y)?ze.merge.call({caseless:k},g,y):ze.isPlainObject(y)?ze.merge({},y):ze.isArray(y)?y.slice():y}function d(g,y,k){if(ze.isUndefined(y)){if(!ze.isUndefined(g))return o(void 0,g,k)}else return o(g,y,k)}function m(g,y){if(!ze.isUndefined(y))return o(void 0,y)}function u(g,y){if(ze.isUndefined(y)){if(!ze.isUndefined(g))return o(void 0,g)}else return o(void 0,y)}function h(g,y,k){if(k in r)return o(g,y);if(k in i)return o(void 0,g)}const f={url:m,method:m,data:m,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:h,headers:(g,y)=>d(L4(g),L4(y),!0)};return ze.forEach(Object.keys(Object.assign({},i,r)),function(y){const k=f[y]||d,v=k(i[y],r[y],y);ze.isUndefined(v)&&k!==h||(l[y]=v)}),l}const jx="1.4.0",n1={};["object","boolean","number","function","string","symbol"].forEach((i,r)=>{n1[i]=function(o){return typeof o===i||"a"+(r<1?"n ":" ")+i}});const R4={};n1.transitional=function(r,l,o){function d(m,u){return"[Axios v"+jx+"] Transitional option '"+m+"'"+u+(o?". "+o:"")}return(m,u,h)=>{if(r===!1)throw new ln(d(u," has been removed"+(l?" in "+l:"")),ln.ERR_DEPRECATED);return l&&!R4[u]&&(R4[u]=!0,console.warn(d(u," has been deprecated since v"+l+" and will be removed in the near future"))),r?r(m,u,h):!0}};function lz(i,r,l){if(typeof i!="object")throw new ln("options must be an object",ln.ERR_BAD_OPTION_VALUE);const o=Object.keys(i);let d=o.length;for(;d-- >0;){const m=o[d],u=r[m];if(u){const h=i[m],f=h===void 0||u(h,m,i);if(f!==!0)throw new ln("option "+m+" must be "+f,ln.ERR_BAD_OPTION_VALUE);continue}if(l!==!0)throw new ln("Unknown option "+m,ln.ERR_BAD_OPTION)}}const n0={assertOptions:lz,validators:n1},cs=n0.validators;class Dh{constructor(r){this.defaults=r,this.interceptors={request:new M4,response:new M4}}request(r,l){typeof r=="string"?(l=l||{},l.url=r):l=r||{},l=xl(this.defaults,l);const{transitional:o,paramsSerializer:d,headers:m}=l;o!==void 0&&n0.assertOptions(o,{silentJSONParsing:cs.transitional(cs.boolean),forcedJSONParsing:cs.transitional(cs.boolean),clarifyTimeoutError:cs.transitional(cs.boolean)},!1),d!=null&&(ze.isFunction(d)?l.paramsSerializer={serialize:d}:n0.assertOptions(d,{encode:cs.function,serialize:cs.function},!0)),l.method=(l.method||this.defaults.method||"get").toLowerCase();let u;u=m&&ze.merge(m.common,m[l.method]),u&&ze.forEach(["delete","get","head","post","put","patch","common"],T=>{delete m[T]}),l.headers=zr.concat(u,m);const h=[];let f=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(l)===!1||(f=f&&x.synchronous,h.unshift(x.fulfilled,x.rejected))});const g=[];this.interceptors.response.forEach(function(x){g.push(x.fulfilled,x.rejected)});let y,k=0,v;if(!f){const T=[B4.bind(this),void 0];for(T.unshift.apply(T,h),T.push.apply(T,g),v=T.length,y=Promise.resolve(l);k<v;)y=y.then(T[k++],T[k++]);return y}v=h.length;let A=l;for(k=0;k<v;){const T=h[k++],x=h[k++];try{A=T(A)}catch(C){x.call(this,C);break}}try{y=B4.call(this,A)}catch(T){return Promise.reject(T)}for(k=0,v=g.length;k<v;)y=y.then(g[k++],g[k++]);return y}getUri(r){r=xl(this.defaults,r);const l=$x(r.baseURL,r.url);return Bx(l,r.params,r.paramsSerializer)}}ze.forEach(["delete","get","head","options"],function(r){Dh.prototype[r]=function(l,o){return this.request(xl(o||{},{method:r,url:l,data:(o||{}).data}))}});ze.forEach(["post","put","patch"],function(r){function l(o){return function(m,u,h){return this.request(xl(h||{},{method:r,headers:o?{"Content-Type":"multipart/form-data"}:{},url:m,data:u}))}}Dh.prototype[r]=l(),Dh.prototype[r+"Form"]=l(!0)});const fh=Dh;class i1{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let l;this.promise=new Promise(function(m){l=m});const o=this;this.promise.then(d=>{if(!o._listeners)return;let m=o._listeners.length;for(;m-- >0;)o._listeners[m](d);o._listeners=null}),this.promise.then=d=>{let m;const u=new Promise(h=>{o.subscribe(h),m=h}).then(d);return u.cancel=function(){o.unsubscribe(m)},u},r(function(m,u,h){o.reason||(o.reason=new yd(m,u,h),l(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const l=this._listeners.indexOf(r);l!==-1&&this._listeners.splice(l,1)}static source(){let r;return{token:new i1(function(d){r=d}),cancel:r}}}const cz=i1;function dz(i){return function(l){return i.apply(null,l)}}function uz(i){return ze.isObject(i)&&i.isAxiosError===!0}const i0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(i0).forEach(([i,r])=>{i0[r]=i});const hz=i0;function zx(i){const r=new fh(i),l=yx(fh.prototype.request,r);return ze.extend(l,fh.prototype,r,{allOwnKeys:!0}),ze.extend(l,r,null,{allOwnKeys:!0}),l.create=function(d){return zx(xl(i,d))},l}const di=zx(t1);di.Axios=fh;di.CanceledError=yd;di.CancelToken=cz;di.isCancel=Nx;di.VERSION=jx;di.toFormData=ff;di.AxiosError=ln;di.Cancel=di.CanceledError;di.all=function(r){return Promise.all(r)};di.spread=dz;di.isAxiosError=uz;di.mergeConfig=xl;di.AxiosHeaders=zr;di.formToJSON=i=>Rx(ze.isHTMLForm(i)?new FormData(i):i);di.HttpStatusCode=hz;di.default=di;const o1=di;function fz(i){return{all:i=i||new Map,on:function(r,l){var o=i.get(r);o?o.push(l):i.set(r,[l])},off:function(r,l){var o=i.get(r);o&&(l?o.splice(o.indexOf(l)>>>0,1):i.set(r,[]))},emit:function(r,l){var o=i.get(r);o&&o.slice().map(function(d){d(l)}),(o=i.get("*"))&&o.slice().map(function(d){d(r,l)})}}}var Lr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function r1(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function Fx(i){if(i.__esModule)return i;var r=i.default;if(typeof r=="function"){var l=function o(){return this instanceof o?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};l.prototype=r.prototype}else l={};return Object.defineProperty(l,"__esModule",{value:!0}),Object.keys(i).forEach(function(o){var d=Object.getOwnPropertyDescriptor(i,o);Object.defineProperty(l,o,d.get?d:{enumerable:!0,get:function(){return i[o]}})}),l}var Vx={exports:{}};const Ux=Fx(Z$);/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(function(i,r){(function(l,o){i.exports=o(Ux)})(self,l=>(()=>{var o={976:h=>{h.exports=l}},d={};function m(h){var f=d[h];if(f!==void 0)return f.exports;var g=d[h]={exports:{}};return o[h](g,g.exports,m),g.exports}m.d=(h,f)=>{for(var g in f)m.o(f,g)&&!m.o(h,g)&&Object.defineProperty(h,g,{enumerable:!0,get:f[g]})},m.o=(h,f)=>Object.prototype.hasOwnProperty.call(h,f);var u={};return(()=>{m.d(u,{default:()=>ke});var h=m(976);const f=function(se){var ee=typeof se;return se!=null&&(ee=="object"||ee=="function")},g=typeof Lr=="object"&&Lr&&Lr.Object===Object&&Lr;var y=typeof self=="object"&&self&&self.Object===Object&&self;const k=g||y||Function("return this")(),v=function(){return k.Date.now()};var A=/\s/;const T=function(se){for(var ee=se.length;ee--&&A.test(se.charAt(ee)););return ee};var x=/^\s+/;const C=function(se){return se&&se.slice(0,T(se)+1).replace(x,"")},D=k.Symbol;var S=Object.prototype,M=S.hasOwnProperty,B=S.toString,R=D?D.toStringTag:void 0;const L=function(se){var ee=M.call(se,R),le=se[R];try{se[R]=void 0;var te=!0}catch{}var X=B.call(se);return te&&(ee?se[R]=le:delete se[R]),X};var j=Object.prototype.toString;const N=function(se){return j.call(se)};var z=D?D.toStringTag:void 0;const Z=function(se){return se==null?se===void 0?"[object Undefined]":"[object Null]":z&&z in Object(se)?L(se):N(se)},K=function(se){return se!=null&&typeof se=="object"},H=function(se){return typeof se=="symbol"||K(se)&&Z(se)=="[object Symbol]"};var Y=/^[-+]0x[0-9a-f]+$/i,oe=/^0b[01]+$/i,me=/^0o[0-7]+$/i,re=parseInt;const W=function(se){if(typeof se=="number")return se;if(H(se))return NaN;if(f(se)){var ee=typeof se.valueOf=="function"?se.valueOf():se;se=f(ee)?ee+"":ee}if(typeof se!="string")return se===0?se:+se;se=C(se);var le=oe.test(se);return le||me.test(se)?re(se.slice(2),le?2:8):Y.test(se)?NaN:+se};var J=Math.max,q=Math.min;const ae=function(se,ee,le){var te,X,ce,pe,we,Ze,ne=0,de=!1,ge=!1,Ee=!0;if(typeof se!="function")throw new TypeError("Expected a function");function Ie(Be){var $e=te,dt=X;return te=X=void 0,ne=Be,pe=se.apply(dt,$e)}function Le(Be){return ne=Be,we=setTimeout(We,ee),de?Ie(Be):pe}function ot(Be){var $e=Be-Ze;return Ze===void 0||$e>=ee||$e<0||ge&&Be-ne>=ce}function We(){var Be=v();if(ot(Be))return Fe(Be);we=setTimeout(We,function($e){var dt=ee-($e-Ze);return ge?q(dt,ce-($e-ne)):dt}(Be))}function Fe(Be){return we=void 0,Ee&&te?Ie(Be):(te=X=void 0,pe)}function Ae(){var Be=v(),$e=ot(Be);if(te=arguments,X=this,Ze=Be,$e){if(we===void 0)return Le(Ze);if(ge)return clearTimeout(we),we=setTimeout(We,ee),Ie(Ze)}return we===void 0&&(we=setTimeout(We,ee)),pe}return ee=W(ee)||0,f(le)&&(de=!!le.leading,ce=(ge="maxWait"in le)?J(W(le.maxWait)||0,ee):ce,Ee="trailing"in le?!!le.trailing:Ee),Ae.cancel=function(){we!==void 0&&clearTimeout(we),ne=0,te=Ze=X=we=void 0},Ae.flush=function(){return we===void 0?pe:Fe(v())},Ae},be=(0,h.defineComponent)({name:"Ckeditor",model:{prop:"modelValue",event:"update:modelValue"},props:{editor:{type:Function,required:!0},config:{type:Object,default:()=>({})},modelValue:{type:String,default:""},tagName:{type:String,default:"div"},disabled:{type:Boolean,default:!1},disableTwoWayDataBinding:{type:Boolean,default:!1}},emits:["ready","destroy","blur","focus","input","update:modelValue"],data:()=>({instance:null,lastEditorData:null}),watch:{modelValue(se){this.instance&&se!==this.lastEditorData&&this.instance.data.set(se)},disabled(se){se?this.instance.enableReadOnlyMode("Integration Sample"):this.instance.disableReadOnlyMode("Integration Sample")}},created(){const{CKEDITOR_VERSION:se}=window;if(se){const[ee]=se.split(".").map(Number);ee<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')},mounted(){const se=Object.assign({},this.config);this.modelValue&&(se.initialData=this.modelValue),this.editor.create(this.$el,se).then(ee=>{this.instance=(0,h.markRaw)(ee),this.setUpEditorEvents(),this.modelValue!==se.initialData&&ee.data.set(this.modelValue),this.disabled&&ee.enableReadOnlyMode("Integration Sample"),this.$emit("ready",ee)}).catch(ee=>{console.error(ee)})},beforeUnmount(){this.instance&&(this.instance.destroy(),this.instance=null),this.$emit("destroy",this.instance)},methods:{setUpEditorEvents(){const se=this.instance,ee=ae(le=>{if(this.disableTwoWayDataBinding)return;const te=this.lastEditorData=se.data.get();this.$emit("update:modelValue",te,le,se),this.$emit("input",te,le,se)},300,{leading:!0});se.model.document.on("change:data",ee),se.editing.view.document.on("focus",le=>{this.$emit("focus",le,se)}),se.editing.view.document.on("blur",le=>{this.$emit("blur",le,se)})}},render(){return(0,h.h)(this.tagName)}});if(!h.version||!h.version.startsWith("3."))throw new Error("The CKEditor plugin works only with Vue 3+. For more information, please refer to https://ckeditor.com/docs/ckeditor5/latest/builds/guides/integration/frameworks/vuejs-v3.html");const ke={install(se){se.component("Ckeditor",be)},component:be}})(),u=u.default})())})(Vx);var pz=Vx.exports;const mz=r1(pz);let gz={1:"单选菜单",2:"单行文本",3:"整数",4:"浮点数",5:"日期",6:"时间",8:"单选成员",9:"项目",11:"工作项类型",12:"工作项状态",13:"多选成员",14:"工作项编号",16:"多选菜单",20:"富文本",21:"多行文本",22:"状态"},_z={integer:"整数",time:"时间",percentage:"百分数",date:"日期",user:"单选成员",text:"单行文本",multi_line_text:"多行文本",rich_text:"富文本",status:"状态",option:"单选菜单"};function bz(i){if(!i)return"-";if(Number.isNaN(i))return"0000-00-00 00:00:00";if(i==null||i===0)return"-";let r=new Date(i),l=r.getFullYear(),o=r.getMonth()+1,d=r.getDate();return l+"-"+(o<10?"0"+o:o)+"-"+(d<10?"0"+d:d)}function vz(i){if(!i)return"-";if(Number.isNaN(i))return"0000-00-00 00:00:00";if(i==null||i===0)return"-";let r=new Date(i),l=r.getFullYear(),o=r.getMonth()+1,d=r.getDate(),m=r.getHours(),u=r.getMinutes(),h=r.getSeconds();return l+"-"+(o<10?"0"+o:o)+"-"+(d<10?"0"+d:d)+" "+(m<10?"0"+m:m)+":"+(u<10?"0"+u:u)+":"+(h<10?"0"+h:h)}function kz(i){if(!i)return"-";if(Number.isNaN(i))return"0000-00-00 00:00:00";if(i===0)return"-";let r=new Date(i),l=r.getFullYear(),o=r.getMonth()+1,d=r.getDate(),m=r.getHours(),u=r.getMinutes();return l+"年"+(o<10?"0"+o:o)+"月"+(d<10?"0"+d:d)+"日 "+(m<12?"上午":"下午")+(m<10?"0"+m:m)+"点"+(u<10?"0"+u:u)+"分"}function wz(i){if(!i)return"-";if(Number.isNaN(i))return"0000-00-00";if(i===0)return"-";let r=new Date(i),l=new Date,o=r.getFullYear(),d=r.getMonth()+1,m=r.getDate(),u=l.getFullYear(),h;if(o<u)h=o+"年"+d+"月"+m+"日";else{let f=l-r,g=f/36e5;g>=240?h=d+"月"+m+"日":g>=24?h=Math.floor(g/24)+"天前":g>=1?h=Math.floor(g)+"小时前":g*60>=1?h=Math.floor(g*60)+"分钟前":h="刚刚"}return h}let yz={com00000:"概览",com00001:"需求",com00002:"缺陷",com00003:"任务",com00004:"成员",com00005:"报表",com00006:"路线图"};function Go(){return localStorage.getItem("TASKMASTER")}function Hx(i){localStorage.setItem("TASKMASTER",i)}let gr={ServerError:"服务错误",NotFound:"不存在",User:"用户",Phone:"手机号码",AuthFailure:"授权失败",InvalidParameter:"参数无效",InvalidToken:"登录凭证失效",MissingToken:"缺失凭证",AlreadyExists:"已经存在",PhoneExists:"手机号码存在",InvalidFormat:"格式无效",VerificationFailure:"验证失败",InvalidCode:"验证码无效",Email:"邮箱",EmailExists:"邮箱地址存在",Team:"团队",Project:"项目",Space:"页面组",Name:"名称",Password:"密码",OldPassword:"旧密码",TooLong:"太长",CodeExpired:"验证码过期",PermissionDenied:"权限禁止",CreateSpace:"新建页面组",NotInAnyTeam:"用户不在任何团队",InvalidPassword:"密码错误",AdministerTeam:"团队配置",InviteMember:"邀请新成员",AdministerDo:"项目配置",ManageProject:"项目管理",AdministerWiki:"文档配置",ManageSpace:"管理页面组",CreateTask:"任务管理",CreatePage:"管理页面",LimitExceeded:"超出限额",TeamMember:"团队成员",ViewProjectReports:"查看报表",ViewPage:"浏览页面",Page:"页面",Request:"请求",Parameter:"参数",ParameterType:"参数类型",Error:"错误",PermissionRule:"权限",AdministerObjective:"管理目标",AssignTo:"指派",Context:"上下文",InvalidType:"无效",NotMatch:"不匹配",UserDomain:"用户域"};function Wx(i){let r="";return i.length>=1&&(r=gr[i[0]]),r}function Gx(i){return Xx(i)}function Kx(i){let r="";if(i.length===2)for(let l=i.length-1;l>=0;l--)r+=gr[i[l]];else if(i.length>=3)for(let l=1;l<i.length;l++)r+=gr[i[l]];return r}function Yx(i){let r="";return i.length===2&&(r=gr[i[1]]),r}function qx(i){let r="";return i.length===2&&(r=gr[i[1]]),r}function Zx(i){return Xx(i)}function Qx(i){return Cz(i)}function Jx(i){let r="";return i.length===2&&(r=gr[i[1]]+gr[i[0]]),r}function Cz(i){let r="";if(i.length===2)for(let l=i.length-1;l>=0;l--)r+=gr[i[l]];return r}function Xx(i){let r="";if(i.length===2)for(let l=i.length-1;l>=0;l--)r+=gr[i[l]];else if(i.length===3)for(let l=1;l<i.length;l++)r+=gr[i[l]];return r}const Az=Object.freeze(Object.defineProperty({__proto__:null,AlreadyExists:Zx,AuthFailure:qx,InvalidParameter:Kx,LimitExceeded:Jx,NotFound:Gx,PermissionDenied:Qx,ServerError:Wx,VerificationFailure:Yx,formatComponentTemplate:yz,formatDate:vz,formatDay:bz,formatTime:kz,getUser:Go,projectFieldTypes:_z,setUser:Hx,taskFieldTypes:gz,timeFormat:wz},Symbol.toStringTag,{value:"Module"}));const Tt=(i,r)=>{const l=i.__vccOpts||i;for(const[o,d]of r)l[o]=d;return l},xz={key:0,class:"bi bi-check-circle-fill"},Sz={key:1,class:"bi bi-exclamation-triangle-fill"},Ez={class:"ms-3",style:{"letter-spacing":"1px"}},Dz={__name:"alert",setup(i){let{proxy:r}=Ke(),l=Ve([]),o=3e3,d=0,m="";Ue(()=>{r.bus.on("alertSuccess",function(g){u(g)}),r.bus.on("alertDanger",function(g){h(g)})});let u=g=>{d+=1,g?m=g:m="操作成功";let y={key:d,dismiss:!0,variant:"alert-success",msg:m};l.push(y),f(d)},h=g=>{d+=1;let y="",k=g.split("."),v="";if(k.length>=1)switch(y=k[0],y){case"ServerError":v=Wx(k);break;case"NotFound":v=Gx(k);break;case"InvalidParameter":v=Kx(k);break;case"VerificationFailure":v=Yx(k);break;case"AlreadyExists":v=Zx(k);break;case"PermissionDenied":v=Qx(k);break;case"AuthFailure":v=qx(k);break;case"LimitExceeded":v=Jx(k);break;default:v=y;break}m=v;let A={key:d,dismiss:!0,variant:"alert-danger",msg:m};l.push(A),f(d)},f=g=>{setTimeout(function(){if(l.length>0){let y=l.filter(k=>k.key!==g);l.length=0,l.push(...y)}},o)};return(g,y)=>(F(!0),U(xe,null,Xe(P(l),(k,v)=>(F(),U("div",{class:"alert-box flex-column flex align-items-center",key:k.key,style:Vn({top:`${(v+1)*60}px`})},[b("div",{class:je(["alert d-flex align-items-center ps-4 pe-5",[k.variant]]),role:"alert"},[k.variant==="alert-success"?(F(),U("i",xz)):(F(),U("i",Sz)),b("div",Ez,_e(k.msg),1)],2)],4))),128))}},Tz=Tt(Dz,[["__scopeId","data-v-5aaaa0c0"]]);/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const cl=typeof window<"u";function Iz(i){return i.__esModule||i[Symbol.toStringTag]==="Module"}const bn=Object.assign;function sg(i,r){const l={};for(const o in r){const d=r[o];l[o]=Ko(d)?d.map(i):i(d)}return l}const Uc=()=>{},Ko=Array.isArray,Mz=/\/$/,Pz=i=>i.replace(Mz,"");function ag(i,r,l="/"){let o,d={},m="",u="";const h=r.indexOf("#");let f=r.indexOf("?");return h<f&&h>=0&&(f=-1),f>-1&&(o=r.slice(0,f),m=r.slice(f+1,h>-1?h:r.length),d=i(m)),h>-1&&(o=o||r.slice(0,h),u=r.slice(h,r.length)),o=Rz(o??r,l),{fullPath:o+(m&&"?")+m+u,path:o,query:d,hash:u}}function Oz(i,r){const l=r.query?i(r.query):"";return r.path+(l&&"?")+l+(r.hash||"")}function N4(i,r){return!r||!i.toLowerCase().startsWith(r.toLowerCase())?i:i.slice(r.length)||"/"}function Bz(i,r,l){const o=r.matched.length-1,d=l.matched.length-1;return o>-1&&o===d&&Sl(r.matched[o],l.matched[d])&&e6(r.params,l.params)&&i(r.query)===i(l.query)&&r.hash===l.hash}function Sl(i,r){return(i.aliasOf||i)===(r.aliasOf||r)}function e6(i,r){if(Object.keys(i).length!==Object.keys(r).length)return!1;for(const l in i)if(!Lz(i[l],r[l]))return!1;return!0}function Lz(i,r){return Ko(i)?$4(i,r):Ko(r)?$4(r,i):i===r}function $4(i,r){return Ko(r)?i.length===r.length&&i.every((l,o)=>l===r[o]):i.length===1&&i[0]===r}function Rz(i,r){if(i.startsWith("/"))return i;if(!i)return r;const l=r.split("/"),o=i.split("/"),d=o[o.length-1];(d===".."||d===".")&&o.push("");let m=l.length-1,u,h;for(u=0;u<o.length;u++)if(h=o[u],h!==".")if(h==="..")m>1&&m--;else break;return l.slice(0,m).join("/")+"/"+o.slice(u-(u===o.length?1:0)).join("/")}var cd;(function(i){i.pop="pop",i.push="push"})(cd||(cd={}));var Hc;(function(i){i.back="back",i.forward="forward",i.unknown=""})(Hc||(Hc={}));function Nz(i){if(!i)if(cl){const r=document.querySelector("base");i=r&&r.getAttribute("href")||"/",i=i.replace(/^\w+:\/\/[^\/]+/,"")}else i="/";return i[0]!=="/"&&i[0]!=="#"&&(i="/"+i),Pz(i)}const $z=/^[^#]+#/;function jz(i,r){return i.replace($z,"#")+r}function zz(i,r){const l=document.documentElement.getBoundingClientRect(),o=i.getBoundingClientRect();return{behavior:r.behavior,left:o.left-l.left-(r.left||0),top:o.top-l.top-(r.top||0)}}const gf=()=>({left:window.pageXOffset,top:window.pageYOffset});function Fz(i){let r;if("el"in i){const l=i.el,o=typeof l=="string"&&l.startsWith("#"),d=typeof l=="string"?o?document.getElementById(l.slice(1)):document.querySelector(l):l;if(!d)return;r=zz(d,i)}else r=i;"scrollBehavior"in document.documentElement.style?window.scrollTo(r):window.scrollTo(r.left!=null?r.left:window.pageXOffset,r.top!=null?r.top:window.pageYOffset)}function j4(i,r){return(history.state?history.state.position-r:-1)+i}const o0=new Map;function Vz(i,r){o0.set(i,r)}function Uz(i){const r=o0.get(i);return o0.delete(i),r}let Hz=()=>location.protocol+"//"+location.host;function t6(i,r){const{pathname:l,search:o,hash:d}=r,m=i.indexOf("#");if(m>-1){let h=d.includes(i.slice(m))?i.slice(m).length:1,f=d.slice(h);return f[0]!=="/"&&(f="/"+f),N4(f,"")}return N4(l,i)+o+d}function Wz(i,r,l,o){let d=[],m=[],u=null;const h=({state:v})=>{const A=t6(i,location),T=l.value,x=r.value;let C=0;if(v){if(l.value=A,r.value=v,u&&u===T){u=null;return}C=x?v.position-x.position:0}else o(A);d.forEach(D=>{D(l.value,T,{delta:C,type:cd.pop,direction:C?C>0?Hc.forward:Hc.back:Hc.unknown})})};function f(){u=l.value}function g(v){d.push(v);const A=()=>{const T=d.indexOf(v);T>-1&&d.splice(T,1)};return m.push(A),A}function y(){const{history:v}=window;v.state&&v.replaceState(bn({},v.state,{scroll:gf()}),"")}function k(){for(const v of m)v();m=[],window.removeEventListener("popstate",h),window.removeEventListener("beforeunload",y)}return window.addEventListener("popstate",h),window.addEventListener("beforeunload",y,{passive:!0}),{pauseListeners:f,listen:g,destroy:k}}function z4(i,r,l,o=!1,d=!1){return{back:i,current:r,forward:l,replaced:o,position:window.history.length,scroll:d?gf():null}}function Gz(i){const{history:r,location:l}=window,o={value:t6(i,l)},d={value:r.state};d.value||m(o.value,{back:null,current:o.value,forward:null,position:r.length-1,replaced:!0,scroll:null},!0);function m(f,g,y){const k=i.indexOf("#"),v=k>-1?(l.host&&document.querySelector("base")?i:i.slice(k))+f:Hz()+i+f;try{r[y?"replaceState":"pushState"](g,"",v),d.value=g}catch(A){console.error(A),l[y?"replace":"assign"](v)}}function u(f,g){const y=bn({},r.state,z4(d.value.back,f,d.value.forward,!0),g,{position:d.value.position});m(f,y,!0),o.value=f}function h(f,g){const y=bn({},d.value,r.state,{forward:f,scroll:gf()});m(y.current,y,!0);const k=bn({},z4(o.value,f,null),{position:y.position+1},g);m(f,k,!1),o.value=f}return{location:o,state:d,push:h,replace:u}}function Kz(i){i=Nz(i);const r=Gz(i),l=Wz(i,r.state,r.location,r.replace);function o(m,u=!0){u||l.pauseListeners(),history.go(m)}const d=bn({location:"",base:i,go:o,createHref:jz.bind(null,i)},r,l);return Object.defineProperty(d,"location",{enumerable:!0,get:()=>r.location.value}),Object.defineProperty(d,"state",{enumerable:!0,get:()=>r.state.value}),d}function Yz(i){return typeof i=="string"||i&&typeof i=="object"}function n6(i){return typeof i=="string"||typeof i=="symbol"}const ds={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},i6=Symbol("");var F4;(function(i){i[i.aborted=4]="aborted",i[i.cancelled=8]="cancelled",i[i.duplicated=16]="duplicated"})(F4||(F4={}));function El(i,r){return bn(new Error,{type:i,[i6]:!0},r)}function Tr(i,r){return i instanceof Error&&i6 in i&&(r==null||!!(i.type&r))}const V4="[^/]+?",qz={sensitive:!1,strict:!1,start:!0,end:!0},Zz=/[.+*?^${}()[\]/\\]/g;function Qz(i,r){const l=bn({},qz,r),o=[];let d=l.start?"^":"";const m=[];for(const g of i){const y=g.length?[]:[90];l.strict&&!g.length&&(d+="/");for(let k=0;k<g.length;k++){const v=g[k];let A=40+(l.sensitive?.25:0);if(v.type===0)k||(d+="/"),d+=v.value.replace(Zz,"\\$&"),A+=40;else if(v.type===1){const{value:T,repeatable:x,optional:C,regexp:D}=v;m.push({name:T,repeatable:x,optional:C});const S=D||V4;if(S!==V4){A+=10;try{new RegExp(`(${S})`)}catch(B){throw new Error(`Invalid custom RegExp for param "${T}" (${S}): `+B.message)}}let M=x?`((?:${S})(?:/(?:${S}))*)`:`(${S})`;k||(M=C&&g.length<2?`(?:/${M})`:"/"+M),C&&(M+="?"),d+=M,A+=20,C&&(A+=-8),x&&(A+=-20),S===".*"&&(A+=-50)}y.push(A)}o.push(y)}if(l.strict&&l.end){const g=o.length-1;o[g][o[g].length-1]+=.7000000000000001}l.strict||(d+="/?"),l.end?d+="$":l.strict&&(d+="(?:/|$)");const u=new RegExp(d,l.sensitive?"":"i");function h(g){const y=g.match(u),k={};if(!y)return null;for(let v=1;v<y.length;v++){const A=y[v]||"",T=m[v-1];k[T.name]=A&&T.repeatable?A.split("/"):A}return k}function f(g){let y="",k=!1;for(const v of i){(!k||!y.endsWith("/"))&&(y+="/"),k=!1;for(const A of v)if(A.type===0)y+=A.value;else if(A.type===1){const{value:T,repeatable:x,optional:C}=A,D=T in g?g[T]:"";if(Ko(D)&&!x)throw new Error(`Provided param "${T}" is an array but it is not repeatable (* or + modifiers)`);const S=Ko(D)?D.join("/"):D;if(!S)if(C)v.length<2&&(y.endsWith("/")?y=y.slice(0,-1):k=!0);else throw new Error(`Missing required param "${T}"`);y+=S}}return y||"/"}return{re:u,score:o,keys:m,parse:h,stringify:f}}function Jz(i,r){let l=0;for(;l<i.length&&l<r.length;){const o=r[l]-i[l];if(o)return o;l++}return i.length<r.length?i.length===1&&i[0]===40+40?-1:1:i.length>r.length?r.length===1&&r[0]===40+40?1:-1:0}function Xz(i,r){let l=0;const o=i.score,d=r.score;for(;l<o.length&&l<d.length;){const m=Jz(o[l],d[l]);if(m)return m;l++}if(Math.abs(d.length-o.length)===1){if(U4(o))return 1;if(U4(d))return-1}return d.length-o.length}function U4(i){const r=i[i.length-1];return i.length>0&&r[r.length-1]<0}const eF={type:0,value:""},tF=/[a-zA-Z0-9_]/;function nF(i){if(!i)return[[]];if(i==="/")return[[eF]];if(!i.startsWith("/"))throw new Error(`Invalid path "${i}"`);function r(A){throw new Error(`ERR (${l})/"${g}": ${A}`)}let l=0,o=l;const d=[];let m;function u(){m&&d.push(m),m=[]}let h=0,f,g="",y="";function k(){g&&(l===0?m.push({type:0,value:g}):l===1||l===2||l===3?(m.length>1&&(f==="*"||f==="+")&&r(`A repeatable param (${g}) must be alone in its segment. eg: '/:ids+.`),m.push({type:1,value:g,regexp:y,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):r("Invalid state to consume buffer"),g="")}function v(){g+=f}for(;h<i.length;){if(f=i[h++],f==="\\"&&l!==2){o=l,l=4;continue}switch(l){case 0:f==="/"?(g&&k(),u()):f===":"?(k(),l=1):v();break;case 4:v(),l=o;break;case 1:f==="("?l=2:tF.test(f)?v():(k(),l=0,f!=="*"&&f!=="?"&&f!=="+"&&h--);break;case 2:f===")"?y[y.length-1]=="\\"?y=y.slice(0,-1)+f:l=3:y+=f;break;case 3:k(),l=0,f!=="*"&&f!=="?"&&f!=="+"&&h--,y="";break;default:r("Unknown state");break}}return l===2&&r(`Unfinished custom RegExp for param "${g}"`),k(),u(),d}function iF(i,r,l){const o=Qz(nF(i.path),l),d=bn(o,{record:i,parent:r,children:[],alias:[]});return r&&!d.record.aliasOf==!r.record.aliasOf&&r.children.push(d),d}function oF(i,r){const l=[],o=new Map;r=G4({strict:!1,end:!0,sensitive:!1},r);function d(y){return o.get(y)}function m(y,k,v){const A=!v,T=rF(y);T.aliasOf=v&&v.record;const x=G4(r,y),C=[T];if("alias"in y){const M=typeof y.alias=="string"?[y.alias]:y.alias;for(const B of M)C.push(bn({},T,{components:v?v.record.components:T.components,path:B,aliasOf:v?v.record:T}))}let D,S;for(const M of C){const{path:B}=M;if(k&&B[0]!=="/"){const R=k.record.path,L=R[R.length-1]==="/"?"":"/";M.path=k.record.path+(B&&L+B)}if(D=iF(M,k,x),v?v.alias.push(D):(S=S||D,S!==D&&S.alias.push(D),A&&y.name&&!W4(D)&&u(y.name)),T.children){const R=T.children;for(let L=0;L<R.length;L++)m(R[L],D,v&&v.children[L])}v=v||D,(D.record.components&&Object.keys(D.record.components).length||D.record.name||D.record.redirect)&&f(D)}return S?()=>{u(S)}:Uc}function u(y){if(n6(y)){const k=o.get(y);k&&(o.delete(y),l.splice(l.indexOf(k),1),k.children.forEach(u),k.alias.forEach(u))}else{const k=l.indexOf(y);k>-1&&(l.splice(k,1),y.record.name&&o.delete(y.record.name),y.children.forEach(u),y.alias.forEach(u))}}function h(){return l}function f(y){let k=0;for(;k<l.length&&Xz(y,l[k])>=0&&(y.record.path!==l[k].record.path||!o6(y,l[k]));)k++;l.splice(k,0,y),y.record.name&&!W4(y)&&o.set(y.record.name,y)}function g(y,k){let v,A={},T,x;if("name"in y&&y.name){if(v=o.get(y.name),!v)throw El(1,{location:y});x=v.record.name,A=bn(H4(k.params,v.keys.filter(S=>!S.optional).map(S=>S.name)),y.params&&H4(y.params,v.keys.map(S=>S.name))),T=v.stringify(A)}else if("path"in y)T=y.path,v=l.find(S=>S.re.test(T)),v&&(A=v.parse(T),x=v.record.name);else{if(v=k.name?o.get(k.name):l.find(S=>S.re.test(k.path)),!v)throw El(1,{location:y,currentLocation:k});x=v.record.name,A=bn({},k.params,y.params),T=v.stringify(A)}const C=[];let D=v;for(;D;)C.unshift(D.record),D=D.parent;return{name:x,path:T,params:A,matched:C,meta:aF(C)}}return i.forEach(y=>m(y)),{addRoute:m,resolve:g,removeRoute:u,getRoutes:h,getRecordMatcher:d}}function H4(i,r){const l={};for(const o of r)o in i&&(l[o]=i[o]);return l}function rF(i){return{path:i.path,redirect:i.redirect,name:i.name,meta:i.meta||{},aliasOf:void 0,beforeEnter:i.beforeEnter,props:sF(i),children:i.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in i?i.components||null:i.component&&{default:i.component}}}function sF(i){const r={},l=i.props||!1;if("component"in i)r.default=l;else for(const o in i.components)r[o]=typeof l=="object"?l[o]:l;return r}function W4(i){for(;i;){if(i.record.aliasOf)return!0;i=i.parent}return!1}function aF(i){return i.reduce((r,l)=>bn(r,l.meta),{})}function G4(i,r){const l={};for(const o in i)l[o]=o in r?r[o]:i[o];return l}function o6(i,r){return r.children.some(l=>l===i||o6(i,l))}const r6=/#/g,lF=/&/g,cF=/\//g,dF=/=/g,uF=/\?/g,s6=/\+/g,hF=/%5B/g,fF=/%5D/g,a6=/%5E/g,pF=/%60/g,l6=/%7B/g,mF=/%7C/g,c6=/%7D/g,gF=/%20/g;function s1(i){return encodeURI(""+i).replace(mF,"|").replace(hF,"[").replace(fF,"]")}function _F(i){return s1(i).replace(l6,"{").replace(c6,"}").replace(a6,"^")}function r0(i){return s1(i).replace(s6,"%2B").replace(gF,"+").replace(r6,"%23").replace(lF,"%26").replace(pF,"`").replace(l6,"{").replace(c6,"}").replace(a6,"^")}function bF(i){return r0(i).replace(dF,"%3D")}function vF(i){return s1(i).replace(r6,"%23").replace(uF,"%3F")}function kF(i){return i==null?"":vF(i).replace(cF,"%2F")}function Th(i){try{return decodeURIComponent(""+i)}catch{}return""+i}function wF(i){const r={};if(i===""||i==="?")return r;const o=(i[0]==="?"?i.slice(1):i).split("&");for(let d=0;d<o.length;++d){const m=o[d].replace(s6," "),u=m.indexOf("="),h=Th(u<0?m:m.slice(0,u)),f=u<0?null:Th(m.slice(u+1));if(h in r){let g=r[h];Ko(g)||(g=r[h]=[g]),g.push(f)}else r[h]=f}return r}function K4(i){let r="";for(let l in i){const o=i[l];if(l=bF(l),o==null){o!==void 0&&(r+=(r.length?"&":"")+l);continue}(Ko(o)?o.map(m=>m&&r0(m)):[o&&r0(o)]).forEach(m=>{m!==void 0&&(r+=(r.length?"&":"")+l,m!=null&&(r+="="+m))})}return r}function yF(i){const r={};for(const l in i){const o=i[l];o!==void 0&&(r[l]=Ko(o)?o.map(d=>d==null?null:""+d):o==null?o:""+o)}return r}const CF=Symbol(""),Y4=Symbol(""),_f=Symbol(""),a1=Symbol(""),s0=Symbol("");function wc(){let i=[];function r(o){return i.push(o),()=>{const d=i.indexOf(o);d>-1&&i.splice(d,1)}}function l(){i=[]}return{add:r,list:()=>i.slice(),reset:l}}function ms(i,r,l,o,d){const m=o&&(o.enterCallbacks[d]=o.enterCallbacks[d]||[]);return()=>new Promise((u,h)=>{const f=k=>{k===!1?h(El(4,{from:l,to:r})):k instanceof Error?h(k):Yz(k)?h(El(2,{from:r,to:k})):(m&&o.enterCallbacks[d]===m&&typeof k=="function"&&m.push(k),u())},g=i.call(o&&o.instances[d],r,l,f);let y=Promise.resolve(g);i.length<3&&(y=y.then(f)),y.catch(k=>h(k))})}function lg(i,r,l,o){const d=[];for(const m of i)for(const u in m.components){let h=m.components[u];if(!(r!=="beforeRouteEnter"&&!m.instances[u]))if(AF(h)){const g=(h.__vccOpts||h)[r];g&&d.push(ms(g,l,o,m,u))}else{let f=h();d.push(()=>f.then(g=>{if(!g)return Promise.reject(new Error(`Couldn't resolve component "${u}" at "${m.path}"`));const y=Iz(g)?g.default:g;m.components[u]=y;const v=(y.__vccOpts||y)[r];return v&&ms(v,l,o,m,u)()}))}}return d}function AF(i){return typeof i=="object"||"displayName"in i||"props"in i||"__vccOpts"in i}function q4(i){const r=rn(_f),l=rn(a1),o=Ge(()=>r.resolve(P(i.to))),d=Ge(()=>{const{matched:f}=o.value,{length:g}=f,y=f[g-1],k=l.matched;if(!y||!k.length)return-1;const v=k.findIndex(Sl.bind(null,y));if(v>-1)return v;const A=Z4(f[g-2]);return g>1&&Z4(y)===A&&k[k.length-1].path!==A?k.findIndex(Sl.bind(null,f[g-2])):v}),m=Ge(()=>d.value>-1&&DF(l.params,o.value.params)),u=Ge(()=>d.value>-1&&d.value===l.matched.length-1&&e6(l.params,o.value.params));function h(f={}){return EF(f)?r[P(i.replace)?"replace":"push"](P(i.to)).catch(Uc):Promise.resolve()}return{route:o,href:Ge(()=>o.value.href),isActive:m,isExactActive:u,navigate:h}}const xF=Pi({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:q4,setup(i,{slots:r}){const l=Ve(q4(i)),{options:o}=rn(_f),d=Ge(()=>({[Q4(i.activeClass,o.linkActiveClass,"router-link-active")]:l.isActive,[Q4(i.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:l.isExactActive}));return()=>{const m=r.default&&r.default(l);return i.custom?m:lf("a",{"aria-current":l.isExactActive?i.ariaCurrentValue:null,href:l.href,onClick:l.navigate,class:d.value},m)}}}),SF=xF;function EF(i){if(!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)&&!i.defaultPrevented&&!(i.button!==void 0&&i.button!==0)){if(i.currentTarget&&i.currentTarget.getAttribute){const r=i.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(r))return}return i.preventDefault&&i.preventDefault(),!0}}function DF(i,r){for(const l in r){const o=r[l],d=i[l];if(typeof o=="string"){if(o!==d)return!1}else if(!Ko(d)||d.length!==o.length||o.some((m,u)=>m!==d[u]))return!1}return!0}function Z4(i){return i?i.aliasOf?i.aliasOf.path:i.path:""}const Q4=(i,r,l)=>i??r??l,TF=Pi({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(i,{attrs:r,slots:l}){const o=rn(s0),d=Ge(()=>i.route||o.value),m=rn(Y4,0),u=Ge(()=>{let g=P(m);const{matched:y}=d.value;let k;for(;(k=y[g])&&!k.components;)g++;return g}),h=Ge(()=>d.value.matched[u.value]);fo(Y4,Ge(()=>u.value+1)),fo(CF,h),fo(s0,d);const f=et();return Bt(()=>[f.value,h.value,i.name],([g,y,k],[v,A,T])=>{y&&(y.instances[k]=g,A&&A!==y&&g&&g===v&&(y.leaveGuards.size||(y.leaveGuards=A.leaveGuards),y.updateGuards.size||(y.updateGuards=A.updateGuards))),g&&y&&(!A||!Sl(y,A)||!v)&&(y.enterCallbacks[k]||[]).forEach(x=>x(g))},{flush:"post"}),()=>{const g=d.value,y=i.name,k=h.value,v=k&&k.components[y];if(!v)return J4(l.default,{Component:v,route:g});const A=k.props[y],T=A?A===!0?g.params:typeof A=="function"?A(g):A:null,C=lf(v,bn({},T,r,{onVnodeUnmounted:D=>{D.component.isUnmounted&&(k.instances[y]=null)},ref:f}));return J4(l.default,{Component:C,route:g})||C}}});function J4(i,r){if(!i)return null;const l=i(r);return l.length===1?l[0]:l}const IF=TF;function MF(i){const r=oF(i.routes,i),l=i.parseQuery||wF,o=i.stringifyQuery||K4,d=i.history,m=wc(),u=wc(),h=wc(),f=Ll(ds);let g=ds;cl&&i.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const y=sg.bind(null,X=>""+X),k=sg.bind(null,kF),v=sg.bind(null,Th);function A(X,ce){let pe,we;return n6(X)?(pe=r.getRecordMatcher(X),we=ce):we=X,r.addRoute(we,pe)}function T(X){const ce=r.getRecordMatcher(X);ce&&r.removeRoute(ce)}function x(){return r.getRoutes().map(X=>X.record)}function C(X){return!!r.getRecordMatcher(X)}function D(X,ce){if(ce=bn({},ce||f.value),typeof X=="string"){const ge=ag(l,X,ce.path),Ee=r.resolve({path:ge.path},ce),Ie=d.createHref(ge.fullPath);return bn(ge,Ee,{params:v(Ee.params),hash:Th(ge.hash),redirectedFrom:void 0,href:Ie})}let pe;if("path"in X)pe=bn({},X,{path:ag(l,X.path,ce.path).path});else{const ge=bn({},X.params);for(const Ee in ge)ge[Ee]==null&&delete ge[Ee];pe=bn({},X,{params:k(ge)}),ce.params=k(ce.params)}const we=r.resolve(pe,ce),Ze=X.hash||"";we.params=y(v(we.params));const ne=Oz(o,bn({},X,{hash:_F(Ze),path:we.path})),de=d.createHref(ne);return bn({fullPath:ne,hash:Ze,query:o===K4?yF(X.query):X.query||{}},we,{redirectedFrom:void 0,href:de})}function S(X){return typeof X=="string"?ag(l,X,f.value.path):bn({},X)}function M(X,ce){if(g!==X)return El(8,{from:ce,to:X})}function B(X){return j(X)}function R(X){return B(bn(S(X),{replace:!0}))}function L(X){const ce=X.matched[X.matched.length-1];if(ce&&ce.redirect){const{redirect:pe}=ce;let we=typeof pe=="function"?pe(X):pe;return typeof we=="string"&&(we=we.includes("?")||we.includes("#")?we=S(we):{path:we},we.params={}),bn({query:X.query,hash:X.hash,params:"path"in we?{}:X.params},we)}}function j(X,ce){const pe=g=D(X),we=f.value,Ze=X.state,ne=X.force,de=X.replace===!0,ge=L(pe);if(ge)return j(bn(S(ge),{state:typeof ge=="object"?bn({},Ze,ge.state):Ze,force:ne,replace:de}),ce||pe);const Ee=pe;Ee.redirectedFrom=ce;let Ie;return!ne&&Bz(o,we,pe)&&(Ie=El(16,{to:Ee,from:we}),be(we,we,!0,!1)),(Ie?Promise.resolve(Ie):Z(Ee,we)).catch(Le=>Tr(Le)?Tr(Le,2)?Le:ae(Le):J(Le,Ee,we)).then(Le=>{if(Le){if(Tr(Le,2))return j(bn({replace:de},S(Le.to),{state:typeof Le.to=="object"?bn({},Ze,Le.to.state):Ze,force:ne}),ce||Ee)}else Le=H(Ee,we,!0,de,Ze);return K(Ee,we,Le),Le})}function N(X,ce){const pe=M(X,ce);return pe?Promise.reject(pe):Promise.resolve()}function z(X){const ce=ee.values().next().value;return ce&&typeof ce.runWithContext=="function"?ce.runWithContext(X):X()}function Z(X,ce){let pe;const[we,Ze,ne]=PF(X,ce);pe=lg(we.reverse(),"beforeRouteLeave",X,ce);for(const ge of we)ge.leaveGuards.forEach(Ee=>{pe.push(ms(Ee,X,ce))});const de=N.bind(null,X,ce);return pe.push(de),te(pe).then(()=>{pe=[];for(const ge of m.list())pe.push(ms(ge,X,ce));return pe.push(de),te(pe)}).then(()=>{pe=lg(Ze,"beforeRouteUpdate",X,ce);for(const ge of Ze)ge.updateGuards.forEach(Ee=>{pe.push(ms(Ee,X,ce))});return pe.push(de),te(pe)}).then(()=>{pe=[];for(const ge of ne)if(ge.beforeEnter)if(Ko(ge.beforeEnter))for(const Ee of ge.beforeEnter)pe.push(ms(Ee,X,ce));else pe.push(ms(ge.beforeEnter,X,ce));return pe.push(de),te(pe)}).then(()=>(X.matched.forEach(ge=>ge.enterCallbacks={}),pe=lg(ne,"beforeRouteEnter",X,ce),pe.push(de),te(pe))).then(()=>{pe=[];for(const ge of u.list())pe.push(ms(ge,X,ce));return pe.push(de),te(pe)}).catch(ge=>Tr(ge,8)?ge:Promise.reject(ge))}function K(X,ce,pe){h.list().forEach(we=>z(()=>we(X,ce,pe)))}function H(X,ce,pe,we,Ze){const ne=M(X,ce);if(ne)return ne;const de=ce===ds,ge=cl?history.state:{};pe&&(we||de?d.replace(X.fullPath,bn({scroll:de&&ge&&ge.scroll},Ze)):d.push(X.fullPath,Ze)),f.value=X,be(X,ce,pe,de),ae()}let Y;function oe(){Y||(Y=d.listen((X,ce,pe)=>{if(!le.listening)return;const we=D(X),Ze=L(we);if(Ze){j(bn(Ze,{replace:!0}),we).catch(Uc);return}g=we;const ne=f.value;cl&&Vz(j4(ne.fullPath,pe.delta),gf()),Z(we,ne).catch(de=>Tr(de,12)?de:Tr(de,2)?(j(de.to,we).then(ge=>{Tr(ge,20)&&!pe.delta&&pe.type===cd.pop&&d.go(-1,!1)}).catch(Uc),Promise.reject()):(pe.delta&&d.go(-pe.delta,!1),J(de,we,ne))).then(de=>{de=de||H(we,ne,!1),de&&(pe.delta&&!Tr(de,8)?d.go(-pe.delta,!1):pe.type===cd.pop&&Tr(de,20)&&d.go(-1,!1)),K(we,ne,de)}).catch(Uc)}))}let me=wc(),re=wc(),W;function J(X,ce,pe){ae(X);const we=re.list();return we.length?we.forEach(Ze=>Ze(X,ce,pe)):console.error(X),Promise.reject(X)}function q(){return W&&f.value!==ds?Promise.resolve():new Promise((X,ce)=>{me.add([X,ce])})}function ae(X){return W||(W=!X,oe(),me.list().forEach(([ce,pe])=>X?pe(X):ce()),me.reset()),X}function be(X,ce,pe,we){const{scrollBehavior:Ze}=i;if(!cl||!Ze)return Promise.resolve();const ne=!pe&&Uz(j4(X.fullPath,0))||(we||!pe)&&history.state&&history.state.scroll||null;return eo().then(()=>Ze(X,ce,ne)).then(de=>de&&Fz(de)).catch(de=>J(de,X,ce))}const ke=X=>d.go(X);let se;const ee=new Set,le={currentRoute:f,listening:!0,addRoute:A,removeRoute:T,hasRoute:C,getRoutes:x,resolve:D,options:i,push:B,replace:R,go:ke,back:()=>ke(-1),forward:()=>ke(1),beforeEach:m.add,beforeResolve:u.add,afterEach:h.add,onError:re.add,isReady:q,install(X){const ce=this;X.component("RouterLink",SF),X.component("RouterView",IF),X.config.globalProperties.$router=ce,Object.defineProperty(X.config.globalProperties,"$route",{enumerable:!0,get:()=>P(f)}),cl&&!se&&f.value===ds&&(se=!0,B(d.location).catch(Ze=>{}));const pe={};for(const Ze in ds)Object.defineProperty(pe,Ze,{get:()=>f.value[Ze],enumerable:!0});X.provide(_f,ce),X.provide(a1,P0(pe)),X.provide(s0,f);const we=X.unmount;ee.add(X),X.unmount=function(){ee.delete(X),ee.size<1&&(g=ds,Y&&Y(),Y=null,f.value=ds,se=!1,W=!1),we()}}};function te(X){return X.reduce((ce,pe)=>ce.then(()=>z(pe)),Promise.resolve())}return le}function PF(i,r){const l=[],o=[],d=[],m=Math.max(r.matched.length,i.matched.length);for(let u=0;u<m;u++){const h=r.matched[u];h&&(i.matched.find(g=>Sl(g,h))?o.push(h):l.push(h));const f=i.matched[u];f&&(r.matched.find(g=>Sl(g,f))||d.push(f))}return[l,o,d]}function at(){return rn(_f)}function tt(){return rn(a1)}const OF={__name:"app",setup(i){const{proxy:r}=Ke();let l=tt(),o=at();Ue(()=>{d()});let d=()=>{setInterval(()=>{!l.params.team||l.name==="WS"||r.post(r.urls.check_login_status,{team_uuid:l.params.team}).then(function(h){var f;(f=h.data)!=null&&f.team&&l.name==="Select"&&o.push({name:"Overview",params:{team:h.data.team,type:"overview"}})}).catch(function(h){h.response.data.code===401&&r.bus.emit("alertDanger",h.response.data.error)})},1e4)};return(m,u)=>{const h=Ht("router-view");return F(),U(xe,null,[ue(h),ue(Tz)],64)}}};var BF=!1;/*!
 * pinia v2.1.6
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let d6;const bf=i=>d6=i,u6=Symbol();function a0(i){return i&&typeof i=="object"&&Object.prototype.toString.call(i)==="[object Object]"&&typeof i.toJSON!="function"}var Wc;(function(i){i.direct="direct",i.patchObject="patch object",i.patchFunction="patch function"})(Wc||(Wc={}));function LF(){const i=D0(!0),r=i.run(()=>et({}));let l=[],o=[];const d=gd({install(m){bf(d),d._a=m,m.provide(u6,d),m.config.globalProperties.$pinia=d,o.forEach(u=>l.push(u)),o=[]},use(m){return!this._a&&!BF?o.push(m):l.push(m),this},_p:l,_a:null,_e:i,_s:new Map,state:r});return d}const h6=()=>{};function X4(i,r,l,o=h6){i.push(r);const d=()=>{const m=i.indexOf(r);m>-1&&(i.splice(m,1),o())};return!l&&Kh()&&T0(d),d}function nl(i,...r){i.slice().forEach(l=>{l(...r)})}const RF=i=>i();function l0(i,r){i instanceof Map&&r instanceof Map&&r.forEach((l,o)=>i.set(o,l)),i instanceof Set&&r instanceof Set&&r.forEach(i.add,i);for(const l in r){if(!r.hasOwnProperty(l))continue;const o=r[l],d=i[l];a0(d)&&a0(o)&&i.hasOwnProperty(l)&&!hn(o)&&!$r(o)?i[l]=l0(d,o):i[l]=o}return i}const NF=Symbol();function $F(i){return!a0(i)||!i.hasOwnProperty(NF)}const{assign:fs}=Object;function jF(i){return!!(hn(i)&&i.effect)}function zF(i,r,l,o){const{state:d,actions:m,getters:u}=r,h=l.state.value[i];let f;function g(){h||(l.state.value[i]=d?d():{});const y=_d(l.state.value[i]);return fs(y,m,Object.keys(u||{}).reduce((k,v)=>(k[v]=gd(Ge(()=>{bf(l);const A=l._s.get(i);return u[v].call(A,A)})),k),{}))}return f=f6(i,g,r,l,o,!0),f}function f6(i,r,l={},o,d,m){let u;const h=fs({actions:{}},l),f={deep:!0};let g,y,k=[],v=[],A;const T=o.state.value[i];!m&&!T&&(o.state.value[i]={}),et({});let x;function C(N){let z;g=y=!1,typeof N=="function"?(N(o.state.value[i]),z={type:Wc.patchFunction,storeId:i,events:A}):(l0(o.state.value[i],N),z={type:Wc.patchObject,payload:N,storeId:i,events:A});const Z=x=Symbol();eo().then(()=>{x===Z&&(g=!0)}),y=!0,nl(k,z,o.state.value[i])}const D=m?function(){const{state:z}=l,Z=z?z():{};this.$patch(K=>{fs(K,Z)})}:h6;function S(){u.stop(),k=[],v=[],o._s.delete(i)}function M(N,z){return function(){bf(o);const Z=Array.from(arguments),K=[],H=[];function Y(re){K.push(re)}function oe(re){H.push(re)}nl(v,{args:Z,name:N,store:R,after:Y,onError:oe});let me;try{me=z.apply(this&&this.$id===i?this:R,Z)}catch(re){throw nl(H,re),re}return me instanceof Promise?me.then(re=>(nl(K,re),re)).catch(re=>(nl(H,re),Promise.reject(re))):(nl(K,me),me)}}const B={_p:o,$id:i,$onAction:X4.bind(null,v),$patch:C,$reset:D,$subscribe(N,z={}){const Z=X4(k,N,z.detached,()=>K()),K=u.run(()=>Bt(()=>o.state.value[i],H=>{(z.flush==="sync"?y:g)&&N({storeId:i,type:Wc.direct,events:A},H)},fs({},f,z)));return Z},$dispose:S},R=Ve(B);o._s.set(i,R);const L=o._a&&o._a.runWithContext||RF,j=o._e.run(()=>(u=D0(),L(()=>u.run(r))));for(const N in j){const z=j[N];if(hn(z)&&!jF(z)||$r(z))m||(T&&$F(z)&&(hn(z)?z.value=T[N]:l0(z,T[N])),o.state.value[i][N]=z);else if(typeof z=="function"){const Z=M(N,z);j[N]=Z,h.actions[N]=z}}return fs(R,j),fs(Xt(R),j),Object.defineProperty(R,"$state",{get:()=>o.state.value[i],set:N=>{C(z=>{fs(z,N)})}}),o._p.forEach(N=>{fs(R,u.run(()=>N({store:R,app:o._a,pinia:o,options:h})))}),T&&m&&l.hydrate&&l.hydrate(R.$state,T),g=!0,y=!0,R}function FF(i,r,l){let o,d;const m=typeof r=="function";typeof i=="string"?(o=i,d=m?l:r):(d=i,o=i.id);function u(h,f){const g=N3();return h=h||(g?rn(u6,null):null),h&&bf(h),h=d6,h._s.has(o)||(m?f6(o,r,d,h):zF(o,d,h)),h._s.get(o)}return u.$id=o,u}const zi=i=>(Kt("data-v-5ca97f5e"),i=i(),Yt(),i),VF={class:"flex-row flex align-items-center avatar-container me-3"},UF={key:0,class:"me-2 fs-8"},HF=zi(()=>b("i",{class:"bi bi-clock-history fs-c10"},null,-1)),WF={key:1,class:"flex-row flex align-items-center ms-4 header-text"},GF=zi(()=>b("span",null,"目标管理",-1)),KF={key:2,class:"flex-row flex align-items-center color-hover ms-4"},YF=zi(()=>b("i",{class:"bi bi-bell-fill fs-c11"},null,-1)),qF=[YF],ZF={class:"flex-row flex align-items-center justify-content-center ms-4 bg-white rounded-circle",style:{height:"25px",width:"25px"}},QF=zi(()=>b("i",{class:"bi bi-question fs-c11"},null,-1)),JF={key:3,class:"flex-row flex align-items-center ms-4"},XF=zi(()=>b("i",{class:"bi bi-person-plus fs-c11"},null,-1)),eV={key:4,class:"avatar-center ps-4","data-bs-toggle":"dropdown","data-bs-offset":"0,10"},tV={class:"align-items-center flex-row flex avatar-center-icon"},nV=["src"],iV={class:"shadow dropdown-menu jiBox avatar-dm px-3"},oV={class:"avatar-dropdown-header"},rV={class:"ms-1 ps-2"},sV={class:"dropdown-email"},aV=zi(()=>b("li",{class:"avatar-dropdown-line mx-2"},null,-1)),lV={class:"avatar-dropdown-item"},cV=zi(()=>b("div",{class:"d-flex flex-row align-items-center"},[b("i",{class:"bi bi-person fs-c10"})],-1)),dV=zi(()=>b("div",{class:"d-flex flex-row align-items-center ms-2"},"账号信息",-1)),uV=[cV,dV],hV={class:"avatar-dropdown-item"},fV=zi(()=>b("div",{class:"d-flex flex-row align-items-center"},[b("i",{class:"bi bi-safe fs-c10"})],-1)),pV=zi(()=>b("div",{class:"d-flex flex-row align-items-center ms-2"},"安全设置",-1)),mV=[fV,pV],gV={class:"avatar-dropdown-item"},_V=zi(()=>b("div",{class:"d-flex flex-row align-items-center"},[b("i",{class:"bi bi-receipt fs-c10"})],-1)),bV=zi(()=>b("div",{class:"d-flex flex-row align-items-center ms-2"},"登录凭证",-1)),vV=[_V,bV],kV=zi(()=>b("li",{class:"avatar-dropdown-line mx-2"},null,-1)),wV={class:"avatar-dropdown-item"},yV=zi(()=>b("div",{class:"d-flex flex-row align-items-center"},[b("i",{class:"bi bi-power fs-c10"})],-1)),CV=zi(()=>b("div",{class:"d-flex flex-row align-items-center ms-2"},"注销",-1)),AV=[yV,CV],xV={__name:"avatar",setup(i){let{proxy:r}=Ke(),l=at(),o=tt(),d=Ve({show:!1,updating:!1,msg:"",currentInc:0,currentDec:0});const m=rn("user"),u=rn("team");Ue(()=>{r.bus.on("updating",function(g){d.msg=g,d.updating=!0,d.currentInc++,setTimeout(function(){d.currentDec--,d.currentInc+d.currentDec<=0&&(d.updating=!1,d.msg="")},3e3)})}),Hr(()=>{r.bus.all.delete("updating")});let h=g=>{d.show=!1,o.params.type!==g&&l.push({name:"Center",params:{type:g}})},f=g=>{l.push({name:g})};return(g,y)=>{const k=Ht("router-link");return F(),U("div",VF,[P(m).uuid?(F(),U("div",{key:0,class:je(["flex-row flex align-items-center color-hover pointer",{"color-light":!P(d).updating}]),title:"更新操作历史"},[P(d).updating?(F(),U("span",UF,_e(P(d).msg),1)):ve("",!0),HF],2)):ve("",!0),P(u).uuid?(F(),U("div",WF,[ue(k,{class:"d-flex align-items-center my-workspace",to:{name:"TeamObjective",params:{team:P(u).uuid,title:"目标管理"}}},{default:qe(()=>[GF]),_:1},8,["to"])])):ve("",!0),P(u).uuid?(F(),U("div",KF,qF)):ve("",!0),b("div",ZF,[ue(k,{class:"color-hover",to:{name:"Help"}},{default:qe(()=>[QF]),_:1})]),P(u).uuid?(F(),U("div",JF,[ue(k,{class:"text-white color-hover",to:{name:"Member",params:{team:P(u).uuid}}},{default:qe(()=>[XF]),_:1},8,["to"])])):ve("",!0),P(m).uuid?(F(),U("div",eV,[b("div",tV,[b("img",{src:P(m).avatar},null,8,nV)])])):ve("",!0),b("ul",iV,[b("li",oV,[b("div",rV,[b("div",null,_e(P(m).name),1),b("div",sV,_e(P(m).email),1)])]),aV,b("li",lV,[b("div",{class:"d-flex flex-row align-items-center ms-1 ps-2",onClick:y[0]||(y[0]=v=>P(h)("account"))},uV)]),b("li",hV,[b("div",{class:"d-flex flex-row align-items-center ms-1 ps-2",onClick:y[1]||(y[1]=v=>P(h)("safe"))},mV)]),b("li",gV,[b("div",{class:"d-flex flex-row align-items-center ms-1 ps-2",onClick:y[2]||(y[2]=v=>P(h)("certificate"))},vV)]),kV,b("li",wV,[b("div",{class:"d-flex flex-row align-items-center ms-1 ps-2",onClick:y[3]||(y[3]=v=>P(f)("Logout"))},AV)])])])}}},SV=Tt(xV,[["__scopeId","data-v-5ca97f5e"]]),EV=["disabled"],DV={class:"flex-row flex align-items-center"},TV={key:0},IV=b("i",{class:"bi bi-plus-lg"},null,-1),MV=[IV],PV={class:"ms-1"},ci={__name:"universal",props:{title:{type:String},disabled:{type:Boolean,default:!1},plus:{type:Boolean,default:!1}},emits:["submit"],setup(i,{emit:r}){const l=i;let o=()=>{l.disabled||r("submit")};return(d,m)=>(F(),U("button",{type:"button",class:"btn btn-submit",disabled:i.disabled,onClick:m[0]||(m[0]=(...u)=>P(o)&&P(o)(...u))},[b("div",DV,[i.plus?(F(),U("div",TV,MV)):ve("",!0),b("div",PV,_e(i.title),1)])],8,EV))}};const OV=i=>(Kt("data-v-f0935fe3"),i=i(),Yt(),i),BV={class:"d-flex search shadow-sm"},LV=OV(()=>b("div",{class:"flex-column flex-fill flex align-items-center justify-content-center position-absolute mb-2",style:{"margin-left":"10px",height:"35px"}},[b("div",{class:"d-flex flex-fill align-items-center justify-content-center",style:{opacity:"0.5"}},[b("i",{class:"bi bi-search"})])],-1)),RV=["placeholder"],NV={__name:"search",props:{placeholder:String,clear:Boolean},emits:["search"],setup(i,{emit:r}){const l=i;let o=et(""),d=()=>{r("search",o.value)};return Bt(()=>l.clear,()=>{l.clear&&(o.value="")}),(m,u)=>(F(),U("div",BV,[LV,ct(b("input",{class:"form-control ps-c7","onUpdate:modelValue":u[0]||(u[0]=h=>hn(o)?o.value=h:o=h),onBlur:u[1]||(u[1]=(...h)=>P(d)&&P(d)(...h)),onKeyup:u[2]||(u[2]=St((...h)=>P(d)&&P(d)(...h),["enter"])),onInput:u[3]||(u[3]=(...h)=>P(d)&&P(d)(...h)),placeholder:i.placeholder,style:{height:"35px"},title:"回车提交或者点击搜索框之外提交"},null,40,RV),[[gt,P(o)]])]))}},Pn=Tt(NV,[["__scopeId","data-v-f0935fe3"]]);const Gr=i=>(Kt("data-v-6fe32b26"),i=i(),Yt(),i),$V={class:"flex-column flex text-white"},jV={class:"text-white flex-row flex align-items-center justify-content-center",style:{height:"56px"}},zV={class:"ms-4 align-items-center justify-content-center"},FV=Gr(()=>b("svg",{t:"1677807269025",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4262",width:"20",height:"20"},[b("path",{d:"M780.288 750.592H244.736V415.744C244.736 229.376 396.288 79.872 460.8 24.576c29.696-24.576 71.68-24.576 101.376 0 65.536 55.296 217.088 204.8 217.088 391.168v334.848z m-453.632-81.92h371.712V415.744c0-150.528-128-277.504-186.368-326.656-57.344 49.152-186.368 176.128-186.368 326.656v252.928zM509.952 87.04z",fill:"#e6e6e6","p-id":"4263"}),b("path",{d:"M326.656 750.592H148.48c-43.008 0-78.848-34.816-78.848-78.848v-76.8c0-26.624 13.312-51.2 34.816-65.536l221.184-146.432v367.616z m-175.104-81.92h92.16v-133.12l-92.16 61.44v71.68zM875.52 750.592H697.344V384l221.184 146.432c22.528 14.336 34.816 38.912 34.816 65.536v76.8c1.024 41.984-34.816 77.824-77.824 77.824z m-96.256-81.92h92.16v-71.68l-92.16-61.44v133.12zM513.024 489.472c-64.512 0-116.736-52.224-116.736-116.736S449.536 256 513.024 256s116.736 52.224 116.736 116.736-52.224 116.736-116.736 116.736z m0-151.552c-18.432 0-34.816 15.36-34.816 34.816s15.36 34.816 34.816 34.816 34.816-15.36 34.816-34.816S532.48 337.92 513.024 337.92zM512 1017.856c-22.528 0-40.96-18.432-40.96-40.96v-163.84c0-22.528 18.432-40.96 40.96-40.96s40.96 18.432 40.96 40.96v163.84c0 22.528-18.432 40.96-40.96 40.96zM351.232 953.344c-22.528 0-40.96-18.432-40.96-40.96v-66.56c0-22.528 18.432-40.96 40.96-40.96s40.96 18.432 40.96 40.96v66.56c0 22.528-18.432 40.96-40.96 40.96zM673.792 953.344c-22.528 0-40.96-18.432-40.96-40.96v-66.56c0-22.528 18.432-40.96 40.96-40.96s40.96 18.432 40.96 40.96v66.56c0 22.528-18.432 40.96-40.96 40.96z",fill:"#e6e6e6","p-id":"4264"})],-1)),VV={class:"fs-c12 ms-2 fw-bolder",style:{"letter-spacing":"2px"}},UV={class:"d-flex flex-fill align-items-center"},HV={key:0,class:"d-flex ms-4 align-items-center"},WV=Gr(()=>b("span",null,"我的工作台",-1)),GV=[WV],KV={key:1,class:"d-flex text-white ms-4 align-items-center"},YV=Gr(()=>b("div",{class:"flex-fill"},null,-1)),qV={class:"flex-row flex align-items-center tab-container"},ZV={class:"d-flex align-items-center",style:{width:"250px","background-color":"rgba(176,196,222,0.1)"}},QV=Gr(()=>b("div",{class:"flex align-items-center px-2",style:{color:"initial"}},null,-1)),JV={class:"d-flex align-items-center py-2 layout-bg px-4 fw-bolder rounded-top color-md position-relative tab-item dropdown-center",style:{}},XV={key:0,class:"d-flex align-items-center text-truncate",style:{"max-width":"180px"}},eU={class:"text-truncate"},tU=Gr(()=>b("div",{class:"ms-2"},[b("i",{class:"bi bi-caret-down-fill"})],-1)),nU={key:2,class:"d-flex align-items-center text-truncate",style:{"max-width":"180px"}},iU={key:3,class:"dropdown-menu jiBox shadow"},oU={style:{"max-height":"295px","overflow-y":"auto","overflow-x":"hidden",width:"200px"},class:"d-flex flex-column"},rU={class:"d-flex flex-column flex-fill pt-2",style:{"overflow-y":"auto","overflow-x":"hidden"}},sU={key:0,class:"d-flex align-items-center flex-fill hover fw-normal"},aU={key:1,class:"d-flex flex-column flex-fill fw-normal py-2 px-4"},lU={key:0,class:"pointer","data-bs-toggle":"offcanvas","data-bs-target":"#sidebarSpaces"},cU=Gr(()=>b("i",{class:"bi bi-list ms-3",style:{"font-size":"1.5rem"}},null,-1)),dU=[cU],uU={class:"flex-fill",style:{"background-color":"rgba(176,196,222,0.1)","border-top-right-radius":"5px"}},hU={key:0,id:"com",class:"flex flex-row flex-fill align-items-center justify-content-center w-100 com-outline text-white h-100"},fU={class:"flex flex-row align-items-center justify-content-center h-100 py-2"},pU={class:"h-100 position-relative"},mU=Gr(()=>b("div",{class:"flex flex-row align-items-center justify-content-center h-100 py-2"},[b("i",{class:"bi bi-gear"}),rt(" 设置 ")],-1)),gU={key:1,class:"flex flex-row flex-fill align-items-center justify-content-center w-100 com-outline text-white h-100"},_U={class:"flex flex-row align-items-center justify-content-center h-100 py-2"},bU={key:2,class:"d-flex flex-fill py-2"},vU=Gr(()=>b("div",{style:{flex:"0 0 20px"}},null,-1)),kU=Gr(()=>b("div",{class:"flex justify-content-center align-items-center py-2 header-ex-wd",style:{"background-color":"rgba(176,196,222,0.1)","border-top-left-radius":"5px"}}," 扩展工具 ",-1)),wU={__name:"header",setup(i){const{proxy:r}=Ke();let l=tt(),o=at(),d=Ve({projectUUID:l.params.project,space:l.params.space,page:l.params.page,teamName:"",isLoad:!1,title:l.meta.title,selectedCom:l.params.com,okrTabs:[{uuid:1,title:"团队目标",name:"TeamObjective"},{uuid:2,title:"个人目标",name:"UserObjective"}],selectedTab:1,search_label:"搜索项目名称",projects:[]});Ue(()=>{T(l.name)});let m=et(!1);const u=rn("user"),h=rn("team"),f=rn("project"),g=rn("projects"),y=rn("components"),k=rn("space");let v=()=>{r.post(r.urls.check_login_status,{team_uuid:l.params.team}).then(function(D){var S;(S=D.data)!=null&&S.team?o.push({name:"Overview",params:{team:D.data.team,type:"overview"}}):o.push({name:"Select"})})},A=()=>{l.name!=="AddPage"&&(l.params.page?o.push({name:"AddPage",params:{team:h.value.uuid,space:k.value.uuid,page:l.params.page}}):r.get(r.urls.page_main.format(h.value.uuid,k.value.uuid)).then(function(D){d.page=D.data.uuid,o.push({name:"AddPage",params:{team:h.value.uuid,space:k.value.uuid,page:d.page}})}))};Bt(()=>[l.params,l.meta,l.name],(D,S)=>{d.projectUUID=D[0].project,D[1].title&&(d.title=D[1].title),d.selectedCom=D[0].com,d.selectedCom&&(d.selectedCom=D[0].com),T(D[2])});let T=D=>{D==="TeamObjective"?d.selectedTab=1:D==="UserObjective"?d.selectedTab=2:d.selectedTab=1},x=D=>{if(D){m.value=!1,d.projects=[];let S=[];for(let M=0;M<g.value.length;M++)g.value[M].name.includes(D)&&f.value.uuid!==g.value[M].uuid&&S.push(g.value[M]);d.projects=S}else d.projects=g.value},C=()=>{m.value=!0,d.projects=g.value};return(D,S)=>{var B;const M=Ht("router-link");return F(),U("div",$V,[b("div",jV,[b("div",zV,[ue(M,{class:"text-white d-flex align-items-center justify-content-center",to:{name:"Index"}},{default:qe(()=>[FV,b("span",VV,_e(P(h).name||P(u).name||"登陆失效"),1)]),_:1})]),b("div",UV,[P(h).uuid?(F(),U("div",HV,[ue(M,{icon:"Wiki",class:"text-white fs-c10",to:{name:"Spaces",params:{team:P(h).uuid}}},{default:qe(()=>[rt("文档管理")]),_:1},8,["to"])])):ve("",!0),b("div",{class:"ms-4 pointer header-text",onClick:S[0]||(S[0]=(...R)=>P(v)&&P(v)(...R))},GV),P(k).uuid?(F(),U("div",KV,[ue(ci,{title:"新建页面",plus:!0,onSubmit:P(A)},null,8,["onSubmit"])])):ve("",!0),YV]),ue(SV)]),b("div",qV,[b("div",ZV,[QV,b("div",JV,[P(k).uuid?(F(),U("div",XV,_e(P(k).title),1)):P(f).uuid?(F(),U("div",{key:1,class:"d-flex flex-fill align-items-center justify-content-center pointer",style:{"max-width":"180px"},onClick:S[1]||(S[1]=(...R)=>P(C)&&P(C)(...R)),"data-bs-toggle":"dropdown","data-bs-offset":"0,8"},[b("div",eU,_e(P(f).name),1),tU])):(F(),U("div",nU,_e(P(d).title),1)),P(f).uuid?(F(),U("div",iU,[b("div",oU,[ue(Pn,{placeholder:P(d).search_label,class:"px-2 pb-2",onSearch:P(x),clear:P(m)},null,8,["placeholder","onSearch","clear"]),b("div",rU,[((B=P(d).projects)==null?void 0:B.length)>0?(F(!0),U(xe,{key:0},Xe(P(d).projects,R=>(F(),U("div",{key:R.uuid,class:"d-flex flex-column flex-fill"},[P(f).uuid!==R.uuid?(F(),U("div",sU,[ue(M,{class:"py-2 px-4 flex-fill text-truncate color-hover",to:{name:"Project",params:{team:P(d).team,project:R.uuid}}},{default:qe(()=>[rt(_e(R.name),1)]),_:2},1032,["to"])])):ve("",!0)]))),128)):(F(),U("div",aU," 无结果 "))])])])):ve("",!0)]),P(k).uuid?(F(),U("div",lU,dU)):ve("",!0)]),b("div",uU,[P(h).uuid&&P(y)&&P(y).length>0?(F(),U("div",hU,[(F(!0),U(xe,null,Xe(P(y),R=>(F(),U("div",{class:"flex flex-row align-items-center justify-content-center position-relative h-100",key:R.uuid},[ue(M,{class:je([{active:R.uuid===P(d).selectedCom},"com align-items-center justify-content-center text-white"]),to:{name:"Component",params:{team:P(h).uuid,project:R.project_uuid,com:R.uuid}}},{default:qe(()=>[b("div",fU,_e(R.name),1)]),_:2},1032,["class","to"])]))),128)),b("div",pU,[ue(M,{class:je([{active:P(d).selectedCom==="designer"},"com align-items-center justify-content-center text-white"]),to:{name:"ComponentDesigner",params:{team:P(h).uuid,project:P(d).projectUUID,com:"designer",attr:"com"}}},{default:qe(()=>[mU]),_:1},8,["class","to"])])])):P(l).name==="TeamObjective"||P(l).name==="UserObjective"?(F(),U("div",gU,[(F(!0),U(xe,null,Xe(P(d).okrTabs,R=>(F(),U("div",{class:"flex flex-row align-items-center justify-content-center position-relative h-100",key:R.uuid},[ue(M,{class:je([{active:R.uuid===P(d).selectedTab},"com align-items-center justify-content-center text-white"]),to:{name:R.name,params:{team:P(h).uuid}}},{default:qe(()=>[b("div",_U,_e(R.title),1)]),_:2},1032,["class","to"])]))),128))])):(F(),U("div",bU,"   "))]),vU,kU])])}}},yU=Tt(wU,[["__scopeId","data-v-6fe32b26"]]),CU={class:"flex flex-column flex-fill h-100",style:{"background-color":"#002e5c"}},AU={__name:"layout",setup(i){const{proxy:r}=Ke();let l=tt(),o=Ve({teamUUID:l.params.team,projectUUID:l.params.project,spaceUUID:l.params.space,team:{},user:{},project:{assign:{}},components:[]});const d=et({});fo("team",d);const m=et({});fo("user",m);const u=et([]);fo("components",u);const h=et({assign:{}});fo("project",h);const f=et([]);fo("projectRecord",f);const g=et([]);fo("projects",g);const y=et({});fo("space",y);const k=et([]);fo("spaces",k),Ue(()=>{v(),o.teamUUID&&D(o.teamUUID),o.projectUUID&&(T(o.projectUUID),A(o.projectUUID),C(o.projectUUID),x(o.teamUUID)),o.spaceUUID&&(S(o.spaceUUID),M(o.teamUUID)),r.bus.on("updateTeam",function(B){D(B)}),r.bus.on("updateProjectInfo",function(B){T(B),C(B)}),r.bus.on("updateComponents",function(B){A(B)}),r.bus.on("updateUser",function(){v()}),r.bus.on("updateSpace",function(B){S(B)})}),Hr(()=>{r.bus.all.delete("updateTeam"),r.bus.all.delete("updateProjectInfo"),r.bus.all.delete("updateComponents"),r.bus.all.delete("updateUser"),r.bus.all.delete("updateSpace")});let v=()=>{let B=r.urls.user_get.format(Go());r.get(B).then(function(R){o.user=R.data,m.value=o.user})},A=B=>{r.get(r.urls.components.format(o.teamUUID,B)).then(function(R){o.components=R.data,u.value=o.components})},T=B=>{r.get(r.urls.project_get.format(o.teamUUID,B)).then(function(R){o.project=R.data,o.project.to_do_count+o.project.in_progress_count+o.project.done_count===0?o.project.progressRate=0:o.project.progressRate=(o.project.done_count*100/(o.project.to_do_count+o.project.in_progress_count+o.project.done_count)).toFixed(0),h.value=o.project})},x=()=>{let B=r.urls.team_project_list.format(o.teamUUID),L={categories:[],name:""};r.post(B,L).then(function(j){g.value=j.data})},C=B=>{r.get(r.urls.project_record_list.format(o.teamUUID,B)).then(function(R){f.value=R.data})},D=B=>{r.get(r.urls.team_get.format(B)).then(function(R){o.team=R.data,d.value=o.team})},S=B=>{r.get(r.urls.space_get.format(o.teamUUID,B)).then(function(R){y.value=R.data})},M=B=>{let R={name:""};r.post(r.urls.spaces_my.format(B),R).then(function(L){k.value=L.data.spaces})};return Bt(()=>l.params,(B,R)=>{B.team!==R.team&&B.team?(o.teamUUID=B.team,D(B.team)):B.team||(d.value={}),B.project!==R.project&&B.project?(T(B.project),A(B.project),x(o.teamUUID)):B.project||(o.components=[],u.value=[],o.project={assign:{}},h.value={assign:{}}),B.space!==R.space&&B.space?(o.spaceUUID=B.space,S(B.space),M(o.teamUUID)):B.space||(y.value={},k.value=[])}),(B,R)=>{const L=Ht("router-view");return F(),U("div",CU,[ue(yU),ue(L)])}}},xU={class:"flex-row flex align-items-center"},SU={class:"d-flex align-items-center"},EU={key:0,class:"d-flex"},DU=b("svg",{t:"1601469996753",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"22148",width:"16",height:"16"},[b("path",{d:"M925.8 98.5H98.1c-16.3 0-29.6 13.3-29.6 29.6v591.2c0 16.3 13.3 29.6 29.6 29.6h266v118.2h-88.7c-16.4 0-29.6 13.2-29.6 29.6 0 16.4 13.2 29.6 29.6 29.6h473c16.4 0 29.6-13.2 29.6-29.6 0-16.4-13.2-29.6-29.6-29.6h-88.7V748.8h266c16.3 0 29.6-13.3 29.6-29.6V128.1c0-16.3-13.3-29.6-29.5-29.6z m-810.9 47.6h796.3v405.1H114.9V146.1z m485.7 721H423.2V748.8h177.4v118.3z m311.8-165.8H114.9V601h797.4v100.3z",fill:"#666666","p-id":"22149"}),b("path",{d:"M443.8 264.4H217.5c-6.4 0-11.5 5.2-11.5 11.5v167.4c0 6.4 5.2 11.5 11.5 11.5h226.3c6.4 0 11.5-5.2 11.5-11.5V276c0-6.4-5.1-11.6-11.5-11.6z m-20.8 153c0 4.7-4 8.5-9 8.5H242.6c-5 0-9-3.8-9-8.5V302c0-4.7 4-8.5 9-8.5H414c5 0 9 3.8 9 8.5v115.4zM809.8 264.4H583.5c-6.4 0-11.5 5.2-11.5 11.5v167.4c0 6.4 5.2 11.5 11.5 11.5h226.3c6.4 0 11.5-5.2 11.5-11.5V276c0.1-6.4-5.1-11.6-11.5-11.6z m-20.8 153c0 4.7-4 8.5-9 8.5H608.6c-5 0-9-3.8-9-8.5V302c0-4.7 4-8.5 9-8.5H780c5 0 9 3.8 9 8.5v115.4z",fill:"#666666","p-id":"22150"})],-1),TU=[DU],IU={key:1,class:"d-flex"},MU=b("svg",{t:"1601470039687",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"23021",width:"16",height:"16"},[b("path",{d:"M921.6 659.911111h51.2c28.444444 0 51.2 22.755556 51.2 51.2v147.911111c0 28.444444-22.755556 51.2-51.2 51.2h-204.8c-28.444444 0-51.2-22.755556-51.2-51.2v-147.911111c0-28.444444 22.755556-51.2 51.2-51.2h51.2V563.2H563.2v102.4h51.2c28.444444 0 51.2 22.755556 51.2 51.2v147.911111c0 28.444444-22.755556 51.2-51.2 51.2H409.6c-28.444444 0-51.2-22.755556-51.2-51.2v-147.911111c0-28.444444 22.755556-51.2 51.2-51.2h51.2V563.2H204.8v102.4h51.2c28.444444 0 51.2 22.755556 51.2 51.2v147.911111c0 22.755556-22.755556 45.511111-51.2 45.511111H51.2c-28.444444 0-51.2-22.755556-51.2-51.2v-147.911111c0-28.444444 22.755556-51.2 51.2-51.2h51.2V563.2c0-56.888889 45.511111-102.4 102.4-102.4h256V364.088889h-51.2c-28.444444 0-51.2-22.755556-51.2-51.2V164.977778c0-28.444444 22.755556-51.2 51.2-51.2h204.8c28.444444 0 51.2 22.755556 51.2 51.2v147.911111c0 28.444444-22.755556 51.2-51.2 51.2h-51.2v102.4h256c56.888889 0 102.4 45.511111 102.4 102.4v91.022222z",fill:"#666666","p-id":"23022"})],-1),PU=[MU],OU={key:2,class:"d-flex"},BU=b("svg",{t:"1688367799010",class:"icon",viewBox:"0 0 1280 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1468",width:"16",height:"16"},[b("path",{d:"M515.962 545.942L127.276 934.628c-18.746 18.746-49.138 18.746-67.882 0L14.058 889.294c-18.714-18.714-18.75-49.044-0.08-67.802L322.022 512 13.98 202.51c-18.67-18.758-18.634-49.088 0.08-67.802l45.334-45.334c18.746-18.746 49.138-18.746 67.882 0L515.962 478.06c18.746 18.744 18.746 49.136 0 67.882zM1280 912v-64c0-26.51-21.49-48-48-48H624c-26.51 0-48 21.49-48 48v64c0 26.51 21.49 48 48 48h608c26.51 0 48-21.49 48-48z",fill:"#666666","p-id":"1469"})],-1),LU=[BU],RU={key:3,class:"d-flex"},NU=b("svg",{t:"1684570524994",class:"icon",viewBox:"0 0 1317 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"12070",width:"16",height:"16"},[b("path",{d:"M853.796571 936.594286l-168.594286-397.165714q-14.262857 28.013714-90.550857 174.592t-113.444571 222.573714q-0.585143 0.585143-15.725714 0.292571t-15.140571-0.877714q-46.884571-110.299429-145.993143-335.433143t-148.260571-340.553143q-11.995429-28.598857-38.034286-61.44t-59.172571-57.417143-58.294857-24.576q0-2.852571-0.292571-13.677714t-0.292571-15.433143l333.165714 0 0 28.598857q-22.308571 1.170286-45.421714 9.142857t-38.034286 24.576-5.705143 36.571429q14.848 33.718857 123.684571 285.110857t134.582857 308.589714q17.700571-34.889143 80.018286-152.283429t74.825143-141.458286q-10.825143-22.308571-71.972571-160.548571t-77.677714-168.594286q-21.723429-39.424-114.834286-40.594286l0-28.598857 293.156571 0.585143 0 26.843429q-34.304 1.170286-53.394286 14.262857t-7.168 39.424q18.870857 40.009143 49.737143 108.251429t49.152 107.154286q62.829714-122.294857 98.889143-207.433143 13.677714-31.451429-5.705143-45.421714t-73.728-15.140571q0.585143-4.022857 0.585143-14.262857l0-13.677714q36.571429 0 97.426286-0.292571t102.838857-0.585143 52.882286-0.292571l0 28.013714q-35.401143 1.170286-68.022857 18.870857t-51.419429 46.299429l-121.709714 252.562286q7.460571 18.870857 72.850286 165.741714t69.412571 156.598857l251.977143-581.12q-7.972571-21.723429-28.306286-35.693714t-37.156571-17.993143-31.744-4.534857l0-28.598857 262.875429 2.267429 0.585143 1.170286-0.585143 25.161143q-79.433143 2.267429-114.834286 82.870857-300.544 694.857143-319.414857 737.718857l-28.013714 0z",fill:"#666666","p-id":"12071"})],-1),$U=[NU],jU={key:4,class:"d-flex"},zU=b("svg",{t:"1683194470140",class:"icon",viewBox:"0 0 1066 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7118",width:"16",height:"16"},[b("path",{d:"M754.785652 1024v-43.663875a109.149023 109.149023 0 0 1 109.127692-109.170354h87.30642a109.149023 109.149023 0 0 1 109.127693 109.170354v43.663875H754.785652z m152.791568-185.576803a98.249052 98.249052 0 1 1 0-196.498104 98.249052 98.249052 0 0 1 0 196.498104z m-202.342708-43.663875a37.755281 37.755281 0 0 1-19.069616-5.140691l-152.919552-88.308961-152.940882 88.308961a38.181894 38.181894 0 0 1-38.181894-66.167729l152.919552-88.308961v-176.639254a38.181894 38.181894 0 1 1 76.385118 0v176.639254l152.940883 88.308961a38.245886 38.245886 0 0 1-19.133609 71.30842zM372.817398 338.432363a109.149023 109.149023 0 0 1 109.127692-109.191685h87.30642a109.149023 109.149023 0 0 1 109.127693 109.191685v43.642544H372.817398v-43.642544z m152.791568-141.934259a98.249052 98.249052 0 1 1 0-196.498104 98.249052 98.249052 0 0 1 0 196.498104zM6.121901 980.336125a109.170354 109.170354 0 0 1 109.127693-109.170354h87.30642a109.149023 109.149023 0 0 1 109.127692 109.170354v43.663875H6.121901v-43.663875z m152.791568-141.912928a98.227722 98.227722 0 0 1-98.227721-98.249052 98.249052 98.249052 0 1 1 98.227721 98.249052z",fill:"#666666","p-id":"7119"})],-1),FU=[zU],VU={key:5,class:"d-flex"},UU=b("svg",{t:"1601470343097",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"26129",width:"16",height:"16"},[b("path",{d:"M216.3 515.7c9-6.7 18.5-12.7 28.3-18.3 12.8-0.1 23.1-10.5 23.1-23.3 0-5.9-2.2-11.2-5.8-15.2v-0.3c-1.9-1.8-3.9-3.5-5.7-5.3-56.7-13.2-99-63.9-99-124.6 0-60.7 42.3-111.4 98.9-124.6 2-1.9 4-3.8 6.1-5.6 1.5-18.2 11-34.2 25-44.3-0.7 0-1.3-0.1-2-0.1-96.4 0-174.5 78.1-174.5 174.5 0 62.7 33.1 117.7 82.7 148.4C80.3 520.9 0.1 630.6 0.1 759.2v41.1c0 22.3 18.1 40.4 40.4 40.4h46.9v-46.5H46.7v-43.6c0-109.6 71.1-202.4 169.6-234.9z m406.2-24.6c66.1-38.2 110.7-109.6 110.7-191.5 0-122.1-99-221.1-221.1-221.1S291 177.5 291 299.6c0 81.9 44.5 153.3 110.7 191.5C253.2 538 145.6 676.7 145.6 840.7v58.2c0 25.7 20.8 46.5 46.5 46.5h640c25.7 0 46.5-20.8 46.5-46.5v-58.2c0.1-164-107.6-302.8-256.1-349.6zM337.6 299.6c0-96.4 78.2-174.5 174.5-174.5 96.4 0 174.5 78.1 174.5 174.5s-78.1 174.6-174.5 174.6c-96.4-0.1-174.5-78.2-174.5-174.6z m494.5 599.2h-640v-58.2c0-176.7 143.3-320 320-320s320 143.3 320 320v58.2z m0.1-421.7c49.3-30.8 82.1-85.7 82.1-148.4 0-96.4-77.6-174.5-173.3-174.5-0.7 0-1.3 0.1-1.9 0.1 13.9 10.2 23.3 26.1 24.8 44.3 2 1.8 4.1 3.7 6 5.6 56.3 13.2 98.2 63.9 98.2 124.6 0 60.7-42 111.4-98.3 124.6-1.9 1.8-3.8 3.6-5.7 5.3v0.3c-3.6 4.1-5.8 9.4-5.8 15.2 0 12.8 10.3 23.2 23 23.3 9.7 5.6 19.1 11.7 28.1 18.3 97.8 32.6 168.5 125.3 168.5 234.8v43.6h-40.4v46.5H984c22.1 0 40.1-18.1 40.1-40.4v-41.1c0-128.6-79.6-238.3-191.9-282.1z m0 0","p-id":"26130",fill:"#666666"})],-1),HU=[UU],WU={key:6,class:"d-flex"},GU=b("svg",{t:"1683248660639",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"24975",width:"16",height:"16"},[b("path",{d:"M1021.376 651.136c1.472 8.832 1.152 19.392-1.152 31.872-2.112 12.48-5.824 25.152-10.944 37.952-5.12 12.864-11.328 24.384-18.624 34.624-7.296 10.304-15.488 17.6-24.128 22.016-8.832 4.48-16.512 6.656-23.104 6.656-6.592 0-13.824-1.408-21.888-4.416-7.296-2.176-16.512-4.224-27.456-6.08-11.072-1.792-22.144-2.112-33.536-1.088-11.328 1.088-22.656 3.456-33.984 7.104-11.264 3.584-21.12 9.92-29.056 18.688-17.6 18.304-27.968 39.232-30.848 62.72-2.88 23.488 0.384 45.824 9.92 67.072 7.296 14.72 6.208 29.312-3.264 43.968-4.352 5.888-11.456 11.904-20.864 18.112-9.536 6.272-20.032 11.968-31.296 17.088-11.264 5.184-23.232 9.152-35.776 12.16C672.896 1022.528 661.952 1024 652.352 1024c-6.592 0-12.672-2.56-18.624-7.68-5.824-5.184-9.792-10.688-12.096-16.512L620.48 999.808c-8.064-22.784-21.76-42.304-41.152-58.816-19.392-16.512-41.856-24.768-67.584-24.768-24.896 0-47.424 8.256-67.52 24.768-20.16 16.512-34.24 35.712-42.304 57.728-3.648 8.832-9.152 15.232-16.512 19.264C378.24 1022.016 370.176 1024 361.344 1024c-10.24 0-21.76-1.792-34.56-5.568-12.8-3.648-25.664-8.256-38.464-13.76-12.8-5.504-24.384-11.904-34.624-19.264-10.24-7.296-17.92-14.656-23.04-21.952-3.648-5.184-5.696-11.2-6.08-18.112-0.384-6.976 2.368-16.704 8.256-29.184 8.064-16.896 11.136-36.096 9.344-57.792-1.792-21.632-11.136-41.6-28.032-59.904-10.24-11.008-22.656-18.112-37.312-21.44-14.656-3.328-28.544-4.608-41.728-3.84-15.424 0.704-31.104 3.648-47.232 8.832-10.24 2.88-20.48 2.112-30.784-2.24-8.064-2.88-15.552-9.664-22.528-20.288-6.976-10.624-13.12-22.464-18.688-35.2-5.504-12.864-9.664-25.984-12.608-39.616-2.88-13.568-3.648-24.704-2.176-33.536C3.264 635.008 10.56 624.768 23.04 620.352c21.952-8.832 41.664-23.296 59.264-43.52 17.6-20.16 26.368-42.688 26.368-67.648 0-25.6-8.768-48-26.368-67.072C64.704 422.976 44.928 409.088 22.976 400.256c-6.4-2.048-11.904-7.36-16.256-15.808C2.304 376 0.064 367.36 0.064 358.656c0-9.536 1.472-20.224 4.352-31.936 2.88-11.712 6.784-23.104 11.52-34.112C20.736 281.6 26.304 271.552 32.448 262.336 38.72 253.248 45.504 246.4 52.736 241.984c5.888-3.648 11.584-5.12 17.088-4.416 5.504 0.704 11.52 2.176 18.112 4.416 21.952 8.832 44.864 11.52 68.672 8.256 23.744-3.264 44.864-13.76 63.168-31.296 8.768-8.832 15.168-19.648 19.2-32.448 3.968-12.928 6.656-25.536 7.68-38.016 1.152-12.48 1.152-23.808 0-34.048C245.568 104.128 244.608 96.832 243.904 92.48c-1.472-4.416-2.752-9.6-3.84-15.424C238.912 71.168 239.488 65.984 241.664 61.632c4.352-10.24 12.224-19.2 23.616-26.88 11.328-7.68 23.552-14.144 36.8-19.264 13.184-5.184 26.048-8.96 38.464-11.648C352.96 1.28 362.88 0 370.176 0 379.648 0 387.2 3.072 392.704 9.344c5.504 6.272 9.28 12.736 11.456 19.328 8.064 19.776 21.248 37.12 39.552 52.224 18.304 15.04 39.936 22.592 64.832 22.592 25.664 0 48.32-7.168 68.096-21.504C596.416 67.648 610.304 49.536 618.368 27.52 621.248 21.632 625.92 15.552 632.064 9.408c6.208-6.272 12.544-9.344 19.264-9.344 10.176 0 21.376 1.408 33.472 4.416 12.096 2.88 24 6.976 35.648 12.16 11.84 5.12 22.656 11.712 32.448 19.776 9.92 8.064 17.728 16.832 23.616 26.368 3.648 5.888 4.736 12.288 3.264 19.2-1.472 6.976-2.88 11.904-4.352 14.848-9.536 21.312-12.416 43.584-8.832 67.072 3.648 23.424 14.336 44.032 31.808 61.632 17.6 17.6 39.232 27.264 64.832 29.184 25.664 1.792 49.472-2.368 71.424-12.672 5.824-3.648 12.928-5.184 21.376-4.416 8.448 0.768 15.488 4.096 21.376 9.856 10.944 10.24 20.608 25.856 29.056 46.784 8.448 20.928 14.08 41.984 17.024 63.232 1.472 12.48-0.512 22.208-5.952 29.184-5.568 6.912-11.2 11.52-17.152 13.76-22.656 8.064-41.984 22.208-58.112 42.304-16.128 20.096-24.128 43.072-24.128 68.736 0 24.96 6.784 46.784 20.224 65.472 13.568 18.624 31.296 32.064 53.184 40.128 5.184 2.88 9.536 5.888 13.184 8.768C1012.992 632.448 1018.496 640.896 1021.376 651.136L1021.376 651.136 1021.376 651.136 1021.376 651.136zM510.72 750.144c32.896 0 64.128-6.272 93.312-18.688 29.312-12.48 54.784-29.696 76.416-51.648 21.632-22.08 38.656-47.488 51.072-76.48 12.416-28.992 18.624-59.968 18.624-92.928 0-33.024-6.208-64-18.624-92.928-12.416-28.992-29.44-54.336-51.072-75.904-21.632-21.632-47.04-38.72-76.416-51.136C574.848 277.952 543.616 271.68 510.72 271.68c-32.896 0-63.936 6.272-92.864 18.688-28.8 12.48-54.144 29.568-75.648 51.2C320.64 363.136 303.552 388.544 291.136 417.472 278.656 446.4 272.448 477.44 272.448 510.4s6.272 63.936 18.688 92.928c12.416 28.928 29.504 54.4 51.072 76.48 21.568 22.016 46.912 39.168 75.776 51.648C446.912 743.872 477.824 750.144 510.72 750.144L510.72 750.144 510.72 750.144 510.72 750.144zM510.72 750.144",fill:"#666666","p-id":"24976"})],-1),KU=[GU],YU={key:7,class:"d-flex"},qU=b("svg",{t:"1684486303012",class:"icon",viewBox:"0 0 1228 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5775",width:"16",height:"16"},[b("path",{d:"M61.54496 666.0096l214.8864 70.4512a8.1408 8.1408 0 0 1 0.1536 15.36l-74.7008 26.4192c287.8976 169.4208 708.4544 142.1312 961.4848-61.2352l9.9328-8.1408a2.56 2.56 0 0 1 3.6864 0.3584 2.7648 2.7648 0 0 1 0.0512 3.3792l-1.024 1.3312c-287.8464 380.6208-702.976 414.976-1003.776 79.9744l-26.9312 101.4784a7.8848 7.8848 0 0 1-9.728 5.632 7.9872 7.9872 0 0 1-5.3248-4.9664L51.71456 676.4544a8.192 8.192 0 0 1 4.7104-10.3424 7.7312 7.7312 0 0 1 5.12-0.1024z",fill:"#FD7931","p-id":"5776"}),b("path",{d:"M232.04096 0c115.3024 0 162.6112 117.76 137.216 279.6544-1.7408 11.2128-3.9936 22.784-6.5024 34.048C331.62496 455.68 252.41856 558.5408 143.87456 558.5408 32.05376 558.592-11.77344 455.68 2.66496 313.7024c1.2288-11.264 2.5088-22.8352 4.5056-34.048C32.77056 116.224 113.25696 0 232.04096 0z m402.2784 0l-23.9104 156.416 64-104.6016L706.81856 0h143.2064l-169.3184 261.4784 87.6544 297.0624h-146.944l-46.7968-168.0384-25.6512 168.0384H424.39936L509.80096 0h124.5184z m495.5648 8.448C1183.64416 19.6608 1228.80256 51.6096 1228.80256 152.5248c0 63.488-24.32 90.4704-81.1008 164.7104l-6.8608 6.5024 83.9168 234.8032h-147.968l-61.44-180.8896-27.392 180.8896h-124.3136L948.38016 1.28 981.50656 0.512c68.9152-1.28 118.3744 1.3824 148.3264 7.9872zM136.09216 269.312l-1.6896 10.24a359.7312 359.7312 0 0 0-4.5056 34.0992c-12.4416 148.8384 71.0144 145.92 105.6256 0 2.4576-11.264 4.7104-22.4768 6.7072-34.816 30.3104-192.3584-73.7792-190.6176-106.0864-9.5232z m916.992-160.9216L1029.12256 250.88c98.0992 0 189.0304-156.672 24.0128-142.4384z",fill:"#646D76","p-id":"5777"})],-1),ZU=[qU],QU={key:8,class:"d-flex"},JU=b("svg",{t:"1684486360892",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6882",width:"16",height:"16"},[b("path",{d:"M146.12032 704c46.912 0 79.296-14.848 107.328-42.432 37.568-36.928 38.848-85.312 38.848-137.472V512c0-56.768 1.6-109.76-38.848-149.568C225.41632 334.848 193.03232 320 146.12032 320c-46.912 0-79.232 14.848-107.264 42.432C-1.59168 402.24 0.00832 455.232 0.00832 512c0 56.768-1.6 109.76 38.848 149.568 28.032 27.584 60.352 42.432 107.264 42.432z m0-82.752a47.872 47.872 0 0 1-37.76-16.96c-8.064-10.432-13.312-21.76-13.888-80L94.40832 512c0-68.928 5.376-81.664 14.016-92.8 7.04-9.024 20.48-16.448 37.76-16.448 17.216 0 30.72 7.424 37.76 16.448 8.576 11.136 13.952 23.872 13.952 92.8s-5.376 81.152-14.016 92.288a47.872 47.872 0 0 1-37.76 16.96z m304.64 79.552V582.528l32.384-36.608 88.448 154.88h110.016L546.24832 475.904l131.008-152.704H561.92832L450.82432 456.832V323.2H357.51232v377.6h93.312z m364.032 0V560.256h31.808l67.968 140.544H1024.00832L940.93632 543.36c30.208-14.848 62.592-47.232 62.592-98.624 0-62.08-45.824-121.472-131.072-121.472h-152.064v377.6h94.4z m53.376-217.984h-53.376V406.464h53.376c25.856 0 40.96 18.56 40.96 38.208 0 19.584-15.104 38.144-40.96 38.144z",fill:"#666666","p-id":"6883"}),b("path",{d:"M0.00832 832h1024v128H0.00832zM0.00832 64h1024v128H0.00832z",fill:"#666666",opacity:".5","p-id":"6884"})],-1),XU=[JU],eH={key:9,class:"d-flex"},tH=b("svg",{t:"1601470399733",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"27002",width:"16",height:"16"},[b("path",{d:"M0 789.333c0-129.621 105.067-234.666 234.667-234.666h170.645a64 64 0 0 1 64.021 64.021v170.645c0 129.622-105.066 234.667-234.666 234.667C105.045 1024 0 918.933 0 789.333z m85.333 0c0 82.475 67.03 149.334 149.334 149.334 82.474 0 149.333-67.03 149.333-149.334V640H234.667c-82.475 0-149.334 67.03-149.334 149.333zM1024 234.667c0 129.621-105.067 234.666-234.667 234.666H618.688a64 64 0 0 1-64.021-64.021V234.667C554.667 105.045 659.733 0 789.333 0 918.955 0 1024 105.067 1024 234.667z m-85.333 0c0-82.475-67.03-149.334-149.334-149.334C706.86 85.333 640 152.363 640 234.667V384h149.333c82.475 0 149.334-67.03 149.334-149.333zM0 234.667C0 105.067 105.045 0 234.667 0c129.6 0 234.666 105.045 234.666 234.667v170.645a64 64 0 0 1-64.021 64.021H234.667C105.067 469.333 0 364.288 0 234.667z m85.333 0C85.333 316.97 152.192 384 234.667 384H384V234.667c0-82.304-66.859-149.334-149.333-149.334-82.304 0-149.334 66.859-149.334 149.334z m920.704 518.613c9.899 0 18.027 8.107 17.963 18.048v36.096c0 9.963-8.128 18.07-18.027 18.07H984.32c-9.899 0-20.437 7.743-23.424 17.215l-12.416 30.23c-4.672 8.768-2.773 21.717 4.224 28.693l15.403 15.36c7.04 7.04 7.04 18.517 0 25.557l-25.6 25.536a18.09 18.09 0 0 1-25.515 0l-15.296-15.36c-6.997-7.04-19.947-8.917-28.693-4.202l-30.251 12.437c-9.45 2.944-17.237 13.461-17.237 23.403v21.589a18.133 18.133 0 0 1-18.07 18.048h-36.074a18.133 18.133 0 0 1-18.091-18.048v-21.59c0-9.94-7.723-20.458-17.237-23.402l-30.294-12.437c-8.746-4.694-21.632-2.816-28.586 4.181l-15.424 15.381a18.07 18.07 0 0 1-25.494 0l-25.557-25.536a18.133 18.133 0 0 1 0-25.557l15.36-15.36c7.04-6.976 8.917-19.925 4.267-28.693l-12.502-30.23c-2.944-9.472-13.461-17.216-23.381-17.28h-21.675a18.09 18.09 0 0 1-18.069-18.026v-36.075c0-9.963 8.107-18.07 18.09-18.07h21.654c9.92 0 20.48-7.743 23.403-17.237l12.458-30.25c4.694-8.768 2.774-21.654-4.266-28.715l-15.318-15.36a18.048 18.048 0 0 1 0-25.536l25.536-25.493a18.027 18.027 0 0 1 25.494 0l15.402 15.36c7.04 6.997 19.904 8.917 28.672 4.224l30.23-12.395c9.514-2.965 17.237-13.483 17.237-23.467v-21.653a18.133 18.133 0 0 1 18.09-18.07h36.075a18.133 18.133 0 0 1 18.07 18.07v21.675c0 9.941 7.786 20.48 17.237 23.402l30.187 12.438c8.768 4.693 21.696 2.773 28.693-4.224l15.403-15.36a18.048 18.048 0 0 1 25.536 0l25.557 25.536c7.04 6.997 7.04 18.474 0 25.536l-15.36 15.36c-7.04 7.04-8.917 19.946-4.245 28.672l12.416 30.25c2.986 9.494 13.482 17.238 23.402 17.238h21.718z m-136.064 34.645a82.048 82.048 0 1 0-164.117 0 82.048 82.048 0 0 0 82.07 82.027 82.027 82.027 0 0 0 82.047-82.027z","p-id":"27003",fill:"#666666"})],-1),nH=[tH],iH={key:10,class:"d-flex"},oH=b("svg",{t:"1684570575382",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"12309",width:"16",height:"16"},[b("path",{d:"M127.758244 383.101281h63.815421v-63.814398h-63.495126V64.024176H63.622528v255.262707h64.135716zM191.856098 64.024176h63.815421v255.262707h-63.815421zM319.769372 64.024176h63.815422v255.262707h-63.815422zM255.671519 319.286883h63.815421v63.814398h-63.815421zM448.996572 62.385862h63.816445v63.815422h-63.816445zM448.996572 191.655018h63.816445v191.446263h-63.816445zM640.435673 255.470439h63.814397v-63.815421h-63.814397V64.024176h-63.817468v319.077105h63.817468zM704.25007 255.470439h63.816445v63.816444h-63.816445zM768.066515 319.286883h63.814398v63.814398H768.066515zM768.066515 127.838573h63.815421V64.024176H768.066515v62.177108h-63.816445v63.816444h63.816445zM896.560004 64.024176h63.816445v63.814397h-63.816445zM896.560004 191.655018h63.816445v191.446263h-63.816445zM63.622528 961.614138h896.753921V447.367981H63.622528V961.614138z m512.997723-385.068076h319.077106v320.625368h-63.816444V704.419428H768.066515v63.572897h-63.814398v-63.814398h63.814398v-63.814397H576.620251v-63.817468z m-0.002046 256.809947h63.816444v-63.814398h63.814398v63.814398h-63.814398v63.814397h-63.816444v-63.814397z m-448.719768-256.809947h255.544117v63.816444H127.898437v-63.816444z m0 127.630842h255.54514v63.816445H127.898437v-63.816445z m0 129.178081h127.913275v63.816445h-127.913275v-63.816445z",fill:"#666666","p-id":"12310"})],-1),rH=[oH],sH={key:11,class:"d-flex"},aH=b("svg",{t:"1677987051945",class:"icon",viewBox:"0 0 1208 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7129",width:"16",height:"16"},[b("path",{d:"M1091.74871 0.012949H116.540212a116.540212 116.540212 0 0 0-116.540212 116.540212v593.474558a116.540212 116.540212 0 0 0 116.540212 116.540212h448.757512v119.738594H255.63743a38.846737 38.846737 0 0 0 0 77.693475H952.651492a38.846737 38.846737 0 0 0 0-77.693475H642.991199v-119.738594h448.757511a116.540212 116.540212 0 0 0 116.540213-116.540212V116.553161a116.540212 116.540212 0 0 0-116.540213-116.540212z m38.846738 710.01477a38.846737 38.846737 0 0 1-38.846738 38.846737H116.540212a38.846737 38.846737 0 0 1-38.846737-38.846737V116.553161a38.846737 38.846737 0 0 1 38.846737-38.846737h975.208498a38.846737 38.846737 0 0 1 38.846738 38.846737z",fill:"#666666","p-id":"7130"}),b("path",{d:"M924.604148 338.186748l-120.282448 131.884673a13.790592 13.790592 0 0 1-17.247952 4.05301L472.661204 303.017501a90.642387 90.642387 0 0 0-112.292969 20.511078L200.190187 501.796257a38.846737 38.846737 0 1 0 57.778048 51.925139l160.190996-178.267678a13.777643 13.777643 0 0 1 17.351543-4.182499l314.425493 171.132828a90.771877 90.771877 0 0 0 111.787962-19.954275l120.282448-131.884673a38.846737 38.846737 0 1 0-57.402529-52.352454z",fill:"#666666","p-id":"7131"})],-1),lH=[aH],cH={key:12,class:"d-flex"},dH=b("svg",{t:"1688367738022",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1468",width:"16",height:"16"},[b("path",{d:"M0 64v896h1024V64H0z m960 832H64V128h896v768zM896 192H128v640h768V192zM448 512h-64v64h-64v64H256v-64h64v-64h64v-64h-64v-64H256v-64h64v64h64v64h64v64z m256 128h-192v-64h192v64z","p-id":"1469",fill:"#666666"})],-1),uH=[dH],hH={class:"flex-fill ms-3"},fH={class:"flex-column"},pH={class:"flex-fill d-flex w-100"},mH={class:"flex-fill w-100"},lo={__name:"route",props:["to","icon"],setup(i){return(r,l)=>{const o=Ht("router-link");return F(),U("div",xU,[b("div",SU,[i.icon==="Main"?(F(),U("div",EU,TU)):ve("",!0),i.icon==="Projects"?(F(),U("div",IU,PU)):ve("",!0),i.icon==="Terminal"?(F(),U("div",OU,LU)):ve("",!0),i.icon==="Wiki"?(F(),U("div",RU,$U)):ve("",!0),i.icon==="TeamManager"?(F(),U("div",jU,FU)):ve("",!0),i.icon==="TeamMember"?(F(),U("div",VU,HU)):ve("",!0),i.icon==="TeamSetting"?(F(),U("div",WU,KU)):ve("",!0),i.icon==="OKR"?(F(),U("div",YU,ZU)):ve("",!0),i.icon==="OKR-S"?(F(),U("div",QU,XU)):ve("",!0),i.icon==="ProjectSetting"?(F(),U("div",eH,nH)):ve("",!0),i.icon==="WikiSetting"?(F(),U("div",iH,rH)):ve("",!0),i.icon==="Dashboard"?(F(),U("div",sH,lH)):ve("",!0),i.icon==="TerminalSetting"?(F(),U("div",cH,uH)):ve("",!0)]),b("div",hH,[b("div",fH,[b("div",pH,[b("div",mH,[ue(o,{to:i.to},{default:qe(()=>[rt(_e(i.to.params.title),1)]),_:1},8,["to"])])])])])])}}};const l1=i=>(Kt("data-v-45677b46"),i=i(),Yt(),i),gH={class:"flex-fill pt-4"},_H={class:"p-0"},bH=l1(()=>b("li",null,[b("span")],-1)),vH=l1(()=>b("li",null,[b("span")],-1)),kH=l1(()=>b("div",{class:"flex-fill"},[rt("更多配置 "),b("sub",null,[b("i",{class:"bi bi-three-dots"})])],-1)),wH={key:0,class:"mb-3 sidebar-bottom-margin-up"},yH={class:"p-0"},CH={__name:"sidebar",setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ve({currentIndex:1,team:l.params.team,teamName:"",isLoad:!1,sidebar:localStorage.getItem("sidebar")??"true",isOpen:!1,arrowShift:"down"});Ue(()=>{o.team=l.params.team,o.currentIndex=l.meta.tagIndex,d(),u(),r.bus.on("showSidebar",function(){o.sidebar="true"}),r.bus.on("updateTeam",function(){d()})});let d=()=>{r.get(r.urls.team_get.format(o.team)).then(function(h){o.teamName=h.data.name,o.isLoad=!0}).catch(function(){o.isLoad=!0})},m=()=>{o.isOpen?(o.isOpen=!1,o.arrowShift="down"):(o.isOpen=!0,o.arrowShift="up")},u=()=>{(l.meta.title==="团队配置中心"||l.meta.title==="项目配置中心"||l.meta.title==="文档配置中心"||l.meta.title==="目标配置中心"||l.meta.title==="终端配置中心")&&(o.isOpen=!0,o.arrowShift="up")};return Bt(()=>l.params,h=>{o.currentIndex=l.meta.tagIndex,o.team!==l.params.team&&l.params.team&&(o.team=l.params.team,d())}),(h,f)=>(F(),U("div",{class:je(["flex-column flex sidebar layout-bg border-end overflow-auto",{open:P(o).sidebar==="true",close:P(o).sidebar==="false"}])},[b("div",gH,[b("ul",_H,[b("li",{class:je({active:P(o).currentIndex===1})},[ue(lo,{icon:"Main",to:{name:"Overview",params:{team:P(o).team,type:"overview",title:"我的工作台"}}},null,8,["to"])],2),bH,b("li",{class:je({active:P(o).currentIndex===33})},[ue(lo,{icon:"Dashboard",to:{name:"Dashboard",params:{team:P(o).team,type:"dashboard",title:"任务看板"}}},null,8,["to"])],2),b("li",{class:je({active:P(o).currentIndex===21})},[ue(lo,{icon:"Projects",to:{name:"Projects",params:{team:P(o).team,title:"项目管理"}}},null,8,["to"])],2),b("li",{class:je({active:P(o).currentIndex===23})},[ue(lo,{icon:"Wiki",to:{name:"Spaces",params:{team:P(o).team,title:"文档管理"}}},null,8,["to"])],2),b("li",{class:je({active:P(o).currentIndex===44})},[ue(lo,{icon:"Terminal",to:{name:"Terminal",params:{team:P(o).team,title:"终端管理"}}},null,8,["to"])],2),b("li",{class:je({active:P(o).currentIndex===55})},[ue(lo,{icon:"OKR",to:{name:"TeamObjective",params:{team:P(o).team,title:"目标管理"}}},null,8,["to"])],2),vH,b("li",{class:je({active:P(o).currentIndex===26})},[ue(lo,{icon:"TeamManager",to:{name:"Manager",params:{team:P(o).team,title:"团队管理"}}},null,8,["to"])],2),b("li",{class:je({active:P(o).currentIndex===27})},[ue(lo,{icon:"TeamMember",to:{name:"Member",params:{team:P(o).team,title:"成员管理"}}},null,8,["to"])],2)])]),b("div",{class:"d-flex flex-row border-top align-items-center py-3 ps-2 pointer fs-6 position-relative sidebar-bottom-margin-up arrow",onClick:f[0]||(f[0]=(...g)=>P(m)&&P(m)(...g))},[kH,b("div",{class:je([P(o).arrowShift,"pe-4"])},null,2)]),P(o).isOpen?(F(),U("div",wH,[b("ul",yH,[b("li",{class:je({active:P(o).currentIndex===81})},[ue(lo,{icon:"TeamSetting",to:{name:"TeamSetting",params:{team:P(o).team,type:"permission",title:"团队配置中心"}}},null,8,["to"])],2),b("li",{class:je({active:P(o).currentIndex===82})},[ue(lo,{icon:"ProjectSetting",to:{name:"ProjectSettingManager",params:{team:P(o).team,title:"项目配置中心"}}},null,8,["to"])],2),b("li",{class:je({active:P(o).currentIndex===83})},[ue(lo,{icon:"WikiSetting",to:{name:"WikiSetting",params:{team:P(o).team,type:"list",title:"文档配置中心"}}},null,8,["to"])],2),b("li",{class:je({active:P(o).currentIndex===90})},[ue(lo,{icon:"TerminalSetting",to:{name:"TerminalServer",params:{team:P(o).team,title:"终端配置中心"}}},null,8,["to"])],2),b("li",{class:je({active:P(o).currentIndex===84})},[ue(lo,{icon:"OKR-S",to:{name:"OKRSetting",params:{team:P(o).team,type:"period",title:"目标配置中心"}}},null,8,["to"])],2)])])):ve("",!0)],2))}},AH=Tt(CH,[["__scopeId","data-v-45677b46"]]),xH={class:"flex-row flex flex-fill bg-white layout-w",style:{height:"0"}},e5={__name:"main",setup(i){return(r,l)=>{const o=Ht("router-view");return F(),U("div",xH,[ue(AH),ue(o)])}}},SH={},EH={class:"position-absolute bottom-0"},DH=b("div",{class:"flex-row align-items-center flex justify-content-center copyright mb-2"},[b("div",null,[rt(" Copyright ©2020 "),b("a",{href:"/"},"爱斯园")]),b("div",{class:"ms-1"},[b("a",{href:"https://beian.miit.gov.cn",target:"_blank"},"粤ICP备2020117325号-3")])],-1),TH=[DH];function IH(i,r){return F(),U("div",EH,TH)}const c1=Tt(SH,[["render",IH]]);const p6=i=>(Kt("data-v-e6962ca0"),i=i(),Yt(),i),MH={class:"flex-row flex align-items-center justify-content-center w-100 h-100 bg-banner"},PH={style:{width:"900px",height:"600px"},class:"flex-row flex align-items-center justify-content-center position-relative overflow-hidden layout-bg"},OH=Po('<div style="width:900px;height:600px;" class="position-absolute" data-v-e6962ca0><i class="bi bi-circle-fill" style="font-size:18rem;position:absolute;color:rgba(255, 206, 86, 0.3);top:-80px;left:230px;" data-v-e6962ca0></i><i class="bi bi-circle-fill" style="font-size:25rem;position:absolute;color:rgba(75, 192, 192, 0.3);top:-60px;left:-20px;" data-v-e6962ca0></i><i class="bi bi-circle-fill" style="font-size:40rem;position:absolute;color:rgba(255, 99, 132, 0.3);top:20px;left:570px;" data-v-e6962ca0></i><i class="bi bi-circle-fill" style="font-size:30rem;position:absolute;color:rgba(153, 102, 255, 0.3);top:35px;left:220px;" data-v-e6962ca0></i></div>',1),BH={style:{width:"600px",height:"400px"},class:"flex-column flex justify-content-center position-absolute bg-white enter"},LH={class:"flex-column flex flex-fill my-4 mx-5 py-4 px-5"},RH=p6(()=>b("div",{class:"flex-row flex align-items-center fs-c10"},[rt("登录 Jitask 项目管理系统"),b("sup",{class:"navbar-color ms-1"},"beta")],-1)),NH={class:"flex-row flex align-items-center py-5"},$H={class:"flex-row flex align-items-center"},jH={class:"align-items-center text-end mt-2"},zH=p6(()=>b("div",{class:"flex-row flex align-items-center justify-content-center mt-4 color-light"}," 演示版本，点击登录进入系统，欢迎体验并给我反馈 ",-1)),FH={style:{flex:"0 0 48px"},class:"flex-row flex align-items-center bg-banner"},VH={__name:"index",setup(i){const{proxy:r}=Ke();let l=at(),o=et("soul@iissy.com"),d=et("S0se4r5t2"),m=()=>{let h={email:o.value,password:d.value};r.post(r.urls.login_url,h).then(function(f){var g,y,k,v,A,T;(y=(g=f.data)==null?void 0:g.user)!=null&&y.uuid&&((v=(k=f.data)==null?void 0:k.user)!=null&&v.token)&&(Hx(f.data.user.uuid),localStorage.setItem("token",f.data.user.token),(T=(A=f.data)==null?void 0:A.user)!=null&&T.default_team?l.push({name:"Overview",params:{team:f.data.user.default_team,type:"overview"}}):l.push({name:"Select"}))}).catch(function(f){r.bus.emit("alertDanger",f.response.data.error)})},u=()=>{l.push({name:"Reg"})};return(h,f)=>{const g=Ht("router-link");return F(),U("div",MH,[b("div",PH,[OH,b("div",BH,[b("div",LH,[RH,b("div",NH,[ct(b("input",{type:"text","onUpdate:modelValue":f[0]||(f[0]=y=>hn(o)?o.value=y:o=y),class:"login-name",placeholder:"Email",autocomplete:"off",onKeyup:f[1]||(f[1]=St((...y)=>P(m)&&P(m)(...y),["enter"]))},null,544),[[gt,P(o)]])]),b("div",$H,[ct(b("input",{type:"password","onUpdate:modelValue":f[2]||(f[2]=y=>hn(d)?d.value=y:d=y),class:"login-name",placeholder:"Password",autocomplete:"off",onKeyup:f[3]||(f[3]=St((...y)=>P(m)&&P(m)(...y),["enter"]))},null,544),[[gt,P(d)]])]),b("div",jH,[ue(g,{to:{name:"Forgot",params:{title:"忘记密码"}}},{default:qe(()=>[rt("忘记密码")]),_:1})]),zH]),b("div",FH,[b("div",{class:"flex-row flex flex-fill h-100 ps-4 align-items-center pointer bg-thin reg",onClick:f[4]||(f[4]=(...y)=>P(u)&&P(u)(...y))}," 注册 "),b("div",{class:"flex-row flex flex-fill h-100 pe-4 align-items-center pointer justify-content-end login",onClick:f[5]||(f[5]=(...y)=>P(m)&&P(m)(...y))}," 登录 ")])]),ue(c1)])])}}},UH=Tt(VH,[["__scopeId","data-v-e6962ca0"]]);const vf=i=>(Kt("data-v-76c5dff4"),i=i(),Yt(),i),HH={class:"flex-row flex align-items-center justify-content-center h-100 w-100 bg-banner"},WH={style:{width:"900px",height:"600px"},class:"flex-row flex align-items-center justify-content-center overflow-hidden position-relative layout-bg"},GH=Po('<div style="width:900px;height:600px;" class="position-absolute" data-v-76c5dff4><i class="bi bi-circle-fill" style="font-size:10rem;position:absolute;color:rgba(255, 206, 86, 0.3);top:-50px;left:150px;" data-v-76c5dff4></i><i class="bi bi-circle-fill" style="font-size:20rem;position:absolute;color:rgba(75, 192, 192, 0.3);top:-150px;left:-120px;" data-v-76c5dff4></i><i class="bi bi-circle-fill" style="font-size:30rem;position:absolute;color:rgba(255, 99, 132, 0.3);top:200px;left:600px;" data-v-76c5dff4></i><i class="bi bi-circle-fill" style="font-size:19rem;position:absolute;color:rgba(153, 102, 255, 0.3);top:230px;left:350px;" data-v-76c5dff4></i><i class="bi bi-circle-fill" style="font-size:18rem;position:absolute;color:rgba(0, 191, 255, 0.1);top:300px;left:-50px;" data-v-76c5dff4></i><i class="bi bi-circle-fill" style="font-size:15rem;position:absolute;color:rgba(0, 128, 0, 0.1);top:100px;left:680px;" data-v-76c5dff4></i></div>',1),KH={style:{width:"800px",height:"500px",padding:"30px"},class:"flex-column flex bg-white position-absolute"},YH={class:"flex-row flex h-100"},qH={class:"flex-column flex flex-fill me-4 pe-2",style:{width:"50%"}},ZH=vf(()=>b("div",{class:"flex-row flex fs-c10 fw-bolder"},"请提交您的资料，才可以加入或创建团队",-1)),QH={class:"flex-fill"},JH={class:"flex-row flex align-items-center pt-1 my-4"},XH={style:{flex:"1 1 70%"}},eW={style:{flex:"1 1 40%","text-align":"right"}},tW=["disabled"],nW={class:"flex-row flex align-items-center"},iW={class:"flex-row flex align-items-center pt-4"},oW=vf(()=>b("input",{type:"text",class:"nope"},null,-1)),rW={class:"flex-row flex align-items-center py-4"},sW=["type"],aW=vf(()=>b("input",{type:"text",class:"nope"},null,-1)),lW={class:"flex-row flex align-items-center pb-4"},cW=["type"],dW={class:"flex-row flex align-items-center justify-content-center mt-4"},uW={class:"me-2",style:{flex:"0 0 80px"}},hW={class:"flex-fill"},fW={class:"flex-column flex flex-fill justify-content-center border-start w-50"},pW={style:{opacity:"0.8"},class:"mb-4 ps-2 text-center"},mW=["src"],gW={class:"flex-column flex flex-fill"},_W={style:{flex:"1","text-align":"left"}},bW=vf(()=>b("div",{style:{flex:"0 0 auto",color:"#1e7e34"}},[b("i",{class:"bi bi-check"})],-1)),vW={__name:"reg",setup(i){const{proxy:r}=Ke();let l=at(),o=Ve({s_type:"text",sc_type:"text",items:[{uuid:"a",name:"团队管理，任务管理，权限配置"},{uuid:"b",name:"页面组管理，文档资料管理"},{uuid:"c",name:"个人工作台，项目报表，项目进展"},{uuid:"d",name:"版本管理，路线图规划"},{uuid:"e",name:"Web 终端管理，分组授权"},{uuid:"f",name:"OKR，管理每个周期目标"}],teamIcon:"/images/team.jpg",s_email:"",s_code:"",s_name:"",s_password:"",sc_password:"",sendBtnDisabled:!1});Ue(()=>{});let d=()=>{l.push({name:"Index"})},m=()=>{if(!o.s_email){r.bus.emit("alertDanger","请输入邮箱地址");return}if(!o.s_code){r.bus.emit("alertDanger","请输入验证码");return}if(!o.s_name){r.bus.emit("alertDanger","请输入有效的用户名");return}if(o.s_code.length!==6){r.bus.emit("alertDanger","验证码是六位数字");return}if(!o.s_password){r.bus.emit("alertDanger","请输入密码");return}if(o.s_password!==o.sc_password){r.bus.emit("alertDanger","两次输入密码的密码不同");return}let h={email:o.s_email,code:o.s_code,name:o.s_name,password:o.s_password};r.post(r.urls.user_create,h).then(function(f){f.data.code===200&&l.push({name:"Index"})}).catch(function(f){r.bus.emit("alertDanger",f.response.data.error)})},u=()=>{if(o.sendBtnDisabled=!0,!o.s_email){o.sendBtnDisabled=!1,r.bus.emit("alertDanger","请输入邮箱地址");return}let h={email:o.s_email};r.post(r.urls.user_send_email,h).then(function(f){f.data.code===200&&(o.sendBtnDisabled=!1,r.bus.emit("alertSuccess","发送邮件成功"))}).catch(function(f){o.sendBtnDisabled=!1,r.bus.emit("alertDanger",f.response.data.error)})};return Bt(()=>[o.s_password,o.sc_password],h=>{h[0].length>0?o.s_type="password":o.s_type="text",h[1].length>0?o.sc_type="password":o.ss_type="text"}),(h,f)=>(F(),U("div",HH,[b("div",WH,[GH,b("div",KH,[b("div",YH,[b("div",qH,[ZH,b("div",QH,[b("div",JH,[b("div",XH,[ct(b("input",{type:"text","onUpdate:modelValue":f[0]||(f[0]=g=>P(o).s_email=g),class:"form-control reg-input",placeholder:"请输入有效邮箱地址",autocomplete:"off"},null,512),[[gt,P(o).s_email,void 0,{trim:!0}]])]),b("div",eW,[b("button",{type:"button",class:"btn btn-outline-primary",style:{height:"40px",outline:"none","box-shadow":"none"},disabled:P(o).sendBtnDisabled,onClick:f[1]||(f[1]=(...g)=>P(u)&&P(u)(...g))},"发送邮件验证码",8,tW)])]),b("div",nW,[ct(b("input",{type:"text","onUpdate:modelValue":f[2]||(f[2]=g=>P(o).s_code=g),class:"form-control reg-input",placeholder:"请输入 6 位数字验证码",autocomplete:"off"},null,512),[[gt,P(o).s_code,void 0,{trim:!0}]])]),b("div",iW,[ct(b("input",{type:"text","onUpdate:modelValue":f[3]||(f[3]=g=>P(o).s_name=g),class:"form-control reg-input",placeholder:"用户名",autocomplete:"off"},null,512),[[gt,P(o).s_name,void 0,{trim:!0}]])]),oW,b("div",rW,[ct(b("input",{type:P(o).s_type,"onUpdate:modelValue":f[4]||(f[4]=g=>P(o).s_password=g),class:"form-control reg-input",placeholder:"密码应为8-32位，必须同时包含数字字母",autocomplete:"off",onKeyup:f[5]||(f[5]=St((...g)=>P(m)&&P(m)(...g),["enter"]))},null,40,sW),[[Al,P(o).s_password,void 0,{trim:!0}]])]),aW,b("div",lW,[ct(b("input",{type:P(o).sc_type,"onUpdate:modelValue":f[6]||(f[6]=g=>P(o).sc_password=g),class:"form-control reg-input",placeholder:"密码应为8-32位，必须同时包含数字字母",autocomplete:"off",onKeyup:f[7]||(f[7]=St((...g)=>P(m)&&P(m)(...g),["enter"]))},null,40,cW),[[Al,P(o).sc_password,void 0,{trim:!0}]])]),b("div",dW,[b("div",uW,[b("button",{type:"button",class:"btn btn-outline-secondary w-100",style:{height:"40px",outline:"none","box-shadow":"none"},onClick:f[8]||(f[8]=(...g)=>P(d)&&P(d)(...g))},"返回")]),b("div",hW,[b("button",{type:"button",class:"btn btn-primary",style:{height:"40px",width:"100%",outline:"none","box-shadow":"none"},onClick:f[9]||(f[9]=(...g)=>P(m)&&P(m)(...g))},"提交注册")])])])]),b("div",fW,[b("div",pW,[b("img",{src:P(o).teamIcon,width:"300",height:"200"},null,8,mW)]),b("div",gW,[(F(!0),U(xe,null,Xe(P(o).items,g=>(F(),U("div",{key:g.uuid,class:"flex-row flex border-bottom align-items-center py-2 ms-4"},[b("div",_W,_e(g.name),1),bW]))),128))])])])]),ue(c1)])]))}},kW=Tt(vW,[["__scopeId","data-v-76c5dff4"]]),wW={class:"modal fade",id:"addTeam","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},yW={class:"modal-dialog modal-lg modal-dialog-scrollable"},CW={class:"modal-content"},AW=b("div",{class:"modal-header"},[b("h5",{class:"modal-title",id:"staticBackdropLabel"},"创建团队"),b("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),xW={class:"modal-body"},SW={ref:"form"},EW={class:"d-flex flex-row"},DW={class:"flex-column flex flex-fill py-3 px-4"},TW={class:"flex-row flex align-items-center"},IW={style:{flex:"1 1 70%"}},MW={style:{flex:"1 1 30%","text-align":"right"}},PW=["disabled"],OW={class:"flex-row flex align-items-center mt-4"},BW={class:"flex-row flex align-items-center mt-4"},LW=b("div",{class:"text-center color-light mt-4"}," 演示版，请输入合法的手机号码，验证码文本框将自动填充 ",-1),RW=b("div",{class:"d-flex border-start p-4",style:{flex:"0 0 40%"}}," 一个账号可以创建一个团队，同时还可以选择加入多个团队，并可设置默认登陆到哪个团队。 ",-1),NW={class:"modal-footer"},$W=b("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"取消",-1),jW=["disabled"],m6={__name:"teams_create",emits:["loadTeam"],setup(i,{emit:r}){const{proxy:l}=Ke();at(),tt();let o=Ve({team_name:"",s_phone:"",s_code:"",sendBtnDisabled:!1,createBtnDisabled:!1}),d=null;Ue(()=>{d=new bootstrap.Modal(document.getElementById("addTeam"),{keyboard:!1})});let m=()=>{if(o.sendBtnDisabled=!0,!o.s_phone){l.bus.emit("alertDanger","请输入手机号码"),o.sendBtnDisabled=!1;return}let h={phone:o.s_phone};l.post(l.urls.send_phone_code,h).then(function(f){f.data.code&&(o.s_code=f.data.code,o.sendBtnDisabled=!1)}).catch(function(f){l.bus.emit("alertDanger",f.response.data.error),o.sendBtnDisabled=!1})},u=()=>{if(o.createBtnDisabled=!0,!o.s_phone){l.bus.emit("alertDanger","请输入手机号码"),o.createBtnDisabled=!1;return}if(!o.team_name){l.bus.emit("alertDanger","请输入团队名称"),o.createBtnDisabled=!1;return}let h={team_name:o.team_name,phone:o.s_phone,phone_code:o.s_code,team_role:"admin"};l.post(l.urls.teams_create,h).then(function(f){var g;(g=f.data)!=null&&g.team&&(d.hide(),r("loadTeam",f.data.team))}).catch(function(f){o.createBtnDisabled=!1,l.bus.emit("alertDanger",f.response.data.error)})};return(h,f)=>(F(),U("div",wW,[b("div",yW,[b("div",CW,[AW,b("div",xW,[b("form",SW,[b("div",EW,[b("div",DW,[b("div",TW,[b("div",IW,[ct(b("input",{type:"text","onUpdate:modelValue":f[0]||(f[0]=g=>P(o).s_phone=g),class:"form-control reg-input",placeholder:"请输入手机号码",autocomplete:"off"},null,512),[[gt,P(o).s_phone,void 0,{trim:!0}]])]),b("div",MW,[b("button",{type:"button",class:"btn btn-outline-primary",style:{height:"40px",outline:"none","box-shadow":"none"},disabled:P(o).sendBtnDisabled,onClick:f[1]||(f[1]=(...g)=>P(m)&&P(m)(...g))},"发送验证码",8,PW)])]),b("div",OW,[ct(b("input",{type:"text","onUpdate:modelValue":f[2]||(f[2]=g=>P(o).s_code=g),class:"form-control reg-input",placeholder:"请输入 6 位数字验证码",autocomplete:"off"},null,512),[[gt,P(o).s_code,void 0,{trim:!0}]])]),b("div",BW,[ct(b("input",{type:"text","onUpdate:modelValue":f[3]||(f[3]=g=>P(o).team_name=g),class:"form-control reg-input",placeholder:"请输入团队名称",autocomplete:"off",onKeyup:f[4]||(f[4]=St((...g)=>P(u)&&P(u)(...g),["enter"]))},null,544),[[gt,P(o).team_name,void 0,{trim:!0}]])]),LW]),RW])],512)]),b("div",NW,[$W,b("button",{type:"button",class:"btn btn-primary",style:{outline:"none","box-shadow":"none"},disabled:P(o).createBtnDisabled,onClick:f[5]||(f[5]=(...g)=>P(u)&&P(u)(...g))},"创建团队",8,jW)])])])]))}},zW=Po('<div class="flex-row flex flex-fill bg-white"><div class="m-5"><div class="d-flex flex-row align-items-center justify-content-center"><div class="d-flex flex-row align-items-center justify-content-center rounded-circle border text-grey" style="width:200px;height:200px;"> 等待加入团队 </div><div class="d-flex flex-row align-items-center justify-content-center rounded-circle" style="width:200px;height:200px;font-size:25px;"> 或 </div><div class="ms-5 d-flex flex-row align-items-center justify-content-center rounded-circle border pointer color-hover" data-bs-toggle="modal" data-bs-target="#addTeam" style="width:200px;height:200px;font-size:30px;"> + 创建团队 </div></div></div></div>',1),FW={__name:"select",setup(i){let r=at(),l=o=>{r.push({name:"Overview",params:{team:o,type:"overview"}})};return(o,d)=>(F(),U(xe,null,[zW,ue(m6,{onLoadTeam:P(l)},null,8,["onLoadTeam"])],64))}};const VW={id:"logout"},UW={__name:"logout",setup(i){let{proxy:r}=Ke();return Ue(()=>{r.get(r.urls.logout).then(function(){localStorage.clear(),window.location.href="/"}).catch(function(){window.location.href="/"})}),(l,o)=>(F(),U("div",VW," Bye-Bye, Baby! "))}},HW=Tt(UW,[["__scopeId","data-v-5d793d62"]]);const d1=i=>(Kt("data-v-31b7ad74"),i=i(),Yt(),i),WW={class:"flex-row flex align-items-center justify-content-center w-100 h-100 forgot-input bg-banner"},GW={style:{width:"900px",height:"600px"},class:"flex-row flex align-items-center justify-content-center position-relative overflow-hidden layout-bg"},KW=Po('<div style="width:900px;height:600px;" class="position-absolute" data-v-31b7ad74><i class="bi bi-circle-fill" style="font-size:18rem;position:absolute;color:rgba(255, 206, 86, 0.3);top:-80px;left:230px;" data-v-31b7ad74></i><i class="bi bi-circle-fill" style="font-size:25rem;position:absolute;color:rgba(75, 192, 192, 0.3);top:-60px;left:-20px;" data-v-31b7ad74></i><i class="bi bi-circle-fill" style="font-size:40rem;position:absolute;color:rgba(255, 99, 132, 0.3);top:20px;left:570px;" data-v-31b7ad74></i><i class="bi bi-circle-fill" style="font-size:30rem;position:absolute;color:rgba(153, 102, 255, 0.3);top:35px;left:220px;" data-v-31b7ad74></i></div>',1),YW={style:{width:"600px",height:"400px"},class:"flex-column flex align-items-center justify-content-center position-absolute bg-white enter"},qW={class:"d-flex flex-fill flex-column justify-content-center w-75"},ZW=d1(()=>b("div",{class:"flex-row flex align-items-center fs-c10"},"通过邮箱地址，重置用户密码",-1)),QW={class:"mt-4 pt-3"},JW={class:"col-md-10"},XW={class:"d-flex mt-3 col-md-10"},eG={class:"col-md-8"},tG={class:"col-md-4 ms-2"},nG=["disabled"],iG=d1(()=>b("input",{type:"text",class:"nope"},null,-1)),oG={class:"mt-3"},rG={class:"col-md-10 mt-1"},sG=["type"],aG=d1(()=>b("input",{type:"text",class:"nope"},null,-1)),lG={class:"mt-3"},cG={class:"col-md-10 mt-1"},dG=["type"],uG={style:{flex:"0 0 48px"},class:"flex-row flex align-items-center w-100"},hG={__name:"forgot",setup(i){const r=at(),{proxy:l}=Ke();let o=Ve({s_email:"",s_code:"",new_password:"",confirm_new_password:"",disabled:!1,sendBtnDisabled:!1,s_type:"text",sc_type:"text"}),d=()=>{r.push({name:"Index"})},m=()=>{if(o.sendBtnDisabled=!0,!o.s_email){o.sendBtnDisabled=!1,l.bus.emit("alertDanger","请输入邮箱地址");return}let h={email:o.s_email};l.post(l.urls.user_send_email_forgot,h).then(function(f){f.data.code===200&&(o.sendBtnDisabled=!1,l.bus.emit("alertSuccess","发送邮件成功"))}).catch(function(f){o.sendBtnDisabled=!1,l.bus.emit("alertDanger",f.response.data.error)})},u=()=>{if(!o.s_email){o.sendBtnDisabled=!1,l.bus.emit("alertDanger","请输入邮箱地址");return}if(!o.s_code){l.bus.emit("alertDanger","请输入验证码");return}if(!o.new_password){l.bus.emit("alertDanger","请输入新密码");return}if(!o.confirm_new_password){l.bus.emit("alertDanger","请确认新密码");return}let h={email:o.s_email,code:o.s_code,password:o.new_password,confirm_password:o.confirm_new_password};l.post(l.urls.password_redo,h).then(function(f){f.data.code===200&&(l.bus.emit("alertSuccess","重置密码成功"),r.push({name:"Index"}))}).catch(function(f){l.bus.emit("alertDanger",f.response.data.error)})};return Bt(()=>[o.new_password,o.confirm_new_password],h=>{h[0].length>0?o.s_type="password":o.s_type="text",h[1].length>0?o.sc_type="password":o.ss_type="text"}),(h,f)=>(F(),U("div",WW,[b("div",GW,[KW,b("div",YW,[b("div",qW,[ZW,b("div",QW,[b("div",JW,[ct(b("input",{type:"text","onUpdate:modelValue":f[0]||(f[0]=g=>P(o).s_email=g),class:"form-control",placeholder:"我的邮箱地址"},null,512),[[gt,P(o).s_email]])])]),b("div",XW,[b("div",eG,[ct(b("input",{type:"text","onUpdate:modelValue":f[1]||(f[1]=g=>P(o).s_code=g),class:"form-control",placeholder:"请输入 6 位数字验证码",autocomplete:"off"},null,512),[[gt,P(o).s_code,void 0,{trim:!0}]])]),b("div",tG,[b("button",{type:"button",class:"btn btn-outline-primary",style:{height:"40px",outline:"none","box-shadow":"none"},disabled:P(o).sendBtnDisabled,onClick:f[2]||(f[2]=(...g)=>P(m)&&P(m)(...g))},"发送邮件验证码",8,nG)])]),iG,b("div",oG,[b("div",rG,[ct(b("input",{type:P(o).s_type,"onUpdate:modelValue":f[3]||(f[3]=g=>P(o).new_password=g),name:"email",class:"form-control",placeholder:"新密码"},null,8,sG),[[Al,P(o).new_password]])])]),aG,b("div",lG,[b("div",cG,[ct(b("input",{type:P(o).sc_type,"onUpdate:modelValue":f[4]||(f[4]=g=>P(o).confirm_new_password=g),name:"phone",class:"form-control",placeholder:"确认密码"},null,8,dG),[[Al,P(o).confirm_new_password]])])])]),b("div",uG,[b("div",{class:"flex-row flex flex-fill h-100 ps-4 align-items-center pointer bg-thin reg w-50",onClick:f[5]||(f[5]=(...g)=>P(d)&&P(d)(...g))}," 返回 "),b("div",{class:"flex-row flex flex-fill h-100 pe-4 align-items-center pointer justify-content-end w-50 bf-forgot",onClick:f[6]||(f[6]=(...g)=>P(u)&&P(u)(...g))}," 重置 ")])]),ue(c1)])]))}},fG=Tt(hG,[["__scopeId","data-v-31b7ad74"]]),pG={},mG={class:"flex-row flex flex-fill layout-bg",style:{height:"0"}};function gG(i,r){const l=Ht("router-view");return F(),U("div",mG,[ue(l)])}const _G=Tt(pG,[["render",gG]]),bG={},vG={class:"flex-fill text-center pt-4 fs-5 bg-white"};function kG(i,r){return F(),U("div",vG,"帮助中心")}const wG=Tt(bG,[["render",kG]]),yG={key:0,class:"text-end pe-3 opacity-75"},CG=b("svg",{t:"1645494763845",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"8128",width:"32",height:"32"},[b("path",{d:"M1005.05 672.259a66.824 66.824 0 0 0-62.433-38H788.195a50.217 50.217 0 0 0 5.292-34.285 67.837 67.837 0 0 0-40.702-51.399 73.186 73.186 0 0 0-77.183 12.216l-12.667 10.922c-23.982 20.66-46.67 40.196-70.201 61.42h-50.78a26.065 26.065 0 0 0-25.277 26.74v248.888a28.148 28.148 0 0 0 8.388 18.353 29.668 29.668 0 0 0 18.296 7.037h53.989a104.937 104.937 0 0 1 11.54 6.249 96.436 96.436 0 0 0 15.707 8.05l10.866 6.756a67.556 67.556 0 0 0 17.79 4.053H799.23l-0.732-0.394a31.751 31.751 0 0 0 13.792-5.236 57.535 57.535 0 0 0 48.697-63.953 9.289 9.289 0 0 0-1.126-3.378 23.476 23.476 0 0 1-1.351-3.49 52.637 52.637 0 0 0 27.585-32.258 63.165 63.165 0 0 0-2.308-46.613 67.556 67.556 0 0 0 14.243-40.872h41.772a52.525 52.525 0 0 0 21.73-2.702 62.602 62.602 0 0 0 43.462-36.593 58.042 58.042 0 0 0 0.056-51.511z m-40.871 28.936a27.022 27.022 0 0 1-16.157 11.26h-0.563a14.187 14.187 0 0 1-9.627 2.364H854.85l-12.892 22.913 6.924 11.259a19.816 19.816 0 0 1 1.239 2.027 20.38 20.38 0 0 1-8.839 27.472l-8.444 7.038-2.871 22.518 7.205 7.206a17.396 17.396 0 0 1 3.66 19.254 26.065 26.065 0 0 1-17.621 13.68l-11.26 4.278-7.15 22.857 7.376 9.289a13.286 13.286 0 0 1 3.49 6.755 17.227 17.227 0 0 1-12.892 18.071 20.773 20.773 0 0 0-3.49 1.69h-0.394v0.393c-0.845 1.69-4.166 1.69-6.418 1.69H656.236l-12.948-6.644c-5.63-2.42-11.822-5.63-17.734-9.12-3.546-1.97-6.98-3.884-10.246-5.63a94.41 94.41 0 0 0-19.084-4.053h-35.13V676.087h33.779a31.639 31.639 0 0 0 23.757-8.332c12.442-10.809 24.602-21.562 36.762-32.314 15.988-14.13 32.54-28.768 49.484-43.405a21.055 21.055 0 0 1 26.798-6.193c8.275 5.63 13.792 10.246 13.792 15.932a18.86 18.86 0 0 1-7.43 16.89l-2.365 2.42c-18.072 11.26-24.546 23.982-19.141 38a30.738 30.738 0 0 0 26.516 15.37h197.488c12.892 0 19.93 3.996 23.588 13.68a12.329 12.329 0 0 1 0.057 13.06z",fill:"#FFCC00","p-id":"8129"}),b("path",{d:"M448.952 956.444H103.403a21.168 21.168 0 0 1-15.594-7.713 32.145 32.145 0 0 1-7.206-25.558c29.894-219.557 198.952-386.364 396.385-394.077 4.785 0 9.626 0.394 14.524 0.394 145.921 0 264.594-133.704 264.594-264.594a264.594 264.594 0 1 0-409.895 220.852A472.103 472.103 0 0 0 173.718 592.43C87.47 675.75 30.668 789.75 13.723 914.053a99.645 99.645 0 0 0 23.25 78.815 88.555 88.555 0 0 0 66.487 30.85h345.492a33.778 33.778 0 0 0 0-67.555z m-152.958-691.66a195.574 195.574 0 1 1 195.293 195.574 195.8 195.8 0 0 1-195.293-195.574z",fill:"#FFCC00","p-id":"8130"})],-1),AG=[CG],xG={key:1,class:"text-end pe-3 opacity-75"},SG=b("svg",{t:"1645494847486",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"11352",width:"32",height:"32"},[b("path",{d:"M780.288 570.7776a40.96 40.96 0 0 1 40.96 40.96v122.88h122.88a40.96 40.96 0 0 1 0 81.92h-122.88v122.88a40.96 40.96 0 1 1-81.92 0v-122.88h-122.88a40.96 40.96 0 1 1 0-81.92h122.88v-122.88a40.96 40.96 0 0 1 40.96-40.96zM503.125333 6.621867a262.826667 262.826667 0 1 1 0 525.653333l12.6976-0.2048a40.96 40.96 0 0 1-12.288 1.8432 368.64 368.64 0 0 0-368.64 368.64 40.96 40.96 0 1 1-81.92 0A450.7648 450.7648 0 0 1 346.112 480.256 262.826667 262.826667 0 0 1 503.125333 6.690133z m0 81.92a180.906667 180.906667 0 1 0 0 361.813333 180.906667 180.906667 0 0 0 0-361.813333z","p-id":"11353",fill:"#FFCC00"})],-1),EG=[SG],DG={key:2,class:"text-end pe-3 opacity-75"},TG=b("svg",{t:"1645494936833",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"13377",width:"32",height:"32"},[b("path",{d:"M954.656 674.096a43.12 43.12 0 0 0-34.72-28.576l-102.48-15.232-44.528-92.432a43.792 43.792 0 0 0-39.36-24.464 43.84 43.84 0 0 0-39.36 24.464l-44.512 92.432-102.496 15.216a43.2 43.2 0 0 0-34.72 28.608 41.952 41.952 0 0 0 10.224 43.632l75.36 75.232-17.472 104.32a42.624 42.624 0 0 0 17.984 42.016 44.384 44.384 0 0 0 25.008 7.616c7.184 0 14.384-1.696 20.88-5.152l89.12-47.968 89.184 47.984a44.16 44.16 0 0 0 20.88 5.232c8.944 0 17.568-2.656 24.976-7.712a42.624 42.624 0 0 0 17.968-41.968l-17.472-104.336 75.376-75.216a42.128 42.128 0 0 0 10.16-43.696z m-130.768 73.568a63.968 63.968 0 0 0-17.92 55.856l10.4 62.128-52.48-28.24a64.096 64.096 0 0 0-60.672 0l-52.464 28.24 10.4-62.112a64 64 0 0 0-17.904-55.872l-45.12-45.024 60.96-9.04a64.032 64.032 0 0 0 48.256-35.552l26.224-54.432 26.24 54.448a64 64 0 0 0 48.256 35.52l60.96 9.056-45.136 45.024z","p-id":"13378",fill:"#FFCC00"}),b("path",{d:"M446.16 896h-288c-8.688 0-17.648-4.016-22.816-10.224-3.84-4.608-5.072-9.728-3.888-16.144C159.376 718.032 291.728 608 446.16 608c2.896 0 5.664-0.512 8.336-1.232C593.088 594.4 702.16 477.776 702.16 336c0-149.984-122.016-272-272-272s-272 122.016-272 272c0 102.224 56.736 191.36 140.32 237.824-116.88 48.72-205.872 153.424-229.968 284.224-4.624 25.056 1.648 49.472 17.648 68.688C103.504 947.568 130.416 960 158.16 960h288a32 32 0 0 0 0-64z m-224-560c0-114.688 93.312-208 208-208s208 93.312 208 208-93.312 208-208 208c-114.704 0-208-93.312-208-208z","p-id":"13379",fill:"#FFCC00"})],-1),IG=[TG],MG={class:"flex-column flex align-items-center"},PG={class:"justify-content-start align-items-start fw-bolder opacity-50",style:{"margin-top":"-20px","font-size":"60px",color:"#CD950C","font-family":'Georgia, "Times New Roman", Times, serif'}},OG={class:"fs-c10"},cg={__name:"dashboard_item",props:["title","count","index"],setup(i){let r=at(),o=tt().params.team,d=()=>{r.push({name:"Dashboard",params:{team:o,type:"dashboard"}})};return(m,u)=>(F(),U("div",{class:"flex-column flex flex-fill pt-3 pb-4 jiBox pointer shadow-sm",onClick:u[0]||(u[0]=(...h)=>P(d)&&P(d)(...h))},[i.index===1?(F(),U("div",yG,AG)):i.index===2?(F(),U("div",xG,EG)):i.index===3?(F(),U("div",DG,IG)):ve("",!0),b("div",MG,[b("div",PG,_e(i.count),1),b("div",OG,_e(i.title),1)])]))}},BG={style:{height:"175px"},class:"flex-column flex pt-3 px-3 jiBox grid-box shadow-sm"},LG={style:{flex:"0 0 auto",color:"#333333"},class:"flex-row flex align-items-center"},RG={class:"flex-fill text-truncate",style:{"font-size":"15px"}},NG={key:0,style:{flex:"0 0 auto",color:"#909090","font-size":"14px"}},$G={key:1,style:{flex:"0 0 auto",color:"#909090","font-size":"14px"}},jG={class:"chart-container flex flex-fill",style:{position:"relative",width:"100%",height:"100%",overflow:"hidden"}},zG=["id"],FG={__name:"project",props:["project"],emits:["loadProjectList"],setup(i,{emit:r}){const l=i;let{proxy:o}=Ke(),d=at(),m=tt(),u=Ve({team:m.params.team,chart:"",label:!0});Ca(()=>{u.chart="projectChart"+l.project.uuid}),Ue(()=>{let y={labels:["未开始","进行中","已完成"],datasets:[{data:[l.project.to_do_count,l.project.in_progress_count,l.project.done_count],backgroundColor:["rgba(255, 99, 132, 0.4)","rgba(54, 162, 235, 0.4)","rgba(255, 206, 86, 0.4)"],hoverOffset:4}]};l.project.to_do_count+l.project.in_progress_count+l.project.done_count===0&&(u.label=!1,y={labels:["无任务"],datasets:[{data:[1],backgroundColor:["rgba(0, 0, 0, 0.1)"],hoverOffset:4}]});let k={type:"pie",data:y,options:{responsive:!0,maintainAspectRatio:!1,animation:!1,plugins:{legend:{display:!0,position:"right"}}}};new Chart(document.getElementById(u.chart),k)});let h=()=>{d.push({name:"Project",params:{team:u.team,project:l.project.uuid}})},f=y=>{y.stopPropagation(),o.post(o.urls.project_pin.format(u.team,l.project.uuid)).then(function(k){k.data.code===200&&r("loadProjectList")}).catch(function(k){o.bus.$emit("alertDanger",k.response.data.error)})},g=y=>{y.stopPropagation(),o.post(o.urls.project_unpin.format(u.team,l.project.uuid)).then(function(k){k.data.code===200&&r("loadProjectList")}).catch(function(k){o.bus.$emit("alertDanger",k.response.data.error)})};return(y,k)=>(F(),U("div",BG,[b("div",null,[b("div",LG,[b("div",RG,_e(i.project.name),1),b("div",{style:{flex:"0 0 auto","align-content":"end"},class:je([{pined:i.project.is_pin},"pin-star"])},[i.project.is_pin?(F(),U("i",{key:0,onClick:k[0]||(k[0]=(...v)=>P(g)&&P(g)(...v)),class:"bi bi-star-fill"})):(F(),U("i",{key:1,class:"bi bi-star",onClick:k[1]||(k[1]=(...v)=>P(f)&&P(f)(...v))}))],2)]),P(u).label?(F(),U("div",NG,"更新于"+_e(y.filters.timeFormat(i.project.task_update_time)),1)):(F(),U("div",$G,"创建于"+_e(y.filters.timeFormat(i.project.task_update_time)),1))]),b("div",{onClick:k[2]||(k[2]=(...v)=>P(h)&&P(h)(...v)),class:"flex-row flex flex-fill align-items-center justify-content-center pointer py-2",style:{height:"0"}},[b("div",jG,[b("canvas",{id:P(u).chart},null,8,zG)])])]))}},VG={style:{height:"175px"},class:"flex-column flex p-3 jiBox grid-box shadow-sm"},UG={style:{flex:"0 0 auto"}},HG={style:{flex:"0 0 auto",color:"#333333"},class:"flex-row flex align-items-center"},WG={class:"flex-fill text-truncate",style:{"font-size":"15px"}},GG={style:{flex:"0 0 auto",color:"#909090","font-size":"14px"}},KG={style:{flex:"1","font-size":"70px","font-weight":"bolder",color:"#800000",opacity:"0.4","font-family":"Georgia, 'Times New Roman', Times, serif"},class:"flex-row flex align-items-center justify-content-center"},g6={__name:"space",props:{space:Object},emits:["loadSpaceList"],setup(i,{emit:r}){const l=i;let{proxy:o}=Ke(),d=at(),m=tt(),u="";Ca(()=>{u=m.params.team});let h=()=>{d.push({name:"Space",params:{team:u,space:l.space.uuid}})},f=y=>{y.stopPropagation(),o.post(o.urls.space_pin.format(u,l.space.uuid)).then(function(k){k.data.code===200&&r("loadSpaceList")}).catch(function(k){o.bus.emit("alertDanger",k.response.data.error)})},g=y=>{y.stopPropagation(),o.post(o.urls.space_unpin.format(u,l.space.uuid)).then(function(k){k.data.code===200&&r("loadSpaceList")}).catch(function(k){o.bus.$emit("alertDanger",k.response.data.error)})};return(y,k)=>(F(),U("div",VG,[b("div",UG,[b("div",HG,[b("div",WG,_e(i.space.title),1),b("div",{style:{flex:"0 0 auto","align-content":"end"},class:je([{pined:i.space.is_pin},"pin-star"])},[i.space.is_pin?(F(),U("i",{key:0,onClick:k[0]||(k[0]=(...v)=>P(g)&&P(g)(...v)),class:"bi bi-star-fill"})):(F(),U("i",{key:1,class:"bi bi-star",onClick:k[1]||(k[1]=(...v)=>P(f)&&P(f)(...v))}))],2)]),b("div",GG,"更新于"+_e(y.filters.timeFormat(i.space.updated_time)),1)]),b("div",{onClick:k[2]||(k[2]=(...v)=>P(h)&&P(h)(...v)),style:{flex:"1",cursor:"pointer"},class:"flex-row flex align-items-center justify-content-center"},[b("div",KG,_e(i.space.page_count),1)])]))}},YG={class:"flex-fill p-4 overflow-auto"},qG={class:"flex-row flex justify-content-between owl-h"},ZG={key:0,style:{margin:"20px 0 0 0"}},QG={class:"flex-row flex border-bottom",style:{padding:"0 20px 5px 0"}},JG=b("div",{style:{flex:"1","font-size":"18px"}},"项目 / 最近更新",-1),XG={class:"flex-row flex wb-setting outline-none"},eK=b("div",{style:{flex:"0 0 auto",color:"inherit"},class:"flex-row flex align-items-center"},[b("i",{class:"bi bi-gear"})],-1),tK={style:{flex:"1","flex-direction":"row",position:"relative"},class:"flex-row flex flex-wrap pt-4 d-grid grid-task"},nK={key:1,style:{margin:"20px 0 0 0"}},iK={class:"flex-row flex border-bottom",style:{padding:"0 20px 5px 0"}},oK=b("div",{style:{flex:"1","font-size":"18px"}},"文档 / 最近更新",-1),rK={class:"flex-row flex wb-setting outline-none"},sK=b("div",{style:{flex:"0 0 auto",color:"inherit"},class:"flex-row flex align-items-center"},[b("i",{class:"bi bi-gear"})],-1),aK={style:{flex:"1","flex-direction":"row",position:"relative"},class:"flex-row flex flex-wrap pt-4 d-grid grid-task"},lK={class:"modal fade",id:"settingSize","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},cK={class:"modal-dialog modal-sm"},dK={class:"modal-content"},uK={class:"modal-body"},hK={class:"flex-column my-3"},fK=b("label",{class:"col-md-12 control-label"},"最多显示个数",-1),pK={class:"col-md-12 mt-2"},mK={class:"modal-footer"},gK=b("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"取消",-1),_K={__name:"overview",setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ve({team:l.params.team,projects:[],spaces:[],loaded:!1,project_size:10,space_size:10,size:10,setting_key:"",assign:0,owner:0,watcher:0}),d=null;Ue(()=>{m(),u(),d=new bootstrap.Modal(document.getElementById("settingSize"),{keyboard:!1})});let m=()=>{let A=r.urls.team_global_setting.format(o.team),T=["workbench_project_size","workbench_space_size"];r.post(A,T).then(function(x){x.data&&Object.keys(x.data).forEach(function(C){switch(C){case"workbench_project_size":o.project_size=parseInt(x.data[C].setting_value);break;case"workbench_space_size":o.space_size=parseInt(x.data[C].setting_value);break}}),h(),f()})},u=()=>{r.post(r.urls.task_stat_by_team.format(o.team)).then(function(A){A.data&&(o.assign=A.data.assign,o.owner=A.data.owner,o.watcher=A.data.watcher)})},h=()=>{let A={size:o.project_size},T=r.urls.team_recent_projects.format(o.team);r.post(T,A).then(function(x){o.projects=[],x.data.projects.forEach(function(C){o.projects.push(C)})})},f=()=>{let A={size:o.space_size},T=r.urls.spaces_recent.format(o.team);r.post(T,A).then(function(x){o.spaces=[],x.data.spaces.forEach(function(C){o.spaces.push(C)})})},g=()=>{o.size=o.project_size,o.setting_key="workbench_project_size"},y=()=>{o.size=o.space_size,o.setting_key="workbench_space_size"},k=()=>{},v=()=>{let A={setting_key:o.setting_key,setting_value:o.size};r.post(r.urls.team_global_setting_update.format(o.team),A).then(function(T){T.data.code===200&&(d.hide(),m())}).catch(function(T){r.bus.emit("alertDanger",T.response.data.error)})};return(A,T)=>(F(),U("div",YG,[b("div",qG,[ue(cg,{title:"指派给我的任务",count:P(o).assign,index:1},null,8,["count"]),ue(cg,{title:"我创建的任务",count:P(o).owner,index:2},null,8,["count"]),ue(cg,{title:"我关注的任务",count:P(o).watcher,index:3},null,8,["count"])]),P(o).projects.length>0?(F(),U("div",ZG,[b("div",QG,[JG,b("div",XG,[eK,b("div",{style:{"margin-left":"5px","font-size":"15px",color:"inherit"},class:"flex-row flex align-items-center pointer",onClick:T[0]||(T[0]=(...x)=>P(g)&&P(g)(...x)),"data-bs-toggle":"modal","data-bs-target":"#settingSize"}," 显示设置 ")])]),b("div",tK,[(F(!0),U(xe,null,Xe(P(o).projects,x=>(F(),lt(FG,{project:x,key:x.uuid,onLoadProjectList:P(h)},null,8,["project","onLoadProjectList"]))),128))])])):ve("",!0),P(o).spaces.length>0?(F(),U("div",nK,[b("div",iK,[oK,b("div",rK,[sK,b("div",{style:{"margin-left":"5px","font-size":"15px",color:"inherit"},class:"flex-row flex align-items-center pointer",onClick:T[1]||(T[1]=(...x)=>P(y)&&P(y)(...x)),"data-bs-toggle":"modal","data-bs-target":"#settingSize"}," 显示设置 ")])]),b("div",aK,[(F(!0),U(xe,null,Xe(P(o).spaces,x=>(F(),lt(g6,{key:x.uuid,space:x,onLoadSpaceList:P(f)},null,8,["space","onLoadSpaceList"]))),128))])])):ve("",!0),b("div",lK,[b("div",cK,[b("div",dK,[b("div",uK,[b("form",{ref:"form",onSubmit:T[3]||(T[3]=mi((...x)=>P(k)&&P(k)(...x),["stop","prevent"]))},[b("div",hK,[fK,b("div",pK,[ct(b("input",{type:"text","onUpdate:modelValue":T[2]||(T[2]=x=>P(o).size=x),name:"name",class:"form-control"},null,512),[[gt,P(o).size]])])])],544)]),b("div",mK,[gK,b("button",{type:"button",class:"btn btn-primary",onClick:T[4]||(T[4]=(...x)=>P(v)&&P(v)(...x))},"确定")])])])])]))}},kf={__name:"priority",props:{bgColor:String,color:String,name:String},setup(i){return(r,l)=>(F(),U("div",{class:"status",style:Vn("background-color: "+i.bgColor+";color:"+i.color+";")},_e(i.name),5))}},bK={class:"flex align-items-center"},Sa={__name:"status",props:{name:String,color:String},setup(i){const r=i,l=Ge(()=>{let d=r.name;switch(r.name){case"1":case"to_do":d="未开始";break;case"2":case"in_progress":d="进行中";break;case"3":case"done":d="已完成";break}return d}),o=Ge(()=>{let d=r.color;switch(r.color){case"1":d="to_do";break;case"2":d="in_progress";break;case"3":d="done";break}return d});return(d,m)=>(F(),U("div",bK,[b("div",{class:je(["flex align-items-center status",o.value])},_e(l.value),3)]))}},vK={class:"flex-row flex align-items-center"},kK={style:{flex:"0 0 auto",display:"flex","align-items":"center"}},wK=["src","title"],yK={key:0,style:{flex:"0 0 auto",display:"flex","align-items":"center","margin-left":"5px"}},Dl={__name:"suser",props:{user:Object,includeName:{default:!0}},setup(i){return(r,l)=>(F(),U("div",vK,[b("div",kK,[b("img",{style:{height:"20px"},src:i.user.avatar,title:i.user.name,class:"rounded-circle"},null,8,wK)]),i.includeName?(F(),U("div",yK,_e(i.user.name),1)):ve("",!0)]))}},CK={class:"flex-row flex task-kanban flex-fill position-relative d-grid grid-task-l"},AK={class:"flex-column flex overflow-hidden flex-fill rounded-1 bg-grey shadow-sm"},xK={class:"px-4 py-2"},SK={class:"d-flex flex-row"},EK={class:"py-1 text-dark"},DK={class:"flex flex-row flex-fill align-items-center color-light fs-8"},TK=b("div",{class:"pointer color-hover"},[b("i",{class:"bi bi-three-dots"})],-1),IK={style:{flex:"1","overflow-y":"scroll",margin:"0 -10px 0 0"},class:"flex-column flex flex px-3"},MK={id:"task-list",class:"flex-column"},PK=["onClick","onMouseover","onMouseleave"],OK={class:"flex-row flex"},BK=["title"],LK=b("div",{class:"flex pe-2"},[b("i",{class:"bi bi-bag-dash"})],-1),RK={class:"text-truncate"},NK={class:"flex-row flex flex-fill align-items-center"},$K=b("div",{class:"flex-fill"},null,-1),jK={class:"text-grey fs-7"},zK=["title"],FK={class:"text-truncate ms-2"},VK={class:"flex-row flex"},UK={class:"flex-fill text-grey"},HK={class:"d-flex flex-row align-items-center"},dg={__name:"tasks",props:{title:String,tasks:Array,count:Number},setup(i){let{proxy:r}=Ke(),l=at(),d=tt().params.team,m=(u,h)=>{r.post(r.urls.component_router.format(d,u,h)).then(function(f){f.data&&l.push({name:"Task",params:{team:d,project:u,com:f.data,task:h}})}).catch(function(f){r.bus.$emit("alertDanger",f.response.data.error)})};return(u,h)=>(F(),U("div",CK,[b("div",AK,[b("div",xK,[b("div",SK,[b("div",EK,_e(i.title),1),b("div",DK," （"+_e(i.count)+"） ",1),TK])]),b("div",IK,[b("div",MK,[(F(!0),U(xe,null,Xe(i.tasks,f=>(F(),U("div",{key:f.uuid,class:"task-item mb-3 bg-white border"},[b("div",{class:je(["flex-fill p-3 pointer",{shadow:f.hover}]),onClick:g=>P(m)(f.project.uuid,f.uuid),onMouseover:g=>{f.hover=!0},onMouseleave:g=>{f.hover=!1}},[b("div",OK,[b("div",{title:f.project.name,class:"flex-row flex align-items-center",style:{"max-width":"65%"}},[LK,b("div",RK,_e(f.project.name),1)],8,BK),b("div",NK,[$K,b("div",jK,_e(u.filters.formatDay(f.create_time)),1)])]),b("div",{title:f.summary,class:"d-flex flex-row flex-fill align-items-center pt-3 pb-4"},[b("div",FK,_e(f.summary),1)],8,zK),b("div",VK,[b("div",UK,[ue(Dl,{user:f.owner},null,8,["user"])]),b("div",HK,[ue(kf,{color:f.priority.color,name:f.priority.value,bgColor:f.priority.background_color},null,8,["color","name","bgColor"]),ue(Sa,{class:"ms-3",name:f.task_status.name,color:f.task_status.category.toString()},null,8,["name","color"])])])],42,PK)]))),128))])])])]))}},WK={class:"flex-column flex flex-fill",style:{width:"0","overflow-x":"auto"}},GK=Po('<div class="d-flex flex-row align-items-center border-bottom mb-3 py-2 px-4"><div class="flex-fill flex align-items-center pointer"><div class="text-truncate"> 全部项目 </div><div class="ms-2"><i class="bi bi-caret-down-fill"></i></div></div><div class="d-flex flex-row align-items-center fs-5"><i class="bi bi-gear"></i></div></div>',1),KK={class:"flex-row flex w-100 flex-fill owl-h-sm px-4 pb-4",style:{height:"0"}},YK={__name:"dashboard",setup(i){const{proxy:r}=Ke();let l=tt(),o=Ve({tasks_assign:[],tasks_owner:[],tasks_watcher:[]});return Ue(()=>{let d=l.params.team;r.post(r.urls.task_list_by_assign.format(d)).then(function(m){var u;for(let h=0;h<((u=m.data)==null?void 0:u.length);h++)m.data[h].category!==3&&o.tasks_assign.push(m.data[h])}),r.post(r.urls.task_list_by_owner.format(d)).then(function(m){var u;for(let h=0;h<((u=m.data)==null?void 0:u.length);h++)o.tasks_owner.push(m.data[h])}),r.post(r.urls.task_list_by_watcher.format(d)).then(function(m){var u;for(let h=0;h<((u=m.data)==null?void 0:u.length);h++)m.data[h].category!==3&&o.tasks_watcher.push(m.data[h])})}),(d,m)=>(F(),U("div",WK,[GK,b("div",KK,[ue(dg,{tasks:P(o).tasks_assign,count:P(o).tasks_assign.length,title:"我负责的工作项"},null,8,["tasks","count"]),ue(dg,{tasks:P(o).tasks_owner,count:P(o).tasks_owner.length,title:"我提交的工作项"},null,8,["tasks","count"]),ue(dg,{tasks:P(o).tasks_watcher,count:P(o).tasks_watcher.length,title:"我关注的工作项"},null,8,["tasks","count"])])]))}};const _6=i=>(Kt("data-v-a43c043e"),i=i(),Yt(),i),qK={style:{flex:"0 0 auto"},class:"flex-row flex align-items-center"},ZK=["src"],QK={style:{flex:"0 0 auto","margin-left":"5px"},class:"flex-row flex align-items-center"},JK={key:0,style:{flex:"0 0 auto",display:"flex","align-items":"center","margin-left":"5px","font-size":"12px"}},XK={key:1,style:{flex:"1"},class:"flex-row flex align-items-center"},eY=_6(()=>b("div",{style:{flex:"1","min-width":"50px"}},null,-1)),tY=_6(()=>b("div",{style:{flex:"0 0 auto",display:"flex","align-items":"center","text-align":"right"}},[b("i",{class:"bi bi-check"})],-1)),nY=[eY,tY],iY={__name:"user",props:{user:Object,hasEmail:{default:!1},selected:{default:!1}},emits:["submit"],setup(i,{emit:r}){const l=i,o=()=>{r("submit",l.user.uuid)};return(d,m)=>(F(),U("div",{class:je(["flex-row flex user align-items-center",{selected:i.selected}]),onClick:o},[b("div",qK,[b("img",{style:{height:"16px"},src:i.user.avatar,class:"rounded-circle"},null,8,ZK)]),b("div",QK,_e(i.user.name),1),i.hasEmail?(F(),U("div",JK," ("+_e(i.user.email)+") ",1)):ve("",!0),i.selected?(F(),U("div",XK,nY)):ve("",!0)],2))}},_r=Tt(iY,[["__scopeId","data-v-a43c043e"]]);const oY=i=>(Kt("data-v-71b2d320"),i=i(),Yt(),i),rY={class:"flex-column flex flex-fill h-100 overflow-auto"},sY={class:"mt-2 mb-4 flex-fill"},aY={class:"flex-row flex mx-4"},lY={class:"text-start"},cY=oY(()=>b("div",{class:"flex-fill"},null,-1)),dY={class:"flex-row flex justify-content-center align-items-center pe-4"},uY=["onClick"],hY={class:"d-flex flow-column align-items-center"},fY={key:0,class:"flex-row flex flex-fill flex-wrap d-grid position-relative grid-task-lx mt-2 border-top px-4 pt-3"},pY={class:"jiBox shadow-sm"},mY={class:"flex flex-column flex-fill p-3"},gY={class:"flex flex-row flex-fill"},_Y={class:"flex-fill fs-5 color-light fw-bolder text-truncate"},bY={class:"flex align-items-center justify-content-end",style:{"min-width":"20%"}},vY={class:"d-flex flex-row align-items-center mt-2"},kY={class:"mt-3 mb-4"},wY={style:{height:"66px"},class:"color-light overflow-hidden"},yY={class:"progress",style:{height:"10px",opacity:"0.6"}},CY={__name:"projects",setup(i){const{proxy:r}=Ke();let l=at(),o=tt(),d=Ve({team:o.params.team,cur:0,tabTitle:["全部项目","未开始","进行中","已完成"],items:[],tasks_completed:!1,search:"",curSearch:""});Ue(()=>{m()});let m=()=>{let g=r.urls.team_project_list.format(d.team),k={categories:d.cur===0?[]:[d.cur],name:d.search};r.post(g,k).then(function(v){d.items=v.data,d.tasks_completed=!0})},u=()=>{l.push({name:"AddProject",params:{team:d.team}})},h=g=>{g!==d.curSearch&&(d.search=g,d.curSearch=g,m())},f=g=>{d.cur=g,m()};return(g,y)=>{const k=Ht("router-link");return F(),U("div",rY,[b("div",sY,[b("div",aY,[b("div",lY,[ue(ci,{title:"新增项目",plus:!0,onSubmit:P(u)},null,8,["onSubmit"])]),cY,b("div",dY,[(F(!0),U(xe,null,Xe(P(d).tabTitle,(v,A)=>(F(),U("div",{class:je(["justify-content-center align-items-center tab-title pointer py-2 px-3",{active:P(d).cur===A}]),onClick:T=>P(f)(A),key:A},_e(v),11,uY))),128))]),b("div",hY,[ue(Pn,{onSearch:P(h),placeholder:"项目名称"},null,8,["onSearch"])])]),P(d).tasks_completed?(F(),U("div",fY,[(F(!0),U(xe,null,Xe(P(d).items,v=>(F(),U("div",pY,[ue(k,{to:{name:"Project",params:{team:P(d).team,project:v.uuid}}},{default:qe(()=>[b("div",mY,[b("div",gY,[b("div",_Y,[ue(k,{to:{name:"Project",params:{team:P(d).team,project:v.uuid}}},{default:qe(()=>[rt(_e(v.name),1)]),_:2},1032,["to"])]),b("div",bY,[ue(Sa,{name:v.status_category,color:v.status_uuid},null,8,["name","color"])])]),b("div",vY,[ue(_r,{class:"flex-fill",user:v.assign},null,8,["user"])]),b("div",kY,[b("div",wY,_e(v.notice?v.notice:"暂无简介，请进入添加内容"),1)]),b("div",yY,[b("div",{class:"progress-bar progress-bar-striped bg-warning",role:"progressbar",style:Vn("width:"+(v.done_count*100/(v.to_do_count+v.in_progress_count+v.done_count)).toFixed(0)+"%"),"aria-valuenow":"15","aria-valuemin":"0","aria-valuemax":"100"},null,4),b("div",{class:"progress-bar progress-bar-striped bg-info",role:"progressbar",style:Vn("width:"+(v.in_progress_count*100/(v.to_do_count+v.in_progress_count+v.done_count)).toFixed(0)+"%"),"aria-valuenow":"30","aria-valuemin":"0","aria-valuemax":"100"},null,4)])])]),_:2},1032,["to"])]))),256))])):ve("",!0)])])}}},AY=Tt(CY,[["__scopeId","data-v-71b2d320"]]),xY={class:"py-4 ps-4 overflow-auto inner-sidebar-wd"},SY=b("div",{class:"py-4 ps-2 w-100 fs-c10"},"配置中心",-1),EY=b("div",{class:"pt-2 ps-2 color-light"},"项目",-1),DY=b("div",{class:"pt-4 ps-2 color-light"},"工作项",-1),TY={__name:"project_control",props:{tagIndex:Number},setup(i){let l=tt().params.team;return(o,d)=>{const m=Ht("router-link");return F(),U("div",xY,[SY,EY,b("div",{class:je(["inner-item",{active:i.tagIndex===1}])},[ue(m,{to:{name:"ProjectSettingManager",params:{team:P(l)}}},{default:qe(()=>[rt("项目配置")]),_:1},8,["to"])],2),b("div",{class:je(["inner-item",{active:i.tagIndex===2}])},[ue(m,{to:{name:"ProjectSettingField",params:{team:P(l)}}},{default:qe(()=>[rt("项目属性")]),_:1},8,["to"])],2),b("div",{class:je(["inner-item",{active:i.tagIndex===3}])},[ue(m,{to:{name:"ProjectSettingStatus",params:{team:P(l)}}},{default:qe(()=>[rt("项目状态")]),_:1},8,["to"])],2),b("div",{class:je(["inner-item",{active:i.tagIndex===4}])},[ue(m,{to:{name:"ProjectSettingPermission",params:{team:P(l)}}},{default:qe(()=>[rt("权限配置")]),_:1},8,["to"])],2),DY,b("div",{class:je(["inner-item",{active:i.tagIndex===11}])},[ue(m,{to:{name:"IssueTypeSettingManager",params:{team:P(l)}}},{default:qe(()=>[rt("工作项类型")]),_:1},8,["to"])],2),b("div",{class:je(["inner-item",{active:i.tagIndex===12}])},[ue(m,{to:{name:"IssueTypeSettingField",params:{team:P(l)}}},{default:qe(()=>[rt("工作项属性")]),_:1},8,["to"])],2),b("div",{class:je(["inner-item",{active:i.tagIndex===13}])},[ue(m,{to:{name:"IssueTypeSettingStatus",params:{team:P(l)}}},{default:qe(()=>[rt("工作项状态")]),_:1},8,["to"])],2),b("div",{class:je(["inner-item",{active:i.tagIndex===14}])},[ue(m,{to:{name:"IssueTypeSettingPriority",params:{team:P(l)}}},{default:qe(()=>[rt("优先级")]),_:1},8,["to"])],2)])}}},IY={class:"flex-row flex flex-fill"},MY={class:"flex-column flex flex-fill py-4 pe-4 overflow-auto"},PY={class:"border bg-white flex-fill"},t5={__name:"project_setting",setup(i){let r=tt(),l=Ve({tagIndex:1});Ue(()=>{let d=r.name;o("{0}".format(d))}),Bt(()=>r.params,d=>{let m=r.name;o("{0}".format(m))});let o=d=>{switch(d){case"ProjectSettingManager":l.tagIndex=1;break;case"ProjectSettingField":l.tagIndex=2;break;case"ProjectSettingStatus":l.tagIndex=3;break;case"ProjectSettingPermission":l.tagIndex=4;break;case"IssueTypeSetting":case"IssueTypeSettingManager":l.tagIndex=11;break;case"IssueTypeSettingField":l.tagIndex=12;break;case"IssueTypeSettingStatus":l.tagIndex=13;break;case"IssueTypeSettingPriority":l.tagIndex=14;break}};return(d,m)=>{const u=Ht("router-view");return F(),U("div",IY,[ue(TY,{tagIndex:P(l).tagIndex,onTag_switch:P(o)},null,8,["tagIndex","onTag_switch"]),b("div",MY,[b("div",PY,[ue(u)])])])}}},OY={class:"modal fade",id:"addSpace","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},BY={class:"modal-dialog modal-lg modal-dialog-scrollable"},LY={class:"modal-content"},RY=b("div",{class:"modal-header"},[b("h5",{class:"modal-title",id:"staticBackdropLabel"},"新建页面组"),b("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),NY={class:"modal-body"},$Y={style:{"margin-top":"6px"}},jY={class:"flex-column my-3"},zY=b("label",{class:"col-md-12 control-label"},"页面组名称",-1),FY={class:"col-md-12 mt-2"},VY={class:"flex-column my-3"},UY=b("label",{class:"col-md-12 control-label"},"页面组描述",-1),HY={class:"col-md-12 mt-2"},WY={class:"modal-footer"},GY=b("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"取消",-1),KY={__name:"add",emits:["loadSpaces"],setup(i,{emit:r}){const{proxy:l}=Ke();at();let o=tt(),d=Ve({team:o.params.team,title:"",description:"",titleState:null}),m=null;Ue(()=>{m=new bootstrap.Modal(document.getElementById("addSpace"),{keyboard:!1})});let u=()=>{let h={title:d.title,description:d.description};l.post(l.urls.spaces_add.format(d.team),h).then(function(f){f.data.code===200&&(m.hide(),r("loadSpaces"))}).catch(function(f){l.bus.emit("alertDanger",f.response.data.error)})};return(h,f)=>(F(),U("div",OY,[b("div",BY,[b("div",LY,[RY,b("div",NY,[b("form",{ref:"form",onSubmit:f[2]||(f[2]=mi((...g)=>P(u)&&P(u)(...g),["stop","prevent"]))},[b("div",$Y,[b("div",jY,[zY,b("div",FY,[ct(b("input",{type:"text","onUpdate:modelValue":f[0]||(f[0]=g=>P(d).title=g),name:"title",class:"form-control",required:""},null,512),[[gt,P(d).title]])])]),b("div",VY,[UY,b("div",HY,[ct(b("textarea",{"onUpdate:modelValue":f[1]||(f[1]=g=>P(d).description=g),name:"description",class:"form-control",rows:"3"},null,512),[[gt,P(d).description]])])])])],544)]),b("div",WY,[GY,b("button",{type:"button",class:"btn btn-primary",onClick:f[3]||(f[3]=(...g)=>P(u)&&P(u)(...g))},"确定")])])])]))}},YY={class:"flex-column flex flex-fill h-100 overflow-auto"},qY={class:"mt-2 mb-4 flex-fill"},ZY={class:"flex-row flex mx-4 header-container-inner"},QY={class:"flex-fill"},JY={class:"d-flex flow-column align-items-center"},XY={class:"flex-row flex flex-wrap mt-2 px-4 d-grid grid-task border-top pt-3"},eq={__name:"spaces",setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ve({team:l.params.team,spaces:[],search:"",curSearch:""});Ue(()=>{d()});let d=()=>{let u=r.urls.spaces_my.format(o.team),h={name:o.search};r.post(u,h).then(function(f){o.spaces=f.data.spaces})},m=u=>{u!==o.curSearch&&(o.search=u,o.curSearch=u,d())};return(u,h)=>(F(),U("div",YY,[b("div",qY,[b("div",ZY,[b("div",QY,[ue(ci,{title:"新建页面组",plus:!0,"data-bs-toggle":"modal","data-bs-target":"#addSpace"})]),b("div",JY,[ue(Pn,{onSearch:P(m),placeholder:"页面组名称"},null,8,["onSearch"])])]),b("div",XY,[(F(!0),U(xe,null,Xe(P(o).spaces,f=>(F(),lt(g6,{key:f.uuid,space:f,desc:"最近页面更新于 8 小时前",onLoadSpaceList:P(d)},null,8,["space","onLoadSpaceList"]))),128))])]),ue(KY,{onLoadSpaces:P(d)},null,8,["onLoadSpaces"])]))}},tq={class:"py-4 ps-4 overflow-auto inner-sidebar-wd"},nq=b("div",{class:"py-4 ps-2 w-100 fs-c10"},"配置中心",-1),iq=b("div",{class:"pt-2 ps-2 color-light"},"页面组",-1),oq=b("div",{class:"pt-4 ps-2 color-light"},"权限",-1),rq={__name:"wiki_control",props:["tagIndex"],setup(i){const r=i;let l=tt(),{tagIndex:o}=_d(r),d=Ve({team:l.params.team});return(m,u)=>{const h=Ht("router-link");return F(),U("div",tq,[nq,iq,b("div",{class:je(["inner-item",{active:P(o)===1}])},[ue(h,{to:{name:"WikiSetting",params:{team:P(d).team,type:"list"}}},{default:qe(()=>[rt("页面组配置")]),_:1},8,["to"])],2),oq,b("div",{class:je(["inner-item",{active:P(o)===11}])},[ue(h,{to:{name:"WikiSetting",params:{team:P(d).team,type:"permission"}}},{default:qe(()=>[rt("权限配置")]),_:1},8,["to"])],2)])}}},sq=["data-bs-placement","data-bs-content"],aq={key:0,class:"d-flex flex-row align-items-center bi bi-question-circle fs-c10"},lq={key:1,class:"d-flex flex-row align-items-center bi bi-question-circle-fill"},Nl={__name:"summary",props:{desc:String,circle:{default:!0},placement:String},setup(i){return Ue(()=>{[...document.querySelectorAll('[data-bs-toggle="popover"]')].map(l=>new bootstrap.Popover(l))}),(r,l)=>i.desc?(F(),U("span",{key:0,class:"d-flex flex-row pointer align-items-center",tabindex:"0","data-bs-toggle":"popover","data-bs-trigger":"hover focus","data-bs-placement":i.placement,"data-bs-content":i.desc},[i.circle?(F(),U("i",aq)):(F(),U("i",lq))],8,sq)):ve("",!0)}},cq={class:"flex-row flex border-bottom align-items-center px-4 py-3 task-flex-auto"},dq={class:"flex-fill text-nowrap fs-c10"},uq={class:"flex-row flex align-items-center justify-content-end"},En={__name:"header",props:["title","desc"],setup(i){return(r,l)=>(F(),U("div",cq,[b("div",dq,_e(i.title),1),b("div",uq,[ue(Nl,{desc:i.desc},null,8,["desc"])])]))}},hq=["id"],fq={class:"modal-dialog modal-dialog-centered"},pq={class:"modal-content h-100"},mq=b("div",{class:"modal-header"},[b("h5",{class:"modal-title",id:"staticBackdropLabel"},"确认删除"),b("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),gq={class:"modal-body flex-column flex flex-fill py-5"},_q={class:"modal-footer"},bq=b("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"取消",-1),qo={__name:"delete",props:{id:{type:String},desc:{type:String},param:{type:String}},emits:["submit"],setup(i,{emit:r}){const l=i;let o=null;Ue(()=>{o=new bootstrap.Modal(document.getElementById(l.id),{keyboard:!1})});let d=()=>{o.hide(),r("submit",l.param)};return(m,u)=>(F(),U("div",{class:"modal fade",id:i.id,"data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","data-bs-focus":"false","aria-hidden":"true"},[b("div",fq,[b("div",pq,[mq,b("div",gq,_e(i.desc),1),b("div",_q,[bq,b("button",{type:"button",class:"btn btn-primary",onClick:u[0]||(u[0]=(...h)=>P(d)&&P(d)(...h))},"确定删除")])])])],8,hq))}};const b6=i=>(Kt("data-v-e41c8015"),i=i(),Yt(),i),vq={class:"flex-column flex px-4"},kq={style:{flex:"1"}},wq={class:"page-title"},yq={class:"flex-row flex",style:{"margin-top":"10px"}},Cq={style:{color:"#909090"}},Aq=b6(()=>b("i",{class:"bi bi-file-earmark-richtext"},null,-1)),xq={style:{color:"#909090"},class:"ms-3"},Sq=b6(()=>b("i",{class:"bi bi-clock"},null,-1)),Eq={style:{flex:"0 0 auto"}},Dq=["active-class","onClick"],Tq={style:{flex:"0 0 auto","margin-left":"20px"}},Iq=["data-bs-target"],Mq={__name:"list",setup(i){const{proxy:r}=Ke();let l=at(),o=tt(),d=Ve({team:o.params.team,style:"active",items:[],tasks_completed:!1});Ue(()=>{h()});let m=f=>{r.post(r.urls.space_delete.format(d.team,f)).then(function(g){g.data.code===200&&(r.bus.emit("alertSuccess","删除成功"),h())}).catch(function(g){r.bus.emit("alertDanger",g.response.data.error)})},u=f=>{l.push({name:"SpaceSettings",params:{team:d.team,space:f,type:"info"}})},h=()=>{r.get(r.urls.spaces.format(d.team)).then(function(f){d.items=f.data.spaces})};return(f,g)=>{const y=Ht("router-link");return F(),U(xe,null,[ue(En,{title:"页面组配置",desc:"对页面组配置权限，查看页面组"}),b("div",vq,[(F(!0),U(xe,null,Xe(P(d).items,k=>(F(),U("div",{class:"flex-row flex py-4 pages border-bottom",key:k.uuid},[b("div",kq,[b("div",wq,[ue(y,{to:{name:"Space",params:{team:P(d).team,space:k.uuid}}},{default:qe(()=>[rt(_e(k.title),1)]),_:2},1032,["to"])]),b("div",yq,[b("div",Cq,[Aq,rt(" 文档 "+_e(k.page_count),1)]),b("div",xq,[Sq,rt(" 更新于 "+_e(f.filters.timeFormat(k.updated_time)),1)])])]),b("div",Eq,[b("button",{type:"button",class:"btn btn-outline-secondary","active-class":P(d).style,onClick:v=>{P(u)(k.uuid)}},"配置页面组",8,Dq)]),b("div",Tq,[b("button",{type:"button",class:"btn btn-outline-secondary","data-bs-toggle":"modal","data-bs-target":"#delSpaceModal"+k.uuid},"删除页面组",8,Iq),ue(qo,{desc:"确定是否删除页面组？",param:k.uuid,onSubmit:P(m),id:"delSpaceModal"+k.uuid},null,8,["param","onSubmit","id"])])]))),128))])],64)}}},n5=Tt(Mq,[["__scopeId","data-v-e41c8015"]]);const u1=i=>(Kt("data-v-3803a74e"),i=i(),Yt(),i),Pq={class:"mt-4"},Oq={class:"fs-c9"},Bq={class:"opacity-50"},Lq={class:"border mt-3 shadow-sm"},Rq=u1(()=>b("div",{class:"p-2 border-bottom bg-light"}," 以下成员域拥有此操作权限 ",-1)),Nq={class:"flex-fill p-3"},$q=["onClick"],jq=u1(()=>b("i",{class:"bi bi-x fs-c11"},null,-1)),zq=[jq],Fq={key:0,class:"flex-row flex justify-content-center align-items-center border-bottom"},Vq=u1(()=>b("div",{class:"justify-content-center align-items-center p-3"},"暂未添加成员",-1)),Uq=[Vq],Hq={class:"p-2 content"},Wq={key:0},Gq={key:0,class:"domain-group-header opacity-75"},Kq={class:"bg-white"},Yq=["onClick"],qq={key:0,class:"fs-7 ms-1 opacity-50"},Zq={key:1,class:"fs-7 ms-1 opacity-50"},Qq={key:1,class:"domain-item"},Jq={__name:"permission_item_view",props:{title:String,desc:String,exist:Array,items:Array},emits:["add","del"],setup(i,{emit:r}){const l=i,{proxy:o}=Ke();let d=et(!1),m=et(!1),u=et(""),h=et([]);Ue(()=>{h.value=l.items});let f=(T,x)=>{d.value=!1,r("add",T,x)},g=T=>{r("del",T)},y=T=>{if(d.value===!0)k();else{let x=document.documentElement.clientHeight,C=T.target.getBoundingClientRect().top,D=T.target.getBoundingClientRect().bottom;m.value=x-D<C&&x-D<272,d.value=!0,document.addEventListener("click",v,!1)}},k=()=>{d.value=!1,m.value=!1,document.removeEventListener("click",v,!1)},v=T=>{o.$refs.permBody&&o.$refs.permBody.contains(T.target)||k()},A=()=>{if(u.value){h.value=[];for(let T=0;T<l.items.length;T++){let x=l.items[T],C=[];for(let D=0;D<x.groups.length;D++){let S=x.groups[D];S.name.includes(u.value)&&C.push(S)}if(C.length>0){let D={title:x.title,groups:C};h.value.push(D)}}}else h.value=l.items};return(T,x)=>(F(),U("div",Pq,[b("div",Oq,_e(i.title),1),b("div",Bq,_e(i.desc),1),b("div",Lq,[Rq,(F(!0),U(xe,null,Xe(i.exist,C=>(F(),U("div",{key:C.uuid,class:"flex-row flex align-items-center border-bottom"},[b("div",Nq,_e(C.name),1),C.read_only?ve("",!0):(F(),U("div",{key:0,class:"td pointer px-4 text-hover",onClick:D=>P(g)(C.permission)},zq,8,$q))]))),128)),!i.exist||i.exist.length===0?(F(),U("div",Fq,Uq)):ve("",!0),b("div",Hq,[b("div",{ref:"permBody",class:je(["select",{open:P(d)}])},[ct(b("input",{class:"form-control pe-4","onUpdate:modelValue":x[0]||(x[0]=C=>hn(u)?u.value=C:u=C),onInput:x[1]||(x[1]=(...C)=>P(A)&&P(A)(...C)),onClick:x[2]||(x[2]=(...C)=>P(y)&&P(y)(...C)),placeholder:"搜索角色、用户组、部门、成员"},null,544),[[gt,P(u)]]),b("div",{ref:"layer",class:je(["position-absolute group bg-white border shadow",{up:P(m)}])},[P(h).length>0?(F(),U("div",Wq,[(F(!0),U(xe,null,Xe(P(h),C=>(F(),U("div",{key:C.uuid},[C.groups&&C.groups.length>0?(F(),U("div",Gq,_e(C.title),1)):ve("",!0),b("div",Kq,[(F(!0),U(xe,null,Xe(C.groups,D=>(F(),U("div",{class:"text-truncate pointer domain-item",key:D.uuid,onClick:S=>P(f)(D.param,D.type)},[b("span",null,_e(D.name),1),C.isMember?(F(),U("span",qq,"("+_e(D.email)+")",1)):ve("",!0),D.desc?(F(),U("span",Zq,"("+_e(D.desc)+")",1)):ve("",!0)],8,Yq))),128))])]))),128))])):(F(),U("div",Qq," 无结果 "))],2)],2)])])]))}},Xq=Tt(Jq,[["__scopeId","data-v-3803a74e"]]),ti={__name:"permission_item",props:{group:Object,data:Object},emits:["loadPermissionData"],setup(i,{emit:r}){const l=i,{proxy:o}=Ke();at();let d=tt(),m=Ve({visible:!1,team_owner:{uuid:"s10",name:"团队负责人",type:"team_owner",param:"",order:1},project_assign:{uuid:"s16",name:"项目负责人",type:"project_assign",param:"",order:2},project_member:{uuid:"s18",name:"项目成员",type:"project_member",param:"",order:3},everyone:{uuid:"s3",name:"所有成员",desc:"当前团队所有成员",type:"everyone",param:"",order:4},okr_assign:{uuid:"s9",name:"关键成果负责人",desc:"团队关键成果负责人",type:"okr_assign",param:"",order:5},template:{roles:{uuid:"role",title:"角色",groups:[],exist:[]},members:{uuid:"member",title:"成员",groups:[],exist:[],isMember:!0}},exist:[],title:"",desc:"",permission:""});Ue(()=>{m.title=l.group.title,m.desc=l.group.desc,m.permission=l.group.permission});let u=(y,k)=>{m.team=d.params.team,l.data.permission_rule.permission=m.permission,l.data.permission_rule.user_domain_type=k,l.data.permission_rule.user_domain_param=y,o.post(o.urls.permission_rules_add.format(m.team),l.data).then(function(){r("loadPermissionData")}).catch(function(v){o.bus.emit("alertDanger",v.response.data.error)})},h=y=>{m.team=d.params.team,o.get(o.urls.permission_rule_delete.format(m.team,y)).then(function(){r("loadPermissionData")})};const f=(y,k)=>function(v,A){let T=v[y],x=A[y];if(T<x)return-1;if(T>x)return 1;if(k){let C=v[k],D=A[k];if(C<D)return-1;if(C>D)return 1}return 0};let g=Ge(()=>{let y=[],k=[],v=[];m.exist=[];for(let S=0;S<l.group.groups.length;S++){let M=l.group.groups[S],B="",R=!1;switch(M.type){case 1:B="single_user";for(let L=0;L<M.params.length;L++){let j=M.params[L];v.push(j.param);for(let N=0;N<l.group.members.length;N++){let z=l.group.members[N];if(z.uuid===j.param){let Z={uuid:j.uuid,permission:j.uuid,name:z.name,type:B,read_only:j.read_only,order:5};m.exist.push(Z);break}}}break;case 3:B="everyone";for(let L=0;L<M.params.length;L++){let j=M.params[L];m.everyone.permission=j.uuid,m.everyone.read_only=j.read_only,m.exist.push(m.everyone)}break;case 6:B="project_member";for(let L=0;L<M.params.length;L++){let j=M.params[L];m.project_member.permission=j.uuid,m.project_member.read_only=j.read_only,m.exist.push(m.project_member)}break;case 10:B="team_owner";for(let L=0;L<M.params.length;L++){let j=M.params[L];m.team_owner.permission=j.uuid,m.team_owner.read_only=j.read_only,m.exist.push(m.team_owner)}break;case 16:B="project_assign";for(let L=0;L<M.params.length;L++){let j=M.params[L];m.project_assign.permission=j.uuid,m.project_assign.read_only=j.read_only,m.exist.push(m.project_assign)}break;case 30:B="okr_assign";for(let L=0;L<M.params.length;L++){let j=M.params[L];m.okr_assign.permission=j.uuid,m.okr_assign.read_only=j.read_only,m.exist.push(m.okr_assign)}break;default:R=!0;break}R||y.push(B)}m.exist=m.exist.sort(f("order","name"));let A=[];for(let S=0;S<l.group.in_roles.length;S++){let M=l.group.in_roles[S];A.push(m[M])}for(let S=0;S<l.group.roles.length;S++){let M=l.group.roles[S];M.param=M.uuid,A.push(M)}let T=[];for(let S=0;S<l.group.members.length;S++){let M=l.group.members[S];M.param=M.uuid,T.push(M)}let x=m.template,C=[];for(let S=0;S<A.length;S++){let M=A[S],B=!1;for(let R=0;R<y.length;R++)if(M.type===y[R]){B=!0;break}B||C.push(M)}x.roles.groups=C,k.push(x.roles);let D=[];for(let S=0;S<T.length;S++){let M=T[S],B=!1;for(let R=0;R<v.length;R++)if(M.uuid===v[R]){B=!0;break}B||D.push(M)}return x.members.groups=D,k.push(x.members),k});return(y,k)=>(F(),lt(Xq,{exist:P(m).exist,items:P(g),title:P(m).title,desc:P(m).desc,onAdd:P(u),onDel:P(h)},null,8,["exist","items","title","desc","onAdd","onDel"]))}};const eZ={class:"px-4 pb-4"},tZ={__name:"permission",setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ve({team:"",project:"",maps:{manage:{code:2020,permission:"create_space",title:"新建页面组权限",desc:"允许用户新建页面组",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]}},role_members:[],loaded:!1,data:{}});Ue(()=>{o.team=l.params.team,o.data={permission_rule:{context_type:"wiki"}},d()});let d=()=>{let u=[];for(let h in o.maps)u.push(o.maps[h].code);r.post(r.urls.permission_rules.format(o.team),u).then(function(h){for(let f in o.maps){let g=o.maps[f];g.groups=[]}if(h.data&&h.data.length>0)for(let f in o.maps){let g=o.maps[f];for(let y=0;y<h.data.length;y++){let k=h.data[y];if(k.permission===g.code){g.groups=k.groups;break}}}m()})},m=()=>{r.get(r.urls.team_member_list.format(o.team)).then(function(u){if(u.data&&u.data&&u.data.length>0){let h=[];for(let f=0;f<u.data.length;f++){let g=u.data[f];g.type="single_user",h.push(g)}for(let f in o.maps){let g=o.maps[f];g.members=h}}o.loaded=!0})};return(u,h)=>(F(),U(xe,null,[ue(En,{title:"权限配置",desc:"允许给团队成员配置相应的权限。"}),b("div",eZ,[P(o).loaded?(F(),lt(ti,{key:0,role_members:P(o).role_members,data:P(o).data,group:P(o).maps.manage,onLoadPermissionData:P(d)},null,8,["role_members","data","group","onLoadPermissionData"])):ve("",!0)])],64))}},nZ=Tt(tZ,[["__scopeId","data-v-ae99c941"]]),iZ={class:"flex-fill flex-row flex"},oZ={class:"flex-column flex flex-fill py-4 pe-4 overflow-auto"},rZ={class:"flex-fill border bg-white pb-4"},sZ={__name:"wiki_setting",setup(i){let r=tt(),l=Ve({com:"list",tagIndex:1});Ue(()=>{l.com=r.params.type}),Bt(()=>r.params,d=>{l.com=r.params.type});let o=Ge(()=>{let d=n5;switch(l.com){case"list":l.tagIndex=1,d=n5;break;case"permission":l.tagIndex=11,d=nZ;break}return d});return(d,m)=>(F(),U("div",iZ,[ue(rq,{tagIndex:P(l).tagIndex},null,8,["tagIndex"]),b("div",oZ,[b("div",rZ,[(F(),lt(Yo(P(o))))])])]))}},aZ={class:"py-4 ps-4 overflow-auto inner-sidebar-wd"},lZ=b("div",{class:"py-4 ps-2 w-100 fs-c10"},"配置中心",-1),cZ=b("div",{class:"pt-2 ps-2 color-light"},"权限",-1),dZ={__name:"team_control",props:{tagIndex:Number},setup(i){let l=tt().params.team;return(o,d)=>{const m=Ht("router-link");return F(),U("div",aZ,[lZ,cZ,b("div",{class:je(["inner-item",{active:i.tagIndex===1}])},[ue(m,{to:{name:"TeamSetting",params:{team:P(l),type:"permission"}}},{default:qe(()=>[rt("权限配置")]),_:1},8,["to"])],2)])}}},uZ={class:"px-4 pb-4"},i5={__name:"permission",setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ve({team:l.params.team,project:"",maps:{invite:{code:4,permission:"invite_member",title:"邀请团队成员",desc:"允许用户邀请新的团队成员，并在顶栏显示邀请团队成员的快捷入口",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]},team:{code:1,permission:"administer_team",title:"团队管理员",desc:"超级管理员权限，可以更改团队信息和团队权限",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]},do:{code:2,permission:"administer_do",title:"「项目配置中心」管理员",desc:"针对项目管理，可以对项目进行全局配置",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]},wiki:{code:3,permission:"administer_wiki",title:"「文档配置中心」管理员",desc:"针对文档管理，可以对文档进行全局配置",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]}},role_members:[],loaded:!1,data:{permission_rule:{context_type:"team"}}});Ue(()=>{d()});let d=()=>{let u=[];for(let h in o.maps)u.push(o.maps[h].code);r.post(r.urls.permission_rules.format(o.team),u).then(function(h){for(let f in o.maps){let g=o.maps[f];g.groups=[]}if(h.data&&h.data.length>0)for(let f in o.maps){let g=o.maps[f];for(let y=0;y<h.data.length;y++){let k=h.data[y];if(k.permission===g.code){g.groups=k.groups;break}}}m()})},m=()=>{r.get(r.urls.team_member_list.format(o.team)).then(function(u){if(u.data&&u.data&&u.data.length>0){let h=[];for(let f=0;f<u.data.length;f++){let g=u.data[f];g.type="single_user",h.push(g)}for(let f in o.maps){let g=o.maps[f];g.members=h}}o.loaded=!0})};return(u,h)=>(F(),U(xe,null,[ue(En,{title:"权限配置",desc:"允许给团队成员配置相应的权限。"}),b("div",uZ,[P(o).loaded?(F(),lt(ti,{key:0,role_members:P(o).role_members,data:P(o).data,group:P(o).maps.invite,onLoadPermissionData:P(d)},null,8,["role_members","data","group","onLoadPermissionData"])):ve("",!0),P(o).loaded?(F(),lt(ti,{key:1,role_members:P(o).role_members,data:P(o).data,group:P(o).maps.team,onLoadPermissionData:P(d)},null,8,["role_members","data","group","onLoadPermissionData"])):ve("",!0),P(o).loaded?(F(),lt(ti,{key:2,role_members:P(o).role_members,data:P(o).data,group:P(o).maps.do,onLoadPermissionData:P(d)},null,8,["role_members","data","group","onLoadPermissionData"])):ve("",!0),P(o).loaded?(F(),lt(ti,{key:3,role_members:P(o).role_members,data:P(o).data,group:P(o).maps.wiki,onLoadPermissionData:P(d)},null,8,["role_members","data","group","onLoadPermissionData"])):ve("",!0)])],64))}},hZ={class:"flex-row flex flex-fill"},fZ={class:"flex-column flex flex-fill py-4 pe-4 overflow-auto"},pZ={class:"border bg-white flex-fill"},mZ={__name:"team_setting",setup(i){let r=tt(),l=Ve({com:"manager",tagIndex:1});Ue(()=>{l.com=r.params.type}),Bt(()=>r.params,d=>{l.com=r.params.type});let o=Ge(()=>{let d=i5;switch(l.com){case"permission":l.tagIndex=1,d=i5;break}return d});return(d,m)=>(F(),U("div",hZ,[ue(dZ,{tagIndex:P(l).tagIndex},null,8,["tagIndex"]),b("div",fZ,[b("div",pZ,[(F(),lt(Yo(P(o))))])])]))}};const gZ={class:"badge badge-sys fs-8"},_Z={__name:"built_in_sys",props:{name:{default:"系统"}},setup(i){return(r,l)=>(F(),U("span",gZ,_e(i.name),1))}},Kr=Tt(_Z,[["__scopeId","data-v-590b362e"]]);const $l=i=>(Kt("data-v-26330da9"),i=i(),Yt(),i),bZ={class:"flex-column flex flex-fill p-4 overflow-auto"},vZ={class:"border bg-white flex-fill"},kZ={class:"px-4"},wZ={class:"flex-row flex mt-3"},yZ={style:{flex:"1"}},CZ={class:"table flex-fill mt-3"},AZ={class:"table table-hover"},xZ=$l(()=>b("thead",{class:"table-light"},[b("tr",null,[b("th",{scope:"col",class:"col-3"},"名称"),b("th",{scope:"col",class:"text-center col-3"},"限额"),b("th",{scope:"col",class:"col-2"},"创建时间"),b("th",{scope:"col",class:"col-1"},"状态"),b("th",{scope:"col",class:"col-1"},"默认"),b("th",{scope:"col",class:"col-1"},"操作")])],-1)),SZ={style:{"line-height":"initial"}},EZ={class:"flex align-items-center"},DZ={class:"ms-1"},TZ={style:{"line-height":"initial"}},IZ={class:"d-flex py-2"},MZ=$l(()=>b("div",{class:"w-50 text-end pe-3"},"成员限额",-1)),PZ={class:"d-flex"},OZ=$l(()=>b("div",{class:"w-50 text-end pe-3"},"项目限额",-1)),BZ={class:"d-flex py-2"},LZ=$l(()=>b("div",{class:"w-50 text-end pe-3"},"页面组限额",-1)),RZ={class:"d-flex pb-2"},NZ=$l(()=>b("div",{class:"w-50 text-end pe-3"},"页面限额/组",-1)),$Z={key:0,class:"bi bi-check-lg",title:"设置默认登录进入的团队"},jZ=["onClick"],zZ={key:0},FZ=$l(()=>b("i",{class:"bi bi-pencil-square"},null,-1)),VZ={__name:"manager",setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ve({team:l.params.team,departmentTree:{},teams:[],show:!1,modifyMember:{},modify_title:"",departMembers:[],departmentUUID:"all"});Ue(()=>{d()});let d=()=>{r.post(r.urls.teams).then(function(u){o.teams=u.data})},m=u=>{r.post(r.urls.team_default_set.format(u),{is_default:1}).then(function(h){h.data.code===200&&(d(),r.bus.emit("alertSuccess","更新成功"))}).catch(function(h){r.bus.emit("alertDanger",h.response.data.error)})};return(u,h)=>{const f=Ht("router-link");return F(),U("div",bZ,[b("div",vZ,[ue(En,{title:"团队列表",desc:"创建新的团队，可以配置登录默认进入哪个团队。"}),b("div",kZ,[b("div",wZ,[b("div",yZ,[ue(Pn,{placeholder:"输入团队名"})]),ue(ci,{title:"创建团队","data-bs-toggle":"modal","data-bs-target":"#addTeam"}),ue(m6,{onLoadTeam:P(d)},null,8,["onLoadTeam"])]),b("div",CZ,[b("table",AZ,[xZ,b("tbody",null,[(F(!0),U(xe,null,Xe(P(o).teams,g=>(F(),U("tr",{key:g.uuid,class:"default"},[b("td",SZ,[b("div",EZ,[b("div",null,[ue(f,{to:{name:"Overview",params:{team:g.uuid,type:"overview",title:"我的工作台"}}},{default:qe(()=>[rt(_e(g.name),1)]),_:2},1032,["to"])]),b("div",DZ,[ue(Kr,{name:g.type},null,8,["name"])])])]),b("td",TZ,[b("div",IZ,[MZ,b("div",null,_e(g.member_scale===-1?"不限":g.member_scale),1)]),b("div",PZ,[OZ,b("div",null,_e(g.project_scale<=0?"不限":g.project_scale),1)]),b("div",BZ,[LZ,b("div",null,_e(g.space_scale<=0?"不限":g.space_scale),1)]),b("div",RZ,[NZ,b("div",null,_e(g.space_page_scale<=0?"不限":g.space_page_scale),1)])]),b("td",null,_e(u.filters.formatDay(g.create_time)),1),b("td",null,_e(g.status===1?"正常":"停用"),1),b("td",null,[g.default_login?(F(),U("i",$Z)):(F(),U("i",{key:1,class:"bi bi-check-lg selected pointer",onClick:y=>P(m)(g.uuid)},null,8,jZ))]),b("td",null,[g.can_modify?(F(),U("div",zZ,[ue(f,{to:{name:"TeamInfo",params:{team:P(o).team}}},{default:qe(()=>[FZ]),_:1},8,["to"])])):ve("",!0)])]))),128))])])])])])])}}},UZ=Tt(VZ,[["__scopeId","data-v-26330da9"]]),HZ={style:{"margin-left":"10px"}},WZ={class:"modal fade",id:"addTeamMember","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},GZ={class:"modal-dialog modal-lg modal-dialog-scrollable"},KZ={class:"modal-content"},YZ=b("div",{class:"modal-header"},[b("h5",{class:"modal-title",id:"staticBackdropLabel"},"邀请新用户"),b("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),qZ={class:"modal-body"},ZZ=b("div",{style:{height:"40px","margin-bottom":"10px","border-top":"1px solid #e8e8e8","border-bottom":"1px solid #e8e8e8","border-left":"3px solid #f0ad4e","border-right":"1px solid #e8e8e8"}},[b("div",{style:{flex:"1","align-items":"center",height:"100%",display:"flex","margin-left":"20px"}},[b("div",{style:{flex:"0 0 auto"}}," 可以邀请一个新的成员，也可以邀请其他团队的成员。 ")])],-1),QZ={class:"flex-column my-3"},JZ=b("label",{class:"col-md-12 control-label"},"邮箱地址",-1),XZ={class:"col-md-12 mt-2"},eQ={class:"modal-footer"},tQ=b("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"取消",-1),nQ=["disabled"],iQ={__name:"inviter_user",emits:["loadTeamMembers"],setup(i,{emit:r}){const{proxy:l}=Ke();at();let o=tt(),d=Ve({team:o.params.team,email:"",sendBtnDisabled:!1}),m=null;Ue(()=>{m=new bootstrap.Modal(document.getElementById("addTeamMember"),{keyboard:!1})});let u=()=>{d.sendBtnDisabled=!0;let h={email:d.email};l.post(l.urls.team_member_add.format(d.team),h).then(function(f){d.sendBtnDisabled=!1,f.data.code===200&&(m.hide(),r("loadTeamMembers"))}).catch(function(f){d.sendBtnDisabled=!1,l.bus.emit("alertDanger",f.response.data.error)})};return(h,f)=>(F(),U("div",HZ,[ue(ci,{title:"邀请新成员","data-bs-toggle":"modal","data-bs-target":"#addTeamMember"}),b("div",WZ,[b("div",GZ,[b("div",KZ,[YZ,b("div",qZ,[b("form",{ref:"form",onSubmit:f[1]||(f[1]=mi((...g)=>P(u)&&P(u)(...g),["stop","prevent"]))},[ZZ,b("div",QZ,[JZ,b("div",XZ,[ct(b("input",{type:"text","onUpdate:modelValue":f[0]||(f[0]=g=>P(d).email=g),name:"name",class:"form-control"},null,512),[[gt,P(d).email]])])])],544)]),b("div",eQ,[tQ,b("button",{type:"button",class:"btn btn-primary",disabled:P(d).sendBtnDisabled,onClick:f[2]||(f[2]=(...g)=>P(u)&&P(u)(...g))},"确定",8,nQ)])])])])]))}},oQ={class:"flex-column flex flex-fill p-4 overflow-auto"},rQ={class:"border bg-white flex-fill"},sQ={class:"px-4"},aQ={class:"flex-row flex mt-3"},lQ={style:{flex:"1"}},cQ={class:"table flex-fill mt-3"},dQ={class:"table table-hover"},uQ=b("thead",{class:"table-light"},[b("tr",null,[b("th",{scope:"col",class:"col-3"},"用户名"),b("th",{scope:"col",class:"col-2"},"创建时间"),b("th",{scope:"col",class:"col-2"},"最后访问时间"),b("th",{scope:"col",class:"col-1"},"状态"),b("th",{scope:"col",class:"col-1"},"操作")])],-1),hQ=["data-bs-target"],fQ=b("i",{class:"bi bi-x-lg"},null,-1),pQ=[fQ],mQ={key:1},gQ=b("div",{class:"color-light"},"管理员",-1),_Q=[gQ],bQ={key:2,style:{width:"30px",height:"2px"}},vQ=b("div",{style:{width:"100%",height:"100%","background-color":"#e0e0e0"}},null,-1),kQ=[vQ],wQ={__name:"member",setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ve({team:l.params.team,departmentTree:{},members:[],show:!1,modifyMember:{},modify_title:"",departMembers:[],departmentUUID:"all"});Ue(()=>{o.team=l.params.team,d()}),Bt(()=>l.params,u=>{d()});let d=()=>{r.get(r.urls.team_member_list.format(o.team)).then(function(u){o.members=u.data})},m=u=>{if(!u){r.bus.emit("alertDanger","参数不能为空");return}r.post(r.urls.team_member_delete.format(o.team),{uuid:u}).then(function(h){h.data.code===200&&(r.bus.emit("alertSuccess","删除成员成功"),d())}).catch(function(h){r.bus.emit("alertDanger",h.response.data.error)})};return(u,h)=>(F(),U("div",oQ,[b("div",rQ,[ue(En,{title:"成员列表",desc:"可以管理团队成员，邀请新成员。"}),b("div",sQ,[b("div",aQ,[b("div",lQ,[ue(Pn,{placeholder:"输入用户名，邮箱查找成员"})]),ue(iQ,{onLoadTeamMembers:P(d)},null,8,["onLoadTeamMembers"])]),b("div",cQ,[b("table",dQ,[uQ,b("tbody",null,[(F(!0),U(xe,null,Xe(P(o).members,f=>(F(),U("tr",{key:f.uuid},[b("td",null,[ue(_r,{user:f,hasEmail:!0},null,8,["user"])]),b("td",null,_e(u.filters.formatDay(f.create_time)),1),b("td",null,_e(u.filters.formatDay(f.modify_time)),1),b("td",null,_e(f.status===1?"正常":"挂起"),1),b("td",null,[ue(qo,{desc:"确定是否删除团队成员？",param:f.uuid,onSubmit:P(m),id:"delMemberModal"+f.uuid},null,8,["param","onSubmit","id"]),f.can_delete?(F(),U("div",{key:0,class:"ps-2 color-hover pointer","data-bs-toggle":"modal","data-bs-target":"#delMemberModal"+f.uuid},pQ,8,hQ)):f.owner?(F(),U("div",mQ,_Q)):(F(),U("div",bQ,kQ))])]))),128))])])])])])]))}},yQ={class:"flex-column flex flex-fill p-4 overflow-auto"},CQ={class:"border bg-white flex-fill"},AQ={class:"mx-4"},xQ={class:"mt-4 col-5"},SQ=b("label",{for:"team-name",class:"form-label"},"团队名字",-1),EQ={class:"mt-4 col-6"},DQ={__name:"info",setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ve({team:l.params.team,name:"",avatar:"",disabled:!0});Ue(()=>{d()});let d=()=>{r.get(r.urls.team_get.format(o.team)).then(function(h){o.name=h.data.name})},m=()=>{o.disabled=!1},u=()=>{r.post(r.urls.team_update.format(o.team,o.project),{name:o.name,uuid:o.project}).then(function(h){h.data.code===200&&(o.disabled=!0,r.bus.emit("updateTeam",o.team),r.bus.emit("alertSuccess","更新成功"))}).catch(function(h){r.bus.emit("alertDanger",h.response.data.error)})};return(h,f)=>(F(),U("div",yQ,[b("div",CQ,[ue(En,{title:"团队信息"}),b("div",AQ,[b("div",xQ,[SQ,ct(b("input",{type:"email",class:"form-control",id:"team-name",onChange:f[0]||(f[0]=(...g)=>P(m)&&P(m)(...g)),onKeydown:f[1]||(f[1]=(...g)=>P(m)&&P(m)(...g)),"onUpdate:modelValue":f[2]||(f[2]=g=>P(o).name=g)},null,544),[[gt,P(o).name]])]),b("div",EQ,[ue(ci,{disabled:P(o).disabled,title:"更新信息",onSubmit:P(u)},null,8,["disabled","onSubmit"])])])])]))}},TQ={class:"py-4 ps-4 overflow-auto inner-sidebar-wd"},IQ=b("div",{class:"py-4 ps-2 w-100 fs-c10"},"配置中心",-1),MQ=b("div",{class:"pt-2 ps-2 color-light"},"基础项",-1),PQ=b("div",{class:"pt-4 ps-2 color-light"},"权限",-1),OQ={__name:"okr_control",props:["tagIndex"],setup(i){const r=i;let l=tt(),{tagIndex:o}=_d(r),d=Ve({team:l.params.team});return(m,u)=>{const h=Ht("router-link");return F(),U("div",TQ,[IQ,MQ,b("div",{class:je(["inner-item",{active:P(o)===1}])},[ue(h,{to:{name:"OKRSetting",params:{team:P(d).team,type:"period"}}},{default:qe(()=>[rt("目标周期配置")]),_:1},8,["to"])],2),PQ,b("div",{class:je(["inner-item",{active:P(o)===11}])},[ue(h,{to:{name:"OKRSetting",params:{team:P(d).team,type:"permission"}}},{default:qe(()=>[rt("权限配置")]),_:1},8,["to"])],2)])}}},BQ={class:"px-4 pb-4"},LQ={__name:"permission",setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ve({team:l.params.team,project:"",maps:{administer:{code:5,permission:"administer_objective",title:"管理团队目标",desc:"允许创建、修改、删除团队目标，指派团队目标负责人",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]},manage:{code:1301,permission:"manage_objective",title:"管理个人目标",desc:"在个人目标下，添加，修改，删除指派给个人的目标，以及关键成果",groups:[],roles:[],members:[],in_roles:["everyone"]},assign:{code:1302,permission:"assign_to",title:"指派关键成果",desc:"可以将团队目标的关键成果指派给团队成员",groups:[],roles:[],members:[],in_roles:["everyone","okr_assign","team_owner"]},browse:{code:1303,permission:"browse_okr",title:"浏览目标与关键成果",desc:"能浏览目标与关键成果的权限",groups:[],roles:[],members:[],in_roles:["everyone"]}},role_members:[],loaded:!1,data:{permission_rule:{context_type:"team"}}});Ue(()=>{d()});let d=()=>{let u=[];for(let h in o.maps)u.push(o.maps[h].code);r.post(r.urls.permission_rules.format(o.team),u).then(function(h){for(let f in o.maps){let g=o.maps[f];g.groups=[]}if(h.data&&h.data.length>0)for(let f in o.maps){let g=o.maps[f];for(let y=0;y<h.data.length;y++){let k=h.data[y];if(k.permission===g.code){g.groups=k.groups;break}}}m()})},m=()=>{r.get(r.urls.team_member_list.format(o.team)).then(function(u){if(u.data&&u.data&&u.data.length>0){let h=[];for(let f=0;f<u.data.length;f++){let g=u.data[f];g.type="single_user",h.push(g)}for(let f in o.maps){let g=o.maps[f];g.members=h}}o.loaded=!0})};return(u,h)=>(F(),U(xe,null,[ue(En,{title:"权限配置",desc:"允许给团队成员配置相应的权限。"}),b("div",BQ,[P(o).loaded?(F(),lt(ti,{key:0,role_members:P(o).role_members,data:P(o).data,group:P(o).maps.administer,onLoadPermissionData:P(d)},null,8,["role_members","data","group","onLoadPermissionData"])):ve("",!0),P(o).loaded?(F(),lt(ti,{key:1,role_members:P(o).role_members,data:P(o).data,group:P(o).maps.manage,onLoadPermissionData:P(d)},null,8,["role_members","data","group","onLoadPermissionData"])):ve("",!0),P(o).loaded?(F(),lt(ti,{key:2,role_members:P(o).role_members,data:P(o).data,group:P(o).maps.assign,onLoadPermissionData:P(d)},null,8,["role_members","data","group","onLoadPermissionData"])):ve("",!0),P(o).loaded?(F(),lt(ti,{key:3,role_members:P(o).role_members,data:P(o).data,group:P(o).maps.browse,onLoadPermissionData:P(d)},null,8,["role_members","data","group","onLoadPermissionData"])):ve("",!0)])],64))}};const Cd=i=>(Kt("data-v-89940230"),i=i(),Yt(),i),RQ={class:"flex-column flex flex-fill p-4 period"},NQ={class:"d-flex flex-row flex-fill"},$Q={class:"d-flex flex-row"},jQ={class:"flex-row flex flex-fill align-items-center ms-4"},zQ={class:"flex-row flex align-items-center ms-4"},FQ={class:"tab-title flex-row flex border-bottom ps-4"},VQ=["onClick"],UQ={key:0,class:"ms-2 color-light"},HQ={class:"px-4"},WQ={key:0,class:"d-flex flex-column flex-fill",style:{height:"60px"}},GQ={class:"fs-c10"},KQ={class:"flex-row flex mt-1 color-light"},YQ={key:1,class:"d-flex flex-fill align-items-center me-4 period",style:{height:"60px"}},qQ={class:"w-25"},ZQ=["onUpdate:modelValue"],QQ={class:"flex-row flex flex-fill ms-4"},JQ=["onClick"],XQ=Cd(()=>b("i",{class:"bi bi-pencil-fill"},null,-1)),eJ=[XQ],tJ=["onClick"],nJ=["onClick"],iJ=["onClick"],oJ=Cd(()=>b("div",{class:"flex-column flex align-items-end justify-content-center me-2 pointer color-hover","data-bs-toggle":"dropdown","data-bs-offset":"0,2"},[b("i",{class:"bi bi-three-dots"})],-1)),rJ={class:"dropdown-menu py-2"},sJ={class:"d-flex flex-column justify-content-center"},aJ=["onClick"],lJ=Cd(()=>b("i",{class:"bi bi-archive pe-3"},null,-1)),cJ=["onClick"],dJ=Cd(()=>b("i",{class:"bi bi-archive pe-3"},null,-1)),uJ=["onClick"],hJ=Cd(()=>b("i",{class:"bi bi-trash pe-3"},null,-1)),fJ={__name:"period",setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ve({team:l.params.team,tabTitle:["活跃的","已归档的"],status:1,subject:"",items:[]});Ue(()=>{d()});let d=()=>{const y={status:o.status};r.post(r.urls.team_okr_period_list.format(o.team),y).then(function(k){o.items=k.data;for(let v=0;v<o.items.length;v++)o.items[v].periodRangeDate=[new Date(o.items[v].start_date),new Date(o.items[v].end_date)]})};const m=et();let u=()=>{if(m.value.length!==2||!o.subject)return;let y={teamUUID:o.team,subject:o.subject,start_date:m.value[0].getTime(),end_date:m.value[1].getTime()};r.post(r.urls.team_okr_period_add.format(o.team),y).then(function(k){k.data.code===200&&(o.status=1,o.subject="",m.value=[],d(),r.bus.emit("alertSuccess","更新成功"))}).catch(function(k){r.bus.emit("alertDanger",k.response.data.error)})},h=y=>{if(y.periodRangeDate.length!==2||!y.subject)return;let k={period_uuid:y.uuid,subject:y.subject,start_date:Date.parse(y.periodRangeDate[0]),end_date:Date.parse(y.periodRangeDate[1])};r.post(r.urls.team_okr_period_update.format(o.team),k).then(function(v){v.data.code===200&&(d(),r.bus.emit("alertSuccess","更新成功"))}).catch(function(v){r.bus.emit("alertDanger",v.response.data.error)})},f=(y,k)=>{if(y.length!==8)return;let v={period_uuid:y,status:k};r.post(r.urls.team_okr_period_archived.format(o.team),v).then(function(A){A.data.code===200&&(d(),r.bus.emit("alertSuccess","更新成功"))}).catch(function(A){r.bus.emit("alertDanger",A.response.data.error)})},g=y=>{if(y.length!==8)return;let k={period_uuid:y};r.post(r.urls.team_okr_period_delete.format(o.team),k).then(function(v){v.data.code===200&&(d(),r.bus.emit("alertSuccess","更新成功"))}).catch(function(v){r.bus.emit("alertDanger",v.response.data.error)})};return(y,k)=>{const v=Ht("VueDatePicker");return F(),U(xe,null,[ue(En,{title:"目标周期配置",desc:"在目标周期配置页面，你可以创建、编辑、归档、删除目标周期。各周期内日期不可重叠。"}),b("div",RQ,[b("div",NQ,[b("div",$Q,[ct(b("input",{type:"text","onUpdate:modelValue":k[0]||(k[0]=A=>P(o).subject=A),class:"form-control",placeholder:"目标周期标题"},null,512),[[gt,P(o).subject]])]),b("div",jQ,[ue(v,{modelValue:m.value,"onUpdate:modelValue":k[1]||(k[1]=A=>m.value=A),"enable-time-picker":!1,clearable:!1,range:"","multi-calendars":""},null,8,["modelValue"])]),b("div",zQ,[b("button",{type:"button",class:"btn btn-primary",onClick:k[2]||(k[2]=(...A)=>P(u)&&P(u)(...A))},"添加")])])]),b("div",FQ,[(F(!0),U(xe,null,Xe(P(o).tabTitle,(A,T)=>(F(),U("div",{class:je(["d-flex align-items-center",{active:P(o).status===T+1}]),onClick:x=>{P(o).status=T+1,P(d)()},key:T},[b("span",null,_e(A),1),T===1?(F(),U("span",UQ,[ue(Nl,{desc:"归档的目标不可以修改，如果需要再次修改，请取消归档",placement:"bottom",circle:!1})])):ve("",!0)],10,VQ))),128))]),b("div",HQ,[(F(!0),U(xe,null,Xe(P(o).items,A=>(F(),U("div",{class:"flex-row flex align-items-center py-3 pages border-bottom",key:A.uuid},[!A.edit||P(o).status===2?(F(),U("div",WQ,[b("div",GQ,_e(A.subject),1),b("div",KQ,_e(y.filters.formatDay(A.start_date))+" ~ "+_e(y.filters.formatDay(A.end_date)),1)])):(F(),U("div",YQ,[b("div",qQ,[ct(b("input",{ref_for:!0,ref:A.uuid,"onUpdate:modelValue":T=>A.subject=T,class:"form-control"},null,8,ZQ),[[gt,A.subject]])]),b("div",QQ,[ue(v,{modelValue:A.periodRangeDate,"onUpdate:modelValue":T=>A.periodRangeDate=T,"enable-time-picker":!1,clearable:!1,range:"","multi-calendars":""},null,8,["modelValue","onUpdate:modelValue"])])])),!A.edit&&P(o).status===1?(F(),U("div",{key:2,class:"mx-4 pointer color-hover",onClick:T=>{A.edit=!0,y.$nextTick(()=>{y.$refs[A.uuid][0].focus()})}},eJ,8,JQ)):A.edit&&P(o).status===1?(F(),U("div",{key:3,class:"flex-row flex me-4 pointer",onClick:T=>{A.edit=!1}},[b("button",{type:"button",class:"btn btn-primary",onClick:T=>{P(h)(A)}},"更新",8,nJ),b("button",{type:"button",class:"btn btn-secondary ms-4",onClick:T=>{A.edit=!1}},"取消",8,iJ)],8,tJ)):ve("",!0),oJ,b("div",rJ,[b("div",sJ,[A.status===1?(F(),U("div",{key:0,class:"d-flex align-items-center pointer hover ps-4 py-1",onClick:T=>{P(f)(A.uuid,2)}},[lJ,rt(" 归档 ")],8,aJ)):(F(),U("div",{key:1,class:"d-flex align-items-center pointer hover ps-4 py-1",onClick:T=>{P(f)(A.uuid,1)}},[dJ,rt(" 取消归档 ")],8,cJ)),b("div",{class:"d-flex align-items-center pointer hover ps-4 py-1",onClick:T=>{P(g)(A.uuid)}},[hJ,rt(" 删除 ")],8,uJ)])])]))),128))])],64)}}},o5=Tt(fJ,[["__scopeId","data-v-89940230"]]),pJ={class:"flex-row flex flex-fill"},mJ={class:"flex-column flex flex-fill py-4 pe-4 overflow-auto"},gJ={class:"border bg-white flex-fill"},_J={__name:"okr_setting",setup(i){let r=tt(),l=Ve({com:"period",tagIndex:1});Ue(()=>{l.com=r.params.type}),Bt(()=>r.params,d=>{l.com=r.params.type});let o=Ge(()=>{let d=o5;switch(l.com){case"period":l.tagIndex=1,d=o5;break;case"permission":l.tagIndex=11,d=LQ;break}return d});return(d,m)=>(F(),U("div",pJ,[ue(OQ,{tagIndex:P(l).tagIndex},null,8,["tagIndex"]),b("div",mJ,[b("div",gJ,[(F(),lt(Yo(P(o))))])])]))}};var v6={exports:{}};/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function r5(i,r){var l=Object.keys(i);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);r&&(o=o.filter(function(d){return Object.getOwnPropertyDescriptor(i,d).enumerable})),l.push.apply(l,o)}return l}function br(i){for(var r=1;r<arguments.length;r++){var l=arguments[r]!=null?arguments[r]:{};r%2?r5(Object(l),!0).forEach(function(o){bJ(i,o,l[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):r5(Object(l)).forEach(function(o){Object.defineProperty(i,o,Object.getOwnPropertyDescriptor(l,o))})}return i}function ph(i){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ph=function(r){return typeof r}:ph=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ph(i)}function bJ(i,r,l){return r in i?Object.defineProperty(i,r,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[r]=l,i}function Io(){return Io=Object.assign||function(i){for(var r=1;r<arguments.length;r++){var l=arguments[r];for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(i[o]=l[o])}return i},Io.apply(this,arguments)}function vJ(i,r){if(i==null)return{};var l={},o=Object.keys(i),d,m;for(m=0;m<o.length;m++)d=o[m],!(r.indexOf(d)>=0)&&(l[d]=i[d]);return l}function kJ(i,r){if(i==null)return{};var l=vJ(i,r),o,d;if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(i);for(d=0;d<m.length;d++)o=m[d],!(r.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(i,o)&&(l[o]=i[o])}return l}function wJ(i){return yJ(i)||CJ(i)||AJ(i)||xJ()}function yJ(i){if(Array.isArray(i))return c0(i)}function CJ(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function AJ(i,r){if(i){if(typeof i=="string")return c0(i,r);var l=Object.prototype.toString.call(i).slice(8,-1);if(l==="Object"&&i.constructor&&(l=i.constructor.name),l==="Map"||l==="Set")return Array.from(i);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return c0(i,r)}}function c0(i,r){(r==null||r>i.length)&&(r=i.length);for(var l=0,o=new Array(r);l<r;l++)o[l]=i[l];return o}function xJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var SJ="1.14.0";function Fr(i){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(i)}var Yr=Fr(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ad=Fr(/Edge/i),s5=Fr(/firefox/i),Gc=Fr(/safari/i)&&!Fr(/chrome/i)&&!Fr(/android/i),k6=Fr(/iP(ad|od|hone)/i),EJ=Fr(/chrome/i)&&Fr(/android/i),w6={capture:!1,passive:!1};function Jt(i,r,l){i.addEventListener(r,l,!Yr&&w6)}function Gt(i,r,l){i.removeEventListener(r,l,!Yr&&w6)}function Ih(i,r){if(r){if(r[0]===">"&&(r=r.substring(1)),i)try{if(i.matches)return i.matches(r);if(i.msMatchesSelector)return i.msMatchesSelector(r);if(i.webkitMatchesSelector)return i.webkitMatchesSelector(r)}catch{return!1}return!1}}function DJ(i){return i.host&&i!==document&&i.host.nodeType?i.host:i.parentNode}function Vo(i,r,l,o){if(i){l=l||document;do{if(r!=null&&(r[0]===">"?i.parentNode===l&&Ih(i,r):Ih(i,r))||o&&i===l)return i;if(i===l)break}while(i=DJ(i))}return null}var a5=/\s+/g;function Fn(i,r,l){if(i&&r)if(i.classList)i.classList[l?"add":"remove"](r);else{var o=(" "+i.className+" ").replace(a5," ").replace(" "+r+" "," ");i.className=(o+(l?" "+r:"")).replace(a5," ")}}function wt(i,r,l){var o=i&&i.style;if(o){if(l===void 0)return document.defaultView&&document.defaultView.getComputedStyle?l=document.defaultView.getComputedStyle(i,""):i.currentStyle&&(l=i.currentStyle),r===void 0?l:l[r];!(r in o)&&r.indexOf("webkit")===-1&&(r="-webkit-"+r),o[r]=l+(typeof l=="string"?"":"px")}}function ha(i,r){var l="";if(typeof i=="string")l=i;else do{var o=wt(i,"transform");o&&o!=="none"&&(l=o+" "+l)}while(!r&&(i=i.parentNode));var d=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return d&&new d(l)}function y6(i,r,l){if(i){var o=i.getElementsByTagName(r),d=0,m=o.length;if(l)for(;d<m;d++)l(o[d],d);return o}return[]}function pr(){var i=document.scrollingElement;return i||document.documentElement}function $n(i,r,l,o,d){if(!(!i.getBoundingClientRect&&i!==window)){var m,u,h,f,g,y,k;if(i!==window&&i.parentNode&&i!==pr()?(m=i.getBoundingClientRect(),u=m.top,h=m.left,f=m.bottom,g=m.right,y=m.height,k=m.width):(u=0,h=0,f=window.innerHeight,g=window.innerWidth,y=window.innerHeight,k=window.innerWidth),(r||l)&&i!==window&&(d=d||i.parentNode,!Yr))do if(d&&d.getBoundingClientRect&&(wt(d,"transform")!=="none"||l&&wt(d,"position")!=="static")){var v=d.getBoundingClientRect();u-=v.top+parseInt(wt(d,"border-top-width")),h-=v.left+parseInt(wt(d,"border-left-width")),f=u+m.height,g=h+m.width;break}while(d=d.parentNode);if(o&&i!==window){var A=ha(d||i),T=A&&A.a,x=A&&A.d;A&&(u/=x,h/=T,k/=T,y/=x,f=u+y,g=h+k)}return{top:u,left:h,bottom:f,right:g,width:k,height:y}}}function l5(i,r,l){for(var o=bs(i,!0),d=$n(i)[r];o;){var m=$n(o)[l],u=void 0;if(l==="top"||l==="left"?u=d>=m:u=d<=m,!u)return o;if(o===pr())break;o=bs(o,!1)}return!1}function Tl(i,r,l,o){for(var d=0,m=0,u=i.children;m<u.length;){if(u[m].style.display!=="none"&&u[m]!==Ot.ghost&&(o||u[m]!==Ot.dragged)&&Vo(u[m],l.draggable,i,!1)){if(d===r)return u[m];d++}m++}return null}function h1(i,r){for(var l=i.lastElementChild;l&&(l===Ot.ghost||wt(l,"display")==="none"||r&&!Ih(l,r));)l=l.previousElementSibling;return l||null}function Zn(i,r){var l=0;if(!i||!i.parentNode)return-1;for(;i=i.previousElementSibling;)i.nodeName.toUpperCase()!=="TEMPLATE"&&i!==Ot.clone&&(!r||Ih(i,r))&&l++;return l}function c5(i){var r=0,l=0,o=pr();if(i)do{var d=ha(i),m=d.a,u=d.d;r+=i.scrollLeft*m,l+=i.scrollTop*u}while(i!==o&&(i=i.parentNode));return[r,l]}function TJ(i,r){for(var l in i)if(i.hasOwnProperty(l)){for(var o in r)if(r.hasOwnProperty(o)&&r[o]===i[l][o])return Number(l)}return-1}function bs(i,r){if(!i||!i.getBoundingClientRect)return pr();var l=i,o=!1;do if(l.clientWidth<l.scrollWidth||l.clientHeight<l.scrollHeight){var d=wt(l);if(l.clientWidth<l.scrollWidth&&(d.overflowX=="auto"||d.overflowX=="scroll")||l.clientHeight<l.scrollHeight&&(d.overflowY=="auto"||d.overflowY=="scroll")){if(!l.getBoundingClientRect||l===document.body)return pr();if(o||r)return l;o=!0}}while(l=l.parentNode);return pr()}function IJ(i,r){if(i&&r)for(var l in r)r.hasOwnProperty(l)&&(i[l]=r[l]);return i}function ug(i,r){return Math.round(i.top)===Math.round(r.top)&&Math.round(i.left)===Math.round(r.left)&&Math.round(i.height)===Math.round(r.height)&&Math.round(i.width)===Math.round(r.width)}var Kc;function C6(i,r){return function(){if(!Kc){var l=arguments,o=this;l.length===1?i.call(o,l[0]):i.apply(o,l),Kc=setTimeout(function(){Kc=void 0},r)}}}function MJ(){clearTimeout(Kc),Kc=void 0}function A6(i,r,l){i.scrollLeft+=r,i.scrollTop+=l}function f1(i){var r=window.Polymer,l=window.jQuery||window.Zepto;return r&&r.dom?r.dom(i).cloneNode(!0):l?l(i).clone(!0)[0]:i.cloneNode(!0)}function d5(i,r){wt(i,"position","absolute"),wt(i,"top",r.top),wt(i,"left",r.left),wt(i,"width",r.width),wt(i,"height",r.height)}function hg(i){wt(i,"position",""),wt(i,"top",""),wt(i,"left",""),wt(i,"width",""),wt(i,"height","")}var Ti="Sortable"+new Date().getTime();function PJ(){var i=[],r;return{captureAnimationState:function(){if(i=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(d){if(!(wt(d,"display")==="none"||d===Ot.ghost)){i.push({target:d,rect:$n(d)});var m=br({},i[i.length-1].rect);if(d.thisAnimationDuration){var u=ha(d,!0);u&&(m.top-=u.f,m.left-=u.e)}d.fromRect=m}})}},addAnimationState:function(o){i.push(o)},removeAnimationState:function(o){i.splice(TJ(i,{target:o}),1)},animateAll:function(o){var d=this;if(!this.options.animation){clearTimeout(r),typeof o=="function"&&o();return}var m=!1,u=0;i.forEach(function(h){var f=0,g=h.target,y=g.fromRect,k=$n(g),v=g.prevFromRect,A=g.prevToRect,T=h.rect,x=ha(g,!0);x&&(k.top-=x.f,k.left-=x.e),g.toRect=k,g.thisAnimationDuration&&ug(v,k)&&!ug(y,k)&&(T.top-k.top)/(T.left-k.left)===(y.top-k.top)/(y.left-k.left)&&(f=BJ(T,v,A,d.options)),ug(k,y)||(g.prevFromRect=y,g.prevToRect=k,f||(f=d.options.animation),d.animate(g,T,k,f)),f&&(m=!0,u=Math.max(u,f),clearTimeout(g.animationResetTimer),g.animationResetTimer=setTimeout(function(){g.animationTime=0,g.prevFromRect=null,g.fromRect=null,g.prevToRect=null,g.thisAnimationDuration=null},f),g.thisAnimationDuration=f)}),clearTimeout(r),m?r=setTimeout(function(){typeof o=="function"&&o()},u):typeof o=="function"&&o(),i=[]},animate:function(o,d,m,u){if(u){wt(o,"transition",""),wt(o,"transform","");var h=ha(this.el),f=h&&h.a,g=h&&h.d,y=(d.left-m.left)/(f||1),k=(d.top-m.top)/(g||1);o.animatingX=!!y,o.animatingY=!!k,wt(o,"transform","translate3d("+y+"px,"+k+"px,0)"),this.forRepaintDummy=OJ(o),wt(o,"transition","transform "+u+"ms"+(this.options.easing?" "+this.options.easing:"")),wt(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){wt(o,"transition",""),wt(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},u)}}}}function OJ(i){return i.offsetWidth}function BJ(i,r,l,o){return Math.sqrt(Math.pow(r.top-i.top,2)+Math.pow(r.left-i.left,2))/Math.sqrt(Math.pow(r.top-l.top,2)+Math.pow(r.left-l.left,2))*o.animation}var il=[],fg={initializeByDefault:!0},xd={mount:function(r){for(var l in fg)fg.hasOwnProperty(l)&&!(l in r)&&(r[l]=fg[l]);il.forEach(function(o){if(o.pluginName===r.pluginName)throw"Sortable: Cannot mount plugin ".concat(r.pluginName," more than once")}),il.push(r)},pluginEvent:function(r,l,o){var d=this;this.eventCanceled=!1,o.cancel=function(){d.eventCanceled=!0};var m=r+"Global";il.forEach(function(u){l[u.pluginName]&&(l[u.pluginName][m]&&l[u.pluginName][m](br({sortable:l},o)),l.options[u.pluginName]&&l[u.pluginName][r]&&l[u.pluginName][r](br({sortable:l},o)))})},initializePlugins:function(r,l,o,d){il.forEach(function(h){var f=h.pluginName;if(!(!r.options[f]&&!h.initializeByDefault)){var g=new h(r,l,r.options);g.sortable=r,g.options=r.options,r[f]=g,Io(o,g.defaults)}});for(var m in r.options)if(r.options.hasOwnProperty(m)){var u=this.modifyOption(r,m,r.options[m]);typeof u<"u"&&(r.options[m]=u)}},getEventProperties:function(r,l){var o={};return il.forEach(function(d){typeof d.eventProperties=="function"&&Io(o,d.eventProperties.call(l[d.pluginName],r))}),o},modifyOption:function(r,l,o){var d;return il.forEach(function(m){r[m.pluginName]&&m.optionListeners&&typeof m.optionListeners[l]=="function"&&(d=m.optionListeners[l].call(r[m.pluginName],o))}),d}};function Oc(i){var r=i.sortable,l=i.rootEl,o=i.name,d=i.targetEl,m=i.cloneEl,u=i.toEl,h=i.fromEl,f=i.oldIndex,g=i.newIndex,y=i.oldDraggableIndex,k=i.newDraggableIndex,v=i.originalEvent,A=i.putSortable,T=i.extraEventProperties;if(r=r||l&&l[Ti],!!r){var x,C=r.options,D="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!Yr&&!Ad?x=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(x=document.createEvent("Event"),x.initEvent(o,!0,!0)),x.to=u||l,x.from=h||l,x.item=d||l,x.clone=m,x.oldIndex=f,x.newIndex=g,x.oldDraggableIndex=y,x.newDraggableIndex=k,x.originalEvent=v,x.pullMode=A?A.lastPutMode:void 0;var S=br(br({},T),xd.getEventProperties(o,r));for(var M in S)x[M]=S[M];l&&l.dispatchEvent(x),C[D]&&C[D].call(r,x)}}var LJ=["evt"],qi=function(r,l){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=o.evt,m=kJ(o,LJ);xd.pluginEvent.bind(Ot)(r,l,br({dragEl:ut,parentEl:Yn,ghostEl:Ft,rootEl:Nn,nextEl:na,lastDownEl:mh,cloneEl:qn,cloneHidden:_s,dragStarted:Bc,putSortable:ki,activeSortable:Ot.active,originalEvent:d,oldIndex:ul,oldDraggableIndex:Yc,newIndex:uo,newDraggableIndex:gs,hideGhostForTarget:D6,unhideGhostForTarget:T6,cloneNowHidden:function(){_s=!0},cloneNowShown:function(){_s=!1},dispatchSortableEvent:function(h){Ri({sortable:l,name:h,originalEvent:d})}},m))};function Ri(i){Oc(br({putSortable:ki,cloneEl:qn,targetEl:ut,rootEl:Nn,oldIndex:ul,oldDraggableIndex:Yc,newIndex:uo,newDraggableIndex:gs},i))}var ut,Yn,Ft,Nn,na,mh,qn,_s,ul,uo,Yc,gs,Ju,ki,dl=!1,Mh=!1,Ph=[],Xs,zo,pg,mg,u5,h5,Bc,ol,qc,Zc=!1,Xu=!1,gh,Si,gg=[],d0=!1,Oh=[],wf=typeof document<"u",eh=k6,f5=Ad||Yr?"cssFloat":"float",RJ=wf&&!EJ&&!k6&&"draggable"in document.createElement("div"),x6=function(){if(wf){if(Yr)return!1;var i=document.createElement("x");return i.style.cssText="pointer-events:auto",i.style.pointerEvents==="auto"}}(),S6=function(r,l){var o=wt(r),d=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),m=Tl(r,0,l),u=Tl(r,1,l),h=m&&wt(m),f=u&&wt(u),g=h&&parseInt(h.marginLeft)+parseInt(h.marginRight)+$n(m).width,y=f&&parseInt(f.marginLeft)+parseInt(f.marginRight)+$n(u).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(m&&h.float&&h.float!=="none"){var k=h.float==="left"?"left":"right";return u&&(f.clear==="both"||f.clear===k)?"vertical":"horizontal"}return m&&(h.display==="block"||h.display==="flex"||h.display==="table"||h.display==="grid"||g>=d&&o[f5]==="none"||u&&o[f5]==="none"&&g+y>d)?"vertical":"horizontal"},NJ=function(r,l,o){var d=o?r.left:r.top,m=o?r.right:r.bottom,u=o?r.width:r.height,h=o?l.left:l.top,f=o?l.right:l.bottom,g=o?l.width:l.height;return d===h||m===f||d+u/2===h+g/2},$J=function(r,l){var o;return Ph.some(function(d){var m=d[Ti].options.emptyInsertThreshold;if(!(!m||h1(d))){var u=$n(d),h=r>=u.left-m&&r<=u.right+m,f=l>=u.top-m&&l<=u.bottom+m;if(h&&f)return o=d}}),o},E6=function(r){function l(m,u){return function(h,f,g,y){var k=h.options.group.name&&f.options.group.name&&h.options.group.name===f.options.group.name;if(m==null&&(u||k))return!0;if(m==null||m===!1)return!1;if(u&&m==="clone")return m;if(typeof m=="function")return l(m(h,f,g,y),u)(h,f,g,y);var v=(u?h:f).options.group.name;return m===!0||typeof m=="string"&&m===v||m.join&&m.indexOf(v)>-1}}var o={},d=r.group;(!d||ph(d)!="object")&&(d={name:d}),o.name=d.name,o.checkPull=l(d.pull,!0),o.checkPut=l(d.put),o.revertClone=d.revertClone,r.group=o},D6=function(){!x6&&Ft&&wt(Ft,"display","none")},T6=function(){!x6&&Ft&&wt(Ft,"display","")};wf&&document.addEventListener("click",function(i){if(Mh)return i.preventDefault(),i.stopPropagation&&i.stopPropagation(),i.stopImmediatePropagation&&i.stopImmediatePropagation(),Mh=!1,!1},!0);var ea=function(r){if(ut){r=r.touches?r.touches[0]:r;var l=$J(r.clientX,r.clientY);if(l){var o={};for(var d in r)r.hasOwnProperty(d)&&(o[d]=r[d]);o.target=o.rootEl=l,o.preventDefault=void 0,o.stopPropagation=void 0,l[Ti]._onDragOver(o)}}},jJ=function(r){ut&&ut.parentNode[Ti]._isOutsideThisEl(r.target)};function Ot(i,r){if(!(i&&i.nodeType&&i.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(i));this.el=i,this.options=r=Io({},r),i[Ti]=this;var l={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(i.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return S6(i,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(u,h){u.setData("Text",h.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Ot.supportPointer!==!1&&"PointerEvent"in window&&!Gc,emptyInsertThreshold:5};xd.initializePlugins(this,i,l);for(var o in l)!(o in r)&&(r[o]=l[o]);E6(r);for(var d in this)d.charAt(0)==="_"&&typeof this[d]=="function"&&(this[d]=this[d].bind(this));this.nativeDraggable=r.forceFallback?!1:RJ,this.nativeDraggable&&(this.options.touchStartThreshold=1),r.supportPointer?Jt(i,"pointerdown",this._onTapStart):(Jt(i,"mousedown",this._onTapStart),Jt(i,"touchstart",this._onTapStart)),this.nativeDraggable&&(Jt(i,"dragover",this),Jt(i,"dragenter",this)),Ph.push(this.el),r.store&&r.store.get&&this.sort(r.store.get(this)||[]),Io(this,PJ())}Ot.prototype={constructor:Ot,_isOutsideThisEl:function(r){!this.el.contains(r)&&r!==this.el&&(ol=null)},_getDirection:function(r,l){return typeof this.options.direction=="function"?this.options.direction.call(this,r,l,ut):this.options.direction},_onTapStart:function(r){if(r.cancelable){var l=this,o=this.el,d=this.options,m=d.preventOnFilter,u=r.type,h=r.touches&&r.touches[0]||r.pointerType&&r.pointerType==="touch"&&r,f=(h||r).target,g=r.target.shadowRoot&&(r.path&&r.path[0]||r.composedPath&&r.composedPath()[0])||f,y=d.filter;if(KJ(o),!ut&&!(/mousedown|pointerdown/.test(u)&&r.button!==0||d.disabled)&&!g.isContentEditable&&!(!this.nativeDraggable&&Gc&&f&&f.tagName.toUpperCase()==="SELECT")&&(f=Vo(f,d.draggable,o,!1),!(f&&f.animated)&&mh!==f)){if(ul=Zn(f),Yc=Zn(f,d.draggable),typeof y=="function"){if(y.call(this,r,f,this)){Ri({sortable:l,rootEl:g,name:"filter",targetEl:f,toEl:o,fromEl:o}),qi("filter",l,{evt:r}),m&&r.cancelable&&r.preventDefault();return}}else if(y&&(y=y.split(",").some(function(k){if(k=Vo(g,k.trim(),o,!1),k)return Ri({sortable:l,rootEl:k,name:"filter",targetEl:f,fromEl:o,toEl:o}),qi("filter",l,{evt:r}),!0}),y)){m&&r.cancelable&&r.preventDefault();return}d.handle&&!Vo(g,d.handle,o,!1)||this._prepareDragStart(r,h,f)}}},_prepareDragStart:function(r,l,o){var d=this,m=d.el,u=d.options,h=m.ownerDocument,f;if(o&&!ut&&o.parentNode===m){var g=$n(o);if(Nn=m,ut=o,Yn=ut.parentNode,na=ut.nextSibling,mh=o,Ju=u.group,Ot.dragged=ut,Xs={target:ut,clientX:(l||r).clientX,clientY:(l||r).clientY},u5=Xs.clientX-g.left,h5=Xs.clientY-g.top,this._lastX=(l||r).clientX,this._lastY=(l||r).clientY,ut.style["will-change"]="all",f=function(){if(qi("delayEnded",d,{evt:r}),Ot.eventCanceled){d._onDrop();return}d._disableDelayedDragEvents(),!s5&&d.nativeDraggable&&(ut.draggable=!0),d._triggerDragStart(r,l),Ri({sortable:d,name:"choose",originalEvent:r}),Fn(ut,u.chosenClass,!0)},u.ignore.split(",").forEach(function(y){y6(ut,y.trim(),_g)}),Jt(h,"dragover",ea),Jt(h,"mousemove",ea),Jt(h,"touchmove",ea),Jt(h,"mouseup",d._onDrop),Jt(h,"touchend",d._onDrop),Jt(h,"touchcancel",d._onDrop),s5&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ut.draggable=!0),qi("delayStart",this,{evt:r}),u.delay&&(!u.delayOnTouchOnly||l)&&(!this.nativeDraggable||!(Ad||Yr))){if(Ot.eventCanceled){this._onDrop();return}Jt(h,"mouseup",d._disableDelayedDrag),Jt(h,"touchend",d._disableDelayedDrag),Jt(h,"touchcancel",d._disableDelayedDrag),Jt(h,"mousemove",d._delayedDragTouchMoveHandler),Jt(h,"touchmove",d._delayedDragTouchMoveHandler),u.supportPointer&&Jt(h,"pointermove",d._delayedDragTouchMoveHandler),d._dragStartTimer=setTimeout(f,u.delay)}else f()}},_delayedDragTouchMoveHandler:function(r){var l=r.touches?r.touches[0]:r;Math.max(Math.abs(l.clientX-this._lastX),Math.abs(l.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ut&&_g(ut),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var r=this.el.ownerDocument;Gt(r,"mouseup",this._disableDelayedDrag),Gt(r,"touchend",this._disableDelayedDrag),Gt(r,"touchcancel",this._disableDelayedDrag),Gt(r,"mousemove",this._delayedDragTouchMoveHandler),Gt(r,"touchmove",this._delayedDragTouchMoveHandler),Gt(r,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(r,l){l=l||r.pointerType=="touch"&&r,!this.nativeDraggable||l?this.options.supportPointer?Jt(document,"pointermove",this._onTouchMove):l?Jt(document,"touchmove",this._onTouchMove):Jt(document,"mousemove",this._onTouchMove):(Jt(ut,"dragend",this),Jt(Nn,"dragstart",this._onDragStart));try{document.selection?_h(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(r,l){if(dl=!1,Nn&&ut){qi("dragStarted",this,{evt:l}),this.nativeDraggable&&Jt(document,"dragover",jJ);var o=this.options;!r&&Fn(ut,o.dragClass,!1),Fn(ut,o.ghostClass,!0),Ot.active=this,r&&this._appendGhost(),Ri({sortable:this,name:"start",originalEvent:l})}else this._nulling()},_emulateDragOver:function(){if(zo){this._lastX=zo.clientX,this._lastY=zo.clientY,D6();for(var r=document.elementFromPoint(zo.clientX,zo.clientY),l=r;r&&r.shadowRoot&&(r=r.shadowRoot.elementFromPoint(zo.clientX,zo.clientY),r!==l);)l=r;if(ut.parentNode[Ti]._isOutsideThisEl(r),l)do{if(l[Ti]){var o=void 0;if(o=l[Ti]._onDragOver({clientX:zo.clientX,clientY:zo.clientY,target:r,rootEl:l}),o&&!this.options.dragoverBubble)break}r=l}while(l=l.parentNode);T6()}},_onTouchMove:function(r){if(Xs){var l=this.options,o=l.fallbackTolerance,d=l.fallbackOffset,m=r.touches?r.touches[0]:r,u=Ft&&ha(Ft,!0),h=Ft&&u&&u.a,f=Ft&&u&&u.d,g=eh&&Si&&c5(Si),y=(m.clientX-Xs.clientX+d.x)/(h||1)+(g?g[0]-gg[0]:0)/(h||1),k=(m.clientY-Xs.clientY+d.y)/(f||1)+(g?g[1]-gg[1]:0)/(f||1);if(!Ot.active&&!dl){if(o&&Math.max(Math.abs(m.clientX-this._lastX),Math.abs(m.clientY-this._lastY))<o)return;this._onDragStart(r,!0)}if(Ft){u?(u.e+=y-(pg||0),u.f+=k-(mg||0)):u={a:1,b:0,c:0,d:1,e:y,f:k};var v="matrix(".concat(u.a,",").concat(u.b,",").concat(u.c,",").concat(u.d,",").concat(u.e,",").concat(u.f,")");wt(Ft,"webkitTransform",v),wt(Ft,"mozTransform",v),wt(Ft,"msTransform",v),wt(Ft,"transform",v),pg=y,mg=k,zo=m}r.cancelable&&r.preventDefault()}},_appendGhost:function(){if(!Ft){var r=this.options.fallbackOnBody?document.body:Nn,l=$n(ut,!0,eh,!0,r),o=this.options;if(eh){for(Si=r;wt(Si,"position")==="static"&&wt(Si,"transform")==="none"&&Si!==document;)Si=Si.parentNode;Si!==document.body&&Si!==document.documentElement?(Si===document&&(Si=pr()),l.top+=Si.scrollTop,l.left+=Si.scrollLeft):Si=pr(),gg=c5(Si)}Ft=ut.cloneNode(!0),Fn(Ft,o.ghostClass,!1),Fn(Ft,o.fallbackClass,!0),Fn(Ft,o.dragClass,!0),wt(Ft,"transition",""),wt(Ft,"transform",""),wt(Ft,"box-sizing","border-box"),wt(Ft,"margin",0),wt(Ft,"top",l.top),wt(Ft,"left",l.left),wt(Ft,"width",l.width),wt(Ft,"height",l.height),wt(Ft,"opacity","0.8"),wt(Ft,"position",eh?"absolute":"fixed"),wt(Ft,"zIndex","100000"),wt(Ft,"pointerEvents","none"),Ot.ghost=Ft,r.appendChild(Ft),wt(Ft,"transform-origin",u5/parseInt(Ft.style.width)*100+"% "+h5/parseInt(Ft.style.height)*100+"%")}},_onDragStart:function(r,l){var o=this,d=r.dataTransfer,m=o.options;if(qi("dragStart",this,{evt:r}),Ot.eventCanceled){this._onDrop();return}qi("setupClone",this),Ot.eventCanceled||(qn=f1(ut),qn.draggable=!1,qn.style["will-change"]="",this._hideClone(),Fn(qn,this.options.chosenClass,!1),Ot.clone=qn),o.cloneId=_h(function(){qi("clone",o),!Ot.eventCanceled&&(o.options.removeCloneOnHide||Nn.insertBefore(qn,ut),o._hideClone(),Ri({sortable:o,name:"clone"}))}),!l&&Fn(ut,m.dragClass,!0),l?(Mh=!0,o._loopId=setInterval(o._emulateDragOver,50)):(Gt(document,"mouseup",o._onDrop),Gt(document,"touchend",o._onDrop),Gt(document,"touchcancel",o._onDrop),d&&(d.effectAllowed="move",m.setData&&m.setData.call(o,d,ut)),Jt(document,"drop",o),wt(ut,"transform","translateZ(0)")),dl=!0,o._dragStartId=_h(o._dragStarted.bind(o,l,r)),Jt(document,"selectstart",o),Bc=!0,Gc&&wt(document.body,"user-select","none")},_onDragOver:function(r){var l=this.el,o=r.target,d,m,u,h=this.options,f=h.group,g=Ot.active,y=Ju===f,k=h.sort,v=ki||g,A,T=this,x=!1;if(d0)return;function C(J,q){qi(J,T,br({evt:r,isOwner:y,axis:A?"vertical":"horizontal",revert:u,dragRect:d,targetRect:m,canSort:k,fromSortable:v,target:o,completed:S,onMove:function(be,ke){return th(Nn,l,ut,d,be,$n(be),r,ke)},changed:M},q))}function D(){C("dragOverAnimationCapture"),T.captureAnimationState(),T!==v&&v.captureAnimationState()}function S(J){return C("dragOverCompleted",{insertion:J}),J&&(y?g._hideClone():g._showClone(T),T!==v&&(Fn(ut,ki?ki.options.ghostClass:g.options.ghostClass,!1),Fn(ut,h.ghostClass,!0)),ki!==T&&T!==Ot.active?ki=T:T===Ot.active&&ki&&(ki=null),v===T&&(T._ignoreWhileAnimating=o),T.animateAll(function(){C("dragOverAnimationComplete"),T._ignoreWhileAnimating=null}),T!==v&&(v.animateAll(),v._ignoreWhileAnimating=null)),(o===ut&&!ut.animated||o===l&&!o.animated)&&(ol=null),!h.dragoverBubble&&!r.rootEl&&o!==document&&(ut.parentNode[Ti]._isOutsideThisEl(r.target),!J&&ea(r)),!h.dragoverBubble&&r.stopPropagation&&r.stopPropagation(),x=!0}function M(){uo=Zn(ut),gs=Zn(ut,h.draggable),Ri({sortable:T,name:"change",toEl:l,newIndex:uo,newDraggableIndex:gs,originalEvent:r})}if(r.preventDefault!==void 0&&r.cancelable&&r.preventDefault(),o=Vo(o,h.draggable,l,!0),C("dragOver"),Ot.eventCanceled)return x;if(ut.contains(r.target)||o.animated&&o.animatingX&&o.animatingY||T._ignoreWhileAnimating===o)return S(!1);if(Mh=!1,g&&!h.disabled&&(y?k||(u=Yn!==Nn):ki===this||(this.lastPutMode=Ju.checkPull(this,g,ut,r))&&f.checkPut(this,g,ut,r))){if(A=this._getDirection(r,o)==="vertical",d=$n(ut),C("dragOverValid"),Ot.eventCanceled)return x;if(u)return Yn=Nn,D(),this._hideClone(),C("revert"),Ot.eventCanceled||(na?Nn.insertBefore(ut,na):Nn.appendChild(ut)),S(!0);var B=h1(l,h.draggable);if(!B||UJ(r,A,this)&&!B.animated){if(B===ut)return S(!1);if(B&&l===r.target&&(o=B),o&&(m=$n(o)),th(Nn,l,ut,d,o,m,r,!!o)!==!1)return D(),l.appendChild(ut),Yn=l,M(),S(!0)}else if(B&&VJ(r,A,this)){var R=Tl(l,0,h,!0);if(R===ut)return S(!1);if(o=R,m=$n(o),th(Nn,l,ut,d,o,m,r,!1)!==!1)return D(),l.insertBefore(ut,R),Yn=l,M(),S(!0)}else if(o.parentNode===l){m=$n(o);var L=0,j,N=ut.parentNode!==l,z=!NJ(ut.animated&&ut.toRect||d,o.animated&&o.toRect||m,A),Z=A?"top":"left",K=l5(o,"top","top")||l5(ut,"top","top"),H=K?K.scrollTop:void 0;ol!==o&&(j=m[Z],Zc=!1,Xu=!z&&h.invertSwap||N),L=HJ(r,o,m,A,z?1:h.swapThreshold,h.invertedSwapThreshold==null?h.swapThreshold:h.invertedSwapThreshold,Xu,ol===o);var Y;if(L!==0){var oe=Zn(ut);do oe-=L,Y=Yn.children[oe];while(Y&&(wt(Y,"display")==="none"||Y===Ft))}if(L===0||Y===o)return S(!1);ol=o,qc=L;var me=o.nextElementSibling,re=!1;re=L===1;var W=th(Nn,l,ut,d,o,m,r,re);if(W!==!1)return(W===1||W===-1)&&(re=W===1),d0=!0,setTimeout(FJ,30),D(),re&&!me?l.appendChild(ut):o.parentNode.insertBefore(ut,re?me:o),K&&A6(K,0,H-K.scrollTop),Yn=ut.parentNode,j!==void 0&&!Xu&&(gh=Math.abs(j-$n(o)[Z])),M(),S(!0)}if(l.contains(ut))return S(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Gt(document,"mousemove",this._onTouchMove),Gt(document,"touchmove",this._onTouchMove),Gt(document,"pointermove",this._onTouchMove),Gt(document,"dragover",ea),Gt(document,"mousemove",ea),Gt(document,"touchmove",ea)},_offUpEvents:function(){var r=this.el.ownerDocument;Gt(r,"mouseup",this._onDrop),Gt(r,"touchend",this._onDrop),Gt(r,"pointerup",this._onDrop),Gt(r,"touchcancel",this._onDrop),Gt(document,"selectstart",this)},_onDrop:function(r){var l=this.el,o=this.options;if(uo=Zn(ut),gs=Zn(ut,o.draggable),qi("drop",this,{evt:r}),Yn=ut&&ut.parentNode,uo=Zn(ut),gs=Zn(ut,o.draggable),Ot.eventCanceled){this._nulling();return}dl=!1,Xu=!1,Zc=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),u0(this.cloneId),u0(this._dragStartId),this.nativeDraggable&&(Gt(document,"drop",this),Gt(l,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Gc&&wt(document.body,"user-select",""),wt(ut,"transform",""),r&&(Bc&&(r.cancelable&&r.preventDefault(),!o.dropBubble&&r.stopPropagation()),Ft&&Ft.parentNode&&Ft.parentNode.removeChild(Ft),(Nn===Yn||ki&&ki.lastPutMode!=="clone")&&qn&&qn.parentNode&&qn.parentNode.removeChild(qn),ut&&(this.nativeDraggable&&Gt(ut,"dragend",this),_g(ut),ut.style["will-change"]="",Bc&&!dl&&Fn(ut,ki?ki.options.ghostClass:this.options.ghostClass,!1),Fn(ut,this.options.chosenClass,!1),Ri({sortable:this,name:"unchoose",toEl:Yn,newIndex:null,newDraggableIndex:null,originalEvent:r}),Nn!==Yn?(uo>=0&&(Ri({rootEl:Yn,name:"add",toEl:Yn,fromEl:Nn,originalEvent:r}),Ri({sortable:this,name:"remove",toEl:Yn,originalEvent:r}),Ri({rootEl:Yn,name:"sort",toEl:Yn,fromEl:Nn,originalEvent:r}),Ri({sortable:this,name:"sort",toEl:Yn,originalEvent:r})),ki&&ki.save()):uo!==ul&&uo>=0&&(Ri({sortable:this,name:"update",toEl:Yn,originalEvent:r}),Ri({sortable:this,name:"sort",toEl:Yn,originalEvent:r})),Ot.active&&((uo==null||uo===-1)&&(uo=ul,gs=Yc),Ri({sortable:this,name:"end",toEl:Yn,originalEvent:r}),this.save()))),this._nulling()},_nulling:function(){qi("nulling",this),Nn=ut=Yn=Ft=na=qn=mh=_s=Xs=zo=Bc=uo=gs=ul=Yc=ol=qc=ki=Ju=Ot.dragged=Ot.ghost=Ot.clone=Ot.active=null,Oh.forEach(function(r){r.checked=!0}),Oh.length=pg=mg=0},handleEvent:function(r){switch(r.type){case"drop":case"dragend":this._onDrop(r);break;case"dragenter":case"dragover":ut&&(this._onDragOver(r),zJ(r));break;case"selectstart":r.preventDefault();break}},toArray:function(){for(var r=[],l,o=this.el.children,d=0,m=o.length,u=this.options;d<m;d++)l=o[d],Vo(l,u.draggable,this.el,!1)&&r.push(l.getAttribute(u.dataIdAttr)||GJ(l));return r},sort:function(r,l){var o={},d=this.el;this.toArray().forEach(function(m,u){var h=d.children[u];Vo(h,this.options.draggable,d,!1)&&(o[m]=h)},this),l&&this.captureAnimationState(),r.forEach(function(m){o[m]&&(d.removeChild(o[m]),d.appendChild(o[m]))}),l&&this.animateAll()},save:function(){var r=this.options.store;r&&r.set&&r.set(this)},closest:function(r,l){return Vo(r,l||this.options.draggable,this.el,!1)},option:function(r,l){var o=this.options;if(l===void 0)return o[r];var d=xd.modifyOption(this,r,l);typeof d<"u"?o[r]=d:o[r]=l,r==="group"&&E6(o)},destroy:function(){qi("destroy",this);var r=this.el;r[Ti]=null,Gt(r,"mousedown",this._onTapStart),Gt(r,"touchstart",this._onTapStart),Gt(r,"pointerdown",this._onTapStart),this.nativeDraggable&&(Gt(r,"dragover",this),Gt(r,"dragenter",this)),Array.prototype.forEach.call(r.querySelectorAll("[draggable]"),function(l){l.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Ph.splice(Ph.indexOf(this.el),1),this.el=r=null},_hideClone:function(){if(!_s){if(qi("hideClone",this),Ot.eventCanceled)return;wt(qn,"display","none"),this.options.removeCloneOnHide&&qn.parentNode&&qn.parentNode.removeChild(qn),_s=!0}},_showClone:function(r){if(r.lastPutMode!=="clone"){this._hideClone();return}if(_s){if(qi("showClone",this),Ot.eventCanceled)return;ut.parentNode==Nn&&!this.options.group.revertClone?Nn.insertBefore(qn,ut):na?Nn.insertBefore(qn,na):Nn.appendChild(qn),this.options.group.revertClone&&this.animate(ut,qn),wt(qn,"display",""),_s=!1}}};function zJ(i){i.dataTransfer&&(i.dataTransfer.dropEffect="move"),i.cancelable&&i.preventDefault()}function th(i,r,l,o,d,m,u,h){var f,g=i[Ti],y=g.options.onMove,k;return window.CustomEvent&&!Yr&&!Ad?f=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(f=document.createEvent("Event"),f.initEvent("move",!0,!0)),f.to=r,f.from=i,f.dragged=l,f.draggedRect=o,f.related=d||r,f.relatedRect=m||$n(r),f.willInsertAfter=h,f.originalEvent=u,i.dispatchEvent(f),y&&(k=y.call(g,f,u)),k}function _g(i){i.draggable=!1}function FJ(){d0=!1}function VJ(i,r,l){var o=$n(Tl(l.el,0,l.options,!0)),d=10;return r?i.clientX<o.left-d||i.clientY<o.top&&i.clientX<o.right:i.clientY<o.top-d||i.clientY<o.bottom&&i.clientX<o.left}function UJ(i,r,l){var o=$n(h1(l.el,l.options.draggable)),d=10;return r?i.clientX>o.right+d||i.clientX<=o.right&&i.clientY>o.bottom&&i.clientX>=o.left:i.clientX>o.right&&i.clientY>o.top||i.clientX<=o.right&&i.clientY>o.bottom+d}function HJ(i,r,l,o,d,m,u,h){var f=o?i.clientY:i.clientX,g=o?l.height:l.width,y=o?l.top:l.left,k=o?l.bottom:l.right,v=!1;if(!u){if(h&&gh<g*d){if(!Zc&&(qc===1?f>y+g*m/2:f<k-g*m/2)&&(Zc=!0),Zc)v=!0;else if(qc===1?f<y+gh:f>k-gh)return-qc}else if(f>y+g*(1-d)/2&&f<k-g*(1-d)/2)return WJ(r)}return v=v||u,v&&(f<y+g*m/2||f>k-g*m/2)?f>y+g/2?1:-1:0}function WJ(i){return Zn(ut)<Zn(i)?1:-1}function GJ(i){for(var r=i.tagName+i.className+i.src+i.href+i.textContent,l=r.length,o=0;l--;)o+=r.charCodeAt(l);return o.toString(36)}function KJ(i){Oh.length=0;for(var r=i.getElementsByTagName("input"),l=r.length;l--;){var o=r[l];o.checked&&Oh.push(o)}}function _h(i){return setTimeout(i,0)}function u0(i){return clearTimeout(i)}wf&&Jt(document,"touchmove",function(i){(Ot.active||dl)&&i.cancelable&&i.preventDefault()});Ot.utils={on:Jt,off:Gt,css:wt,find:y6,is:function(r,l){return!!Vo(r,l,r,!1)},extend:IJ,throttle:C6,closest:Vo,toggleClass:Fn,clone:f1,index:Zn,nextTick:_h,cancelNextTick:u0,detectDirection:S6,getChild:Tl};Ot.get=function(i){return i[Ti]};Ot.mount=function(){for(var i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];r[0].constructor===Array&&(r=r[0]),r.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(Ot.utils=br(br({},Ot.utils),o.utils)),xd.mount(o)})};Ot.create=function(i,r){return new Ot(i,r)};Ot.version=SJ;var si=[],Lc,h0,f0=!1,bg,vg,Bh,Rc;function YJ(){function i(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this))}return i.prototype={dragStarted:function(l){var o=l.originalEvent;this.sortable.nativeDraggable?Jt(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Jt(document,"pointermove",this._handleFallbackAutoScroll):o.touches?Jt(document,"touchmove",this._handleFallbackAutoScroll):Jt(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(l){var o=l.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?Gt(document,"dragover",this._handleAutoScroll):(Gt(document,"pointermove",this._handleFallbackAutoScroll),Gt(document,"touchmove",this._handleFallbackAutoScroll),Gt(document,"mousemove",this._handleFallbackAutoScroll)),p5(),bh(),MJ()},nulling:function(){Bh=h0=Lc=f0=Rc=bg=vg=null,si.length=0},_handleFallbackAutoScroll:function(l){this._handleAutoScroll(l,!0)},_handleAutoScroll:function(l,o){var d=this,m=(l.touches?l.touches[0]:l).clientX,u=(l.touches?l.touches[0]:l).clientY,h=document.elementFromPoint(m,u);if(Bh=l,o||this.options.forceAutoScrollFallback||Ad||Yr||Gc){kg(l,this.options,h,o);var f=bs(h,!0);f0&&(!Rc||m!==bg||u!==vg)&&(Rc&&p5(),Rc=setInterval(function(){var g=bs(document.elementFromPoint(m,u),!0);g!==f&&(f=g,bh()),kg(l,d.options,g,o)},10),bg=m,vg=u)}else{if(!this.options.bubbleScroll||bs(h,!0)===pr()){bh();return}kg(l,this.options,bs(h,!1),!1)}}},Io(i,{pluginName:"scroll",initializeByDefault:!0})}function bh(){si.forEach(function(i){clearInterval(i.pid)}),si=[]}function p5(){clearInterval(Rc)}var kg=C6(function(i,r,l,o){if(r.scroll){var d=(i.touches?i.touches[0]:i).clientX,m=(i.touches?i.touches[0]:i).clientY,u=r.scrollSensitivity,h=r.scrollSpeed,f=pr(),g=!1,y;h0!==l&&(h0=l,bh(),Lc=r.scroll,y=r.scrollFn,Lc===!0&&(Lc=bs(l,!0)));var k=0,v=Lc;do{var A=v,T=$n(A),x=T.top,C=T.bottom,D=T.left,S=T.right,M=T.width,B=T.height,R=void 0,L=void 0,j=A.scrollWidth,N=A.scrollHeight,z=wt(A),Z=A.scrollLeft,K=A.scrollTop;A===f?(R=M<j&&(z.overflowX==="auto"||z.overflowX==="scroll"||z.overflowX==="visible"),L=B<N&&(z.overflowY==="auto"||z.overflowY==="scroll"||z.overflowY==="visible")):(R=M<j&&(z.overflowX==="auto"||z.overflowX==="scroll"),L=B<N&&(z.overflowY==="auto"||z.overflowY==="scroll"));var H=R&&(Math.abs(S-d)<=u&&Z+M<j)-(Math.abs(D-d)<=u&&!!Z),Y=L&&(Math.abs(C-m)<=u&&K+B<N)-(Math.abs(x-m)<=u&&!!K);if(!si[k])for(var oe=0;oe<=k;oe++)si[oe]||(si[oe]={});(si[k].vx!=H||si[k].vy!=Y||si[k].el!==A)&&(si[k].el=A,si[k].vx=H,si[k].vy=Y,clearInterval(si[k].pid),(H!=0||Y!=0)&&(g=!0,si[k].pid=setInterval((function(){o&&this.layer===0&&Ot.active._onTouchMove(Bh);var me=si[this.layer].vy?si[this.layer].vy*h:0,re=si[this.layer].vx?si[this.layer].vx*h:0;typeof y=="function"&&y.call(Ot.dragged.parentNode[Ti],re,me,i,Bh,si[this.layer].el)!=="continue"||A6(si[this.layer].el,re,me)}).bind({layer:k}),24))),k++}while(r.bubbleScroll&&v!==f&&(v=bs(v,!1)));f0=g}},30),I6=function(r){var l=r.originalEvent,o=r.putSortable,d=r.dragEl,m=r.activeSortable,u=r.dispatchSortableEvent,h=r.hideGhostForTarget,f=r.unhideGhostForTarget;if(l){var g=o||m;h();var y=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:l,k=document.elementFromPoint(y.clientX,y.clientY);f(),g&&!g.el.contains(k)&&(u("spill"),this.onSpill({dragEl:d,putSortable:o}))}};function p1(){}p1.prototype={startIndex:null,dragStart:function(r){var l=r.oldDraggableIndex;this.startIndex=l},onSpill:function(r){var l=r.dragEl,o=r.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var d=Tl(this.sortable.el,this.startIndex,this.options);d?this.sortable.el.insertBefore(l,d):this.sortable.el.appendChild(l),this.sortable.animateAll(),o&&o.animateAll()},drop:I6};Io(p1,{pluginName:"revertOnSpill"});function m1(){}m1.prototype={onSpill:function(r){var l=r.dragEl,o=r.putSortable,d=o||this.sortable;d.captureAnimationState(),l.parentNode&&l.parentNode.removeChild(l),d.animateAll()},drop:I6};Io(m1,{pluginName:"removeOnSpill"});var Ao;function qJ(){function i(){this.defaults={swapClass:"sortable-swap-highlight"}}return i.prototype={dragStart:function(l){var o=l.dragEl;Ao=o},dragOverValid:function(l){var o=l.completed,d=l.target,m=l.onMove,u=l.activeSortable,h=l.changed,f=l.cancel;if(u.options.swap){var g=this.sortable.el,y=this.options;if(d&&d!==g){var k=Ao;m(d)!==!1?(Fn(d,y.swapClass,!0),Ao=d):Ao=null,k&&k!==Ao&&Fn(k,y.swapClass,!1)}h(),o(!0),f()}},drop:function(l){var o=l.activeSortable,d=l.putSortable,m=l.dragEl,u=d||this.sortable,h=this.options;Ao&&Fn(Ao,h.swapClass,!1),Ao&&(h.swap||d&&d.options.swap)&&m!==Ao&&(u.captureAnimationState(),u!==o&&o.captureAnimationState(),ZJ(m,Ao),u.animateAll(),u!==o&&o.animateAll())},nulling:function(){Ao=null}},Io(i,{pluginName:"swap",eventProperties:function(){return{swapItem:Ao}}})}function ZJ(i,r){var l=i.parentNode,o=r.parentNode,d,m;!l||!o||l.isEqualNode(r)||o.isEqualNode(i)||(d=Zn(i),m=Zn(r),l.isEqualNode(o)&&d<m&&m++,l.insertBefore(r,l.children[d]),o.insertBefore(i,o.children[m]))}var jt=[],co=[],yc,Fo,Cc=!1,Zi=!1,rl=!1,Tn,Ac,nh;function QJ(){function i(r){for(var l in this)l.charAt(0)==="_"&&typeof this[l]=="function"&&(this[l]=this[l].bind(this));r.options.supportPointer?Jt(document,"pointerup",this._deselectMultiDrag):(Jt(document,"mouseup",this._deselectMultiDrag),Jt(document,"touchend",this._deselectMultiDrag)),Jt(document,"keydown",this._checkKeyDown),Jt(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(d,m){var u="";jt.length&&Fo===r?jt.forEach(function(h,f){u+=(f?", ":"")+h.textContent}):u=m.textContent,d.setData("Text",u)}}}return i.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(l){var o=l.dragEl;Tn=o},delayEnded:function(){this.isMultiDrag=~jt.indexOf(Tn)},setupClone:function(l){var o=l.sortable,d=l.cancel;if(this.isMultiDrag){for(var m=0;m<jt.length;m++)co.push(f1(jt[m])),co[m].sortableIndex=jt[m].sortableIndex,co[m].draggable=!1,co[m].style["will-change"]="",Fn(co[m],this.options.selectedClass,!1),jt[m]===Tn&&Fn(co[m],this.options.chosenClass,!1);o._hideClone(),d()}},clone:function(l){var o=l.sortable,d=l.rootEl,m=l.dispatchSortableEvent,u=l.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||jt.length&&Fo===o&&(m5(!0,d),m("clone"),u()))},showClone:function(l){var o=l.cloneNowShown,d=l.rootEl,m=l.cancel;this.isMultiDrag&&(m5(!1,d),co.forEach(function(u){wt(u,"display","")}),o(),nh=!1,m())},hideClone:function(l){var o=this;l.sortable;var d=l.cloneNowHidden,m=l.cancel;this.isMultiDrag&&(co.forEach(function(u){wt(u,"display","none"),o.options.removeCloneOnHide&&u.parentNode&&u.parentNode.removeChild(u)}),d(),nh=!0,m())},dragStartGlobal:function(l){l.sortable,!this.isMultiDrag&&Fo&&Fo.multiDrag._deselectMultiDrag(),jt.forEach(function(o){o.sortableIndex=Zn(o)}),jt=jt.sort(function(o,d){return o.sortableIndex-d.sortableIndex}),rl=!0},dragStarted:function(l){var o=this,d=l.sortable;if(this.isMultiDrag){if(this.options.sort&&(d.captureAnimationState(),this.options.animation)){jt.forEach(function(u){u!==Tn&&wt(u,"position","absolute")});var m=$n(Tn,!1,!0,!0);jt.forEach(function(u){u!==Tn&&d5(u,m)}),Zi=!0,Cc=!0}d.animateAll(function(){Zi=!1,Cc=!1,o.options.animation&&jt.forEach(function(u){hg(u)}),o.options.sort&&ih()})}},dragOver:function(l){var o=l.target,d=l.completed,m=l.cancel;Zi&&~jt.indexOf(o)&&(d(!1),m())},revert:function(l){var o=l.fromSortable,d=l.rootEl,m=l.sortable,u=l.dragRect;jt.length>1&&(jt.forEach(function(h){m.addAnimationState({target:h,rect:Zi?$n(h):u}),hg(h),h.fromRect=u,o.removeAnimationState(h)}),Zi=!1,JJ(!this.options.removeCloneOnHide,d))},dragOverCompleted:function(l){var o=l.sortable,d=l.isOwner,m=l.insertion,u=l.activeSortable,h=l.parentEl,f=l.putSortable,g=this.options;if(m){if(d&&u._hideClone(),Cc=!1,g.animation&&jt.length>1&&(Zi||!d&&!u.options.sort&&!f)){var y=$n(Tn,!1,!0,!0);jt.forEach(function(v){v!==Tn&&(d5(v,y),h.appendChild(v))}),Zi=!0}if(!d)if(Zi||ih(),jt.length>1){var k=nh;u._showClone(o),u.options.animation&&!nh&&k&&co.forEach(function(v){u.addAnimationState({target:v,rect:Ac}),v.fromRect=Ac,v.thisAnimationDuration=null})}else u._showClone(o)}},dragOverAnimationCapture:function(l){var o=l.dragRect,d=l.isOwner,m=l.activeSortable;if(jt.forEach(function(h){h.thisAnimationDuration=null}),m.options.animation&&!d&&m.multiDrag.isMultiDrag){Ac=Io({},o);var u=ha(Tn,!0);Ac.top-=u.f,Ac.left-=u.e}},dragOverAnimationComplete:function(){Zi&&(Zi=!1,ih())},drop:function(l){var o=l.originalEvent,d=l.rootEl,m=l.parentEl,u=l.sortable,h=l.dispatchSortableEvent,f=l.oldIndex,g=l.putSortable,y=g||this.sortable;if(o){var k=this.options,v=m.children;if(!rl)if(k.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),Fn(Tn,k.selectedClass,!~jt.indexOf(Tn)),~jt.indexOf(Tn))jt.splice(jt.indexOf(Tn),1),yc=null,Oc({sortable:u,rootEl:d,name:"deselect",targetEl:Tn,originalEvt:o});else{if(jt.push(Tn),Oc({sortable:u,rootEl:d,name:"select",targetEl:Tn,originalEvt:o}),o.shiftKey&&yc&&u.el.contains(yc)){var A=Zn(yc),T=Zn(Tn);if(~A&&~T&&A!==T){var x,C;for(T>A?(C=A,x=T):(C=T,x=A+1);C<x;C++)~jt.indexOf(v[C])||(Fn(v[C],k.selectedClass,!0),jt.push(v[C]),Oc({sortable:u,rootEl:d,name:"select",targetEl:v[C],originalEvt:o}))}}else yc=Tn;Fo=y}if(rl&&this.isMultiDrag){if(Zi=!1,(m[Ti].options.sort||m!==d)&&jt.length>1){var D=$n(Tn),S=Zn(Tn,":not(."+this.options.selectedClass+")");if(!Cc&&k.animation&&(Tn.thisAnimationDuration=null),y.captureAnimationState(),!Cc&&(k.animation&&(Tn.fromRect=D,jt.forEach(function(B){if(B.thisAnimationDuration=null,B!==Tn){var R=Zi?$n(B):D;B.fromRect=R,y.addAnimationState({target:B,rect:R})}})),ih(),jt.forEach(function(B){v[S]?m.insertBefore(B,v[S]):m.appendChild(B),S++}),f===Zn(Tn))){var M=!1;jt.forEach(function(B){if(B.sortableIndex!==Zn(B)){M=!0;return}}),M&&h("update")}jt.forEach(function(B){hg(B)}),y.animateAll()}Fo=y}(d===m||g&&g.lastPutMode!=="clone")&&co.forEach(function(B){B.parentNode&&B.parentNode.removeChild(B)})}},nullingGlobal:function(){this.isMultiDrag=rl=!1,co.length=0},destroyGlobal:function(){this._deselectMultiDrag(),Gt(document,"pointerup",this._deselectMultiDrag),Gt(document,"mouseup",this._deselectMultiDrag),Gt(document,"touchend",this._deselectMultiDrag),Gt(document,"keydown",this._checkKeyDown),Gt(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(l){if(!(typeof rl<"u"&&rl)&&Fo===this.sortable&&!(l&&Vo(l.target,this.options.draggable,this.sortable.el,!1))&&!(l&&l.button!==0))for(;jt.length;){var o=jt[0];Fn(o,this.options.selectedClass,!1),jt.shift(),Oc({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:o,originalEvt:l})}},_checkKeyDown:function(l){l.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(l){l.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},Io(i,{pluginName:"multiDrag",utils:{select:function(l){var o=l.parentNode[Ti];!o||!o.options.multiDrag||~jt.indexOf(l)||(Fo&&Fo!==o&&(Fo.multiDrag._deselectMultiDrag(),Fo=o),Fn(l,o.options.selectedClass,!0),jt.push(l))},deselect:function(l){var o=l.parentNode[Ti],d=jt.indexOf(l);!o||!o.options.multiDrag||!~d||(Fn(l,o.options.selectedClass,!1),jt.splice(d,1))}},eventProperties:function(){var l=this,o=[],d=[];return jt.forEach(function(m){o.push({multiDragElement:m,index:m.sortableIndex});var u;Zi&&m!==Tn?u=-1:Zi?u=Zn(m,":not(."+l.options.selectedClass+")"):u=Zn(m),d.push({multiDragElement:m,index:u})}),{items:wJ(jt),clones:[].concat(co),oldIndicies:o,newIndicies:d}},optionListeners:{multiDragKey:function(l){return l=l.toLowerCase(),l==="ctrl"?l="Control":l.length>1&&(l=l.charAt(0).toUpperCase()+l.substr(1)),l}}})}function JJ(i,r){jt.forEach(function(l,o){var d=r.children[l.sortableIndex+(i?Number(o):0)];d?r.insertBefore(l,d):r.appendChild(l)})}function m5(i,r){co.forEach(function(l,o){var d=r.children[l.sortableIndex+(i?Number(o):0)];d?r.insertBefore(l,d):r.appendChild(l)})}function ih(){jt.forEach(function(i){i!==Tn&&i.parentNode&&i.parentNode.removeChild(i)})}Ot.mount(new YJ);Ot.mount(m1,p1);const XJ=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:QJ,Sortable:Ot,Swap:qJ,default:Ot},Symbol.toStringTag,{value:"Module"})),eX=Fx(XJ);(function(i,r){(function(o,d){i.exports=d(Ux,eX)})(typeof self<"u"?self:Lr,function(l,o){return function(d){var m={};function u(h){if(m[h])return m[h].exports;var f=m[h]={i:h,l:!1,exports:{}};return d[h].call(f.exports,f,f.exports,u),f.l=!0,f.exports}return u.m=d,u.c=m,u.d=function(h,f,g){u.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:g})},u.r=function(h){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})},u.t=function(h,f){if(f&1&&(h=u(h)),f&8||f&4&&typeof h=="object"&&h&&h.__esModule)return h;var g=Object.create(null);if(u.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:h}),f&2&&typeof h!="string")for(var y in h)u.d(g,y,(function(k){return h[k]}).bind(null,y));return g},u.n=function(h){var f=h&&h.__esModule?function(){return h.default}:function(){return h};return u.d(f,"a",f),f},u.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,f)},u.p="",u(u.s="fb15")}({"00ee":function(d,m,u){var h=u("b622"),f=h("toStringTag"),g={};g[f]="z",d.exports=String(g)==="[object z]"},"0366":function(d,m,u){var h=u("1c0b");d.exports=function(f,g,y){if(h(f),g===void 0)return f;switch(y){case 0:return function(){return f.call(g)};case 1:return function(k){return f.call(g,k)};case 2:return function(k,v){return f.call(g,k,v)};case 3:return function(k,v,A){return f.call(g,k,v,A)}}return function(){return f.apply(g,arguments)}}},"057f":function(d,m,u){var h=u("fc6a"),f=u("241c").f,g={}.toString,y=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],k=function(v){try{return f(v)}catch{return y.slice()}};d.exports.f=function(A){return y&&g.call(A)=="[object Window]"?k(A):f(h(A))}},"06cf":function(d,m,u){var h=u("83ab"),f=u("d1e7"),g=u("5c6c"),y=u("fc6a"),k=u("c04e"),v=u("5135"),A=u("0cfb"),T=Object.getOwnPropertyDescriptor;m.f=h?T:function(C,D){if(C=y(C),D=k(D,!0),A)try{return T(C,D)}catch{}if(v(C,D))return g(!f.f.call(C,D),C[D])}},"0cfb":function(d,m,u){var h=u("83ab"),f=u("d039"),g=u("cc12");d.exports=!h&&!f(function(){return Object.defineProperty(g("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(d,m,u){var h=u("23e7"),f=u("d58f").left,g=u("a640"),y=u("ae40"),k=g("reduce"),v=y("reduce",{1:0});h({target:"Array",proto:!0,forced:!k||!v},{reduce:function(T){return f(this,T,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(d,m,u){var h=u("c6b6"),f=u("9263");d.exports=function(g,y){var k=g.exec;if(typeof k=="function"){var v=k.call(g,y);if(typeof v!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return v}if(h(g)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return f.call(g,y)}},"159b":function(d,m,u){var h=u("da84"),f=u("fdbc"),g=u("17c2"),y=u("9112");for(var k in f){var v=h[k],A=v&&v.prototype;if(A&&A.forEach!==g)try{y(A,"forEach",g)}catch{A.forEach=g}}},"17c2":function(d,m,u){var h=u("b727").forEach,f=u("a640"),g=u("ae40"),y=f("forEach"),k=g("forEach");d.exports=!y||!k?function(A){return h(this,A,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(d,m,u){var h=u("d066");d.exports=h("document","documentElement")},"1c0b":function(d,m){d.exports=function(u){if(typeof u!="function")throw TypeError(String(u)+" is not a function");return u}},"1c7e":function(d,m,u){var h=u("b622"),f=h("iterator"),g=!1;try{var y=0,k={next:function(){return{done:!!y++}},return:function(){g=!0}};k[f]=function(){return this},Array.from(k,function(){throw 2})}catch{}d.exports=function(v,A){if(!A&&!g)return!1;var T=!1;try{var x={};x[f]=function(){return{next:function(){return{done:T=!0}}}},v(x)}catch{}return T}},"1d80":function(d,m){d.exports=function(u){if(u==null)throw TypeError("Can't call method on "+u);return u}},"1dde":function(d,m,u){var h=u("d039"),f=u("b622"),g=u("2d00"),y=f("species");d.exports=function(k){return g>=51||!h(function(){var v=[],A=v.constructor={};return A[y]=function(){return{foo:1}},v[k](Boolean).foo!==1})}},"23cb":function(d,m,u){var h=u("a691"),f=Math.max,g=Math.min;d.exports=function(y,k){var v=h(y);return v<0?f(v+k,0):g(v,k)}},"23e7":function(d,m,u){var h=u("da84"),f=u("06cf").f,g=u("9112"),y=u("6eeb"),k=u("ce4e"),v=u("e893"),A=u("94ca");d.exports=function(T,x){var C=T.target,D=T.global,S=T.stat,M,B,R,L,j,N;if(D?B=h:S?B=h[C]||k(C,{}):B=(h[C]||{}).prototype,B)for(R in x){if(j=x[R],T.noTargetGet?(N=f(B,R),L=N&&N.value):L=B[R],M=A(D?R:C+(S?".":"#")+R,T.forced),!M&&L!==void 0){if(typeof j==typeof L)continue;v(j,L)}(T.sham||L&&L.sham)&&g(j,"sham",!0),y(B,R,j,T)}}},"241c":function(d,m,u){var h=u("ca84"),f=u("7839"),g=f.concat("length","prototype");m.f=Object.getOwnPropertyNames||function(k){return h(k,g)}},"25f0":function(d,m,u){var h=u("6eeb"),f=u("825a"),g=u("d039"),y=u("ad6d"),k="toString",v=RegExp.prototype,A=v[k],T=g(function(){return A.call({source:"a",flags:"b"})!="/a/b"}),x=A.name!=k;(T||x)&&h(RegExp.prototype,k,function(){var D=f(this),S=String(D.source),M=D.flags,B=String(M===void 0&&D instanceof RegExp&&!("flags"in v)?y.call(D):M);return"/"+S+"/"+B},{unsafe:!0})},"2ca0":function(d,m,u){var h=u("23e7"),f=u("06cf").f,g=u("50c4"),y=u("5a34"),k=u("1d80"),v=u("ab13"),A=u("c430"),T="".startsWith,x=Math.min,C=v("startsWith"),D=!A&&!C&&!!function(){var S=f(String.prototype,"startsWith");return S&&!S.writable}();h({target:"String",proto:!0,forced:!D&&!C},{startsWith:function(M){var B=String(k(this));y(M);var R=g(x(arguments.length>1?arguments[1]:void 0,B.length)),L=String(M);return T?T.call(B,L,R):B.slice(R,R+L.length)===L}})},"2d00":function(d,m,u){var h=u("da84"),f=u("342f"),g=h.process,y=g&&g.versions,k=y&&y.v8,v,A;k?(v=k.split("."),A=v[0]+v[1]):f&&(v=f.match(/Edge\/(\d+)/),(!v||v[1]>=74)&&(v=f.match(/Chrome\/(\d+)/),v&&(A=v[1]))),d.exports=A&&+A},"342f":function(d,m,u){var h=u("d066");d.exports=h("navigator","userAgent")||""},"35a1":function(d,m,u){var h=u("f5df"),f=u("3f8c"),g=u("b622"),y=g("iterator");d.exports=function(k){if(k!=null)return k[y]||k["@@iterator"]||f[h(k)]}},"37e8":function(d,m,u){var h=u("83ab"),f=u("9bf2"),g=u("825a"),y=u("df75");d.exports=h?Object.defineProperties:function(v,A){g(v);for(var T=y(A),x=T.length,C=0,D;x>C;)f.f(v,D=T[C++],A[D]);return v}},"3bbe":function(d,m,u){var h=u("861d");d.exports=function(f){if(!h(f)&&f!==null)throw TypeError("Can't set "+String(f)+" as a prototype");return f}},"3ca3":function(d,m,u){var h=u("6547").charAt,f=u("69f3"),g=u("7dd0"),y="String Iterator",k=f.set,v=f.getterFor(y);g(String,"String",function(A){k(this,{type:y,string:String(A),index:0})},function(){var T=v(this),x=T.string,C=T.index,D;return C>=x.length?{value:void 0,done:!0}:(D=h(x,C),T.index+=D.length,{value:D,done:!1})})},"3f8c":function(d,m){d.exports={}},4160:function(d,m,u){var h=u("23e7"),f=u("17c2");h({target:"Array",proto:!0,forced:[].forEach!=f},{forEach:f})},"428f":function(d,m,u){var h=u("da84");d.exports=h},"44ad":function(d,m,u){var h=u("d039"),f=u("c6b6"),g="".split;d.exports=h(function(){return!Object("z").propertyIsEnumerable(0)})?function(y){return f(y)=="String"?g.call(y,""):Object(y)}:Object},"44d2":function(d,m,u){var h=u("b622"),f=u("7c73"),g=u("9bf2"),y=h("unscopables"),k=Array.prototype;k[y]==null&&g.f(k,y,{configurable:!0,value:f(null)}),d.exports=function(v){k[y][v]=!0}},"44e7":function(d,m,u){var h=u("861d"),f=u("c6b6"),g=u("b622"),y=g("match");d.exports=function(k){var v;return h(k)&&((v=k[y])!==void 0?!!v:f(k)=="RegExp")}},4930:function(d,m,u){var h=u("d039");d.exports=!!Object.getOwnPropertySymbols&&!h(function(){return!String(Symbol())})},"4d64":function(d,m,u){var h=u("fc6a"),f=u("50c4"),g=u("23cb"),y=function(k){return function(v,A,T){var x=h(v),C=f(x.length),D=g(T,C),S;if(k&&A!=A){for(;C>D;)if(S=x[D++],S!=S)return!0}else for(;C>D;D++)if((k||D in x)&&x[D]===A)return k||D||0;return!k&&-1}};d.exports={includes:y(!0),indexOf:y(!1)}},"4de4":function(d,m,u){var h=u("23e7"),f=u("b727").filter,g=u("1dde"),y=u("ae40"),k=g("filter"),v=y("filter");h({target:"Array",proto:!0,forced:!k||!v},{filter:function(T){return f(this,T,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(d,m,u){var h=u("0366"),f=u("7b0b"),g=u("9bdd"),y=u("e95a"),k=u("50c4"),v=u("8418"),A=u("35a1");d.exports=function(x){var C=f(x),D=typeof this=="function"?this:Array,S=arguments.length,M=S>1?arguments[1]:void 0,B=M!==void 0,R=A(C),L=0,j,N,z,Z,K,H;if(B&&(M=h(M,S>2?arguments[2]:void 0,2)),R!=null&&!(D==Array&&y(R)))for(Z=R.call(C),K=Z.next,N=new D;!(z=K.call(Z)).done;L++)H=B?g(Z,M,[z.value,L],!0):z.value,v(N,L,H);else for(j=k(C.length),N=new D(j);j>L;L++)H=B?M(C[L],L):C[L],v(N,L,H);return N.length=L,N}},"4fad":function(d,m,u){var h=u("23e7"),f=u("6f53").entries;h({target:"Object",stat:!0},{entries:function(y){return f(y)}})},"50c4":function(d,m,u){var h=u("a691"),f=Math.min;d.exports=function(g){return g>0?f(h(g),9007199254740991):0}},5135:function(d,m){var u={}.hasOwnProperty;d.exports=function(h,f){return u.call(h,f)}},5319:function(d,m,u){var h=u("d784"),f=u("825a"),g=u("7b0b"),y=u("50c4"),k=u("a691"),v=u("1d80"),A=u("8aa5"),T=u("14c3"),x=Math.max,C=Math.min,D=Math.floor,S=/\$([$&'`]|\d\d?|<[^>]*>)/g,M=/\$([$&'`]|\d\d?)/g,B=function(R){return R===void 0?R:String(R)};h("replace",2,function(R,L,j,N){var z=N.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,Z=N.REPLACE_KEEPS_$0,K=z?"$":"$0";return[function(oe,me){var re=v(this),W=oe==null?void 0:oe[R];return W!==void 0?W.call(oe,re,me):L.call(String(re),oe,me)},function(Y,oe){if(!z&&Z||typeof oe=="string"&&oe.indexOf(K)===-1){var me=j(L,Y,this,oe);if(me.done)return me.value}var re=f(Y),W=String(this),J=typeof oe=="function";J||(oe=String(oe));var q=re.global;if(q){var ae=re.unicode;re.lastIndex=0}for(var be=[];;){var ke=T(re,W);if(ke===null||(be.push(ke),!q))break;var se=String(ke[0]);se===""&&(re.lastIndex=A(W,y(re.lastIndex),ae))}for(var ee="",le=0,te=0;te<be.length;te++){ke=be[te];for(var X=String(ke[0]),ce=x(C(k(ke.index),W.length),0),pe=[],we=1;we<ke.length;we++)pe.push(B(ke[we]));var Ze=ke.groups;if(J){var ne=[X].concat(pe,ce,W);Ze!==void 0&&ne.push(Ze);var de=String(oe.apply(void 0,ne))}else de=H(X,W,ce,pe,Ze,oe);ce>=le&&(ee+=W.slice(le,ce)+de,le=ce+X.length)}return ee+W.slice(le)}];function H(Y,oe,me,re,W,J){var q=me+Y.length,ae=re.length,be=M;return W!==void 0&&(W=g(W),be=S),L.call(J,be,function(ke,se){var ee;switch(se.charAt(0)){case"$":return"$";case"&":return Y;case"`":return oe.slice(0,me);case"'":return oe.slice(q);case"<":ee=W[se.slice(1,-1)];break;default:var le=+se;if(le===0)return ke;if(le>ae){var te=D(le/10);return te===0?ke:te<=ae?re[te-1]===void 0?se.charAt(1):re[te-1]+se.charAt(1):ke}ee=re[le-1]}return ee===void 0?"":ee})}})},5692:function(d,m,u){var h=u("c430"),f=u("c6cd");(d.exports=function(g,y){return f[g]||(f[g]=y!==void 0?y:{})})("versions",[]).push({version:"3.6.5",mode:h?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(d,m,u){var h=u("d066"),f=u("241c"),g=u("7418"),y=u("825a");d.exports=h("Reflect","ownKeys")||function(v){var A=f.f(y(v)),T=g.f;return T?A.concat(T(v)):A}},"5a34":function(d,m,u){var h=u("44e7");d.exports=function(f){if(h(f))throw TypeError("The method doesn't accept regular expressions");return f}},"5c6c":function(d,m){d.exports=function(u,h){return{enumerable:!(u&1),configurable:!(u&2),writable:!(u&4),value:h}}},"5db7":function(d,m,u){var h=u("23e7"),f=u("a2bf"),g=u("7b0b"),y=u("50c4"),k=u("1c0b"),v=u("65f0");h({target:"Array",proto:!0},{flatMap:function(T){var x=g(this),C=y(x.length),D;return k(T),D=v(x,0),D.length=f(D,x,x,C,0,1,T,arguments.length>1?arguments[1]:void 0),D}})},6547:function(d,m,u){var h=u("a691"),f=u("1d80"),g=function(y){return function(k,v){var A=String(f(k)),T=h(v),x=A.length,C,D;return T<0||T>=x?y?"":void 0:(C=A.charCodeAt(T),C<55296||C>56319||T+1===x||(D=A.charCodeAt(T+1))<56320||D>57343?y?A.charAt(T):C:y?A.slice(T,T+2):(C-55296<<10)+(D-56320)+65536)}};d.exports={codeAt:g(!1),charAt:g(!0)}},"65f0":function(d,m,u){var h=u("861d"),f=u("e8b5"),g=u("b622"),y=g("species");d.exports=function(k,v){var A;return f(k)&&(A=k.constructor,typeof A=="function"&&(A===Array||f(A.prototype))?A=void 0:h(A)&&(A=A[y],A===null&&(A=void 0))),new(A===void 0?Array:A)(v===0?0:v)}},"69f3":function(d,m,u){var h=u("7f9a"),f=u("da84"),g=u("861d"),y=u("9112"),k=u("5135"),v=u("f772"),A=u("d012"),T=f.WeakMap,x,C,D,S=function(z){return D(z)?C(z):x(z,{})},M=function(z){return function(Z){var K;if(!g(Z)||(K=C(Z)).type!==z)throw TypeError("Incompatible receiver, "+z+" required");return K}};if(h){var B=new T,R=B.get,L=B.has,j=B.set;x=function(z,Z){return j.call(B,z,Z),Z},C=function(z){return R.call(B,z)||{}},D=function(z){return L.call(B,z)}}else{var N=v("state");A[N]=!0,x=function(z,Z){return y(z,N,Z),Z},C=function(z){return k(z,N)?z[N]:{}},D=function(z){return k(z,N)}}d.exports={set:x,get:C,has:D,enforce:S,getterFor:M}},"6eeb":function(d,m,u){var h=u("da84"),f=u("9112"),g=u("5135"),y=u("ce4e"),k=u("8925"),v=u("69f3"),A=v.get,T=v.enforce,x=String(String).split("String");(d.exports=function(C,D,S,M){var B=M?!!M.unsafe:!1,R=M?!!M.enumerable:!1,L=M?!!M.noTargetGet:!1;if(typeof S=="function"&&(typeof D=="string"&&!g(S,"name")&&f(S,"name",D),T(S).source=x.join(typeof D=="string"?D:"")),C===h){R?C[D]=S:y(D,S);return}else B?!L&&C[D]&&(R=!0):delete C[D];R?C[D]=S:f(C,D,S)})(Function.prototype,"toString",function(){return typeof this=="function"&&A(this).source||k(this)})},"6f53":function(d,m,u){var h=u("83ab"),f=u("df75"),g=u("fc6a"),y=u("d1e7").f,k=function(v){return function(A){for(var T=g(A),x=f(T),C=x.length,D=0,S=[],M;C>D;)M=x[D++],(!h||y.call(T,M))&&S.push(v?[M,T[M]]:T[M]);return S}};d.exports={entries:k(!0),values:k(!1)}},"73d9":function(d,m,u){var h=u("44d2");h("flatMap")},7418:function(d,m){m.f=Object.getOwnPropertySymbols},"746f":function(d,m,u){var h=u("428f"),f=u("5135"),g=u("e538"),y=u("9bf2").f;d.exports=function(k){var v=h.Symbol||(h.Symbol={});f(v,k)||y(v,k,{value:g.f(k)})}},7839:function(d,m){d.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(d,m,u){var h=u("1d80");d.exports=function(f){return Object(h(f))}},"7c73":function(d,m,u){var h=u("825a"),f=u("37e8"),g=u("7839"),y=u("d012"),k=u("1be4"),v=u("cc12"),A=u("f772"),T=">",x="<",C="prototype",D="script",S=A("IE_PROTO"),M=function(){},B=function(z){return x+D+T+z+x+"/"+D+T},R=function(z){z.write(B("")),z.close();var Z=z.parentWindow.Object;return z=null,Z},L=function(){var z=v("iframe"),Z="java"+D+":",K;return z.style.display="none",k.appendChild(z),z.src=String(Z),K=z.contentWindow.document,K.open(),K.write(B("document.F=Object")),K.close(),K.F},j,N=function(){try{j=document.domain&&new ActiveXObject("htmlfile")}catch{}N=j?R(j):L();for(var z=g.length;z--;)delete N[C][g[z]];return N()};y[S]=!0,d.exports=Object.create||function(Z,K){var H;return Z!==null?(M[C]=h(Z),H=new M,M[C]=null,H[S]=Z):H=N(),K===void 0?H:f(H,K)}},"7dd0":function(d,m,u){var h=u("23e7"),f=u("9ed3"),g=u("e163"),y=u("d2bb"),k=u("d44e"),v=u("9112"),A=u("6eeb"),T=u("b622"),x=u("c430"),C=u("3f8c"),D=u("ae93"),S=D.IteratorPrototype,M=D.BUGGY_SAFARI_ITERATORS,B=T("iterator"),R="keys",L="values",j="entries",N=function(){return this};d.exports=function(z,Z,K,H,Y,oe,me){f(K,Z,H);var re=function(te){if(te===Y&&be)return be;if(!M&&te in q)return q[te];switch(te){case R:return function(){return new K(this,te)};case L:return function(){return new K(this,te)};case j:return function(){return new K(this,te)}}return function(){return new K(this)}},W=Z+" Iterator",J=!1,q=z.prototype,ae=q[B]||q["@@iterator"]||Y&&q[Y],be=!M&&ae||re(Y),ke=Z=="Array"&&q.entries||ae,se,ee,le;if(ke&&(se=g(ke.call(new z)),S!==Object.prototype&&se.next&&(!x&&g(se)!==S&&(y?y(se,S):typeof se[B]!="function"&&v(se,B,N)),k(se,W,!0,!0),x&&(C[W]=N))),Y==L&&ae&&ae.name!==L&&(J=!0,be=function(){return ae.call(this)}),(!x||me)&&q[B]!==be&&v(q,B,be),C[Z]=be,Y)if(ee={values:re(L),keys:oe?be:re(R),entries:re(j)},me)for(le in ee)(M||J||!(le in q))&&A(q,le,ee[le]);else h({target:Z,proto:!0,forced:M||J},ee);return ee}},"7f9a":function(d,m,u){var h=u("da84"),f=u("8925"),g=h.WeakMap;d.exports=typeof g=="function"&&/native code/.test(f(g))},"825a":function(d,m,u){var h=u("861d");d.exports=function(f){if(!h(f))throw TypeError(String(f)+" is not an object");return f}},"83ab":function(d,m,u){var h=u("d039");d.exports=!h(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(d,m,u){var h=u("c04e"),f=u("9bf2"),g=u("5c6c");d.exports=function(y,k,v){var A=h(k);A in y?f.f(y,A,g(0,v)):y[A]=v}},"861d":function(d,m){d.exports=function(u){return typeof u=="object"?u!==null:typeof u=="function"}},8875:function(d,m,u){var h,f,g;(function(y,k){f=[],h=k,g=typeof h=="function"?h.apply(m,f):h,g!==void 0&&(d.exports=g)})(typeof self<"u"?self:this,function(){function y(){var k=Object.getOwnPropertyDescriptor(document,"currentScript");if(!k&&"currentScript"in document&&document.currentScript||k&&k.get!==y&&document.currentScript)return document.currentScript;try{throw new Error}catch(j){var v=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,A=/@([^@]*):(\d+):(\d+)\s*$/ig,T=v.exec(j.stack)||A.exec(j.stack),x=T&&T[1]||!1,C=T&&T[2]||!1,D=document.location.href.replace(document.location.hash,""),S,M,B,R=document.getElementsByTagName("script");x===D&&(S=document.documentElement.outerHTML,M=new RegExp("(?:[^\\n]+?\\n){0,"+(C-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),B=S.replace(M,"$1").trim());for(var L=0;L<R.length;L++)if(R[L].readyState==="interactive"||R[L].src===x||x===D&&R[L].innerHTML&&R[L].innerHTML.trim()===B)return R[L];return null}}return y})},8925:function(d,m,u){var h=u("c6cd"),f=Function.toString;typeof h.inspectSource!="function"&&(h.inspectSource=function(g){return f.call(g)}),d.exports=h.inspectSource},"8aa5":function(d,m,u){var h=u("6547").charAt;d.exports=function(f,g,y){return g+(y?h(f,g).length:1)}},"8bbf":function(d,m){d.exports=l},"90e3":function(d,m){var u=0,h=Math.random();d.exports=function(f){return"Symbol("+String(f===void 0?"":f)+")_"+(++u+h).toString(36)}},9112:function(d,m,u){var h=u("83ab"),f=u("9bf2"),g=u("5c6c");d.exports=h?function(y,k,v){return f.f(y,k,g(1,v))}:function(y,k,v){return y[k]=v,y}},9263:function(d,m,u){var h=u("ad6d"),f=u("9f7f"),g=RegExp.prototype.exec,y=String.prototype.replace,k=g,v=function(){var C=/a/,D=/b*/g;return g.call(C,"a"),g.call(D,"a"),C.lastIndex!==0||D.lastIndex!==0}(),A=f.UNSUPPORTED_Y||f.BROKEN_CARET,T=/()??/.exec("")[1]!==void 0,x=v||T||A;x&&(k=function(D){var S=this,M,B,R,L,j=A&&S.sticky,N=h.call(S),z=S.source,Z=0,K=D;return j&&(N=N.replace("y",""),N.indexOf("g")===-1&&(N+="g"),K=String(D).slice(S.lastIndex),S.lastIndex>0&&(!S.multiline||S.multiline&&D[S.lastIndex-1]!==`
`)&&(z="(?: "+z+")",K=" "+K,Z++),B=new RegExp("^(?:"+z+")",N)),T&&(B=new RegExp("^"+z+"$(?!\\s)",N)),v&&(M=S.lastIndex),R=g.call(j?B:S,K),j?R?(R.input=R.input.slice(Z),R[0]=R[0].slice(Z),R.index=S.lastIndex,S.lastIndex+=R[0].length):S.lastIndex=0:v&&R&&(S.lastIndex=S.global?R.index+R[0].length:M),T&&R&&R.length>1&&y.call(R[0],B,function(){for(L=1;L<arguments.length-2;L++)arguments[L]===void 0&&(R[L]=void 0)}),R}),d.exports=k},"94ca":function(d,m,u){var h=u("d039"),f=/#|\.prototype\./,g=function(T,x){var C=k[y(T)];return C==A?!0:C==v?!1:typeof x=="function"?h(x):!!x},y=g.normalize=function(T){return String(T).replace(f,".").toLowerCase()},k=g.data={},v=g.NATIVE="N",A=g.POLYFILL="P";d.exports=g},"99af":function(d,m,u){var h=u("23e7"),f=u("d039"),g=u("e8b5"),y=u("861d"),k=u("7b0b"),v=u("50c4"),A=u("8418"),T=u("65f0"),x=u("1dde"),C=u("b622"),D=u("2d00"),S=C("isConcatSpreadable"),M=9007199254740991,B="Maximum allowed index exceeded",R=D>=51||!f(function(){var z=[];return z[S]=!1,z.concat()[0]!==z}),L=x("concat"),j=function(z){if(!y(z))return!1;var Z=z[S];return Z!==void 0?!!Z:g(z)},N=!R||!L;h({target:"Array",proto:!0,forced:N},{concat:function(Z){var K=k(this),H=T(K,0),Y=0,oe,me,re,W,J;for(oe=-1,re=arguments.length;oe<re;oe++)if(J=oe===-1?K:arguments[oe],j(J)){if(W=v(J.length),Y+W>M)throw TypeError(B);for(me=0;me<W;me++,Y++)me in J&&A(H,Y,J[me])}else{if(Y>=M)throw TypeError(B);A(H,Y++,J)}return H.length=Y,H}})},"9bdd":function(d,m,u){var h=u("825a");d.exports=function(f,g,y,k){try{return k?g(h(y)[0],y[1]):g(y)}catch(A){var v=f.return;throw v!==void 0&&h(v.call(f)),A}}},"9bf2":function(d,m,u){var h=u("83ab"),f=u("0cfb"),g=u("825a"),y=u("c04e"),k=Object.defineProperty;m.f=h?k:function(A,T,x){if(g(A),T=y(T,!0),g(x),f)try{return k(A,T,x)}catch{}if("get"in x||"set"in x)throw TypeError("Accessors not supported");return"value"in x&&(A[T]=x.value),A}},"9ed3":function(d,m,u){var h=u("ae93").IteratorPrototype,f=u("7c73"),g=u("5c6c"),y=u("d44e"),k=u("3f8c"),v=function(){return this};d.exports=function(A,T,x){var C=T+" Iterator";return A.prototype=f(h,{next:g(1,x)}),y(A,C,!1,!0),k[C]=v,A}},"9f7f":function(d,m,u){var h=u("d039");function f(g,y){return RegExp(g,y)}m.UNSUPPORTED_Y=h(function(){var g=f("a","y");return g.lastIndex=2,g.exec("abcd")!=null}),m.BROKEN_CARET=h(function(){var g=f("^r","gy");return g.lastIndex=2,g.exec("str")!=null})},a2bf:function(d,m,u){var h=u("e8b5"),f=u("50c4"),g=u("0366"),y=function(k,v,A,T,x,C,D,S){for(var M=x,B=0,R=D?g(D,S,3):!1,L;B<T;){if(B in A){if(L=R?R(A[B],B,v):A[B],C>0&&h(L))M=y(k,v,L,f(L.length),M,C-1)-1;else{if(M>=9007199254740991)throw TypeError("Exceed the acceptable array length");k[M]=L}M++}B++}return M};d.exports=y},a352:function(d,m){d.exports=o},a434:function(d,m,u){var h=u("23e7"),f=u("23cb"),g=u("a691"),y=u("50c4"),k=u("7b0b"),v=u("65f0"),A=u("8418"),T=u("1dde"),x=u("ae40"),C=T("splice"),D=x("splice",{ACCESSORS:!0,0:0,1:2}),S=Math.max,M=Math.min,B=9007199254740991,R="Maximum allowed length exceeded";h({target:"Array",proto:!0,forced:!C||!D},{splice:function(j,N){var z=k(this),Z=y(z.length),K=f(j,Z),H=arguments.length,Y,oe,me,re,W,J;if(H===0?Y=oe=0:H===1?(Y=0,oe=Z-K):(Y=H-2,oe=M(S(g(N),0),Z-K)),Z+Y-oe>B)throw TypeError(R);for(me=v(z,oe),re=0;re<oe;re++)W=K+re,W in z&&A(me,re,z[W]);if(me.length=oe,Y<oe){for(re=K;re<Z-oe;re++)W=re+oe,J=re+Y,W in z?z[J]=z[W]:delete z[J];for(re=Z;re>Z-oe+Y;re--)delete z[re-1]}else if(Y>oe)for(re=Z-oe;re>K;re--)W=re+oe-1,J=re+Y-1,W in z?z[J]=z[W]:delete z[J];for(re=0;re<Y;re++)z[re+K]=arguments[re+2];return z.length=Z-oe+Y,me}})},a4d3:function(d,m,u){var h=u("23e7"),f=u("da84"),g=u("d066"),y=u("c430"),k=u("83ab"),v=u("4930"),A=u("fdbf"),T=u("d039"),x=u("5135"),C=u("e8b5"),D=u("861d"),S=u("825a"),M=u("7b0b"),B=u("fc6a"),R=u("c04e"),L=u("5c6c"),j=u("7c73"),N=u("df75"),z=u("241c"),Z=u("057f"),K=u("7418"),H=u("06cf"),Y=u("9bf2"),oe=u("d1e7"),me=u("9112"),re=u("6eeb"),W=u("5692"),J=u("f772"),q=u("d012"),ae=u("90e3"),be=u("b622"),ke=u("e538"),se=u("746f"),ee=u("d44e"),le=u("69f3"),te=u("b727").forEach,X=J("hidden"),ce="Symbol",pe="prototype",we=be("toPrimitive"),Ze=le.set,ne=le.getterFor(ce),de=Object[pe],ge=f.Symbol,Ee=g("JSON","stringify"),Ie=H.f,Le=Y.f,ot=Z.f,We=oe.f,Fe=W("symbols"),Ae=W("op-symbols"),Be=W("string-to-symbol-registry"),$e=W("symbol-to-string-registry"),dt=W("wks"),mt=f.QObject,It=!mt||!mt[pe]||!mt[pe].findChild,Wt=k&&T(function(){return j(Le({},"a",{get:function(){return Le(this,"a",{value:7}).a}})).a!=7})?function(yt,ht,Te){var He=Ie(de,ht);He&&delete de[ht],Le(yt,ht,Te),He&&yt!==de&&Le(de,ht,He)}:Le,zt=function(yt,ht){var Te=Fe[yt]=j(ge[pe]);return Ze(Te,{type:ce,tag:yt,description:ht}),k||(Te.description=ht),Te},Ce=A?function(yt){return typeof yt=="symbol"}:function(yt){return Object(yt)instanceof ge},De=function(ht,Te,He){ht===de&&De(Ae,Te,He),S(ht);var At=R(Te,!0);return S(He),x(Fe,At)?(He.enumerable?(x(ht,X)&&ht[X][At]&&(ht[X][At]=!1),He=j(He,{enumerable:L(0,!1)})):(x(ht,X)||Le(ht,X,L(1,{})),ht[X][At]=!0),Wt(ht,At,He)):Le(ht,At,He)},Me=function(ht,Te){S(ht);var He=B(Te),At=N(He).concat(Je(He));return te(At,function(Ut){(!k||fe.call(He,Ut))&&De(ht,Ut,He[Ut])}),ht},Qe=function(ht,Te){return Te===void 0?j(ht):Me(j(ht),Te)},fe=function(ht){var Te=R(ht,!0),He=We.call(this,Te);return this===de&&x(Fe,Te)&&!x(Ae,Te)?!1:He||!x(this,Te)||!x(Fe,Te)||x(this,X)&&this[X][Te]?He:!0},Se=function(ht,Te){var He=B(ht),At=R(Te,!0);if(!(He===de&&x(Fe,At)&&!x(Ae,At))){var Ut=Ie(He,At);return Ut&&x(Fe,At)&&!(x(He,X)&&He[X][At])&&(Ut.enumerable=!0),Ut}},Re=function(ht){var Te=ot(B(ht)),He=[];return te(Te,function(At){!x(Fe,At)&&!x(q,At)&&He.push(At)}),He},Je=function(ht){var Te=ht===de,He=ot(Te?Ae:B(ht)),At=[];return te(He,function(Ut){x(Fe,Ut)&&(!Te||x(de,Ut))&&At.push(Fe[Ut])}),At};if(v||(ge=function(){if(this instanceof ge)throw TypeError("Symbol is not a constructor");var ht=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),Te=ae(ht),He=function(At){this===de&&He.call(Ae,At),x(this,X)&&x(this[X],Te)&&(this[X][Te]=!1),Wt(this,Te,L(1,At))};return k&&It&&Wt(de,Te,{configurable:!0,set:He}),zt(Te,ht)},re(ge[pe],"toString",function(){return ne(this).tag}),re(ge,"withoutSetter",function(yt){return zt(ae(yt),yt)}),oe.f=fe,Y.f=De,H.f=Se,z.f=Z.f=Re,K.f=Je,ke.f=function(yt){return zt(be(yt),yt)},k&&(Le(ge[pe],"description",{configurable:!0,get:function(){return ne(this).description}}),y||re(de,"propertyIsEnumerable",fe,{unsafe:!0}))),h({global:!0,wrap:!0,forced:!v,sham:!v},{Symbol:ge}),te(N(dt),function(yt){se(yt)}),h({target:ce,stat:!0,forced:!v},{for:function(yt){var ht=String(yt);if(x(Be,ht))return Be[ht];var Te=ge(ht);return Be[ht]=Te,$e[Te]=ht,Te},keyFor:function(ht){if(!Ce(ht))throw TypeError(ht+" is not a symbol");if(x($e,ht))return $e[ht]},useSetter:function(){It=!0},useSimple:function(){It=!1}}),h({target:"Object",stat:!0,forced:!v,sham:!k},{create:Qe,defineProperty:De,defineProperties:Me,getOwnPropertyDescriptor:Se}),h({target:"Object",stat:!0,forced:!v},{getOwnPropertyNames:Re,getOwnPropertySymbols:Je}),h({target:"Object",stat:!0,forced:T(function(){K.f(1)})},{getOwnPropertySymbols:function(ht){return K.f(M(ht))}}),Ee){var Et=!v||T(function(){var yt=ge();return Ee([yt])!="[null]"||Ee({a:yt})!="{}"||Ee(Object(yt))!="{}"});h({target:"JSON",stat:!0,forced:Et},{stringify:function(ht,Te,He){for(var At=[ht],Ut=1,Ci;arguments.length>Ut;)At.push(arguments[Ut++]);if(Ci=Te,!(!D(Te)&&ht===void 0||Ce(ht)))return C(Te)||(Te=function(kt,kn){if(typeof Ci=="function"&&(kn=Ci.call(this,kt,kn)),!Ce(kn))return kn}),At[1]=Te,Ee.apply(null,At)}})}ge[pe][we]||me(ge[pe],we,ge[pe].valueOf),ee(ge,ce),q[X]=!0},a630:function(d,m,u){var h=u("23e7"),f=u("4df4"),g=u("1c7e"),y=!g(function(k){Array.from(k)});h({target:"Array",stat:!0,forced:y},{from:f})},a640:function(d,m,u){var h=u("d039");d.exports=function(f,g){var y=[][f];return!!y&&h(function(){y.call(null,g||function(){throw 1},1)})}},a691:function(d,m){var u=Math.ceil,h=Math.floor;d.exports=function(f){return isNaN(f=+f)?0:(f>0?h:u)(f)}},ab13:function(d,m,u){var h=u("b622"),f=h("match");d.exports=function(g){var y=/./;try{"/./"[g](y)}catch{try{return y[f]=!1,"/./"[g](y)}catch{}}return!1}},ac1f:function(d,m,u){var h=u("23e7"),f=u("9263");h({target:"RegExp",proto:!0,forced:/./.exec!==f},{exec:f})},ad6d:function(d,m,u){var h=u("825a");d.exports=function(){var f=h(this),g="";return f.global&&(g+="g"),f.ignoreCase&&(g+="i"),f.multiline&&(g+="m"),f.dotAll&&(g+="s"),f.unicode&&(g+="u"),f.sticky&&(g+="y"),g}},ae40:function(d,m,u){var h=u("83ab"),f=u("d039"),g=u("5135"),y=Object.defineProperty,k={},v=function(A){throw A};d.exports=function(A,T){if(g(k,A))return k[A];T||(T={});var x=[][A],C=g(T,"ACCESSORS")?T.ACCESSORS:!1,D=g(T,0)?T[0]:v,S=g(T,1)?T[1]:void 0;return k[A]=!!x&&!f(function(){if(C&&!h)return!0;var M={length:-1};C?y(M,1,{enumerable:!0,get:v}):M[1]=1,x.call(M,D,S)})}},ae93:function(d,m,u){var h=u("e163"),f=u("9112"),g=u("5135"),y=u("b622"),k=u("c430"),v=y("iterator"),A=!1,T=function(){return this},x,C,D;[].keys&&(D=[].keys(),"next"in D?(C=h(h(D)),C!==Object.prototype&&(x=C)):A=!0),x==null&&(x={}),!k&&!g(x,v)&&f(x,v,T),d.exports={IteratorPrototype:x,BUGGY_SAFARI_ITERATORS:A}},b041:function(d,m,u){var h=u("00ee"),f=u("f5df");d.exports=h?{}.toString:function(){return"[object "+f(this)+"]"}},b0c0:function(d,m,u){var h=u("83ab"),f=u("9bf2").f,g=Function.prototype,y=g.toString,k=/^\s*function ([^ (]*)/,v="name";h&&!(v in g)&&f(g,v,{configurable:!0,get:function(){try{return y.call(this).match(k)[1]}catch{return""}}})},b622:function(d,m,u){var h=u("da84"),f=u("5692"),g=u("5135"),y=u("90e3"),k=u("4930"),v=u("fdbf"),A=f("wks"),T=h.Symbol,x=v?T:T&&T.withoutSetter||y;d.exports=function(C){return g(A,C)||(k&&g(T,C)?A[C]=T[C]:A[C]=x("Symbol."+C)),A[C]}},b64b:function(d,m,u){var h=u("23e7"),f=u("7b0b"),g=u("df75"),y=u("d039"),k=y(function(){g(1)});h({target:"Object",stat:!0,forced:k},{keys:function(A){return g(f(A))}})},b727:function(d,m,u){var h=u("0366"),f=u("44ad"),g=u("7b0b"),y=u("50c4"),k=u("65f0"),v=[].push,A=function(T){var x=T==1,C=T==2,D=T==3,S=T==4,M=T==6,B=T==5||M;return function(R,L,j,N){for(var z=g(R),Z=f(z),K=h(L,j,3),H=y(Z.length),Y=0,oe=N||k,me=x?oe(R,H):C?oe(R,0):void 0,re,W;H>Y;Y++)if((B||Y in Z)&&(re=Z[Y],W=K(re,Y,z),T)){if(x)me[Y]=W;else if(W)switch(T){case 3:return!0;case 5:return re;case 6:return Y;case 2:v.call(me,re)}else if(S)return!1}return M?-1:D||S?S:me}};d.exports={forEach:A(0),map:A(1),filter:A(2),some:A(3),every:A(4),find:A(5),findIndex:A(6)}},c04e:function(d,m,u){var h=u("861d");d.exports=function(f,g){if(!h(f))return f;var y,k;if(g&&typeof(y=f.toString)=="function"&&!h(k=y.call(f))||typeof(y=f.valueOf)=="function"&&!h(k=y.call(f))||!g&&typeof(y=f.toString)=="function"&&!h(k=y.call(f)))return k;throw TypeError("Can't convert object to primitive value")}},c430:function(d,m){d.exports=!1},c6b6:function(d,m){var u={}.toString;d.exports=function(h){return u.call(h).slice(8,-1)}},c6cd:function(d,m,u){var h=u("da84"),f=u("ce4e"),g="__core-js_shared__",y=h[g]||f(g,{});d.exports=y},c740:function(d,m,u){var h=u("23e7"),f=u("b727").findIndex,g=u("44d2"),y=u("ae40"),k="findIndex",v=!0,A=y(k);k in[]&&Array(1)[k](function(){v=!1}),h({target:"Array",proto:!0,forced:v||!A},{findIndex:function(x){return f(this,x,arguments.length>1?arguments[1]:void 0)}}),g(k)},c8ba:function(d,m){var u;u=function(){return this}();try{u=u||new Function("return this")()}catch{typeof window=="object"&&(u=window)}d.exports=u},c975:function(d,m,u){var h=u("23e7"),f=u("4d64").indexOf,g=u("a640"),y=u("ae40"),k=[].indexOf,v=!!k&&1/[1].indexOf(1,-0)<0,A=g("indexOf"),T=y("indexOf",{ACCESSORS:!0,1:0});h({target:"Array",proto:!0,forced:v||!A||!T},{indexOf:function(C){return v?k.apply(this,arguments)||0:f(this,C,arguments.length>1?arguments[1]:void 0)}})},ca84:function(d,m,u){var h=u("5135"),f=u("fc6a"),g=u("4d64").indexOf,y=u("d012");d.exports=function(k,v){var A=f(k),T=0,x=[],C;for(C in A)!h(y,C)&&h(A,C)&&x.push(C);for(;v.length>T;)h(A,C=v[T++])&&(~g(x,C)||x.push(C));return x}},caad:function(d,m,u){var h=u("23e7"),f=u("4d64").includes,g=u("44d2"),y=u("ae40"),k=y("indexOf",{ACCESSORS:!0,1:0});h({target:"Array",proto:!0,forced:!k},{includes:function(A){return f(this,A,arguments.length>1?arguments[1]:void 0)}}),g("includes")},cc12:function(d,m,u){var h=u("da84"),f=u("861d"),g=h.document,y=f(g)&&f(g.createElement);d.exports=function(k){return y?g.createElement(k):{}}},ce4e:function(d,m,u){var h=u("da84"),f=u("9112");d.exports=function(g,y){try{f(h,g,y)}catch{h[g]=y}return y}},d012:function(d,m){d.exports={}},d039:function(d,m){d.exports=function(u){try{return!!u()}catch{return!0}}},d066:function(d,m,u){var h=u("428f"),f=u("da84"),g=function(y){return typeof y=="function"?y:void 0};d.exports=function(y,k){return arguments.length<2?g(h[y])||g(f[y]):h[y]&&h[y][k]||f[y]&&f[y][k]}},d1e7:function(d,m,u){var h={}.propertyIsEnumerable,f=Object.getOwnPropertyDescriptor,g=f&&!h.call({1:2},1);m.f=g?function(k){var v=f(this,k);return!!v&&v.enumerable}:h},d28b:function(d,m,u){var h=u("746f");h("iterator")},d2bb:function(d,m,u){var h=u("825a"),f=u("3bbe");d.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var g=!1,y={},k;try{k=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,k.call(y,[]),g=y instanceof Array}catch{}return function(A,T){return h(A),f(T),g?k.call(A,T):A.__proto__=T,A}}():void 0)},d3b7:function(d,m,u){var h=u("00ee"),f=u("6eeb"),g=u("b041");h||f(Object.prototype,"toString",g,{unsafe:!0})},d44e:function(d,m,u){var h=u("9bf2").f,f=u("5135"),g=u("b622"),y=g("toStringTag");d.exports=function(k,v,A){k&&!f(k=A?k:k.prototype,y)&&h(k,y,{configurable:!0,value:v})}},d58f:function(d,m,u){var h=u("1c0b"),f=u("7b0b"),g=u("44ad"),y=u("50c4"),k=function(v){return function(A,T,x,C){h(T);var D=f(A),S=g(D),M=y(D.length),B=v?M-1:0,R=v?-1:1;if(x<2)for(;;){if(B in S){C=S[B],B+=R;break}if(B+=R,v?B<0:M<=B)throw TypeError("Reduce of empty array with no initial value")}for(;v?B>=0:M>B;B+=R)B in S&&(C=T(C,S[B],B,D));return C}};d.exports={left:k(!1),right:k(!0)}},d784:function(d,m,u){u("ac1f");var h=u("6eeb"),f=u("d039"),g=u("b622"),y=u("9263"),k=u("9112"),v=g("species"),A=!f(function(){var S=/./;return S.exec=function(){var M=[];return M.groups={a:"7"},M},"".replace(S,"$<a>")!=="7"}),T=function(){return"a".replace(/./,"$0")==="$0"}(),x=g("replace"),C=function(){return/./[x]?/./[x]("a","$0")==="":!1}(),D=!f(function(){var S=/(?:)/,M=S.exec;S.exec=function(){return M.apply(this,arguments)};var B="ab".split(S);return B.length!==2||B[0]!=="a"||B[1]!=="b"});d.exports=function(S,M,B,R){var L=g(S),j=!f(function(){var Y={};return Y[L]=function(){return 7},""[S](Y)!=7}),N=j&&!f(function(){var Y=!1,oe=/a/;return S==="split"&&(oe={},oe.constructor={},oe.constructor[v]=function(){return oe},oe.flags="",oe[L]=/./[L]),oe.exec=function(){return Y=!0,null},oe[L](""),!Y});if(!j||!N||S==="replace"&&!(A&&T&&!C)||S==="split"&&!D){var z=/./[L],Z=B(L,""[S],function(Y,oe,me,re,W){return oe.exec===y?j&&!W?{done:!0,value:z.call(oe,me,re)}:{done:!0,value:Y.call(me,oe,re)}:{done:!1}},{REPLACE_KEEPS_$0:T,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:C}),K=Z[0],H=Z[1];h(String.prototype,S,K),h(RegExp.prototype,L,M==2?function(Y,oe){return H.call(Y,this,oe)}:function(Y){return H.call(Y,this)})}R&&k(RegExp.prototype[L],"sham",!0)}},d81d:function(d,m,u){var h=u("23e7"),f=u("b727").map,g=u("1dde"),y=u("ae40"),k=g("map"),v=y("map");h({target:"Array",proto:!0,forced:!k||!v},{map:function(T){return f(this,T,arguments.length>1?arguments[1]:void 0)}})},da84:function(d,m,u){(function(h){var f=function(g){return g&&g.Math==Math&&g};d.exports=f(typeof globalThis=="object"&&globalThis)||f(typeof window=="object"&&window)||f(typeof self=="object"&&self)||f(typeof h=="object"&&h)||Function("return this")()}).call(this,u("c8ba"))},dbb4:function(d,m,u){var h=u("23e7"),f=u("83ab"),g=u("56ef"),y=u("fc6a"),k=u("06cf"),v=u("8418");h({target:"Object",stat:!0,sham:!f},{getOwnPropertyDescriptors:function(T){for(var x=y(T),C=k.f,D=g(x),S={},M=0,B,R;D.length>M;)R=C(x,B=D[M++]),R!==void 0&&v(S,B,R);return S}})},dbf1:function(d,m,u){(function(h){u.d(m,"a",function(){return g});function f(){return typeof window<"u"?window.console:h.console}var g=f()}).call(this,u("c8ba"))},ddb0:function(d,m,u){var h=u("da84"),f=u("fdbc"),g=u("e260"),y=u("9112"),k=u("b622"),v=k("iterator"),A=k("toStringTag"),T=g.values;for(var x in f){var C=h[x],D=C&&C.prototype;if(D){if(D[v]!==T)try{y(D,v,T)}catch{D[v]=T}if(D[A]||y(D,A,x),f[x]){for(var S in g)if(D[S]!==g[S])try{y(D,S,g[S])}catch{D[S]=g[S]}}}}},df75:function(d,m,u){var h=u("ca84"),f=u("7839");d.exports=Object.keys||function(y){return h(y,f)}},e01a:function(d,m,u){var h=u("23e7"),f=u("83ab"),g=u("da84"),y=u("5135"),k=u("861d"),v=u("9bf2").f,A=u("e893"),T=g.Symbol;if(f&&typeof T=="function"&&(!("description"in T.prototype)||T().description!==void 0)){var x={},C=function(){var L=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),j=this instanceof C?new T(L):L===void 0?T():T(L);return L===""&&(x[j]=!0),j};A(C,T);var D=C.prototype=T.prototype;D.constructor=C;var S=D.toString,M=String(T("test"))=="Symbol(test)",B=/^Symbol\((.*)\)[^)]+$/;v(D,"description",{configurable:!0,get:function(){var L=k(this)?this.valueOf():this,j=S.call(L);if(y(x,L))return"";var N=M?j.slice(7,-1):j.replace(B,"$1");return N===""?void 0:N}}),h({global:!0,forced:!0},{Symbol:C})}},e163:function(d,m,u){var h=u("5135"),f=u("7b0b"),g=u("f772"),y=u("e177"),k=g("IE_PROTO"),v=Object.prototype;d.exports=y?Object.getPrototypeOf:function(A){return A=f(A),h(A,k)?A[k]:typeof A.constructor=="function"&&A instanceof A.constructor?A.constructor.prototype:A instanceof Object?v:null}},e177:function(d,m,u){var h=u("d039");d.exports=!h(function(){function f(){}return f.prototype.constructor=null,Object.getPrototypeOf(new f)!==f.prototype})},e260:function(d,m,u){var h=u("fc6a"),f=u("44d2"),g=u("3f8c"),y=u("69f3"),k=u("7dd0"),v="Array Iterator",A=y.set,T=y.getterFor(v);d.exports=k(Array,"Array",function(x,C){A(this,{type:v,target:h(x),index:0,kind:C})},function(){var x=T(this),C=x.target,D=x.kind,S=x.index++;return!C||S>=C.length?(x.target=void 0,{value:void 0,done:!0}):D=="keys"?{value:S,done:!1}:D=="values"?{value:C[S],done:!1}:{value:[S,C[S]],done:!1}},"values"),g.Arguments=g.Array,f("keys"),f("values"),f("entries")},e439:function(d,m,u){var h=u("23e7"),f=u("d039"),g=u("fc6a"),y=u("06cf").f,k=u("83ab"),v=f(function(){y(1)}),A=!k||v;h({target:"Object",stat:!0,forced:A,sham:!k},{getOwnPropertyDescriptor:function(x,C){return y(g(x),C)}})},e538:function(d,m,u){var h=u("b622");m.f=h},e893:function(d,m,u){var h=u("5135"),f=u("56ef"),g=u("06cf"),y=u("9bf2");d.exports=function(k,v){for(var A=f(v),T=y.f,x=g.f,C=0;C<A.length;C++){var D=A[C];h(k,D)||T(k,D,x(v,D))}}},e8b5:function(d,m,u){var h=u("c6b6");d.exports=Array.isArray||function(g){return h(g)=="Array"}},e95a:function(d,m,u){var h=u("b622"),f=u("3f8c"),g=h("iterator"),y=Array.prototype;d.exports=function(k){return k!==void 0&&(f.Array===k||y[g]===k)}},f5df:function(d,m,u){var h=u("00ee"),f=u("c6b6"),g=u("b622"),y=g("toStringTag"),k=f(function(){return arguments}())=="Arguments",v=function(A,T){try{return A[T]}catch{}};d.exports=h?f:function(A){var T,x,C;return A===void 0?"Undefined":A===null?"Null":typeof(x=v(T=Object(A),y))=="string"?x:k?f(T):(C=f(T))=="Object"&&typeof T.callee=="function"?"Arguments":C}},f772:function(d,m,u){var h=u("5692"),f=u("90e3"),g=h("keys");d.exports=function(y){return g[y]||(g[y]=f(y))}},fb15:function(d,m,u){if(u.r(m),typeof window<"u"){var h=window.document.currentScript;{var f=u("8875");h=f(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:f})}var g=h&&h.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);g&&(u.p=g[1])}u("99af"),u("4de4"),u("4160"),u("c975"),u("d81d"),u("a434"),u("159b"),u("a4d3"),u("e439"),u("dbb4"),u("b64b");function y(Ce,De,Me){return De in Ce?Object.defineProperty(Ce,De,{value:Me,enumerable:!0,configurable:!0,writable:!0}):Ce[De]=Me,Ce}function k(Ce,De){var Me=Object.keys(Ce);if(Object.getOwnPropertySymbols){var Qe=Object.getOwnPropertySymbols(Ce);De&&(Qe=Qe.filter(function(fe){return Object.getOwnPropertyDescriptor(Ce,fe).enumerable})),Me.push.apply(Me,Qe)}return Me}function v(Ce){for(var De=1;De<arguments.length;De++){var Me=arguments[De]!=null?arguments[De]:{};De%2?k(Object(Me),!0).forEach(function(Qe){y(Ce,Qe,Me[Qe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(Me)):k(Object(Me)).forEach(function(Qe){Object.defineProperty(Ce,Qe,Object.getOwnPropertyDescriptor(Me,Qe))})}return Ce}function A(Ce){if(Array.isArray(Ce))return Ce}u("e01a"),u("d28b"),u("e260"),u("d3b7"),u("3ca3"),u("ddb0");function T(Ce,De){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(Ce)))){var Me=[],Qe=!0,fe=!1,Se=void 0;try{for(var Re=Ce[Symbol.iterator](),Je;!(Qe=(Je=Re.next()).done)&&(Me.push(Je.value),!(De&&Me.length===De));Qe=!0);}catch(Et){fe=!0,Se=Et}finally{try{!Qe&&Re.return!=null&&Re.return()}finally{if(fe)throw Se}}return Me}}u("a630"),u("fb6a"),u("b0c0"),u("25f0");function x(Ce,De){(De==null||De>Ce.length)&&(De=Ce.length);for(var Me=0,Qe=new Array(De);Me<De;Me++)Qe[Me]=Ce[Me];return Qe}function C(Ce,De){if(Ce){if(typeof Ce=="string")return x(Ce,De);var Me=Object.prototype.toString.call(Ce).slice(8,-1);if(Me==="Object"&&Ce.constructor&&(Me=Ce.constructor.name),Me==="Map"||Me==="Set")return Array.from(Ce);if(Me==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Me))return x(Ce,De)}}function D(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S(Ce,De){return A(Ce)||T(Ce,De)||C(Ce,De)||D()}function M(Ce){if(Array.isArray(Ce))return x(Ce)}function B(Ce){if(typeof Symbol<"u"&&Symbol.iterator in Object(Ce))return Array.from(Ce)}function R(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L(Ce){return M(Ce)||B(Ce)||C(Ce)||R()}var j=u("a352"),N=u.n(j);function z(Ce){Ce.parentElement!==null&&Ce.parentElement.removeChild(Ce)}function Z(Ce,De,Me){var Qe=Me===0?Ce.children[0]:Ce.children[Me-1].nextSibling;Ce.insertBefore(De,Qe)}var K=u("dbf1");u("13d5"),u("4fad"),u("ac1f"),u("5319");function H(Ce){var De=Object.create(null);return function(Qe){var fe=De[Qe];return fe||(De[Qe]=Ce(Qe))}}var Y=/-(\w)/g,oe=H(function(Ce){return Ce.replace(Y,function(De,Me){return Me.toUpperCase()})});u("5db7"),u("73d9");var me=["Start","Add","Remove","Update","End"],re=["Choose","Unchoose","Sort","Filter","Clone"],W=["Move"],J=[W,me,re].flatMap(function(Ce){return Ce}).map(function(Ce){return"on".concat(Ce)}),q={manage:W,manageAndEmit:me,emit:re};function ae(Ce){return J.indexOf(Ce)!==-1}u("caad"),u("2ca0");var be=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function ke(Ce){return be.includes(Ce)}function se(Ce){return["transition-group","TransitionGroup"].includes(Ce)}function ee(Ce){return["id","class","role","style"].includes(Ce)||Ce.startsWith("data-")||Ce.startsWith("aria-")||Ce.startsWith("on")}function le(Ce){return Ce.reduce(function(De,Me){var Qe=S(Me,2),fe=Qe[0],Se=Qe[1];return De[fe]=Se,De},{})}function te(Ce){var De=Ce.$attrs,Me=Ce.componentData,Qe=Me===void 0?{}:Me,fe=le(Object.entries(De).filter(function(Se){var Re=S(Se,2),Je=Re[0];return Re[1],ee(Je)}));return v(v({},fe),Qe)}function X(Ce){var De=Ce.$attrs,Me=Ce.callBackBuilder,Qe=le(ce(De));Object.entries(Me).forEach(function(Se){var Re=S(Se,2),Je=Re[0],Et=Re[1];q[Je].forEach(function(yt){Qe["on".concat(yt)]=Et(yt)})});var fe="[data-draggable]".concat(Qe.draggable||"");return v(v({},Qe),{},{draggable:fe})}function ce(Ce){return Object.entries(Ce).filter(function(De){var Me=S(De,2),Qe=Me[0];return Me[1],!ee(Qe)}).map(function(De){var Me=S(De,2),Qe=Me[0],fe=Me[1];return[oe(Qe),fe]}).filter(function(De){var Me=S(De,2),Qe=Me[0];return Me[1],!ae(Qe)})}u("c740");function pe(Ce,De){if(!(Ce instanceof De))throw new TypeError("Cannot call a class as a function")}function we(Ce,De){for(var Me=0;Me<De.length;Me++){var Qe=De[Me];Qe.enumerable=Qe.enumerable||!1,Qe.configurable=!0,"value"in Qe&&(Qe.writable=!0),Object.defineProperty(Ce,Qe.key,Qe)}}function Ze(Ce,De,Me){return De&&we(Ce.prototype,De),Me&&we(Ce,Me),Ce}var ne=function(De){var Me=De.el;return Me},de=function(De,Me){return De.__draggable_context=Me},ge=function(De){return De.__draggable_context},Ee=function(){function Ce(De){var Me=De.nodes,Qe=Me.header,fe=Me.default,Se=Me.footer,Re=De.root,Je=De.realList;pe(this,Ce),this.defaultNodes=fe,this.children=[].concat(L(Qe),L(fe),L(Se)),this.externalComponent=Re.externalComponent,this.rootTransition=Re.transition,this.tag=Re.tag,this.realList=Je}return Ze(Ce,[{key:"render",value:function(Me,Qe){var fe=this.tag,Se=this.children,Re=this._isRootComponent,Je=Re?{default:function(){return Se}}:Se;return Me(fe,Qe,Je)}},{key:"updated",value:function(){var Me=this.defaultNodes,Qe=this.realList;Me.forEach(function(fe,Se){de(ne(fe),{element:Qe[Se],index:Se})})}},{key:"getUnderlyingVm",value:function(Me){return ge(Me)}},{key:"getVmIndexFromDomIndex",value:function(Me,Qe){var fe=this.defaultNodes,Se=fe.length,Re=Qe.children,Je=Re.item(Me);if(Je===null)return Se;var Et=ge(Je);if(Et)return Et.index;if(Se===0)return 0;var yt=ne(fe[0]),ht=L(Re).findIndex(function(Te){return Te===yt});return Me<ht?0:Se}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),Ce}(),Ie=u("8bbf");function Le(Ce,De){var Me=Ce[De];return Me?Me():[]}function ot(Ce){var De=Ce.$slots,Me=Ce.realList,Qe=Ce.getKey,fe=Me||[],Se=["header","footer"].map(function(Te){return Le(De,Te)}),Re=S(Se,2),Je=Re[0],Et=Re[1],yt=De.item;if(!yt)throw new Error("draggable element must have an item slot");var ht=fe.flatMap(function(Te,He){return yt({element:Te,index:He}).map(function(At){return At.key=Qe(Te),At.props=v(v({},At.props||{}),{},{"data-draggable":!0}),At})});if(ht.length!==fe.length)throw new Error("Item slot must have only one child");return{header:Je,footer:Et,default:ht}}function We(Ce){var De=se(Ce),Me=!ke(Ce)&&!De;return{transition:De,externalComponent:Me,tag:Me?Object(Ie.resolveComponent)(Ce):De?Ie.TransitionGroup:Ce}}function Fe(Ce){var De=Ce.$slots,Me=Ce.tag,Qe=Ce.realList,fe=Ce.getKey,Se=ot({$slots:De,realList:Qe,getKey:fe}),Re=We(Me);return new Ee({nodes:Se,root:Re,realList:Qe})}function Ae(Ce,De){var Me=this;Object(Ie.nextTick)(function(){return Me.$emit(Ce.toLowerCase(),De)})}function Be(Ce){var De=this;return function(Me,Qe){if(De.realList!==null)return De["onDrag".concat(Ce)](Me,Qe)}}function $e(Ce){var De=this,Me=Be.call(this,Ce);return function(Qe,fe){Me.call(De,Qe,fe),Ae.call(De,Ce,Qe)}}var dt=null,mt={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(De){return De}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},It=["update:modelValue","change"].concat(L([].concat(L(q.manageAndEmit),L(q.emit)).map(function(Ce){return Ce.toLowerCase()}))),Wt=Object(Ie.defineComponent)({name:"draggable",inheritAttrs:!1,props:mt,emits:It,data:function(){return{error:!1}},render:function(){try{this.error=!1;var De=this.$slots,Me=this.$attrs,Qe=this.tag,fe=this.componentData,Se=this.realList,Re=this.getKey,Je=Fe({$slots:De,tag:Qe,realList:Se,getKey:Re});this.componentStructure=Je;var Et=te({$attrs:Me,componentData:fe});return Je.render(Ie.h,Et)}catch(yt){return this.error=!0,Object(Ie.h)("pre",{style:{color:"red"}},yt.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&K.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var De=this;if(!this.error){var Me=this.$attrs,Qe=this.$el,fe=this.componentStructure;fe.updated();var Se=X({$attrs:Me,callBackBuilder:{manageAndEmit:function(Et){return $e.call(De,Et)},emit:function(Et){return Ae.bind(De,Et)},manage:function(Et){return Be.call(De,Et)}}}),Re=Qe.nodeType===1?Qe:Qe.parentElement;this._sortable=new N.a(Re,Se),this.targetDomElement=Re,Re.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var De=this.list;return De||this.modelValue},getKey:function(){var De=this.itemKey;return typeof De=="function"?De:function(Me){return Me[De]}}},watch:{$attrs:{handler:function(De){var Me=this._sortable;Me&&ce(De).forEach(function(Qe){var fe=S(Qe,2),Se=fe[0],Re=fe[1];Me.option(Se,Re)})},deep:!0}},methods:{getUnderlyingVm:function(De){return this.componentStructure.getUnderlyingVm(De)||null},getUnderlyingPotencialDraggableComponent:function(De){return De.__draggable_component__},emitChanges:function(De){var Me=this;Object(Ie.nextTick)(function(){return Me.$emit("change",De)})},alterList:function(De){if(this.list){De(this.list);return}var Me=L(this.modelValue);De(Me),this.$emit("update:modelValue",Me)},spliceList:function(){var De=arguments,Me=function(fe){return fe.splice.apply(fe,L(De))};this.alterList(Me)},updatePosition:function(De,Me){var Qe=function(Se){return Se.splice(Me,0,Se.splice(De,1)[0])};this.alterList(Qe)},getRelatedContextFromMoveEvent:function(De){var Me=De.to,Qe=De.related,fe=this.getUnderlyingPotencialDraggableComponent(Me);if(!fe)return{component:fe};var Se=fe.realList,Re={list:Se,component:fe};if(Me!==Qe&&Se){var Je=fe.getUnderlyingVm(Qe)||{};return v(v({},Je),Re)}return Re},getVmIndexFromDomIndex:function(De){return this.componentStructure.getVmIndexFromDomIndex(De,this.targetDomElement)},onDragStart:function(De){this.context=this.getUnderlyingVm(De.item),De.item._underlying_vm_=this.clone(this.context.element),dt=De.item},onDragAdd:function(De){var Me=De.item._underlying_vm_;if(Me!==void 0){z(De.item);var Qe=this.getVmIndexFromDomIndex(De.newIndex);this.spliceList(Qe,0,Me);var fe={element:Me,newIndex:Qe};this.emitChanges({added:fe})}},onDragRemove:function(De){if(Z(this.$el,De.item,De.oldIndex),De.pullMode==="clone"){z(De.clone);return}var Me=this.context,Qe=Me.index,fe=Me.element;this.spliceList(Qe,1);var Se={element:fe,oldIndex:Qe};this.emitChanges({removed:Se})},onDragUpdate:function(De){z(De.item),Z(De.from,De.item,De.oldIndex);var Me=this.context.index,Qe=this.getVmIndexFromDomIndex(De.newIndex);this.updatePosition(Me,Qe);var fe={element:this.context.element,oldIndex:Me,newIndex:Qe};this.emitChanges({moved:fe})},computeFutureIndex:function(De,Me){if(!De.element)return 0;var Qe=L(Me.to.children).filter(function(Je){return Je.style.display!=="none"}),fe=Qe.indexOf(Me.related),Se=De.component.getVmIndexFromDomIndex(fe),Re=Qe.indexOf(dt)!==-1;return Re||!Me.willInsertAfter?Se:Se+1},onDragMove:function(De,Me){var Qe=this.move,fe=this.realList;if(!Qe||!fe)return!0;var Se=this.getRelatedContextFromMoveEvent(De),Re=this.computeFutureIndex(Se,De),Je=v(v({},this.context),{},{futureIndex:Re}),Et=v(v({},De),{},{relatedContext:Se,draggedContext:Je});return Qe(Et,Me)},onDragEnd:function(){dt=null}}}),zt=Wt;m.default=zt},fb6a:function(d,m,u){var h=u("23e7"),f=u("861d"),g=u("e8b5"),y=u("23cb"),k=u("50c4"),v=u("fc6a"),A=u("8418"),T=u("b622"),x=u("1dde"),C=u("ae40"),D=x("slice"),S=C("slice",{ACCESSORS:!0,0:0,1:2}),M=T("species"),B=[].slice,R=Math.max;h({target:"Array",proto:!0,forced:!D||!S},{slice:function(j,N){var z=v(this),Z=k(z.length),K=y(j,Z),H=y(N===void 0?Z:N,Z),Y,oe,me;if(g(z)&&(Y=z.constructor,typeof Y=="function"&&(Y===Array||g(Y.prototype))?Y=void 0:f(Y)&&(Y=Y[M],Y===null&&(Y=void 0)),Y===Array||Y===void 0))return B.call(z,K,H);for(oe=new(Y===void 0?Array:Y)(R(H-K,0)),me=0;K<H;K++,me++)K in z&&A(oe,me,z[K]);return oe.length=me,oe}})},fc6a:function(d,m,u){var h=u("44ad"),f=u("1d80");d.exports=function(g){return h(f(g))}},fdbc:function(d,m){d.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(d,m,u){var h=u("4930");d.exports=h&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(v6);var tX=v6.exports;const dd=r1(tX);const nX={class:"flex-row flex assign align-items-center pointer text-truncate w-100","data-bs-toggle":"dropdown","data-bs-offset":"0,2"},iX={key:0,class:"d-flex align-items-center me-2"},oX=["src"],rX={class:"flex-column flex align-items-center ms-1"},sX={class:"text-start color-main"},aX={class:"dropdown-menu jiBox shadow",style:{"overflow-y":"auto","overflow-x":"hidden"}},lX={style:{"max-height":"234px","overflow-y":"auto","overflow-x":"hidden"}},cX={__name:"assign",props:{okr:String,user:String,users:Array},emits:["loadOkr"],setup(i,{emit:r}){const l=i,{proxy:o}=Ke();at();let d=tt(),m=Ve({team:d.params.team,user:{}});Ue(()=>{u()});let u=()=>{let f=!1;if(l.user){for(let g=0;g<l.users.length;g++)if(l.user===l.users[g].uuid){m.user=l.users[g],f=!0;break}}f||(m.user={name:"负责人"})},h=f=>{if(l.user!==f){let g={uuid:l.okr,assign:f};o.post(o.urls.okr_change_assign.format(m.team),g).then(function(y){y.data.code===200&&(o.bus.emit("alertSuccess","更新成功"),r("loadOkr"))}).catch(function(y){o.bus.emit("alertDanger",y.response.data.error)})}};return Bt(()=>l.user,f=>{u()}),(f,g)=>(F(),U(xe,null,[b("div",nX,[P(m).user.avatar?(F(),U("div",iX,[b("img",{src:P(m).user.avatar,style:{height:"20px",width:"20px","border-radius":"20px"}},null,8,oX)])):ve("",!0),b("div",rX,[b("div",sX,_e(P(m).user.name),1)])]),b("div",aX,[ue(Pn,{class:"px-2 pb-2",placeholder:"搜索负责人"}),b("div",lX,[(F(!0),U(xe,null,Xe(i.users,y=>(F(),U("div",{class:"mt-2",key:y.uuid},[ue(_r,{onSubmit:P(h),class:"px-2 py-1 status-item",user:y,selected:y.uuid===i.user},null,8,["onSubmit","user","selected"])]))),128))])])],64))}},g5=Tt(cX,[["__scopeId","data-v-c5020144"]]),dX={class:"d-flex flex-column align-items-center justify-content-center me-2"},uX=["title"],hX=["src"],fX={key:0},pX={__name:"avatar",props:["pic","name"],setup(i){return(r,l)=>(F(),U("div",dX,[b("div",{style:{flex:"0 0 40px",border:"1px solid #e8e8e8","border-radius":"40px",height:"40px",width:"40px"},title:i.name,class:"flex-row flex align-items-center justify-content-center"},[b("img",{src:i.pic,style:{height:"30px",width:"30px","border-radius":"30px"}},null,8,hX)],8,uX),i.name?(F(),U("div",fX,_e(i.name),1)):ve("",!0)]))}},mX={class:"modal fade",id:"assignOkrModal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","data-bs-focus":"false","aria-hidden":"true"},gX={class:"modal-dialog modal-lg"},_X={class:"modal-content h-100"},bX=b("div",{class:"modal-header"},[b("h5",{class:"modal-title",id:"staticBackdropLabel"},"指派关键成果"),b("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),vX={class:"flex-column flex modal-body p-4"},kX={class:"flex-column flex"},wX=b("label",{class:"control-label fs-c8"},"自定义目标名称",-1),yX={class:"mt-2"},CX={class:"flex-row flex align-items-center mt-3"},AX={class:"flex-column flex flex-fill"},xX=b("label",{class:"control-label fs-c8"},"关联关键成果",-1),SX={class:"mt-2 form-control color-light"},EX={class:"flex-row flex align-items-center mt-3"},DX={class:"flex-column flex flex-fill"},TX=b("label",{class:"control-label fs-c8"},"指派",-1),IX={class:"mt-2"},MX=["value"],PX={key:0,class:"flex-row flex mt-3"},OX={class:"flex-column flex flex-fill"},BX=b("label",{class:"control-label fs-c8"},"已指派",-1),LX={class:"flex-column flex flex-fill color-light mt-2"},RX={class:"d-flex flex-fill hover p-2"},NX=["onClick"],$X=b("i",{class:"bi bi-x-lg"},null,-1),jX=[$X],zX={class:"modal-footer"},FX=b("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"取消",-1),VX={__name:"assign_to",props:{keyResult:Object,members:Array},emits:["refresh","load_members"],setup(i,{emit:r}){const l=i,{proxy:o}=Ke();at();let d=tt(),m=Ve({team:d.params.team,objective:"",selectedAssign:"",assignTo:[]}),u=null;Ue(()=>{u=new bootstrap.Modal(document.getElementById("assignOkrModal"),{keyboard:!1});let y=document.getElementById("assignOkrModal");y.addEventListener("shown.bs.modal",function(){f()}),y.addEventListener("hidden.bs.modal",function(){m.assignTo=[],m.selectedAssign=""})});let h=()=>{if(m.selectedAssign&&m.objective){let y={subject:m.objective,assign:m.selectedAssign};o.post(o.urls.okr_assign_key_result.format(m.team,l.keyResult.uuid),y).then(function(k){k.data.code===200&&(u.hide(),r("refresh"))}).catch(function(k){o.bus.emit("alertDanger",k.response.data.error)})}else o.bus.emit("alertDanger","参数不能为空")},f=()=>{o.get(o.urls.okr_list_assignTo.format(m.team,l.keyResult.uuid)).then(function(y){m.assignTo=y.data;let k=[];for(let v=0;v<y.data.length;v++)k.push(y.data[v].uuid);r("load_members",k)})},g=y=>{if(!l.keyResult.uuid||!y)return;let k={assign:y};o.post(o.urls.okr_delete_assignTo.format(m.team,l.keyResult.uuid),k).then(function(v){v.data.code===200&&(f(),r("refresh"))}).catch(function(v){o.bus.emit("alertDanger",v.response.data.error)})};return Bt(()=>l.keyResult,y=>{m.objective=l.keyResult.subject}),(y,k)=>{var v;return F(),U("div",mX,[b("div",gX,[b("div",_X,[bX,b("div",vX,[b("div",kX,[wX,b("div",yX,[ct(b("input",{type:"text","onUpdate:modelValue":k[0]||(k[0]=A=>P(m).objective=A),class:"form-control"},null,512),[[gt,P(m).objective]])])]),b("div",CX,[b("div",AX,[xX,b("div",SX,_e(i.keyResult.subject),1)])]),b("div",EX,[b("div",DX,[TX,b("div",IX,[ct(b("select",{"onUpdate:modelValue":k[1]||(k[1]=A=>P(m).selectedAssign=A),class:"form-select"},[(F(!0),U(xe,null,Xe(i.members,A=>(F(),U("option",{value:A.uuid,key:A.uuid},[ue(_r,{user:A,hasEmail:!0},null,8,["user"])],8,MX))),128))],512),[[ba,P(m).selectedAssign]])])])]),((v=P(m).assignTo)==null?void 0:v.length)>0?(F(),U("div",PX,[b("div",OX,[BX,b("div",LX,[(F(!0),U(xe,null,Xe(P(m).assignTo,A=>(F(),U("div",RX,[ue(_r,{user:A,hasEmail:!0,class:"flex-fill"},null,8,["user"]),b("div",{class:"d-flex justify-content-end color-hover pointer",onClick:T=>P(g)(A.uuid)},jX,8,NX)]))),256))])])])):ve("",!0)]),b("div",zX,[FX,b("button",{type:"button",class:"btn btn-primary",onClick:k[2]||(k[2]=(...A)=>P(h)&&P(h)(...A))},"确定")])])])])}}},UX={class:"modal fade",id:"addOkr","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","data-bs-focus":"false","aria-hidden":"true"},HX={class:"modal-dialog modal-lg"},WX={class:"modal-content h-100"},GX=b("div",{class:"modal-header"},[b("h5",{class:"modal-title",id:"staticBackdropLabel"},"创建团队目标"),b("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),KX={class:"flex-column flex modal-body p-4"},YX={class:"flex-column flex"},qX=b("label",{class:"control-label fs-c8"},"目标名称",-1),ZX={class:"mt-2"},QX={class:"flex-row flex align-items-center mt-3"},JX={class:"flex-column flex flex-fill"},XX=b("label",{class:"control-label fs-c8"},"负责人",-1),eee={class:"mt-2"},tee=["value"],nee={class:"flex-row flex align-items-center mt-3"},iee={class:"flex-column flex flex-fill"},oee=b("label",{class:"control-label fs-c8"},"所在周期",-1),ree={class:"mt-2 form-control"},see={class:"fw-bolder"},aee={class:"ms-2 color-light"},lee={class:"modal-footer"},cee=b("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"取消",-1),dee={__name:"add",props:{period:Object,members:Array},emits:["refresh","load_members"],setup(i,{emit:r}){const l=i,{proxy:o}=Ke();at();let d=tt(),m=Ve({team:d.params.team,subject:"",selectedOwner:""}),u=null;Ue(()=>{u=new bootstrap.Modal(document.getElementById("addOkr"),{keyboard:!1}),document.getElementById("addOkr").addEventListener("shown.bs.modal",function(){r("load_members")})});let h=()=>{var g,y;if(((y=(g=l.period)==null?void 0:g.uuid)==null?void 0:y.length)!==8||!m.subject||!m.selectedOwner){o.bus.emit("alertDanger","参数不能为空");return}let f={subject:m.subject,kind:1,period_uuid:l.period.uuid,assign:m.selectedOwner};o.post(o.urls.team_okr_add.format(m.team),f).then(function(){u.hide(),r("refresh")})};return(f,g)=>(F(),U("div",UX,[b("div",HX,[b("div",WX,[GX,b("div",KX,[b("div",YX,[qX,b("div",ZX,[ct(b("input",{type:"text","onUpdate:modelValue":g[0]||(g[0]=y=>P(m).subject=y),class:"form-control"},null,512),[[gt,P(m).subject]])])]),b("div",QX,[b("div",JX,[XX,b("div",eee,[ct(b("select",{"onUpdate:modelValue":g[1]||(g[1]=y=>P(m).selectedOwner=y),class:"form-select"},[(F(!0),U(xe,null,Xe(i.members,y=>(F(),U("option",{value:y.uuid,key:y.uuid},[ue(_r,{user:y,hasEmail:!0},null,8,["user"])],8,tee))),128))],512),[[ba,P(m).selectedOwner]])])])]),b("div",nee,[b("div",iee,[oee,b("div",ree,[b("span",see,_e(i.period.subject),1),b("span",aee,_e(f.filters.formatDay(i.period.start_date))+" ~ "+_e(f.filters.formatDay(i.period.end_date)),1)])])])]),b("div",lee,[cee,b("button",{type:"button",class:"btn btn-primary",onClick:g[2]||(g[2]=(...y)=>P(h)&&P(h)(...y))},"创建目标")])])])]))}},uee={key:0,class:"d-flex align-items-center bd-light px-3 h-100 rounded-3 pointer hover shadow-sm","data-bs-toggle":"dropdown","data-bs-offset":"0,2"},hee={class:"align-items-center"},fee=b("div",{class:"align-items-center ms-2"},[b("i",{class:"bi bi-caret-down-fill"})],-1),pee={class:"dropdown-menu jiBox shadow",style:{"overflow-y":"auto","overflow-x":"hidden"}},mee={style:{"max-height":"280px","overflow-y":"auto","overflow-x":"hidden"}},gee=["onClick"],_ee={class:"d-flex flex-column"},bee={class:"fw-bolder"},vee={class:"color-light"},kee={key:0,class:"ms-5"},wee=b("svg",{t:"1684910827972",class:"icon",viewBox:"0 0 1397 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2608",id:"mx_n_1684910827974",width:"16",height:"16"},[b("path",{d:"M1396.363636 121.018182c0 0-223.418182 74.472727-484.072727 372.363636-242.036364 269.963636-297.890909 381.672727-390.981818 530.618182C512 1014.690909 372.363636 744.727273 0 549.236364l195.490909-186.181818c0 0 176.872727 121.018182 297.890909 344.436364 0 0 307.2-474.763636 902.981818-707.490909L1396.363636 121.018182 1396.363636 121.018182zM1396.363636 121.018182",fill:"#2c2c2c","p-id":"2609"})],-1),yee=[wee],M6={__name:"period_menu",props:{currPeriod:Object,periods:Array},emits:["select"],setup(i,{emit:r}){const l=o=>{r("select",o)};return(o,d)=>(F(),U(xe,null,[i.currPeriod.subject?(F(),U("div",uee,[b("div",hee,_e(i.currPeriod.subject),1),fee])):ve("",!0),b("div",pee,[b("div",mee,[(F(!0),U(xe,null,Xe(i.periods,m=>(F(),U("div",{key:m.uuid},[b("div",{class:"d-flex align-items-center px-4 py-1 hover pointer",onClick:u=>{l(m)}},[b("div",_ee,[b("div",bee,_e(m.subject),1),b("div",vee,_e(o.filters.formatDay(m.start_date))+" ~ "+_e(o.filters.formatDay(m.end_date)),1)]),i.currPeriod.uuid===m.uuid?(F(),U("div",kee,yee)):ve("",!0)],8,gee)]))),128))])])],64))}},Cee={class:"flex-column flex flex-fill pt-2 overflow-auto"},Aee={class:"d-flex align-items-center justify-content-end px-4"},xee=b("div",{class:"d-flex flex-fill align-items-center ms-4"},null,-1),See=b("div",{class:"color-hover pointer position-absolute",style:{bottom:"3rem",right:"5rem","font-size":"3rem",color:"#000000"},"data-bs-toggle":"modal","data-bs-target":"#addOkr"},[b("i",{class:"bi bi-plus-circle-fill"})],-1),Eee={class:"ms-4"},Dee={class:"flex-fill mt-2 border-top px-4 pb-4"},Tee={class:"mt-3 border shadow-sm"},Iee={class:"d-flex align-items-center justify-content-around border-bottom ps-3",style:{height:"40px"}},Mee={class:"d-flex flex-fill align-items-center fw-bolder"},Pee=b("div",{class:"text-bg-success px-2 rounded-1"}," O ",-1),Oee={key:0,class:"ms-2 w-75"},Bee=["onUpdate:modelValue","onChange","onBlur"],Lee=["onClick"],Ree={key:2,class:"ms-2"},Nee={class:"progress me-2",role:"progressbar","aria-valuemin":"0","aria-valuemax":"100",style:{"max-width":"200px",width:"150px",height:"10px"}},$ee={class:"me-2 color-light",style:{width:"40px"}},jee={class:"d-flex align-items-center justify-content-between text-truncate",style:{width:"150px"}},zee=["onClick"],Fee=b("i",{class:"bi bi-x-lg"},null,-1),Vee=[Fee],Uee={key:1,class:"d-flex align-items-center px-3 move"},Hee=b("svg",{t:"1602764784806",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"50821",width:"15",height:"15"},[b("path",{d:"M329.1136 793.6c63.488 0 115.2 51.712 115.2 115.2S392.6016 1024 329.1136 1024 214.016 972.288 214.016 908.8 265.6256 793.6 329.1136 793.6z m349.2864 0c63.488 0 115.2 51.712 115.2 115.2S741.888 1024 678.4 1024 563.2 972.288 563.2 908.8 614.912 793.6 678.4 793.6z m-349.184-396.8c63.488 0 115.0976 51.712 115.0976 115.2s-51.712 115.2-115.2 115.2S214.016 575.488 214.016 512s51.712-115.2 115.2-115.2z m349.184 0c63.488 0 115.2 51.712 115.2 115.2s-51.712 115.2-115.2 115.2S563.2 575.488 563.2 512s51.712-115.2 115.2-115.2zM329.216 0c63.488 0 115.0976 51.712 115.0976 115.2S392.6016 230.4 329.1136 230.4 214.016 178.688 214.016 115.2 265.6256 0 329.1136 0z m349.184 0c63.488 0 115.2 51.712 115.2 115.2S741.888 230.4 678.4 230.4 563.2 178.688 563.2 115.2 614.912 0 678.4 0z",fill:"#8a8a8a","p-id":"50822"})],-1),Wee=[Hee],Gee={class:"ms-5 py-2 border-start"},Kee=["id"],Yee=["onMouseover","onMouseleave"],qee={class:"d-flex flex-fill align-items-center"},Zee=b("div",{class:"text-bg-secondary px-1 rounded-1 fw-bolder fs-8"}," KR ",-1),Qee={key:0,class:"ms-2 w-75"},Jee=["onUpdate:modelValue","onChange","onBlur"],Xee=["onClick"],ete={key:2,class:"ms-2"},tte={key:3,class:"flex align-items-center"},nte={class:"d-flex align-items-center"},ite=b("div",{class:"flex-fill"},"   ",-1),ote=["onClick"],rte=b("i",{class:"bi bi-people-fill"},null,-1),ste=[rte],ate={class:"progress me-2",role:"progressbar","aria-valuemin":"0","aria-valuemax":"100",style:{"max-width":"200px",width:"150px",height:"10px"}},lte={class:"me-2 color-light",style:{width:"40px"}},cte={class:"d-flex align-items-center justify-content-between text-truncate",style:{width:"150px"}},dte=["onClick"],ute=b("i",{class:"bi bi-x-lg"},null,-1),hte=[ute],fte={key:1,class:"d-flex align-items-center px-3 move"},pte=b("svg",{t:"1602764784806",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"50821",width:"15",height:"15"},[b("path",{d:"M329.1136 793.6c63.488 0 115.2 51.712 115.2 115.2S392.6016 1024 329.1136 1024 214.016 972.288 214.016 908.8 265.6256 793.6 329.1136 793.6z m349.2864 0c63.488 0 115.2 51.712 115.2 115.2S741.888 1024 678.4 1024 563.2 972.288 563.2 908.8 614.912 793.6 678.4 793.6z m-349.184-396.8c63.488 0 115.0976 51.712 115.0976 115.2s-51.712 115.2-115.2 115.2S214.016 575.488 214.016 512s51.712-115.2 115.2-115.2z m349.184 0c63.488 0 115.2 51.712 115.2 115.2s-51.712 115.2-115.2 115.2S563.2 575.488 563.2 512s51.712-115.2 115.2-115.2zM329.216 0c63.488 0 115.0976 51.712 115.0976 115.2S392.6016 230.4 329.1136 230.4 214.016 178.688 214.016 115.2 265.6256 0 329.1136 0z m349.184 0c63.488 0 115.2 51.712 115.2 115.2S741.888 230.4 678.4 230.4 563.2 178.688 563.2 115.2 614.912 0 678.4 0z",fill:"#8a8a8a","p-id":"50822"})],-1),mte=[pte],gte={class:"d-flex align-items-center justify-content-between"},_te={key:0,class:"d-flex align-items-center w-75 px-3",style:{height:"40px"}},bte={class:"flex-fill"},vte=["onUpdate:modelValue"],kte={class:"flex-fill ms-4"},wte=["onClick"],yte=["onClick"],Cte=["onClick"],Ate=b("i",{class:"bi bi-plus-lg me-2"},null,-1),xte={class:"d-flex align-items-center pe-3"},Ste=["onClick"],Ete=b("i",{class:"bi bi-unlock"},null,-1),Dte=["onClick"],Tte=b("i",{class:"bi bi-lock"},null,-1),Ite={__name:"team_objective",setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ve({team:l.params.team,subject:"",periods:[],currPeriod:{},teamMembers:[],objectives:[],users:[],selectedOkr:"",selectedOkrSubject:"",selectedKeyResult:"",editOkrUUID:""});Ue(()=>{m()});let d=()=>{var C,D;if(((D=(C=o.currPeriod)==null?void 0:C.uuid)==null?void 0:D.length)!==8)return;const x={period_uuid:o.currPeriod.uuid};r.post(r.urls.team_okr_list.format(o.team),x).then(function(S){var M,B,R;if(o.editOkrUUID)for(let L=0;L<S.data.items.length;L++)o.editOkrUUID===S.data.items[L].uuid&&(S.data.items[L].unlocked=!0);for(let L=0;L<S.data.items.length;L++)for(let j=0;j<((M=S.data.items[L].keys)==null?void 0:M.length);j++){let N=S.data.items[L].keys[j];N.users=[];for(let z=0;z<((B=S.data.items[L].keys[j].assign_to)==null?void 0:B.length);z++){let Z=S.data.items[L].keys[j].assign_to[z];for(let K=0;K<((R=S.data.users)==null?void 0:R.length);K++){let H=S.data.users[K];if(H.uuid===Z){N.users.push(H);break}}}}o.objectives=S.data.items,o.users=S.data.users})},m=()=>{const x={status:1};r.post(r.urls.team_okr_period_list.format(o.team),x).then(function(C){var S;o.periods=C.data;let D=!1;for(let M=0;M<((S=o.periods)==null?void 0:S.length);M++){D=!0;let B=Date.now(),R=o.periods[M].start_date,L=o.periods[M].end_date;if(R<=B&&L>=B){o.currPeriod=o.periods[M],d();return}}D&&(o.currPeriod=o.periods[0],d())})},u=x=>{r.get(r.urls.team_member_list.format(o.team)).then(function(C){if(!x||x.length===0){o.teamMembers=C.data;return}let D=[];for(let S=0;S<C.data.length;S++){let M=!1;for(let B=0;B<x.length;B++)if(C.data[S].uuid===x[B]){M=!0;break}M||D.push(C.data[S])}o.teamMembers=D})},h=x=>{var D,S,M;if(((S=(D=o.currPeriod)==null?void 0:D.uuid)==null?void 0:S.length)!==8||((M=x==null?void 0:x.uuid)==null?void 0:M.length)!==8)return;let C={teamUUID:o.team,subject:x.keyResult,kind:2,period_uuid:o.currPeriod.uuid,parent_uuid:x.uuid};r.post(r.urls.team_okr_add.format(o.team),C).then(function(){d()})},f=x=>{var D,S;if(((S=(D=o.currPeriod)==null?void 0:D.uuid)==null?void 0:S.length)!==8||!x.subject)return;let C={subject:x.subject,uuid:x.uuid};r.post(r.urls.team_okr_update.format(o.team),C).then(function(){r.bus.emit("alertSuccess","更新成功"),d()})},g=()=>{o.selectedOkr&&r.post(r.urls.team_okr_delete.format(o.team,o.selectedOkr)).then(function(x){x.data.code===200&&d()}).catch(function(x){r.bus.emit("alertDanger",x.response.data.error)})},y=(x,C)=>{o.selectedOkr=x,o.selectedOkrSubject=C},k=x=>{o.currPeriod=x,d()};const v=x=>{let C=[];for(let D=0;D<o.objectives.length;D++){let M={uuid:o.objectives[D].uuid,position:D+1};C.push(M)}return r.post(r.urls.team_objective_sort.format(o.team),{period_uuid:o.currPeriod.uuid,objectives:C}).then(function(D){D.data.code===200&&(r.bus.emit("alertSuccess","更新成功"),d())}).catch(function(D){r.bus.emit("alertDanger",D.response.data.error)}),!0},A=x=>{let C=[];for(let D=0;D<o.objectives.length;D++){let S=o.objectives[D];if(S.uuid===x.moved.element.parent_uuid){for(let M=0;M<S.keys.length;M++){let R={uuid:S.keys[M].uuid,position:M+1};C.push(R)}break}}return r.post(r.urls.team_key_result_sort.format(o.team),{period_uuid:o.currPeriod.uuid,objectives:C}).then(function(D){D.data.code===200&&(r.bus.emit("alertSuccess","更新成功"),d())}).catch(function(D){r.bus.emit("alertDanger",D.response.data.error)}),!0};let T=x=>{o.selectedKeyResult=x};return(x,C)=>(F(),U(xe,null,[b("div",Cee,[b("div",Aee,[ue(M6,{"curr-period":P(o).currPeriod,periods:P(o).periods,onSelect:P(k)},null,8,["curr-period","periods","onSelect"]),xee,See,b("div",Eee,[ue(Pn,{placeholder:"搜索目标内容"})])]),b("div",Dee,[ue(P(dd),{list:P(o).objectives,"ghost-class":"ghost","chosen-class":"chosenClass",handle:".move",filter:".forbid",animation:"300",group:"objectives",onChange:v,itemKey:"uuid"},{item:qe(({element:D})=>[b("div",Tee,[b("div",Iee,[b("div",Mee,[Pee,D.unlocked&&D.editing?(F(),U("div",Oee,[ct(b("input",{ref:D.uuid,type:"text","onUpdate:modelValue":S=>D.subject=S,class:"form-control",onChange:S=>{P(f)(D)},onBlur:S=>{D.editing=!1}},null,40,Bee),[[gt,D.subject]])])):D.unlocked?(F(),U("div",{key:1,title:"点击可以编辑内容",class:"ms-2 pointer",onClick:S=>{D.editing=!0,x.$nextTick(()=>{x.$refs[D.uuid].focus()})}},_e(D.subject),9,Lee)):(F(),U("div",Ree,_e(D.subject),1))]),b("div",Nee,[b("div",{class:"progress-bar progress-bar-striped bg-warning fs-c7",role:"progressbar",style:Vn("width:"+D.progress+"%"),"aria-valuemax":"100"},null,4)]),b("div",$ee,_e(D.progress)+"% ",1),b("div",jee,[ue(g5,{okr:D.uuid,user:D.assign,users:P(o).users,onLoadOkr:P(d)},null,8,["okr","user","users","onLoadOkr"]),D.unlocked?(F(),U("div",{key:0,class:"d-flex align-items-end px-3 pointer color-hover","data-bs-toggle":"modal","data-bs-target":"#delOkrModal",onClick:S=>P(y)(D.uuid,D.subject)},Vee,8,zee)):(F(),U("div",Uee,Wee))])]),b("div",Gee,[ue(P(dd),{list:D.keys,"ghost-class":"ghost","chosen-class":"chosenClass",handle:".move",filter:".forbid",animation:"300",group:D.uuid,onChange:A,itemKey:"uuid"},{item:qe(({element:S})=>[b("div",{class:"d-flex flex-fill align-items-center",id:D.uuid},[b("div",{class:"d-flex flex-fill align-items-center ps-3 hover-bg",onMouseover:M=>{S.assignTo=!0},onMouseleave:M=>{S.assignTo=!1},style:{height:"40px"}},[b("div",qee,[Zee,D.unlocked&&S.editing?(F(),U("div",Qee,[ct(b("input",{ref:S.uuid,type:"text","onUpdate:modelValue":M=>S.subject=M,class:"form-control",onChange:M=>{P(f)(S)},onBlur:M=>{S.editing=!1}},null,40,Jee),[[gt,S.subject]])])):D.unlocked?(F(),U("div",{key:1,title:"点击可以编辑内容",class:"ms-2 pointer",onClick:M=>{S.editing=!0,x.$nextTick(()=>{x.$refs[S.uuid].focus()})}},_e(S.subject),9,Xee)):(F(),U("div",ete,_e(S.subject),1)),!D.unlocked&&!S.editing?(F(),U("div",tte,[(F(!0),U(xe,null,Xe(S.users,M=>(F(),lt(Dl,{user:M,key:M.uuid,includeName:!1,class:"ms-2"},null,8,["user"]))),128))])):ve("",!0)]),b("div",nte,[ite,S.assignTo?(F(),U("div",{key:0,class:"d-flex align-items-end px-3 pointer color-hover",title:"指派关键成果","data-bs-toggle":"modal","data-bs-target":"#assignOkrModal",onClick:M=>P(T)(S)},ste,8,ote)):ve("",!0),b("div",ate,[b("div",{class:"progress-bar progress-bar-striped bg-success opacity-75 fs-c7",role:"progressbar",style:Vn("width:"+S.progress+"%"),"aria-valuemax":"100"},null,4)]),b("div",lte,_e(S.progress)+"% ",1),b("div",cte,[ue(g5,{okr:S.uuid,user:S.assign,users:P(o).users,onLoadOkr:P(d)},null,8,["okr","user","users","onLoadOkr"]),D.unlocked?(F(),U("div",{key:0,class:"d-flex align-items-end px-3 pointer color-hover","data-bs-toggle":"modal","data-bs-target":"#delOkrModal",onClick:M=>P(y)(S.uuid,S.subject)},hte,8,dte)):(F(),U("div",fte,mte))])])],40,Yee)],8,Kee)]),_:2},1032,["list","group"]),b("div",gte,[D.edit?(F(),U("div",_te,[b("div",bte,[ct(b("input",{"onUpdate:modelValue":S=>D.keyResult=S,class:"form-control"},null,8,vte),[[gt,D.keyResult]])]),b("div",kte,[b("button",{type:"button",class:"btn btn-secondary",onClick:S=>{D.edit=!1}},"取消",8,wte),b("button",{type:"button",class:"btn btn-primary ms-4",onClick:S=>P(h)(D)},"添加",8,yte)])])):(F(),U("div",{key:1,class:"d-flex align-items-center mx-3 color-hover pointer",onClick:S=>{D.edit=!0},style:{height:"40px"}},[Ate,rt(" 添加关键成果 ")],8,Cte)),b("div",xte,[D.unlocked?(F(),U("div",{key:0,class:"color-hover pointer",onClick:S=>{D.unlocked=!1,P(o).editOkrUUID=""}},[Ete,rt(" 取消 ")],8,Ste)):(F(),U("div",{key:1,class:"color-hover pointer",onClick:S=>{D.unlocked=!0,P(o).editOkrUUID=D.uuid}},[Tte,rt(" 编辑 ")],8,Dte))])])])])]),_:1},8,["list"])])]),ue(qo,{desc:P(o).selectedOkrSubject,onSubmit:P(g),id:"delOkrModal"},null,8,["desc","onSubmit"]),ue(dee,{period:P(o).currPeriod,members:P(o).teamMembers,onRefresh:P(d),onLoad_members:P(u)},null,8,["period","members","onRefresh","onLoad_members"]),ue(VX,{keyResult:P(o).selectedKeyResult,members:P(o).teamMembers,onRefresh:P(d),onLoad_members:P(u)},null,8,["keyResult","members","onRefresh","onLoad_members"])],64))}},Mte={class:"flex-column flex flex-fill pt-2 overflow-auto"},Pte={class:"d-flex align-items-center justify-content-end px-4"},Ote=b("div",{class:"d-flex flex-fill align-items-center ms-4"},null,-1),Bte={class:"ms-4"},Lte={class:"flex-fill mt-2 border-top px-4 pb-4"},Rte={class:"mt-3 border shadow-sm"},Nte={class:"d-flex align-items-center justify-content-around border-bottom px-3",style:{height:"40px"}},$te={class:"d-flex flex-fill align-items-center fw-bolder"},jte=b("div",{class:"text-bg-success px-2 rounded-1"}," O ",-1),zte={key:0,class:"d-flex align-items-center ms-2 w-75"},Fte=["onUpdate:modelValue","onChange","onBlur"],Vte=["onClick"],Ute={key:2,class:"d-flex align-items-center ms-2"},Hte={class:"progress me-2",role:"progressbar","aria-valuemin":"0","aria-valuemax":"100",style:{"min-width":"200px",height:"10px"}},Wte={class:"d-flex me-2 color-light align-items-center",style:{width:"40px"}},Gte=["onClick"],Kte=b("i",{class:"bi bi-x-lg"},null,-1),Yte=[Kte],qte={key:1,class:"d-flex align-items-center ms-2 pointer move",style:{width:"15px"}},Zte=b("svg",{t:"1602764784806",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"50821",width:"15",height:"15"},[b("path",{d:"M329.1136 793.6c63.488 0 115.2 51.712 115.2 115.2S392.6016 1024 329.1136 1024 214.016 972.288 214.016 908.8 265.6256 793.6 329.1136 793.6z m349.2864 0c63.488 0 115.2 51.712 115.2 115.2S741.888 1024 678.4 1024 563.2 972.288 563.2 908.8 614.912 793.6 678.4 793.6z m-349.184-396.8c63.488 0 115.0976 51.712 115.0976 115.2s-51.712 115.2-115.2 115.2S214.016 575.488 214.016 512s51.712-115.2 115.2-115.2z m349.184 0c63.488 0 115.2 51.712 115.2 115.2s-51.712 115.2-115.2 115.2S563.2 575.488 563.2 512s51.712-115.2 115.2-115.2zM329.216 0c63.488 0 115.0976 51.712 115.0976 115.2S392.6016 230.4 329.1136 230.4 214.016 178.688 214.016 115.2 265.6256 0 329.1136 0z m349.184 0c63.488 0 115.2 51.712 115.2 115.2S741.888 230.4 678.4 230.4 563.2 178.688 563.2 115.2 614.912 0 678.4 0z",fill:"#8a8a8a","p-id":"50822"})],-1),Qte=[Zte],Jte={class:"ms-5 py-2 border-start"},Xte=["id"],ene={class:"d-flex flex-fill align-items-center px-3 hover",style:{height:"40px"}},tne={class:"d-flex flex-fill align-items-center"},nne=b("div",{class:"text-bg-secondary px-1 rounded-1 fw-bolder fs-8"}," KR ",-1),ine={key:0,class:"ms-2 w-75"},one=["onUpdate:modelValue","onChange","onBlur"],rne=["onClick"],sne={key:2,class:"ms-2"},ane={class:"d-flex align-items-center"},lne=b("div",{class:"flex-fill"},"   ",-1),cne={class:"d-flex align-items-center me-2",style:{"min-width":"200px"}},dne=["onUpdate:modelValue","disabled","onChange"],une={class:"d-flex me-2 color-light align-items-center",style:{width:"40px"}},hne=["onClick"],fne=b("i",{class:"bi bi-x-lg"},null,-1),pne=[fne],mne={key:1,class:"d-flex align-items-center ms-2 pointer move",style:{width:"15px"}},gne=b("svg",{t:"1602764784806",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"50821",width:"15",height:"15"},[b("path",{d:"M329.1136 793.6c63.488 0 115.2 51.712 115.2 115.2S392.6016 1024 329.1136 1024 214.016 972.288 214.016 908.8 265.6256 793.6 329.1136 793.6z m349.2864 0c63.488 0 115.2 51.712 115.2 115.2S741.888 1024 678.4 1024 563.2 972.288 563.2 908.8 614.912 793.6 678.4 793.6z m-349.184-396.8c63.488 0 115.0976 51.712 115.0976 115.2s-51.712 115.2-115.2 115.2S214.016 575.488 214.016 512s51.712-115.2 115.2-115.2z m349.184 0c63.488 0 115.2 51.712 115.2 115.2s-51.712 115.2-115.2 115.2S563.2 575.488 563.2 512s51.712-115.2 115.2-115.2zM329.216 0c63.488 0 115.0976 51.712 115.0976 115.2S392.6016 230.4 329.1136 230.4 214.016 178.688 214.016 115.2 265.6256 0 329.1136 0z m349.184 0c63.488 0 115.2 51.712 115.2 115.2S741.888 230.4 678.4 230.4 563.2 178.688 563.2 115.2 614.912 0 678.4 0z",fill:"#8a8a8a","p-id":"50822"})],-1),_ne=[gne],bne={class:"d-flex align-items-center justify-content-between"},vne={key:0,class:"d-flex align-items-center w-75 px-3",style:{height:"40px"}},kne={class:"flex-fill"},wne=["onUpdate:modelValue"],yne={class:"flex-fill ms-4"},Cne=["onClick"],Ane=["onClick"],xne=["onClick"],Sne=b("i",{class:"bi bi-plus-lg me-2"},null,-1),Ene={class:"d-flex align-items-center pe-3"},Dne=["onClick"],Tne=b("i",{class:"bi bi-unlock"},null,-1),Ine=["onClick"],Mne=b("i",{class:"bi bi-lock"},null,-1),Pne={__name:"user_objective",setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ve({team:l.params.team,subject:"",periods:[],currPeriod:{},objectives:[],selectedOkr:"",selectedOkrSubject:"",editOkrUUID:""});Ue(()=>{m()});let d=()=>{var x,C;if(((C=(x=o.currPeriod)==null?void 0:x.uuid)==null?void 0:C.length)!==8)return;const T={period_uuid:o.currPeriod.uuid};r.post(r.urls.user_okr_list.format(o.team),T).then(function(D){if(o.editOkrUUID)for(let S=0;S<D.data.length;S++)o.editOkrUUID===D.data[S].uuid&&(D.data[S].unlocked=!0);o.objectives=D.data})},m=()=>{const T={status:1};r.post(r.urls.team_okr_period_list.format(o.team),T).then(function(x){var D;o.periods=x.data;let C=!1;for(let S=0;S<((D=o.periods)==null?void 0:D.length);S++){C=!0;let M=Date.now(),B=o.periods[S].start_date,R=o.periods[S].end_date;if(B<=M&&R>=M){o.currPeriod=o.periods[S],d();return}}C&&(o.currPeriod=o.periods[0],d())})},u=T=>{var C,D,S;if(((D=(C=o.currPeriod)==null?void 0:C.uuid)==null?void 0:D.length)!==8||((S=T==null?void 0:T.uuid)==null?void 0:S.length)!==8)return;let x={teamUUID:o.team,subject:T.keyResult,kind:4,period_uuid:o.currPeriod.uuid,parent_uuid:T.uuid};r.post(r.urls.team_okr_add.format(o.team),x).then(function(){d()})},h=T=>{var C,D;if(((D=(C=o.currPeriod)==null?void 0:C.uuid)==null?void 0:D.length)!==8||!T.subject)return;let x={subject:T.subject,uuid:T.uuid};r.post(r.urls.team_okr_update.format(o.team),x).then(function(){r.bus.emit("alertSuccess","更新成功"),d()})},f=T=>{if(T.unlocked&&(T==null?void 0:T.uuid.length)!==8)return;let x={progress:T.progress,uuid:T.uuid};r.post(r.urls.user_okr_progress_update.format(o.team),x).then(function(){r.bus.emit("alertSuccess","更新成功"),d()})},g=()=>{o.selectedOkr&&r.post(r.urls.team_okr_delete.format(o.team,o.selectedOkr)).then(function(T){T.data.code===200&&d()}).catch(function(T){r.bus.emit("alertDanger",T.response.data.error)})},y=(T,x)=>{o.selectedOkr=T,o.selectedOkrSubject=x},k=T=>{o.currPeriod=T,d()};const v=()=>{let T=[];for(let x=0;x<o.objectives.length;x++){let D={uuid:o.objectives[x].uuid,position:x+1};T.push(D)}return r.post(r.urls.team_objective_sort.format(o.team),{period_uuid:o.currPeriod.uuid,objectives:T}).then(function(x){x.data.code===200&&(r.bus.emit("alertSuccess","更新成功"),d())}).catch(function(x){r.bus.emit("alertDanger",x.response.data.error)}),!0},A=T=>{let x=[];for(let C=0;C<o.objectives.length;C++){let D=o.objectives[C];if(D.uuid===T.moved.element.parent_uuid){for(let S=0;S<D.keys.length;S++){let B={uuid:D.keys[S].uuid,position:S+1};x.push(B)}break}}return r.post(r.urls.team_key_result_sort.format(o.team),{period_uuid:o.currPeriod.uuid,objectives:x}).then(function(C){C.data.code===200&&(r.bus.emit("alertSuccess","更新成功"),d())}).catch(function(C){r.bus.emit("alertDanger",C.response.data.error)}),!0};return(T,x)=>(F(),U(xe,null,[b("div",Mte,[b("div",Pte,[ue(M6,{"curr-period":P(o).currPeriod,periods:P(o).periods,onSelect:P(k)},null,8,["curr-period","periods","onSelect"]),Ote,b("div",Bte,[ue(Pn,{placeholder:"搜索目标内容"})])]),b("div",Lte,[ue(P(dd),{list:P(o).objectives,"ghost-class":"ghost","chosen-class":"chosenClass",handle:".move",filter:".forbid",animation:"300",group:"objectives",onChange:v,itemKey:"uuid"},{item:qe(({element:C})=>[b("div",Rte,[b("div",Nte,[b("div",$te,[jte,C.unlocked&&C.editing&&C.kind===3?(F(),U("div",zte,[ct(b("input",{ref:C.uuid,type:"text","onUpdate:modelValue":D=>C.subject=D,class:"form-control",onChange:D=>{P(h)(C)},onBlur:D=>{C.editing=!1}},null,40,Fte),[[gt,C.subject]])])):C.unlocked&&C.kind===3?(F(),U("div",{key:1,title:"点击可以编辑内容",class:"d-flex align-items-center ms-2 pointer",onClick:D=>{C.editing=!0,T.$nextTick(()=>{T.$refs[C.uuid].focus()})}},_e(C.subject),9,Vte)):(F(),U("div",Ute,_e(C.subject),1))]),b("div",Hte,[b("div",{class:"progress-bar progress-bar-striped bg-warning fs-c7",role:"progressbar",style:Vn("width:"+C.progress+"%"),"aria-valuemax":"100"},null,4)]),b("div",Wte,_e(C.progress)+"% ",1),C.unlocked&&C.kind===3?(F(),U("div",{key:0,class:"d-flex align-items-center ms-2 pointer color-hover","data-bs-toggle":"modal","data-bs-target":"#delOkrModal",onClick:D=>P(y)(C.uuid,C.subject),style:{width:"15px"}},Yte,8,Gte)):(F(),U("div",qte,Qte))]),b("div",Jte,[ue(P(dd),{list:C.keys,"ghost-class":"ghost","chosen-class":"chosenClass",handle:".move",filter:".forbid",animation:"300",group:C.uuid,onChange:A,itemKey:"uuid"},{item:qe(({element:D})=>[b("div",{class:"d-flex flex-fill align-items-center",id:C.uuid},[b("div",ene,[b("div",tne,[nne,C.unlocked&&D.editing?(F(),U("div",ine,[ct(b("input",{ref:D.uuid,type:"text","onUpdate:modelValue":S=>D.subject=S,class:"form-control",onChange:S=>{P(h)(D)},onBlur:S=>{D.editing=!1}},null,40,one),[[gt,D.subject]])])):C.unlocked?(F(),U("div",{key:1,title:"点击击可以编辑内容",class:"ms-2 pointer",onClick:S=>{D.editing=!0,T.$nextTick(()=>{T.$refs[D.uuid].focus()})}},_e(D.subject),9,rne)):(F(),U("div",sne,_e(D.subject),1))]),b("div",ane,[lne,b("div",cne,[ct(b("input",{type:"range","onUpdate:modelValue":S=>D.progress=S,class:"form-range",min:"0",max:"100",step:"1",disabled:!C.unlocked,onChange:S=>P(f)(D)},null,40,dne),[[gt,D.progress,void 0,{number:!0}]])]),b("div",une,_e(D.progress)+"% ",1),C.unlocked?(F(),U("div",{key:0,class:"d-flex align-items-center ms-2 pointer color-hover","data-bs-toggle":"modal","data-bs-target":"#delOkrModal",onClick:S=>P(y)(D.uuid,D.subject),style:{width:"15px"}},pne,8,hne)):(F(),U("div",mne,_ne))])])],8,Xte)]),_:2},1032,["list","group"]),b("div",bne,[C.edit?(F(),U("div",vne,[b("div",kne,[ct(b("input",{"onUpdate:modelValue":D=>C.keyResult=D,class:"form-control"},null,8,wne),[[gt,C.keyResult]])]),b("div",yne,[b("button",{type:"button",class:"btn btn-secondary",onClick:D=>{C.edit=!1}},"取消",8,Cne),b("button",{type:"button",class:"btn btn-primary ms-4",onClick:D=>P(u)(C)},"添加",8,Ane)])])):(F(),U("div",{key:1,class:"d-flex align-items-center mx-3 color-hover pointer",onClick:D=>{C.edit=!0},style:{height:"40px"}},[Sne,rt(" 添加关键成果 ")],8,xne)),b("div",Ene,[C.unlocked?(F(),U("div",{key:0,class:"color-hover pointer",onClick:D=>{C.unlocked=!1,P(o).editOkrUUID=""}},[Tne,rt(" 取消 ")],8,Dne)):(F(),U("div",{key:1,class:"color-hover pointer",onClick:D=>{C.unlocked=!0,P(o).editOkrUUID=C.uuid}},[Mne,rt(" 编辑 ")],8,Ine))])])])])]),_:1},8,["list"])])]),ue(qo,{desc:P(o).selectedOkrSubject,onSubmit:P(g),id:"delOkrModal"},null,8,["desc","onSubmit"])],64))}};const One=i=>(Kt("data-v-d8fd3c16"),i=i(),Yt(),i),Bne={class:"flex-row flex flex-fill"},Lne={class:"flex-row flex assign align-items-center py-2 pe-4 pointer","data-bs-toggle":"dropdown","data-bs-offset":"0,2"},Rne=["src"],Nne={style:{"margin-left":"10px"},class:"flex-column flex"},$ne={class:"text-start color-main text-truncate"},jne=One(()=>b("div",{class:"color-light text-start mt-1 fs-8 text-truncate"},"负责人",-1)),zne={class:"dropdown-menu jiBox",style:{"overflow-y":"auto","overflow-x":"hidden",position:"relative"}},Fne={style:{"max-height":"234px","overflow-y":"auto","overflow-x":"hidden"}},Vne={__name:"assign",props:{user:Object,projectMembers:Array},setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ve({team:l.params.team,project:l.params.project});Ue(()=>{});let d=m=>{let u={uuid:m};r.post(r.urls.project_change_assign.format(o.team,o.project),u).then(function(h){h.data.code===200&&(r.bus.emit("alertSuccess","更新成功"),r.bus.emit("updateProjectInfo",o.project))}).catch(function(h){r.bus.emit("alertDanger",h.response.data.error)})};return(m,u)=>(F(),U("div",Bne,[b("div",Lne,[b("div",null,[b("img",{src:i.user.avatar,style:{height:"30px",width:"30px","border-radius":"30px"}},null,8,Rne)]),b("div",Nne,[b("div",$ne,_e(i.user.name),1),jne])]),b("div",zne,[ue(Pn,{class:"px-2 pb-2",placeholder:"搜索项目负责人"}),b("div",Fne,[(F(!0),U(xe,null,Xe(i.projectMembers,h=>(F(),U("div",{class:"mt-2",key:h.uuid},[ue(_r,{onSubmit:P(d),class:"px-2 py-1 status-item",user:h,selected:h.uuid===i.user.uuid,hasEmail:!0},null,8,["onSubmit","user","selected"])]))),128))])])]))}},Une=Tt(Vne,[["__scopeId","data-v-d8fd3c16"]]);const yf=i=>(Kt("data-v-1fcb5084"),i=i(),Yt(),i),Hne={class:"flex-row flex align-items-center h-100 pointer"},Wne=yf(()=>b("i",{class:"bi bi-chevron-expand"},null,-1)),Gne={class:"dropdown-menu jiBox",style:{"max-height":"234px","overflow-y":"auto","overflow-x":"hidden"}},Kne=yf(()=>b("div",{class:"pb-2 px-2 border-bottom"},"更改项目状态",-1)),Yne=["onClick"],qne={key:0,class:"flex-row flex flex-fill align-items-center"},Zne=yf(()=>b("div",{style:{flex:"1","min-width":"50px"}},null,-1)),Qne=yf(()=>b("div",{style:{flex:"0 0 auto",display:"flex","align-items":"center","text-align":"right"}},[b("i",{class:"bi bi-check"})],-1)),Jne=[Zne,Qne],Xne={__name:"change_status",props:{team:String,project:String,name:String,color:String},setup(i){const r=i,{proxy:l}=Ke();at(),tt();let o=Ve({statuses:[{uuid:"to_do",name:"未开始"},{uuid:"in_progress",name:"进行中"},{uuid:"done",name:"已完成"}]}),d=h=>{let f={category:h};l.post(l.urls.project_change_status.format(r.team,r.project),f).then(function(g){g.data.code===200&&(l.bus.emit("alertSuccess","更新成功"),l.bus.emit("updateProjectInfo",r.project))}).catch(function(g){l.bus.emit("alertDanger",g.response.data.error)})},m=Ge(()=>{let h=r.name;switch(r.name){case"1":case"to_do":h="未开始";break;case"2":case"in_progress":h="进行中";break;case"3":case"done":h="已完成";break}return h}),u=Ge(()=>{let h=r.color;switch(r.color){case"1":h="to_do";break;case"2":h="in_progress";break;case"3":h="done";break}return h});return(h,f)=>(F(),U("div",Hne,[b("div",{class:je(["status",P(u)]),"data-bs-toggle":"dropdown","data-bs-offset":"0,2"},[rt(_e(P(m))+" ",1),Wne],2),b("div",Gne,[Kne,(F(!0),U(xe,null,Xe(P(o).statuses,g=>(F(),U("div",{key:g.uuid},[b("div",{onClick:y=>P(d)(g.uuid),class:je(["status-item flex-row flex align-items-center p-2",{selected:P(u)===g.uuid}])},[b("div",null,_e(g.name),1),P(u)===g.uuid?(F(),U("div",qne,Jne)):ve("",!0)],10,Yne)]))),128))])]))}},eie=Tt(Xne,[["__scopeId","data-v-1fcb5084"]]);const kr=i=>(Kt("data-v-a9dde0dc"),i=i(),Yt(),i),tie={class:"flex-fill"},nie={class:"flex-row flex flex-fill align-items-center"},iie={style:{flex:"1"},class:"flex-row flex align-items-center"},oie=kr(()=>b("div",{class:"fs-c10"},"项目进度",-1)),rie={class:"progress flex-fill mx-3",style:{height:"28px"}},sie={style:{flex:"0 0 auto"}},aie={class:"flex-row flex justify-content-between shadow-sm mt-4 jiBox task-stat"},lie={class:"task-stat-item"},cie={class:"flex-column flex"},die=kr(()=>b("div",{class:"task-stat-icon"},[b("svg",{t:"1602158573955",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"27927",width:"30",height:"30"},[b("path",{d:"M512.718 1.549C230.377 1.549 1.494 230.432 1.494 512.774S230.377 1024 512.718 1024s511.224-228.884 511.224-511.226S795.06 1.55 512.718 1.55z m0 971.325c-254.108 0-460.102-205.996-460.102-460.102S258.61 52.67 512.718 52.67 972.82 258.665 972.82 512.772 766.826 972.874 512.718 972.874z m232.06-496.332c-79.556-54.133-223.815-135.157-305.959-185.36-33.678-21.239-61.996-12.71-64.717 24.8-1.971 100.468 0 294.317 0 396.523 1.711 38.08 35.282 43.102 64.419 27.812 82.05-49.71 223.071-135.147 305.536-185.11-0.54-0.327 62.614-35.06 0.72-78.665z","p-id":"27928",fill:"#1296db"})])],-1)),uie={class:"task-stat-body flex-column flex align-items-center"},hie={class:"task-stat-count"},fie=kr(()=>b("div",{class:"color-light"},"未开始",-1)),pie={class:"task-stat-item"},mie={class:"flex-column flex"},gie=kr(()=>b("div",{class:"task-stat-icon"},[b("svg",{t:"1602158832799",class:"icon",viewBox:"0 0 1098 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"29074",width:"30",height:"30"},[b("path",{d:"M549.47 851.316c-38.634 0-69.82-31.185-69.82-69.818V184.32c0-38.633 31.186-69.818 69.82-69.818s69.817 31.185 69.817 69.818v596.945c0 38.633-31.185 70.051-69.818 70.051z m239.708-186.181c-38.633 0-69.818-31.186-69.818-69.819V370.27c0-38.633 31.185-69.818 69.818-69.818s69.818 31.185 69.818 69.818v225.047c0 38.633-31.185 69.819-69.818 69.819z m239.942-31.884c-38.633 0-69.818-31.186-69.818-69.818V402.385c0-38.632 31.185-69.818 69.818-69.818s69.818 31.186 69.818 69.818v161.048c0 38.632-31.185 69.818-69.818 69.818z m-719.36 31.884c-38.633 0-69.818-31.186-69.818-69.819V370.27c0-38.633 31.185-69.818 69.818-69.818s69.818 31.185 69.818 69.818v225.047c0 38.633-31.418 69.819-69.818 69.819zM69.818 633.25C31.185 633.25 0 602.065 0 563.433V402.385c0-38.632 31.185-69.818 69.818-69.818s69.818 31.186 69.818 69.818v161.048c0 38.632-31.185 69.818-69.818 69.818z","p-id":"29075",fill:"#d4237a"})])],-1)),_ie={class:"task-stat-body flex-column flex align-items-center"},bie={class:"task-stat-count"},vie=kr(()=>b("div",{class:"color-light"},"进行中",-1)),kie={class:"task-stat-item"},wie={class:"flex-column flex"},yie=kr(()=>b("div",{class:"task-stat-icon"},[b("svg",{t:"1602158959005",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"30986",width:"30",height:"30"},[b("path",{d:"M512 0C230.4 0 0 230.4 0 512s230.4 512 512 512 512-230.4 512-512S793.6 0 512 0z m273.066667 388.266667l-298.666667 298.666666c-21.333333 21.333333-59.733333 21.333333-81.066667 0l-170.666666-166.4c-21.333333-21.333333-21.333333-59.733333 0-81.066666s59.733333-21.333333 81.066666 0l123.733334 123.733333 260.266666-256c21.333333-21.333333 59.733333-21.333333 81.066667 0 29.866667 21.333333 29.866667 64 4.266667 81.066667z",fill:"#3FC591","p-id":"30987"})])],-1)),Cie={class:"task-stat-body flex-column flex align-items-center"},Aie={class:"task-stat-count"},xie=kr(()=>b("div",{class:"color-light"},"已完成",-1)),Sie={class:"flex-row flex flex-fill mt-4"},Eie={class:"flex-fill w-50 p-4 jiBox shadow-sm"},Die=kr(()=>b("div",{class:"fs-c10"}," 项目简介 ",-1)),Tie={style:{"padding-top":"10px","min-height":"200px"}},Iie={class:"project-overview-time flex-row flex"},Mie={class:"flex-fill me-2"},Pie={class:"flex-fill py-2"},Oie=kr(()=>b("div",{class:"color-main"},"计划时间",-1)),Bie={class:"flex-row flex align-item-center pointer field-cell-time field-edit"},Lie={class:"project-overview-member"},Rie=kr(()=>b("div",{class:"fs-c10"},"项目成员：",-1)),Nie={class:"flex-row flex pt-2"},$ie=Po('<div style="width:1.5rem;" data-v-a9dde0dc></div><div class="flex-column flex flex-fill w-50 jiBox p-4 shadow-sm" data-v-a9dde0dc><div class="fs-c10" data-v-a9dde0dc>工作项类型统计</div><div class="pt-3" style="height:420px;" data-v-a9dde0dc><canvas id="projectChart" data-v-a9dde0dc></canvas></div></div>',2),jie={class:"flex-row flex flex-fill mt-4 text-grey",style:{overflow:"hidden"}},zie={ref:"recordDiv",class:"flex-row flex flex-fill text-grey owl-h",style:{"overflow-x":"scroll","margin-bottom":"-10px","overflow-y":"hidden",cursor:"grab"},onmousedown:"this.style.cursor='grabbing';",onmouseup:"this.style.cursor='grab';"},Fie={class:"d-flex flex-fill align-items-center justify-content-center"},Vie={class:"pb-2 fs-c9"},Uie={class:"d-flex flex-row align-items-center w-100 pt-2"},Hie={class:"flex-row flex flex-fill align-items-center"},Wie={__name:"com00000",setup(i){const{proxy:r}=Ke();at();let l=tt();const o=et();let d=Ve({team:l.params.team,project:l.params.project,notice:"",oldNotice:"",chartData:{labels:["需求","任务","缺陷"],datasets:[{label:"未开始",barPercentage:.6,backgroundColor:"rgba(255, 99, 132, 0.5)"},{label:"进行中",barPercentage:.6,backgroundColor:"rgba(54, 162, 235, 0.5)"},{label:"已完成",barPercentage:.6,backgroundColor:"rgba(255, 206, 86, 0.5)"}]},members:[],projectRecordList:[]});const m=rn("project"),u=rn("projectRecord");let h={type:"bar",data:null,options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{stacked:!0},y:{beginAtZero:!0,stacked:!0}}}},f=null;Ue(()=>{r.bus.emit("updateProjectInfo",d.project),y(),g(),f=new Chart(document.getElementById("projectChart"),h),T(r.$refs.recordDiv)});let g=()=>{r.post(r.urls.project_members.format(d.team,d.project)).then(function(x){d.members=x.data})},y=()=>{let x=r.urls.project_status_list.format(d.team,d.project);r.get(x).then(function(C){d.chartData.labels=C.data.labels,d.chartData.datasets[0].data=C.data.datas[0],d.chartData.datasets[1].data=C.data.datas[1],d.chartData.datasets[2].data=C.data.datas[2],f.data=d.chartData,f.update()})},k=()=>{if(o.value){let x=o.value;if(x.length===2){let C={plan_start_time:x[0].getTime(),plan_end_time:x[1].getTime()};r.post(r.urls.project_plan_update.format(d.team,d.project),C).then(function(D){D.data.code===200&&(r.bus.emit("alertSuccess","更新成功"),r.bus.emit("updateProjectInfo",d.project))}).catch(function(D){r.bus.emit("alertDanger",D.response.data.error)})}}};Bt(()=>m.value,()=>{d.notice=m.value.notice,d.oldNotice=m.value.notice,v()});let v=()=>{!m.value.plan_start_time&&!m.value.plan_end_time?o.value=null:o.value=[m.value.plan_start_time,m.value.plan_end_time]},A=()=>{if(d.notice&&d.oldNotice!==d.notice){let x={notice:d.notice};r.post(r.urls.project_notice_save.format(d.team,d.project),x).then(function(C){C.data.code===200&&(d.oldNotice=d.notice,r.bus.emit("alertSuccess","更新成功"),r.bus.emit("updateProjectInfo",d.project))}).catch(function(C){r.bus.emit("alertDanger",C.response.data.error)})}},T=x=>{let C,D,S;x.addEventListener("mousedown",function(M){C=!0,D=M.clientX,S=this.scrollLeft}),x.addEventListener("mousemove",function(M){if(C){let R=M.clientX-D;this.scrollLeft=S-R}}),x.addEventListener("mouseup",function(){C=!1}),x.addEventListener("mouseleave",function(M){C=!1})};return(x,C)=>{const D=Ht("VueDatePicker");return F(),U("div",tie,[b("div",nie,[b("div",iie,[oie,b("div",rie,[b("div",{class:"progress-bar progress-bar-striped bg-warning fs-c9",role:"progressbar",style:Vn("width:"+P(m).progressRate+"%"),"aria-valuemax":"100"},_e(P(m).progressRate)+"%",5)]),b("div",sie,[ue(eie,{name:P(m).status_uuid,style:{"margin-left":"5px"},color:P(m).status_uuid,team:P(d).team,project:P(m).uuid},null,8,["name","color","team","project"])])])]),b("div",aie,[b("div",lie,[b("div",cie,[die,b("div",uie,[b("div",hie,_e(P(m).to_do_count),1),fie])])]),b("div",pie,[b("div",mie,[gie,b("div",_ie,[b("div",bie,_e(P(m).in_progress_count),1),vie])])]),b("div",kie,[b("div",wie,[yie,b("div",Cie,[b("div",Aie,_e(P(m).done_count),1),xie])])])]),b("div",Sie,[b("div",Eie,[Die,b("div",Tie,[ct(b("textarea",{class:"form-control border-white flex flex-fill",style:{"min-height":"185px",resize:"none",color:"#98a6ad"},"onUpdate:modelValue":C[0]||(C[0]=S=>P(d).notice=S),onBlur:C[1]||(C[1]=(...S)=>P(A)&&P(A)(...S))},null,544),[[gt,P(d).notice]])]),b("div",Iie,[b("div",Mie,[ue(Une,{user:P(m).assign,projectMembers:P(d).members},null,8,["user","projectMembers"])]),b("div",Pie,[Oie,b("div",Bie,[ue(D,{modelValue:o.value,"onUpdate:modelValue":[C[2]||(C[2]=S=>o.value=S),P(k)],"enable-time-picker":!1,clearable:!1,range:"","multi-calendars":""},null,8,["modelValue","onUpdate:modelValue"])])])]),b("div",Lie,[Rie,b("div",Nie,[(F(!0),U(xe,null,Xe(P(d).members,S=>(F(),lt(pX,{pic:S.avatar,key:S.uuid},null,8,["pic"]))),128))])])]),$ie]),ct(b("div",jie,[b("div",zie,[(F(!0),U(xe,null,Xe(P(u),(S,M)=>(F(),U("div",{key:M,class:"d-flex flex-column align-items-center jiBox p-3 bg-white shadow-sm",style:{height:"150px",flex:"0 0 200px"}},[b("div",Fie,[b("div",Vie,_e(S.action_type),1)]),b("div",Uie,[b("div",Hie,[ue(Dl,{user:S},null,8,["user"])]),b("div",null,_e(x.filters.timeFormat(S.date)),1)])]))),128))],512)],512),[[fr,P(u)&&P(u).length>0]])])}}},_5=Tt(Wie,[["__scopeId","data-v-a9dde0dc"]]),Gie=FF("task",{state:()=>({has:!0})});var Lh={exports:{}};Lh.exports;(function(i,r){(function(l){const o=l.en=l.en||{};o.dictionary=Object.assign(o.dictionary||{},{"%0 of %1":"%0 of %1",Accept:"Accept","Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align center":"Align center","Align left":"Align left","Align right":"Align right","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Aquamarine:"Aquamarine",Background:"Background",Big:"Big",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold",Border:"Border","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Cannot access default workspace.":"Cannot access default workspace.","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Cell properties":"Cell properties","Center table":"Center table","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Code:"Code",Color:"Color","Color picker":"Color picker",Column:"Column","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.",Dashed:"Dashed",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent",Default:"Default","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Dimensions:"Dimensions",Disc:"Disc","Document colors":"Document colors",Dotted:"Dotted",Double:"Double",Downloadable:"Downloadable","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor editing area: %0":"Editor editing area: %0","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Enter table caption":"Enter table caption","Font Background Color":"Font Background Color","Font Color":"Font Color","Font Family":"Font Family","Font Size":"Font Size","Full size image":"Full size image",Green:"Green",Grey:"Grey",Groove:"Groove","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Height:"Height",HEX:"HEX","Horizontal text alignment toolbar":"Horizontal text alignment toolbar",Huge:"Huge","Image resize list":"Image resize list","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line","Increase indent":"Increase indent",Insert:"Insert","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image or file":"Insert image or file","Insert image via URL":"Insert image via URL","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Inserting image failed":"Inserting image failed",Inset:"Inset",Italic:"Italic",Justify:"Justify","Justify cell text":"Justify cell text","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","List properties":"List properties","Lower-latin":"Lower-latin","Lower–roman":"Lower–roman","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next",None:"None","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab",Orange:"Orange",Original:"Original",Outset:"Outset",Padding:"Padding",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Resize image":"Resize image","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Restore default":"Restore default","Reversed order":"Reversed order","Rich Text Editor":"Rich Text Editor","Rich Text Editor. Editing area: %0":"Rich Text Editor. Editing area: %0",Ridge:"Ridge","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Show more items":"Show more items","Side image":"Side image",Small:"Small",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough",Style:"Style",Subscript:"Subscript",Superscript:"Superscript","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar","Text alignment":"Text alignment","Text alignment toolbar":"Text alignment toolbar","Text alternative":"Text alternative",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',"The URL must not be empty.":"The URL must not be empty.",'The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.",Tiny:"Tiny","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lower–latin list style":"Toggle the lower–latin list style","Toggle the lower–roman list style":"Toggle the lower–roman list style","Toggle the square list style":"Toggle the square list style","Toggle the upper–latin list style":"Toggle the upper–latin list style","Toggle the upper–roman list style":"Toggle the upper–roman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload in progress":"Upload in progress","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman","Vertical text alignment toolbar":"Vertical text alignment toolbar",White:"White","Widget toolbar":"Widget toolbar",Width:"Width","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(l,o){i.exports=o()}(self,()=>(()=>{var l={4959:(u,h,f)=>{const g=f(1103),y={};for(const v of Object.keys(g))y[g[v]]=v;const k={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};u.exports=k;for(const v of Object.keys(k)){if(!("channels"in k[v]))throw new Error("missing channels property: "+v);if(!("labels"in k[v]))throw new Error("missing channel labels property: "+v);if(k[v].labels.length!==k[v].channels)throw new Error("channel and label counts mismatch: "+v);const{channels:A,labels:T}=k[v];delete k[v].channels,delete k[v].labels,Object.defineProperty(k[v],"channels",{value:A}),Object.defineProperty(k[v],"labels",{value:T})}k.rgb.hsl=function(v){const A=v[0]/255,T=v[1]/255,x=v[2]/255,C=Math.min(A,T,x),D=Math.max(A,T,x),S=D-C;let M,B;D===C?M=0:A===D?M=(T-x)/S:T===D?M=2+(x-A)/S:x===D&&(M=4+(A-T)/S),M=Math.min(60*M,360),M<0&&(M+=360);const R=(C+D)/2;return B=D===C?0:R<=.5?S/(D+C):S/(2-D-C),[M,100*B,100*R]},k.rgb.hsv=function(v){let A,T,x,C,D;const S=v[0]/255,M=v[1]/255,B=v[2]/255,R=Math.max(S,M,B),L=R-Math.min(S,M,B),j=function(N){return(R-N)/6/L+.5};return L===0?(C=0,D=0):(D=L/R,A=j(S),T=j(M),x=j(B),S===R?C=x-T:M===R?C=.3333333333333333+A-x:B===R&&(C=.6666666666666666+T-A),C<0?C+=1:C>1&&(C-=1)),[360*C,100*D,100*R]},k.rgb.hwb=function(v){const A=v[0],T=v[1];let x=v[2];const C=k.rgb.hsl(v)[0],D=1/255*Math.min(A,Math.min(T,x));return x=1-.00392156862745098*Math.max(A,Math.max(T,x)),[C,100*D,100*x]},k.rgb.cmyk=function(v){const A=v[0]/255,T=v[1]/255,x=v[2]/255,C=Math.min(1-A,1-T,1-x);return[100*((1-A-C)/(1-C)||0),100*((1-T-C)/(1-C)||0),100*((1-x-C)/(1-C)||0),100*C]},k.rgb.keyword=function(v){const A=y[v];if(A)return A;let T,x=1/0;for(const S of Object.keys(g)){const M=g[S],B=(D=M,((C=v)[0]-D[0])**2+(C[1]-D[1])**2+(C[2]-D[2])**2);B<x&&(x=B,T=S)}var C,D;return T},k.keyword.rgb=function(v){return g[v]},k.rgb.xyz=function(v){let A=v[0]/255,T=v[1]/255,x=v[2]/255;return A=A>.04045?((A+.055)/1.055)**2.4:A/12.92,T=T>.04045?((T+.055)/1.055)**2.4:T/12.92,x=x>.04045?((x+.055)/1.055)**2.4:x/12.92,[100*(.4124*A+.3576*T+.1805*x),100*(.2126*A+.7152*T+.0722*x),100*(.0193*A+.1192*T+.9505*x)]},k.rgb.lab=function(v){const A=k.rgb.xyz(v);let T=A[0],x=A[1],C=A[2];return T/=95.047,x/=100,C/=108.883,T=T>.008856?T**.3333333333333333:7.787*T+.13793103448275862,x=x>.008856?x**.3333333333333333:7.787*x+.13793103448275862,C=C>.008856?C**.3333333333333333:7.787*C+.13793103448275862,[116*x-16,500*(T-x),200*(x-C)]},k.hsl.rgb=function(v){const A=v[0]/360,T=v[1]/100,x=v[2]/100;let C,D,S;if(T===0)return S=255*x,[S,S,S];C=x<.5?x*(1+T):x+T-x*T;const M=2*x-C,B=[0,0,0];for(let R=0;R<3;R++)D=A+.3333333333333333*-(R-1),D<0&&D++,D>1&&D--,S=6*D<1?M+6*(C-M)*D:2*D<1?C:3*D<2?M+(C-M)*(.6666666666666666-D)*6:M,B[R]=255*S;return B},k.hsl.hsv=function(v){const A=v[0];let T=v[1]/100,x=v[2]/100,C=T;const D=Math.max(x,.01);return x*=2,T*=x<=1?x:2-x,C*=D<=1?D:2-D,[A,100*(x===0?2*C/(D+C):2*T/(x+T)),100*((x+T)/2)]},k.hsv.rgb=function(v){const A=v[0]/60,T=v[1]/100;let x=v[2]/100;const C=Math.floor(A)%6,D=A-Math.floor(A),S=255*x*(1-T),M=255*x*(1-T*D),B=255*x*(1-T*(1-D));switch(x*=255,C){case 0:return[x,B,S];case 1:return[M,x,S];case 2:return[S,x,B];case 3:return[S,M,x];case 4:return[B,S,x];case 5:return[x,S,M]}},k.hsv.hsl=function(v){const A=v[0],T=v[1]/100,x=v[2]/100,C=Math.max(x,.01);let D,S;S=(2-T)*x;const M=(2-T)*C;return D=T*C,D/=M<=1?M:2-M,D=D||0,S/=2,[A,100*D,100*S]},k.hwb.rgb=function(v){const A=v[0]/360;let T=v[1]/100,x=v[2]/100;const C=T+x;let D;C>1&&(T/=C,x/=C);const S=Math.floor(6*A),M=1-x;D=6*A-S,1&S&&(D=1-D);const B=T+D*(M-T);let R,L,j;switch(S){default:case 6:case 0:R=M,L=B,j=T;break;case 1:R=B,L=M,j=T;break;case 2:R=T,L=M,j=B;break;case 3:R=T,L=B,j=M;break;case 4:R=B,L=T,j=M;break;case 5:R=M,L=T,j=B}return[255*R,255*L,255*j]},k.cmyk.rgb=function(v){const A=v[0]/100,T=v[1]/100,x=v[2]/100,C=v[3]/100;return[255*(1-Math.min(1,A*(1-C)+C)),255*(1-Math.min(1,T*(1-C)+C)),255*(1-Math.min(1,x*(1-C)+C))]},k.xyz.rgb=function(v){const A=v[0]/100,T=v[1]/100,x=v[2]/100;let C,D,S;return C=3.2406*A+-1.5372*T+-.4986*x,D=-.9689*A+1.8758*T+.0415*x,S=.0557*A+-.204*T+1.057*x,C=C>.0031308?1.055*C**.4166666666666667-.055:12.92*C,D=D>.0031308?1.055*D**.4166666666666667-.055:12.92*D,S=S>.0031308?1.055*S**.4166666666666667-.055:12.92*S,C=Math.min(Math.max(0,C),1),D=Math.min(Math.max(0,D),1),S=Math.min(Math.max(0,S),1),[255*C,255*D,255*S]},k.xyz.lab=function(v){let A=v[0],T=v[1],x=v[2];return A/=95.047,T/=100,x/=108.883,A=A>.008856?A**.3333333333333333:7.787*A+.13793103448275862,T=T>.008856?T**.3333333333333333:7.787*T+.13793103448275862,x=x>.008856?x**.3333333333333333:7.787*x+.13793103448275862,[116*T-16,500*(A-T),200*(T-x)]},k.lab.xyz=function(v){let A,T,x;T=(v[0]+16)/116,A=v[1]/500+T,x=T-v[2]/200;const C=T**3,D=A**3,S=x**3;return T=C>.008856?C:(T-.13793103448275862)/7.787,A=D>.008856?D:(A-.13793103448275862)/7.787,x=S>.008856?S:(x-.13793103448275862)/7.787,A*=95.047,T*=100,x*=108.883,[A,T,x]},k.lab.lch=function(v){const A=v[0],T=v[1],x=v[2];let C;return C=360*Math.atan2(x,T)/2/Math.PI,C<0&&(C+=360),[A,Math.sqrt(T*T+x*x),C]},k.lch.lab=function(v){const A=v[0],T=v[1],x=v[2]/360*2*Math.PI;return[A,T*Math.cos(x),T*Math.sin(x)]},k.rgb.ansi16=function(v,A=null){const[T,x,C]=v;let D=A===null?k.rgb.hsv(v)[2]:A;if(D=Math.round(D/50),D===0)return 30;let S=30+(Math.round(C/255)<<2|Math.round(x/255)<<1|Math.round(T/255));return D===2&&(S+=60),S},k.hsv.ansi16=function(v){return k.rgb.ansi16(k.hsv.rgb(v),v[2])},k.rgb.ansi256=function(v){const A=v[0],T=v[1],x=v[2];return A===T&&T===x?A<8?16:A>248?231:Math.round((A-8)/247*24)+232:16+36*Math.round(A/255*5)+6*Math.round(T/255*5)+Math.round(x/255*5)},k.ansi16.rgb=function(v){let A=v%10;if(A===0||A===7)return v>50&&(A+=3.5),A=A/10.5*255,[A,A,A];const T=.5*(1+~~(v>50));return[(1&A)*T*255,(A>>1&1)*T*255,(A>>2&1)*T*255]},k.ansi256.rgb=function(v){if(v>=232){const T=10*(v-232)+8;return[T,T,T]}let A;return v-=16,[Math.floor(v/36)/5*255,Math.floor((A=v%36)/6)/5*255,A%6/5*255]},k.rgb.hex=function(v){const A=(((255&Math.round(v[0]))<<16)+((255&Math.round(v[1]))<<8)+(255&Math.round(v[2]))).toString(16).toUpperCase();return"000000".substring(A.length)+A},k.hex.rgb=function(v){const A=v.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!A)return[0,0,0];let T=A[0];A[0].length===3&&(T=T.split("").map(C=>C+C).join(""));const x=parseInt(T,16);return[x>>16&255,x>>8&255,255&x]},k.rgb.hcg=function(v){const A=v[0]/255,T=v[1]/255,x=v[2]/255,C=Math.max(Math.max(A,T),x),D=Math.min(Math.min(A,T),x),S=C-D;let M,B;return M=S<1?D/(1-S):0,B=S<=0?0:C===A?(T-x)/S%6:C===T?2+(x-A)/S:4+(A-T)/S,B/=6,B%=1,[360*B,100*S,100*M]},k.hsl.hcg=function(v){const A=v[1]/100,T=v[2]/100,x=T<.5?2*A*T:2*A*(1-T);let C=0;return x<1&&(C=(T-.5*x)/(1-x)),[v[0],100*x,100*C]},k.hsv.hcg=function(v){const A=v[1]/100,T=v[2]/100,x=A*T;let C=0;return x<1&&(C=(T-x)/(1-x)),[v[0],100*x,100*C]},k.hcg.rgb=function(v){const A=v[0]/360,T=v[1]/100,x=v[2]/100;if(T===0)return[255*x,255*x,255*x];const C=[0,0,0],D=A%1*6,S=D%1,M=1-S;let B=0;switch(Math.floor(D)){case 0:C[0]=1,C[1]=S,C[2]=0;break;case 1:C[0]=M,C[1]=1,C[2]=0;break;case 2:C[0]=0,C[1]=1,C[2]=S;break;case 3:C[0]=0,C[1]=M,C[2]=1;break;case 4:C[0]=S,C[1]=0,C[2]=1;break;default:C[0]=1,C[1]=0,C[2]=M}return B=(1-T)*x,[255*(T*C[0]+B),255*(T*C[1]+B),255*(T*C[2]+B)]},k.hcg.hsv=function(v){const A=v[1]/100,T=A+v[2]/100*(1-A);let x=0;return T>0&&(x=A/T),[v[0],100*x,100*T]},k.hcg.hsl=function(v){const A=v[1]/100,T=v[2]/100*(1-A)+.5*A;let x=0;return T>0&&T<.5?x=A/(2*T):T>=.5&&T<1&&(x=A/(2*(1-T))),[v[0],100*x,100*T]},k.hcg.hwb=function(v){const A=v[1]/100,T=A+v[2]/100*(1-A);return[v[0],100*(T-A),100*(1-T)]},k.hwb.hcg=function(v){const A=v[1]/100,T=1-v[2]/100,x=T-A;let C=0;return x<1&&(C=(T-x)/(1-x)),[v[0],100*x,100*C]},k.apple.rgb=function(v){return[v[0]/65535*255,v[1]/65535*255,v[2]/65535*255]},k.rgb.apple=function(v){return[v[0]/255*65535,v[1]/255*65535,v[2]/255*65535]},k.gray.rgb=function(v){return[v[0]/100*255,v[0]/100*255,v[0]/100*255]},k.gray.hsl=function(v){return[0,0,v[0]]},k.gray.hsv=k.gray.hsl,k.gray.hwb=function(v){return[0,100,v[0]]},k.gray.cmyk=function(v){return[0,0,0,v[0]]},k.gray.lab=function(v){return[v[0],0,0]},k.gray.hex=function(v){const A=255&Math.round(v[0]/100*255),T=((A<<16)+(A<<8)+A).toString(16).toUpperCase();return"000000".substring(T.length)+T},k.rgb.gray=function(v){return[(v[0]+v[1]+v[2])/3/255*100]}},841:(u,h,f)=>{const g=f(4959),y=f(9325),k={};Object.keys(g).forEach(v=>{k[v]={},Object.defineProperty(k[v],"channels",{value:g[v].channels}),Object.defineProperty(k[v],"labels",{value:g[v].labels});const A=y(v);Object.keys(A).forEach(T=>{const x=A[T];k[v][T]=function(C){const D=function(...S){const M=S[0];if(M==null)return M;M.length>1&&(S=M);const B=C(S);if(typeof B=="object")for(let R=B.length,L=0;L<R;L++)B[L]=Math.round(B[L]);return B};return"conversion"in C&&(D.conversion=C.conversion),D}(x),k[v][T].raw=function(C){const D=function(...S){const M=S[0];return M==null?M:(M.length>1&&(S=M),C(S))};return"conversion"in C&&(D.conversion=C.conversion),D}(x)})}),u.exports=k},9325:(u,h,f)=>{const g=f(4959);function y(A){const T=function(){const C={},D=Object.keys(g);for(let S=D.length,M=0;M<S;M++)C[D[M]]={distance:-1,parent:null};return C}(),x=[A];for(T[A].distance=0;x.length;){const C=x.pop(),D=Object.keys(g[C]);for(let S=D.length,M=0;M<S;M++){const B=D[M],R=T[B];R.distance===-1&&(R.distance=T[C].distance+1,R.parent=C,x.unshift(B))}}return T}function k(A,T){return function(x){return T(A(x))}}function v(A,T){const x=[T[A].parent,A];let C=g[T[A].parent][A],D=T[A].parent;for(;T[D].parent;)x.unshift(T[D].parent),C=k(g[T[D].parent][D],C),D=T[D].parent;return C.conversion=x,C}u.exports=function(A){const T=y(A),x={},C=Object.keys(T);for(let D=C.length,S=0;S<D;S++){const M=C[S];T[M].parent!==null&&(x[M]=v(M,T))}return x}},1103:u=>{u.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},8603:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const A=v},3062:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const A=v},903:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CChCA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}

.ck.ck-clipboard-drop-target-line {
	position: absolute;
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border)
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: "";
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(var(--ck-clipboard-drop-target-dot-height) * -.5);

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}

.ck.ck-clipboard-drop-target-line {
	height: 0;
	border: 1px solid var(--ck-clipboard-drop-target-color);
	background: var(--ck-clipboard-drop-target-color);
	margin-top: -1px;
}
`],sourceRoot:""}]);const A=v},4717:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC5BC,qDAEC,6CAA8C,CAD9C,WAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	&::before {
		cursor: text;
		color: var(--ck-color-engine-placeholder-text);
	}
}
`],sourceRoot:""}]);const A=v},9315:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const A=v},6007:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck-content .text-tiny{font-size:.7em}.ck-content .text-small{font-size:.85em}.ck-content .text-big{font-size:1.4em}.ck-content .text-huge{font-size:1.8em}","",{version:3,sources:["webpack://./../ckeditor5-font/theme/fontsize.css"],names:[],mappings:"AAUC,uBACC,cACD,CAEA,wBACC,eACD,CAEA,sBACC,eACD,CAEA,uBACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* The values should be synchronized with the "FONT_SIZE_PRESET_UNITS" object in the "/src/fontsize/utils.js" file. */

/* Styles should be prefixed with the \`.ck-content\` class.
See https://github.com/ckeditor/ckeditor5/issues/6636 */
.ck-content {
	& .text-tiny {
		font-size: .7em;
	}

	& .text-small {
		font-size: .85em;
	}

	& .text-big {
		font-size: 1.4em;
	}

	& .text-huge {
		font-size: 1.8em;
	}
}
`],sourceRoot:""}]);const A=v},8733:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const A=v},3508:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image-inline.ck-widget_selected,.ck.ck-editor__editable .image.ck-widget_selected{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBAuBD,CAbC,uBAEC,aAAc,CAGd,aAAc,CAGd,cAAe,CAGf,cACD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAWA,2GACC,SAUD,CAHC,qEACC,YACD,CAOA,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}


	/*
	 * Make sure the selected inline image always stays on top of its siblings.
	 * See https://github.com/ckeditor/ckeditor5/issues/9108.
	 */
	& .image.ck-widget_selected {
		z-index: 1;
	}

	& .image-inline.ck-widget_selected {
		z-index: 1;

		/*
		 * Make sure the native browser selection style is not displayed.
		 * Inline image widgets have their own styles for the selected state and
		 * leaving this up to the browser is asking for a visual collision.
		 */
		& ::selection {
			display: none;
		}
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const A=v},2640:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,mDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAMD,CAGA,qEACC,iDACD,CAEA,sCACC,GACC,oEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highligted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	animation: ck-image-caption-highlight .6s ease-out;
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highligted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`],sourceRoot:""}]);const A=v},3535:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck.ck-image-insert__panel{padding:var(--ck-spacing-large)}.ck.ck-image-insert__ck-finder-button{border:1px solid #ccc;border-radius:var(--ck-border-radius);display:block;margin:var(--ck-spacing-standard) auto;width:100%}.ck.ck-splitbutton>.ck-file-dialog-button.ck-button{border:none;margin:0;padding:0}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsert.css"],names:[],mappings:"AAKA,2BACC,+BACD,CAEA,sCAIC,qBAAiC,CACjC,qCAAsC,CAJtC,aAAc,CAEd,sCAAuC,CADvC,UAID,CAGA,oDAGC,WAAY,CADZ,QAAS,CADT,SAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert__panel {
	padding: var(--ck-spacing-large);
}

.ck.ck-image-insert__ck-finder-button {
	display: block;
	width: 100%;
	margin: var(--ck-spacing-standard) auto;
	border: 1px solid hsl(0, 0%, 80%);
	border-radius: var(--ck-border-radius);
}

/* https://github.com/ckeditor/ckeditor5/issues/7986 */
.ck.ck-splitbutton > .ck-file-dialog-button.ck-button {
	padding: 0;
	margin: 0;
	border: none;
}
`],sourceRoot:""}]);const A=v},1568:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck.ck-image-insert-form:focus{outline:none}.ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-image-insert-form__action-row{margin-top:var(--ck-spacing-standard)}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsertformrowview.css"],names:[],mappings:"AAMC,+BAEC,YACD,CAGD,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAmBD,CAhBC,iCACC,WACD,CAEA,kDACC,qCAUD,CARC,sIAEC,sBACD,CAEA,+EACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert-form {
	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}
}

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-image-insert-form__action-row {
		margin-top: var(--ck-spacing-standard);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const A=v},6270:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAKA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const A=v},5083:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const A=v},4036:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFA0BD,CAtBC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const A=v},3773:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const A=v},3689:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBACD,CAID,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const A=v},1905:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=v},9773:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const A=v},2347:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`],sourceRoot:""}]);const A=v},7754:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const A=v},111:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkimage.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,83BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			display: block;
			position: absolute;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Match the icon size with the upload indicator brought by the image upload feature. */
	--ck-link-image-indicator-icon-size: 20;
	--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			content: "";

			/*
			 * Smaller images should have the icon closer to the border.
			 * Match the icon position with the upload indicator brought by the image upload feature.
			 */
			top: min(var(--ck-spacing-medium), 6%);
			right: min(var(--ck-spacing-medium), 6%);

			background-color: hsla(0, 0%, 0%, .4);
			background-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");
			background-size: 14px;
			background-repeat: no-repeat;
			background-position: center;
			border-radius: 100%;

			/*
			* Use CSS math to simulate container queries.
			* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
			*/
			overflow: hidden;
			width: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
			height: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
		}
	}
}

`],sourceRoot:""}]);const A=v},4721:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:0 var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/collapsible.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAIC,eAAgB,CAChB,aAAc,CAHd,eAAiB,CACjB,wDAAyD,CAFzD,UAoBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,yDACD,CAGC,mEACC,wBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-collapsible.ck-collapsible_collapsed {
	& > .ck-collapsible__children {
		display: none;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-collapsible {
	& > .ck.ck-button {
		width: 100%;
		font-weight: bold;
		padding: var(--ck-spacing-medium) var(--ck-spacing-large);
		border-radius: 0;
		color: inherit;

		&:focus {
			background: transparent;
		}

		&:active, &:not(:focus), &:hover:not(:focus) {
			background: transparent;
			border-color: transparent;
			box-shadow: none;
		}

		& > .ck-icon {
			margin-right: var(--ck-spacing-medium);
			width: var(--ck-collapsible-arrow-size);
		}
	}

	& > .ck-collapsible__children {
		padding: 0 var(--ck-spacing-large) var(--ck-spacing-large);
	}

	&.ck-collapsible_collapsed {
		& > .ck.ck-button .ck-icon {
			transform: rotate(-90deg);
		}
	}
}
`],sourceRoot:""}]);const A=v},5730:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-editor__editable .ck-list-bogus-paragraph {
	display: block;
}
`],sourceRoot:""}]);const A=v},4564:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const A=v},6082:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-properties {
	/* When there are no list styles and there is no collapsible. */
	&.ck-list-properties_without-styles {
		padding: var(--ck-spacing-large);

		& > * {
			min-width: 14em;

			& + * {
				margin-top: var(--ck-spacing-standard);
			}
		}
	}

	/*
	 * When the numbered list property fields (start at, reversed) should be displayed,
	 * more horizontal space is needed. Reconfigure the style grid to create that space.
	 */
	&.ck-list-properties_with-numbered-properties {
		& > .ck-list-styles-list {
			grid-template-columns: repeat( 4, auto );
		}

		/* When list styles are rendered and property fields are in a collapsible. */
		& > .ck-collapsible {
			border-top: 1px solid var(--ck-color-base-border);

			& > .ck-collapsible__children {
				& > * {
					width: 100%;

					& + * {
						margin-top: var(--ck-spacing-standard);
					}
				}
			}
		}
	}

	& .ck.ck-numbered-list-properties__start-index .ck-input {
		min-width: auto;
		width: 100%;
	}

	& .ck.ck-numbered-list-properties__reversed-order {
		background: transparent;
		padding-left: 0;
		padding-right: 0;
		margin-bottom: calc(-1 * var(--ck-spacing-tiny));

		&:active, &:hover {
			box-shadow: none;
			border-color: transparent;
			background: none;
		}
	}
}
`],sourceRoot:""}]);const A=v},2417:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/liststyles.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-styles-list {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-list-style-button-size: 44px;
}

.ck.ck-list-styles-list {
	grid-template-columns: repeat( 3, auto );
	row-gap: var(--ck-spacing-medium);
	column-gap: var(--ck-spacing-medium);
	padding: var(--ck-spacing-large);

	& .ck-button {
		/* Make the button look like a thumbnail (the icon "takes it all"). */
		width: var(--ck-list-style-button-size);
		height: var(--ck-list-style-button-size);
		padding: 0;

		/*
		 * Buttons are aligned by the grid so disable default button margins to not collide with the
		 * gaps in the grid.
		 */
		margin: 0;

		/*
		 * Make sure the button border (which is displayed on focus, BTW) does not steal pixels
		 * from the button dimensions and, as a result, decrease the size of the icon
		 * (which becomes blurry as it scales down).
		 */
		box-sizing: content-box;

		& .ck-icon {
			width: var(--ck-list-style-button-size);
			height: var(--ck-list-style-button-size);
		}
	}
}
`],sourceRoot:""}]);const A=v},1199:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out,background .25s ease-in-out,border .25s ease-in-out;width:100%}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable .todo-list .todo-list__label>input{cursor:pointer}.ck-editor__editable .todo-list .todo-list__label>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}',"",{version:3,sources:["webpack://./../ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CAEA,uBACC,eA0ED,CAxEC,0BACC,iBAKD,CAHC,qCACC,cACD,CAIA,+CACC,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAqDD,CAxCC,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,0FAAgG,CAJhG,UAKD,CAEA,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAIF,wEACC,qBACD,CAKF,6CACC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAED,CAMA,wDACC,cAKD,CAHC,qEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

.ck-content .todo-list {
	list-style: none;

	& li {
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			-webkit-appearance: none;
			display: inline-block;
			position: relative;
			width: var(--ck-todo-list-checkmark-size);
			height: var(--ck-todo-list-checkmark-size);
			vertical-align: middle;

			/* Needed on iOS */
			border: 0;

			/* LTR styles */
			left: -25px;
			margin-right: -15px;
			right: 0;
			margin-left: 0;

			&::before {
				display: block;
				position: absolute;
				box-sizing: border-box;
				content: '';
				width: 100%;
				height: 100%;
				border: 1px solid hsl(0, 0%, 20%);
				border-radius: 2px;
				transition: 250ms ease-in-out box-shadow, 250ms ease-in-out background, 250ms ease-in-out border;
			}

			&::after {
				display: block;
				position: absolute;
				box-sizing: content-box;
				pointer-events: none;
				content: '';

				/* Calculate tick position, size and border-width proportional to the checkmark size. */
				left: calc( var(--ck-todo-list-checkmark-size) / 3 );
				top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
				width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
				height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
				border-style: solid;
				border-color: transparent;
				border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
				transform: rotate(45deg);
			}

			&[checked] {
				&::before {
					background: hsl(126, 64%, 41%);
					border-color: hsl(126, 64%, 41%);
				}

				&::after {
					border-color: hsl(0, 0%, 100%);
				}
			}
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}
	}
}

/* RTL styles */
[dir="rtl"] .todo-list .todo-list__label > input {
	left: 0;
	margin-right: 0;
	right: -25px;
	margin-left: -15px;
}

/*
 * To-do list should be interactive only during the editing
 * (https://github.com/ckeditor/ckeditor5/issues/2090).
 */
.ck-editor__editable .todo-list .todo-list__label > input {
	cursor: pointer;

	&:hover::before {
		box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
	}
}
`],sourceRoot:""}]);const A=v},4652:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const A=v},7442:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,wvGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,4jHACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,wiCACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not read–only.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const A=v},9292:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=v},7368:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,+CAGE,4BAA6B,CAD7B,yBAcF,CAhBA,+CAQE,2BAA4B,CAD5B,wBASF,CAHC,2CACC,SACD,CAIA,wEACC,SA0CD,CA3CA,kFAKE,2BAA4B,CAD5B,wBAuCF,CApCE,8FACC,iCACD,CATF,kFAcE,4BAA6B,CAD7B,yBA8BF,CA3BE,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GC1CF,eD2DE,CAjBA,+PCtCD,qCDuDC,CAjBA,4GAKC,6CAA8C,CAD9C,WAAY,CADZ,UAcD,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,8DAYE,yBAeF,CA3BA,8DAgBE,wBAWF,CARC,gEACC,uCAMD,CAPA,0EAKE,sCAAuC,CADvC,cAGF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-input-color {
	width: 100%;
	display: flex;
	flex-direction: row-reverse;

	& > input.ck.ck-input-text {
		min-width: auto;
		flex-grow: 1;
	}

	& > div.ck.ck-dropdown {
		min-width: auto;

		/* This dropdown has no arrow but a color preview instead. */
		& > .ck-input-color__button .ck-dropdown__arrow {
			display: none;
		}
	}

	& .ck.ck-input-color__button {
		/* Resolving issue with misaligned buttons on Safari (see #10589) */
		display: flex;

		& .ck.ck-input-color__button__preview {
			position: relative;
			overflow: hidden;

			& > .ck.ck-input-color__button__preview__no-color-indicator {
				position: absolute;
				display: block;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_rounded.css";

.ck.ck-input-color {
	& > .ck.ck-input-text {
		@mixin ck-dir ltr {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* Make sure the focused input is always on top of the dropdown button so its
		   outline and border are never cropped (also when the input is read-only). */
		&:focus {
			z-index: 0;
		}
	}

	& > .ck.ck-dropdown {
		& > .ck.ck-button.ck-input-color__button {
			padding: 0;

			@mixin ck-dir ltr {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;

				&:not(:focus) {
					border-left: 1px solid transparent;
				}
			}

			@mixin ck-dir rtl {
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;

				&:not(:focus) {
					border-right: 1px solid transparent;
				}
			}

			&.ck-disabled {
				background: var(--ck-color-input-disabled-background);
			}

			& > .ck.ck-input-color__button__preview {
				@mixin ck-rounded-corners;

				width: 20px;
				height: 20px;
				border: 1px solid var(--ck-color-input-border);

				& > .ck.ck-input-color__button__preview__no-color-indicator {
					top: -30%;
					left: 50%;
					height: 150%;
					width: 8%;
					background: hsl(0, 100%, 50%);
					border-radius: 2px;
					transform: rotate(45deg);
					transform-origin: 50%;
				}
			}
		}
	}

	& .ck.ck-input-color__remove-color {
		width: 100%;
		padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);

		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;

		&:not(:focus) {
			border-bottom: 1px solid var(--ck-color-input-border);
		}

		@mixin ck-dir ltr {
			border-top-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
		}

		& .ck.ck-icon {
			margin-right: var(--ck-spacing-standard);

			@mixin ck-dir rtl {
				margin-right: 0;
				margin-left: var(--ck-spacing-standard);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=v},4070:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form {
	padding: 0 0 var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	& .ck.ck-input-text {
		min-width: 100%;
		width: 0;
	}

	& .ck.ck-dropdown {
		min-width: 100%;

		& .ck-dropdown__button {
			&:not(:focus) {
				border: 1px solid var(--ck-color-base-border);
			}

			& .ck-button__label {
				width: 100%;
			}
		}
	}
}
`],sourceRoot:""}]);const A=v},9247:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/formrow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CAvBE,6CAEE,mCAMF,CARA,6CAME,oCAEF,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-table-form__action-row {
		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-form__row {
	padding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		& + * {
			@mixin ck-dir ltr {
				margin-left: var(--ck-spacing-large);
			}

			@mixin ck-dir rtl {
				margin-right: var(--ck-spacing-large);
			}
		}
	}

	& > .ck-label {
		width: 100%;
		min-width: 100%;
	}

	&.ck-table-form__action-row {
		margin-top: var(--ck-spacing-large);

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const A=v},1613:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAUD,CARC,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label,
.ck[dir=rtl] .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	min-width: var(--ck-insert-table-dropdown-box-width);
	min-height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;
	outline: none;
	transition: none;

	&:focus {
		box-shadow: none;
	}

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const A=v},6306:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const A=v},2128:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecaption.css"],names:[],mappings:"AAKA,MACC,8CAAuD,CACvD,qCAAiD,CACjD,uDACD,CAGA,8BAMC,4DAA6D,CAJ7D,gBAAiB,CAGjB,2CAA4C,CAJ5C,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAOD,CAIC,qEACC,iDACD,CAEA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,wEACD,CAEA,GACC,4DACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-caption-background: hsl(0, 0%, 97%);
	--ck-color-selector-caption-text: hsl(0, 0%, 20%);
	--ck-color-selector-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .table > figcaption {
	display: table-caption;
	caption-side: top;
	word-break: break-word;
	text-align: center;
	color: var(--ck-color-selector-caption-text);
	background-color: var(--ck-color-selector-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .table > figcaption {
	&.table__caption_highlighted {
		animation: ck-table-caption-highlight .6s ease-out;
	}

	&.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the table caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
}

@keyframes ck-table-caption-highlight {
	0% {
		background-color: var(--ck-color-selector-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-selector-caption-background);
	}
}
`],sourceRoot:""}]);const A=v},5087:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecellproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	& .ck-form__row {
		&.ck-table-cell-properties-form__alignment-row {
			flex-wrap: wrap;

			& .ck.ck-toolbar {
				&:first-of-type {
					/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */
					flex-grow: 0.57;
				}

				&:last-of-type {
					/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */
					flex-grow: 0.43;
				}

				& .ck-button {
					flex-grow: 1;
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-cell-properties-form__padding-row {
			align-self: flex-end;
			padding: 0;
			width: 25%;
		}

		&.ck-table-cell-properties-form__alignment-row {
			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);
			}
		}
	}
}
`],sourceRoot:""}]);const A=v},4101:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:-999999px;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:-999999px;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);opacity:.25}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecolumnresize.css"],names:[],mappings:"AAKA,MACC,oEAAqE,CACrE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAIC,wBAAyB,CACzB,iBACD,CAEA,wDAOC,gBAAiB,CAGjB,iBAAkB,CATlB,iBAAkB,CAOlB,oDAAqD,CAFrD,aAAc,CAKd,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,8DAA+D,CAC/D,WACD,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-column-resizer-hover: var(--ck-color-base-active);
	--ck-table-column-resizer-width: 7px;

	/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.
	   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */
	--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);
}

.ck-content .table .ck-table-resized {
	table-layout: fixed;
}

.ck-content .table table {
	overflow: hidden;
}

.ck-content .table td,
.ck-content .table th {
	/* To prevent text overflowing beyond its cell when columns are resized by resize handler
	(https://github.com/ckeditor/ckeditor5/pull/14379#issuecomment-1589460978). */
	overflow-wrap: break-word;
	position: relative;
}

.ck.ck-editor__editable .table .ck-table-column-resizer {
	position: absolute;
	/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,
	   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as
	   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally
	   unrealistic height for a single table. */
	top: -999999px;
	bottom: -999999px;
	right: var(--ck-table-column-resizer-position-offset);
	width: var(--ck-table-column-resizer-width);
	cursor: col-resize;
	user-select: none;
	z-index: var(--ck-z-default);
}

.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {
	display: none;
}

/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,
   all resizers must be hidden while the table is dragged. */
.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {
	display: none;
}

.ck.ck-editor__editable .table .ck-table-column-resizer:hover,
.ck.ck-editor__editable .table .ck-table-column-resizer__active {
	background-color: var(--ck-color-selector-column-resizer-hover);
	opacity: 0.25;
}

.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {
	left: var(--ck-table-column-resizer-position-offset);
	right: unset;
}
`],sourceRoot:""}]);const A=v},3881:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,gEACD,CAKE,8QAGC,2DAA4D,CAK5D,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-focused-cell-background: hsla(212, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-selector-focused-cell-background);

			/* Fixes the problem where surrounding cells cover the focused cell's border.
			It does not fix the problem in all places but the UX is improved.
			See https://github.com/ckeditor/ckeditor5-table/issues/29. */
			border-style: none;
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const A=v},6237:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableform.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCAyBD,CAvBC,8ECxCD,eDyDC,CAjBA,mMCpCA,qCDqDA,CAjBA,8EAGC,qCAAsC,CACtC,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAUD,CAPC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEACD,CAGA,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__background-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__dimensions-row {
			flex-wrap: wrap;
			align-items: center;

			& .ck-labeled-field-view {
				display: flex;
				flex-direction: column-reverse;
				align-items: center;

				& .ck.ck-dropdown {
					flex-grow: 0;
				}
			}

			& .ck-table-form__dimension-operator {
				flex-grow: 0;
			}
		}
	}

	& .ck.ck-labeled-field-view {
		/* Allow absolute positioning of the status (error) balloons. */
		position: relative;

		& .ck.ck-labeled-field-view__status {
			position: absolute;
			left: 50%;
			bottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );
			transform: translate(-50%,100%);

			/* Make sure the balloon status stays on top of other form elements. */
			z-index: 1;

			/* The arrow pointing towards the field. */
			&::after {
				content: "";
				position: absolute;
				top: calc( -1 * var(--ck-table-properties-error-arrow-size) );
				left: 50%;
				transform: translateX( -50% );
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

:root {
	--ck-table-properties-error-arrow-size: 6px;
	--ck-table-properties-min-error-width: 150px;
}

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			& .ck-labeled-field-view {
				& > .ck-label {
					font-size: var(--ck-font-size-tiny);
					text-align: center;
				}
			}

			& .ck-table-form__border-style,
			& .ck-table-form__border-width {
				width: 80px;
				min-width: 80px;
				max-width: 80px;
			}
		}

		&.ck-table-form__dimensions-row {
			padding: 0;

			& .ck-table-form__dimensions-row__width,
			& .ck-table-form__dimensions-row__height {
				margin: 0
			}

			& .ck-table-form__dimension-operator {
				align-self: flex-end;
				display: inline-block;
				height: var(--ck-ui-component-min-height);
				line-height: var(--ck-ui-component-min-height);
				margin: 0 var(--ck-spacing-small);
			}
		}
	}

	& .ck.ck-labeled-field-view {
		padding-top: var(--ck-spacing-standard);

		& .ck.ck-labeled-field-view__status {
			@mixin ck-rounded-corners;

			background: var(--ck-color-base-error);
			color: var(--ck-color-base-background);
			padding: var(--ck-spacing-small) var(--ck-spacing-medium);
			min-width: var(--ck-table-properties-min-error-width);
			text-align: center;

			/* The arrow pointing towards the field. */
			&::after {
				border-color: transparent transparent var(--ck-color-base-error) transparent;
				border-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);
				border-style: solid;
			}

			animation: ck-table-form-labeled-view-status-appear .15s ease both;
		}

		/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */
		& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {
			display: none;
		}
	}
}

@keyframes ck-table-form-labeled-view-status-appear {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=v},7341:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			flex-wrap: wrap;
			flex-basis: 0;
			align-content: baseline;

			& .ck.ck-toolbar .ck-toolbar__items {
				flex-wrap: nowrap;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			align-self: flex-end;
			padding: 0;

			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);

				& .ck-toolbar__items > * {
					width: 40px;
				}
			}
		}
	}
}
`],sourceRoot:""}]);const A=v},6945:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const A=v},4906:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;justify-content:left;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAOA,6BAMC,kBAAmB,CADnB,mBAAoB,CAEpB,oBAAqB,CAHrB,iBAAkB,CCFlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDkBD,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEjBD,6BCAC,oDD4ID,CCzIE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eF6ID,CA5IA,wIEGE,qCFyIF,CA5IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAuID,CA7GC,oFGhCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHqCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAOA,gLKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDmIA,CChIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDgHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC/IC,mDDoJD,CCjJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDgID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;
	justify-content: left;

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		font-weight: bold;
		opacity: .7;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const A=v},5332:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eD4EA,CAxCA,yIChCC,qCDwED,CAxCA,2DAKE,gBAmCF,CAxCA,2DAUE,iBA8BF,CAxCA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CAuBD,CApBC,2ECxDD,eDmEC,CAXA,6LCpDA,qCAAsC,CDsDpC,8CASF,CAXA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAMD,CAEA,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEhFA,kCFkFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floating–point numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const A=v},6781:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names:[],mappings:"AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBAOC,QAAS,CALT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CACV,8BAA+B,CAL/B,oCAyCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,+DACC,gDACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	width: var(--ck-color-grid-tile-size);
	height: var(--ck-color-grid-tile-size);
	min-width: var(--ck-color-grid-tile-size);
	min-height: var(--ck-color-grid-tile-size);
	padding: 0;
	transition: .2s ease box-shadow;
	border: 0;

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	&.ck-color-selector__color-tile_bordered {
		box-shadow: 0 0 0 1px var(--ck-color-base-border);
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);

		& .ck.ck-icon {
			display: block;
		}
	}

	&.ck-on,
	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		/* Disable the default .ck-button's border ring. */
		border: 0;
	}

	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`],sourceRoot:""}]);const A=v},3398:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.color-picker-hex-input {
	width: max-content;

	& .ck.ck-input {
		min-width: unset;
	}
}

.ck.ck-color-picker__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;
	margin: var(--ck-spacing-large) 0 0;
	width: unset;

	& .ck.ck-labeled-field-view {
		padding-top: unset;
	}

	& .ck.ck-input-text {
		width: unset;
	}

	& .ck-color-picker__hash-view {
		padding-top: var(--ck-spacing-tiny);
		padding-right: var(--ck-spacing-medium);
	}
}
`],sourceRoot:""}]);const A=v},4157:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names:[],mappings:"AAUE,oLAGC,kBAAmB,CADnB,YAMD,CARA,wMAME,0BAEF,CAKA,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CCrBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CAEA,gHAEE,uCAMF,CARA,gHAME,sCAEF,CAGD,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			display: flex;
			align-items: center;

			@mixin ck-dir rtl {
				justify-content: flex-start;
			}
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-selector_action-bar {
			display: flex;
			flex-direction: row;
			justify-content: space-around;

			& .ck-button-save,
			& .ck-button-cancel {
				flex: 1
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			width: 100%;
		}

		& .ck-button.ck-color-selector__color-picker {
			padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			& .ck.ck-icon {
				@mixin ck-dir ltr {
					margin-right: var(--ck-spacing-standard);
				}

				@mixin ck-dir rtl {
					margin-left: var(--ck-spacing-standard);
				}
			}
		}

		& label.ck.ck-color-grid__label {
			font-weight: unset;
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-picker {
			padding: 8px;

			& .hex-color-picker {
				height: 100px;
				min-width: 180px;

				&::part(saturation) {
					border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;
				}

				&::part(hue) {
					border-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);
				}

				&::part(saturation-pointer),
				&::part(hue-pointer) {
					width: 15px;
					height: 15px;
				}
			}
		}

		& .ck.ck-color-selector_action-bar {
			padding: 0 8px 8px;
		}
	}
}
`],sourceRoot:""}]);const A=v},5485:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eHkHD,CAhCA,qFG9EE,qCH8GF,CAhCA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAuBD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-modal);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-modal) + 1 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;

			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=v},3949:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown .ck-dropdown__panel .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=v},7686:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=v},7339:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const A=v},9688:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-panel-background);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-panel-background);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const A=v},8847:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-form__header .ck-form__header__label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BACD,CCNA,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAQD,CAHC,4CACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-form-header-height: 38px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& .ck-form__header__label {
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const A=v},6574:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const A=v},4879:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eD2CD,CAtCA,iECDE,qCDuCF,CAtCA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DA0BD,CAxBC,mBEnBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YFuBA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BG/BD,oDHkCC,CAGD,sBAEC,sCAAuC,CADvC,+CAMD,CAHC,4BGzCD,iDH2CC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const A=v},3662:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const A=v},2577:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eD8GD,CAzGA,2FCDE,qCD0GF,CAtGC,mEACC,UAmCD,CAjCC,gFACC,KA+BD,CAhCA,0FAIE,MA4BF,CAhCA,0FAQE,OAwBF,CAhCA,gFAiBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAP9C,mBAAoB,CAYpB,sBAAuB,CARvB,6DAA+D,CAH/D,oBAAqB,CAgBrB,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,oUAGE,+HAYF,CAfA,oUAOE,wIAQF,CAfA,gTAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
			}

			@mixin ck-dir rtl {
				right: 0px;
			}

			pointer-events: none;
			transform-origin: 0 0;

			/* By default, display the label scaled down above the field. */
			transform: translate(var(--ck-spacing-medium), -6px) scale(.75);

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=v},1046:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;padding:calc(var(--ck-line-height-base)*.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*.4*var(--ck-font-size-base));text-align:left;width:100%}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEfD,YCEC,eDGD,CALA,+DCME,qCDDF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAIC,eAAgB,CAHhB,gBAAiB,CAQjB,iIAEiE,CARjE,eAAgB,CADhB,UAwCD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& .ck-button {
		min-height: unset;
		width: 100%;
		text-align: left;
		border-radius: 0;

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding:
			calc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))
			calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));

		& .ck-button__label {
			/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */
			line-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));
		}

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=v},8793:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-modal);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const A=v},4650:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const A=v},7676:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-modal) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const A=v},5868:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-modal); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const A=v},6764:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAmED,CAjEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA8CF,CA5CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDpEH",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`],sourceRoot:""}]);const A=v},9695:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const A=v},5542:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	&:focus {
		outline: none;
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const A=v},3332:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAKA,gCCGC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,8DAA+D,CAE/D,kCAAmC,CDPnC,mBAAoB,CAEpB,qCACD,CCMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAbD,gCAgBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-balloon-panel.ck-tooltip {
	/* Keep tooltips transparent for any interactions. */
	pointer-events: none;

	z-index: calc( var(--ck-z-modal) + 100 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const A=v},4793:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-modal) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_reset.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-ui/theme/globals/_poweredby.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,2EAGC,qBAAsB,CAEtB,WAAY,CACZ,eAAgB,CAFhB,UAGD,CCPA,MACC,gBAAiB,CACjB,4CACD,CCAA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAwD,CCvGxD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJuGD,CIjGA,2EAaC,oBAAqB,CANrB,sBAAuB,CADvB,QAAS,CAFT,QAAS,CACT,SAAU,CAGV,oBAAqB,CAErB,eAAgB,CADhB,qBAKD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-modal: calc( var(--ck-z-default) + 999 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-powered-by-line-height: 10px;
	--ck-powered-by-padding-vertical: 2px;
	--ck-powered-by-padding-horizontal: 4px;
	--ck-powered-by-text-color: hsl(0, 0%, 31%);
	--ck-powered-by-border-radius: var(--ck-border-radius);
	--ck-powered-by-background: hsl(0, 0%, 100%);
	--ck-powered-by-border-color: var(--ck-color-focus-border);
}

.ck.ck-balloon-panel.ck-powered-by-balloon {
	--ck-border-radius: var(--ck-powered-by-border-radius);

	box-shadow: none;
	background: var(--ck-powered-by-background);
	min-height: unset;
	z-index: calc( var(--ck-z-modal) - 1 );

	& .ck.ck-powered-by {
		line-height: var(--ck-powered-by-line-height);

		& a {
			cursor: pointer;
			display: flex;
			align-items: center;
			opacity: .66;
			filter: grayscale(80%);
			line-height: var(--ck-powered-by-line-height);
			padding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);
		}

		& .ck-powered-by__label {
			font-size: 7.5px;
			letter-spacing: -.2px;
			padding-left: 2px;
			text-transform: uppercase;
			font-weight: bold;
			margin-right: 4px;
			cursor: pointer;
			line-height: normal;
			color: var(--ck-powered-by-text-color);

		}

		& .ck-icon {
			display: block;
			cursor: pointer;
		}

		&:hover {
			& a {
				filter: grayscale(0%);
				opacity: 1;
			}
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-powered-by-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const A=v},3488:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CCjFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGAKC,iEAAkE,CCnCnE,2BAA2B,CCF3B,qCAA8B,CDC9B,YDqCA,CAIA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAgCD,CAnBC,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAWD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);

		background-color: var(--ck-color-widget-editable-focus-background);
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const A=v},8506:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const A=v},4921:(u,h,f)=>{f.d(h,{Z:()=>A});var g=f(1799),y=f.n(g),k=f(2609),v=f.n(k)()(y());v.push([u.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAkDD,CA1CC,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAoBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const A=v},2609:u=>{u.exports=function(h){var f=[];return f.toString=function(){return this.map(function(g){var y=h(g);return g[2]?"@media ".concat(g[2]," {").concat(y,"}"):y}).join("")},f.i=function(g,y,k){typeof g=="string"&&(g=[[null,g,""]]);var v={};if(k)for(var A=0;A<this.length;A++){var T=this[A][0];T!=null&&(v[T]=!0)}for(var x=0;x<g.length;x++){var C=[].concat(g[x]);k&&v[C[0]]||(y&&(C[2]?C[2]="".concat(y," and ").concat(C[2]):C[2]=y),f.push(C))}},f}},1799:u=>{function h(g,y){return function(k){if(Array.isArray(k))return k}(g)||function(k,v){var A=k&&(typeof Symbol<"u"&&k[Symbol.iterator]||k["@@iterator"]);if(A!=null){var T,x,C=[],D=!0,S=!1;try{for(A=A.call(k);!(D=(T=A.next()).done)&&(C.push(T.value),!v||C.length!==v);D=!0);}catch(M){S=!0,x=M}finally{try{D||A.return==null||A.return()}finally{if(S)throw x}}return C}}(g,y)||function(k,v){if(k){if(typeof k=="string")return f(k,v);var A=Object.prototype.toString.call(k).slice(8,-1);if(A==="Object"&&k.constructor&&(A=k.constructor.name),A==="Map"||A==="Set")return Array.from(k);if(A==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(A))return f(k,v)}}(g,y)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function f(g,y){(y==null||y>g.length)&&(y=g.length);for(var k=0,v=new Array(y);k<y;k++)v[k]=g[k];return v}u.exports=function(g){var y=h(g,4),k=y[1],v=y[3];if(!v)return k;if(typeof btoa=="function"){var A=btoa(unescape(encodeURIComponent(JSON.stringify(v)))),T="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(A),x="/*# ".concat(T," */"),C=v.sources.map(function(D){return"/*# sourceURL=".concat(v.sourceRoot||"").concat(D," */")});return[k].concat(C).concat([x]).join(`
`)}return[k].join(`
`)}},6062:(u,h,f)=>{var g,y=function(){return g===void 0&&(g=!!(window&&document&&document.all&&!window.atob)),g},k=function(){var j={};return function(N){if(j[N]===void 0){var z=document.querySelector(N);if(window.HTMLIFrameElement&&z instanceof window.HTMLIFrameElement)try{z=z.contentDocument.head}catch{z=null}j[N]=z}return j[N]}}(),v=[];function A(j){for(var N=-1,z=0;z<v.length;z++)if(v[z].identifier===j){N=z;break}return N}function T(j,N){for(var z={},Z=[],K=0;K<j.length;K++){var H=j[K],Y=N.base?H[0]+N.base:H[0],oe=z[Y]||0,me="".concat(Y," ").concat(oe);z[Y]=oe+1;var re=A(me),W={css:H[1],media:H[2],sourceMap:H[3]};re!==-1?(v[re].references++,v[re].updater(W)):v.push({identifier:me,updater:L(W,N),references:1}),Z.push(me)}return Z}function x(j){var N=document.createElement("style"),z=j.attributes||{};if(z.nonce===void 0){var Z=f.nc;Z&&(z.nonce=Z)}if(Object.keys(z).forEach(function(H){N.setAttribute(H,z[H])}),typeof j.insert=="function")j.insert(N);else{var K=k(j.insert||"head");if(!K)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");K.appendChild(N)}return N}var C,D=(C=[],function(j,N){return C[j]=N,C.filter(Boolean).join(`
`)});function S(j,N,z,Z){var K=z?"":Z.media?"@media ".concat(Z.media," {").concat(Z.css,"}"):Z.css;if(j.styleSheet)j.styleSheet.cssText=D(N,K);else{var H=document.createTextNode(K),Y=j.childNodes;Y[N]&&j.removeChild(Y[N]),Y.length?j.insertBefore(H,Y[N]):j.appendChild(H)}}function M(j,N,z){var Z=z.css,K=z.media,H=z.sourceMap;if(K?j.setAttribute("media",K):j.removeAttribute("media"),H&&typeof btoa<"u"&&(Z+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(H))))," */")),j.styleSheet)j.styleSheet.cssText=Z;else{for(;j.firstChild;)j.removeChild(j.firstChild);j.appendChild(document.createTextNode(Z))}}var B=null,R=0;function L(j,N){var z,Z,K;if(N.singleton){var H=R++;z=B||(B=x(N)),Z=S.bind(null,z,H,!1),K=S.bind(null,z,H,!0)}else z=x(N),Z=M.bind(null,z,N),K=function(){(function(Y){if(Y.parentNode===null)return!1;Y.parentNode.removeChild(Y)})(z)};return Z(j),function(Y){if(Y){if(Y.css===j.css&&Y.media===j.media&&Y.sourceMap===j.sourceMap)return;Z(j=Y)}else K()}}u.exports=function(j,N){(N=N||{}).singleton||typeof N.singleton=="boolean"||(N.singleton=y());var z=T(j=j||[],N);return function(Z){if(Z=Z||[],Object.prototype.toString.call(Z)==="[object Array]"){for(var K=0;K<z.length;K++){var H=A(z[K]);v[H].references--}for(var Y=T(Z,N),oe=0;oe<z.length;oe++){var me=A(z[oe]);v[me].references===0&&(v[me].updater(),v.splice(me,1))}z=Y}}}}},o={};function d(u){var h=o[u];if(h!==void 0)return h.exports;var f=o[u]={id:u,exports:{}};return l[u](f,f.exports,d),f.exports}d.n=u=>{var h=u&&u.__esModule?()=>u.default:()=>u;return d.d(h,{a:h}),h},d.d=(u,h)=>{for(var f in h)d.o(h,f)&&!d.o(u,f)&&Object.defineProperty(u,f,{enumerable:!0,get:h[f]})},d.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),d.o=(u,h)=>Object.prototype.hasOwnProperty.call(u,h),d.nc=void 0;var m={};return(()=>{d.d(m,{default:()=>Km});const u=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}(),h={isMac:y(u),isWindows:(f=u,f.indexOf("windows")>-1),isGecko:function(s){return!!s.match(/gecko\/\d+/)}(u),isSafari:function(s){return s.indexOf(" applewebkit/")>-1&&s.indexOf("chrome")===-1}(u),isiOS:function(s){return!!s.match(/iphone|ipad/i)||y(s)&&navigator.maxTouchPoints>0}(u),isAndroid:function(s){return s.indexOf("android")>-1}(u),isBlink:function(s){return s.indexOf("chrome/")>-1&&s.indexOf("edge/")<0}(u),features:{isRegExpUnicodePropertySupported:function(){let s=!1;try{s="ć".search(new RegExp("[\\p{L}]","u"))===0}catch{}return s}()}};var f;const g=h;function y(s){return s.indexOf("macintosh")>-1}function k(s,e,t,n){t=t||function(w,E){return w===E};const a=Array.isArray(s)?s:Array.prototype.slice.call(s),c=Array.isArray(e)?e:Array.prototype.slice.call(e),p=function(w,E,I){const O=v(w,E,I);if(O===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const $=A(w,O),V=A(E,O),G=v($,V,I),Q=w.length-G,ie=E.length-G;return{firstIndex:O,lastIndexOld:Q,lastIndexNew:ie}}(a,c,t);return n?function(w,E){const{firstIndex:I,lastIndexOld:O,lastIndexNew:$}=w;if(I===-1)return Array(E).fill("equal");let V=[];return I>0&&(V=V.concat(Array(I).fill("equal"))),$-I>0&&(V=V.concat(Array($-I).fill("insert"))),O-I>0&&(V=V.concat(Array(O-I).fill("delete"))),$<E&&(V=V.concat(Array(E-$).fill("equal"))),V}(p,c.length):function(w,E){const I=[],{firstIndex:O,lastIndexOld:$,lastIndexNew:V}=E;return V-O>0&&I.push({index:O,type:"insert",values:w.slice(O,V)}),$-O>0&&I.push({index:O+(V-O),type:"delete",howMany:$-O}),I}(c,p)}function v(s,e,t){for(let n=0;n<Math.max(s.length,e.length);n++)if(s[n]===void 0||e[n]===void 0||!t(s[n],e[n]))return n;return-1}function A(s,e){return s.slice(e).reverse()}function T(s,e,t){t=t||function(Q,ie){return Q===ie};const n=s.length,a=e.length;if(n>200||a>200||n+a>300)return T.fastDiff(s,e,t,!0);let c,p;if(a<n){const Q=s;s=e,e=Q,c="delete",p="insert"}else c="insert",p="delete";const _=s.length,w=e.length,E=w-_,I={},O={};function $(Q){const ie=(O[Q-1]!==void 0?O[Q-1]:-1)+1,he=O[Q+1]!==void 0?O[Q+1]:-1,ye=ie>he?-1:1;I[Q+ye]&&(I[Q]=I[Q+ye].slice(0)),I[Q]||(I[Q]=[]),I[Q].push(ie>he?c:p);let Oe=Math.max(ie,he),it=Oe-Q;for(;it<_&&Oe<w&&t(s[it],e[Oe]);)it++,Oe++,I[Q].push("equal");return Oe}let V,G=0;do{for(V=-G;V<E;V++)O[V]=$(V);for(V=E+G;V>E;V--)O[V]=$(V);O[E]=$(E),G++}while(O[E]!==w);return I[E].slice(1)}T.fastDiff=k;const x=function(){return function s(){s.called=!0}};class C{constructor(e,t){this.source=e,this.name=t,this.path=[],this.stop=x(),this.off=x()}}const D=new Array(256).fill("").map((s,e)=>("0"+e.toString(16)).slice(-2));function S(){const s=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,t=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0;return"e"+D[s>>0&255]+D[s>>8&255]+D[s>>16&255]+D[s>>24&255]+D[e>>0&255]+D[e>>8&255]+D[e>>16&255]+D[e>>24&255]+D[t>>0&255]+D[t>>8&255]+D[t>>16&255]+D[t>>24&255]+D[n>>0&255]+D[n>>8&255]+D[n>>16&255]+D[n>>24&255]}const M={get(s="normal"){return typeof s!="number"?this[s]||this.normal:s},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function B(s,e){const t=M.get(e.priority);for(let n=0;n<s.length;n++)if(M.get(s[n].priority)<t)return void s.splice(n,0,e);s.push(e)}const R="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class L extends Error{constructor(e,t,n){super(function(a,c){const p=new WeakSet,_=(I,O)=>{if(typeof O=="object"&&O!==null){if(p.has(O))return`[object ${O.constructor.name}]`;p.add(O)}return O},w=c?` ${JSON.stringify(c,_)}`:"",E=z(a);return a+w+E}(e,n)),this.name="CKEditorError",this.context=t,this.data=n}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,t){if(e.is&&e.is("CKEditorError"))throw e;const n=new L(e.message,t);throw n.stack=e.stack,n}}function j(s,e){console.warn(...Z(s,e))}function N(s,e){console.error(...Z(s,e))}function z(s){return`
Read more: ${R}#error-${s}`}function Z(s,e){const t=z(s);return e?[s,e,t]:[s,t]}const K="39.0.0",H=new Date(2023,7,2),Y=typeof window=="object"?window:d.g;if(Y.CKEDITOR_VERSION)throw new L("ckeditor-duplicated-modules",null);Y.CKEDITOR_VERSION=K;const oe=Symbol("listeningTo"),me=Symbol("emitterId"),re=Symbol("delegations"),W=J(Object);function J(s){return s?class extends s{on(e,t,n){this.listenTo(this,e,t,n)}once(e,t,n){let a=!1;this.listenTo(this,e,(c,...p)=>{a||(a=!0,c.off(),t.call(this,c,...p))},n)}off(e,t){this.stopListening(this,e,t)}listenTo(e,t,n,a={}){let c,p;this[oe]||(this[oe]={});const _=this[oe];ae(e)||q(e);const w=ae(e);(c=_[w])||(c=_[w]={emitter:e,callbacks:{}}),(p=c.callbacks[t])||(p=c.callbacks[t]=[]),p.push(n),function(E,I,O,$,V){I._addEventListener?I._addEventListener(O,$,V):E._addEventListener.call(I,O,$,V)}(this,e,t,n,a)}stopListening(e,t,n){const a=this[oe];let c=e&&ae(e);const p=a&&c?a[c]:void 0,_=p&&t?p.callbacks[t]:void 0;if(!(!a||e&&!p||t&&!_))if(n)le(this,e,t,n),_.indexOf(n)!==-1&&(_.length===1?delete p.callbacks[t]:le(this,e,t,n));else if(_){for(;n=_.pop();)le(this,e,t,n);delete p.callbacks[t]}else if(p){for(t in p.callbacks)this.stopListening(e,t);delete a[c]}else{for(c in a)this.stopListening(a[c].emitter);delete this[oe]}}fire(e,...t){try{const n=e instanceof C?e:new C(this,e),a=n.name;let c=se(this,a);if(n.path.push(this),c){const _=[n,...t];c=Array.from(c);for(let w=0;w<c.length&&(c[w].callback.apply(this,_),n.off.called&&(delete n.off.called,this._removeEventListener(a,c[w].callback)),!n.stop.called);w++);}const p=this[re];if(p){const _=p.get(a),w=p.get("*");_&&ee(_,n,t),w&&ee(w,n,t)}return n.return}catch(n){L.rethrowUnexpectedError(n,this)}}delegate(...e){return{to:(t,n)=>{this[re]||(this[re]=new Map),e.forEach(a=>{const c=this[re].get(a);c?c.set(t,n):this[re].set(a,new Map([[t,n]]))})}}}stopDelegating(e,t){if(this[re])if(e)if(t){const n=this[re].get(e);n&&n.delete(t)}else this[re].delete(e);else this[re].clear()}_addEventListener(e,t,n){(function(p,_){const w=be(p);if(w[_])return;let E=_,I=null;const O=[];for(;E!==""&&!w[E];)w[E]={callbacks:[],childEvents:[]},O.push(w[E]),I&&w[E].childEvents.push(I),I=E,E=E.substr(0,E.lastIndexOf(":"));if(E!==""){for(const $ of O)$.callbacks=w[E].callbacks.slice();w[E].childEvents.push(I)}})(this,e);const a=ke(this,e),c={callback:t,priority:M.get(n.priority)};for(const p of a)B(p,c)}_removeEventListener(e,t){const n=ke(this,e);for(const a of n)for(let c=0;c<a.length;c++)a[c].callback==t&&(a.splice(c,1),c--)}}:W}function q(s,e){s[me]||(s[me]=e||S())}function ae(s){return s[me]}function be(s){return s._events||Object.defineProperty(s,"_events",{value:{}}),s._events}function ke(s,e){const t=be(s)[e];if(!t)return[];let n=[t.callbacks];for(let a=0;a<t.childEvents.length;a++){const c=ke(s,t.childEvents[a]);n=n.concat(c)}return n}function se(s,e){let t;return s._events&&(t=s._events[e])&&t.callbacks.length?t.callbacks:e.indexOf(":")>-1?se(s,e.substr(0,e.lastIndexOf(":"))):null}function ee(s,e,t){for(let[n,a]of s){a?typeof a=="function"&&(a=a(e.name)):a=e.name;const c=new C(e.source,a);c.path=[...e.path],n.fire(c,...t)}}function le(s,e,t,n){e._removeEventListener?e._removeEventListener(t,n):s._removeEventListener.call(e,t,n)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(s=>{J[s]=W.prototype[s]});const te=function(s){var e=typeof s;return s!=null&&(e=="object"||e=="function")},X=Symbol("observableProperties"),ce=Symbol("boundObservables"),pe=Symbol("boundProperties"),we=Symbol("decoratedMethods"),Ze=Symbol("decoratedOriginal"),ne=de(J());function de(s){return s?class extends s{set(e,t){if(te(e))return void Object.keys(e).forEach(a=>{this.set(a,e[a])},this);ge(this);const n=this[X];if(e in this&&!n.has(e))throw new L("observable-set-cannot-override",this);Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:()=>n.get(e),set(a){const c=n.get(e);let p=this.fire(`set:${e}`,e,a,c);p===void 0&&(p=a),c===p&&n.has(e)||(n.set(e,p),this.fire(`change:${e}`,e,p,c))}}),this[e]=t}bind(...e){if(!e.length||!Le(e))throw new L("observable-bind-wrong-properties",this);if(new Set(e).size!==e.length)throw new L("observable-bind-duplicate-properties",this);ge(this);const t=this[pe];e.forEach(a=>{if(t.has(a))throw new L("observable-bind-rebind",this)});const n=new Map;return e.forEach(a=>{const c={property:a,to:[]};t.set(a,c),n.set(a,c)}),{to:Ee,toMany:Ie,_observable:this,_bindProperties:e,_to:[],_bindings:n}}unbind(...e){if(!this[X])return;const t=this[pe],n=this[ce];if(e.length){if(!Le(e))throw new L("observable-unbind-wrong-properties",this);e.forEach(a=>{const c=t.get(a);c&&(c.to.forEach(([p,_])=>{const w=n.get(p),E=w[_];E.delete(c),E.size||delete w[_],Object.keys(w).length||(n.delete(p),this.stopListening(p,"change"))}),t.delete(a))})}else n.forEach((a,c)=>{this.stopListening(c,"change")}),n.clear(),t.clear()}decorate(e){ge(this);const t=this[e];if(!t)throw new L("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:e});this.on(e,(n,a)=>{n.return=t.apply(this,a)}),this[e]=function(...n){return this.fire(e,n)},this[e][Ze]=t,this[we]||(this[we]=[]),this[we].push(e)}stopListening(e,t,n){if(!e&&this[we]){for(const a of this[we])this[a]=this[a][Ze];delete this[we]}super.stopListening(e,t,n)}}:ne}function ge(s){s[X]||(Object.defineProperty(s,X,{value:new Map}),Object.defineProperty(s,ce,{value:new Map}),Object.defineProperty(s,pe,{value:new Map}))}function Ee(...s){const e=function(...c){if(!c.length)throw new L("observable-bind-to-parse-error",null);const p={to:[]};let _;return typeof c[c.length-1]=="function"&&(p.callback=c.pop()),c.forEach(w=>{if(typeof w=="string")_.properties.push(w);else{if(typeof w!="object")throw new L("observable-bind-to-parse-error",null);_={observable:w,properties:[]},p.to.push(_)}}),p}(...s),t=Array.from(this._bindings.keys()),n=t.length;if(!e.callback&&e.to.length>1)throw new L("observable-bind-to-no-callback",this);if(n>1&&e.callback)throw new L("observable-bind-to-extra-callback",this);var a;e.to.forEach(c=>{if(c.properties.length&&c.properties.length!==n)throw new L("observable-bind-to-properties-length",this);c.properties.length||(c.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(t[0]).callback=e.callback),a=this._observable,this._to.forEach(c=>{const p=a[ce];let _;p.get(c.observable)||a.listenTo(c.observable,"change",(w,E)=>{_=p.get(c.observable)[E],_&&_.forEach(I=>{ot(a,I.property)})})}),function(c){let p;c._bindings.forEach((_,w)=>{c._to.forEach(E=>{p=E.properties[_.callback?0:c._bindProperties.indexOf(w)],_.to.push([E.observable,p]),function(I,O,$,V){const G=I[ce],Q=G.get($),ie=Q||{};ie[V]||(ie[V]=new Set),ie[V].add(O),Q||G.set($,ie)}(c._observable,_,E.observable,p)})})}(this),this._bindProperties.forEach(c=>{ot(this._observable,c)})}function Ie(s,e,t){if(this._bindings.size>1)throw new L("observable-bind-to-many-not-one-binding",this);this.to(...function(n,a){const c=n.map(p=>[p,a]);return Array.prototype.concat.apply([],c)}(s,e),t)}function Le(s){return s.every(e=>typeof e=="string")}function ot(s,e){const t=s[pe].get(e);let n;t.callback?n=t.callback.apply(s,t.to.map(a=>a[0][a[1]])):(n=t.to[0],n=n[0][n[1]]),Object.prototype.hasOwnProperty.call(s,e)?s[e]=n:s.set(e,n)}function We(s){let e=0;for(const t of s)e++;return e}function Fe(s,e){const t=Math.min(s.length,e.length);for(let n=0;n<t;n++)if(s[n]!=e[n])return n;return s.length==e.length?"same":s.length<e.length?"prefix":"extension"}function Ae(s){return!(!s||!s[Symbol.iterator])}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(s=>{de[s]=ne.prototype[s]});const Be=typeof Lr=="object"&&Lr&&Lr.Object===Object&&Lr;var $e=typeof self=="object"&&self&&self.Object===Object&&self;const dt=Be||$e||Function("return this")(),mt=dt.Symbol;var It=Object.prototype,Wt=It.hasOwnProperty,zt=It.toString,Ce=mt?mt.toStringTag:void 0;const De=function(s){var e=Wt.call(s,Ce),t=s[Ce];try{s[Ce]=void 0;var n=!0}catch{}var a=zt.call(s);return n&&(e?s[Ce]=t:delete s[Ce]),a};var Me=Object.prototype.toString;const Qe=function(s){return Me.call(s)};var fe=mt?mt.toStringTag:void 0;const Se=function(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":fe&&fe in Object(s)?De(s):Qe(s)},Re=Array.isArray,Je=function(s){return s!=null&&typeof s=="object"},Et=function(s){return typeof s=="string"||!Re(s)&&Je(s)&&Se(s)=="[object String]"};function yt(s,e,t={},n=[]){const a=t&&t.xmlns,c=a?s.createElementNS(a,e):s.createElement(e);for(const p in t)c.setAttribute(p,t[p]);!Et(n)&&Ae(n)||(n=[n]);for(let p of n)Et(p)&&(p=s.createTextNode(p)),c.appendChild(p);return c}const ht=function(s,e){return function(t){return s(e(t))}},Te=ht(Object.getPrototypeOf,Object);var He=Function.prototype,At=Object.prototype,Ut=He.toString,Ci=At.hasOwnProperty,kt=Ut.call(Object);const kn=function(s){if(!Je(s)||Se(s)!="[object Object]")return!1;var e=Te(s);if(e===null)return!0;var t=Ci.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Ut.call(t)==kt},Qt=function(){this.__data__=[],this.size=0},Ts=function(s,e){return s===e||s!=s&&e!=e},qr=function(s,e){for(var t=s.length;t--;)if(Ts(s[t][0],e))return t;return-1};var b8=Array.prototype.splice;const v8=function(s){var e=this.__data__,t=qr(e,s);return!(t<0)&&(t==e.length-1?e.pop():b8.call(e,t,1),--this.size,!0)},k8=function(s){var e=this.__data__,t=qr(e,s);return t<0?void 0:e[t][1]},w8=function(s){return qr(this.__data__,s)>-1},y8=function(s,e){var t=this.__data__,n=qr(t,s);return n<0?(++this.size,t.push([s,e])):t[n][1]=e,this};function Da(s){var e=-1,t=s==null?0:s.length;for(this.clear();++e<t;){var n=s[e];this.set(n[0],n[1])}}Da.prototype.clear=Qt,Da.prototype.delete=v8,Da.prototype.get=k8,Da.prototype.has=w8,Da.prototype.set=y8;const Td=Da,C8=function(){this.__data__=new Td,this.size=0},A8=function(s){var e=this.__data__,t=e.delete(s);return this.size=e.size,t},x8=function(s){return this.__data__.get(s)},S8=function(s){return this.__data__.has(s)},jl=function(s){if(!te(s))return!1;var e=Se(s);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},Ef=dt["__core-js_shared__"];var B1=function(){var s=/[^.]+$/.exec(Ef&&Ef.keys&&Ef.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}();const E8=function(s){return!!B1&&B1 in s};var D8=Function.prototype.toString;const Is=function(s){if(s!=null){try{return D8.call(s)}catch{}try{return s+""}catch{}}return""};var T8=/^\[object .+?Constructor\]$/,I8=Function.prototype,M8=Object.prototype,P8=I8.toString,O8=M8.hasOwnProperty,B8=RegExp("^"+P8.call(O8).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const L8=function(s){return!(!te(s)||E8(s))&&(jl(s)?B8:T8).test(Is(s))},R8=function(s,e){return s==null?void 0:s[e]},Ms=function(s,e){var t=R8(s,e);return L8(t)?t:void 0},zl=Ms(dt,"Map"),Fl=Ms(Object,"create"),N8=function(){this.__data__=Fl?Fl(null):{},this.size=0},$8=function(s){var e=this.has(s)&&delete this.__data__[s];return this.size-=e?1:0,e};var j8=Object.prototype.hasOwnProperty;const z8=function(s){var e=this.__data__;if(Fl){var t=e[s];return t==="__lodash_hash_undefined__"?void 0:t}return j8.call(e,s)?e[s]:void 0};var F8=Object.prototype.hasOwnProperty;const V8=function(s){var e=this.__data__;return Fl?e[s]!==void 0:F8.call(e,s)},U8=function(s,e){var t=this.__data__;return this.size+=this.has(s)?0:1,t[s]=Fl&&e===void 0?"__lodash_hash_undefined__":e,this};function Ta(s){var e=-1,t=s==null?0:s.length;for(this.clear();++e<t;){var n=s[e];this.set(n[0],n[1])}}Ta.prototype.clear=N8,Ta.prototype.delete=$8,Ta.prototype.get=z8,Ta.prototype.has=V8,Ta.prototype.set=U8;const L1=Ta,H8=function(){this.size=0,this.__data__={hash:new L1,map:new(zl||Td),string:new L1}},W8=function(s){var e=typeof s;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?s!=="__proto__":s===null},Id=function(s,e){var t=s.__data__;return W8(e)?t[typeof e=="string"?"string":"hash"]:t.map},G8=function(s){var e=Id(this,s).delete(s);return this.size-=e?1:0,e},K8=function(s){return Id(this,s).get(s)},Y8=function(s){return Id(this,s).has(s)},q8=function(s,e){var t=Id(this,s),n=t.size;return t.set(s,e),this.size+=t.size==n?0:1,this};function Ia(s){var e=-1,t=s==null?0:s.length;for(this.clear();++e<t;){var n=s[e];this.set(n[0],n[1])}}Ia.prototype.clear=H8,Ia.prototype.delete=G8,Ia.prototype.get=K8,Ia.prototype.has=Y8,Ia.prototype.set=q8;const Md=Ia,Z8=function(s,e){var t=this.__data__;if(t instanceof Td){var n=t.__data__;if(!zl||n.length<199)return n.push([s,e]),this.size=++t.size,this;t=this.__data__=new Md(n)}return t.set(s,e),this.size=t.size,this};function Ma(s){var e=this.__data__=new Td(s);this.size=e.size}Ma.prototype.clear=C8,Ma.prototype.delete=A8,Ma.prototype.get=x8,Ma.prototype.has=S8,Ma.prototype.set=Z8;const Vl=Ma,Q8=function(s,e){for(var t=-1,n=s==null?0:s.length;++t<n&&e(s[t],t,s)!==!1;);return s},Pd=function(){try{var s=Ms(Object,"defineProperty");return s({},"",{}),s}catch{}}(),Df=function(s,e,t){e=="__proto__"&&Pd?Pd(s,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):s[e]=t};var J8=Object.prototype.hasOwnProperty;const Tf=function(s,e,t){var n=s[e];J8.call(s,e)&&Ts(n,t)&&(t!==void 0||e in s)||Df(s,e,t)},Pa=function(s,e,t,n){var a=!t;t||(t={});for(var c=-1,p=e.length;++c<p;){var _=e[c],w=n?n(t[_],s[_],_,t,s):void 0;w===void 0&&(w=s[_]),a?Df(t,_,w):Tf(t,_,w)}return t},X8=function(s,e){for(var t=-1,n=Array(s);++t<s;)n[t]=e(t);return n},R1=function(s){return Je(s)&&Se(s)=="[object Arguments]"};var N1=Object.prototype,eS=N1.hasOwnProperty,tS=N1.propertyIsEnumerable;const If=R1(function(){return arguments}())?R1:function(s){return Je(s)&&eS.call(s,"callee")&&!tS.call(s,"callee")},nS=function(){return!1};var $1=r&&!r.nodeType&&r,j1=$1&&!0&&i&&!i.nodeType&&i,z1=j1&&j1.exports===$1?dt.Buffer:void 0;const Ul=(z1?z1.isBuffer:void 0)||nS;var iS=/^(?:0|[1-9]\d*)$/;const Mf=function(s,e){var t=typeof s;return!!(e=e??9007199254740991)&&(t=="number"||t!="symbol"&&iS.test(s))&&s>-1&&s%1==0&&s<e},F1=function(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=9007199254740991};var On={};On["[object Float32Array]"]=On["[object Float64Array]"]=On["[object Int8Array]"]=On["[object Int16Array]"]=On["[object Int32Array]"]=On["[object Uint8Array]"]=On["[object Uint8ClampedArray]"]=On["[object Uint16Array]"]=On["[object Uint32Array]"]=!0,On["[object Arguments]"]=On["[object Array]"]=On["[object ArrayBuffer]"]=On["[object Boolean]"]=On["[object DataView]"]=On["[object Date]"]=On["[object Error]"]=On["[object Function]"]=On["[object Map]"]=On["[object Number]"]=On["[object Object]"]=On["[object RegExp]"]=On["[object Set]"]=On["[object String]"]=On["[object WeakMap]"]=!1;const oS=function(s){return Je(s)&&F1(s.length)&&!!On[Se(s)]},Pf=function(s){return function(e){return s(e)}};var V1=r&&!r.nodeType&&r,Hl=V1&&!0&&i&&!i.nodeType&&i,Of=Hl&&Hl.exports===V1&&Be.process;const Oa=function(){try{var s=Hl&&Hl.require&&Hl.require("util").types;return s||Of&&Of.binding&&Of.binding("util")}catch{}}();var U1=Oa&&Oa.isTypedArray;const Bf=U1?Pf(U1):oS;var rS=Object.prototype.hasOwnProperty;const H1=function(s,e){var t=Re(s),n=!t&&If(s),a=!t&&!n&&Ul(s),c=!t&&!n&&!a&&Bf(s),p=t||n||a||c,_=p?X8(s.length,String):[],w=_.length;for(var E in s)!e&&!rS.call(s,E)||p&&(E=="length"||a&&(E=="offset"||E=="parent")||c&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||Mf(E,w))||_.push(E);return _};var sS=Object.prototype;const Lf=function(s){var e=s&&s.constructor;return s===(typeof e=="function"&&e.prototype||sS)},aS=ht(Object.keys,Object);var lS=Object.prototype.hasOwnProperty;const cS=function(s){if(!Lf(s))return aS(s);var e=[];for(var t in Object(s))lS.call(s,t)&&t!="constructor"&&e.push(t);return e},Od=function(s){return s!=null&&F1(s.length)&&!jl(s)},Rf=function(s){return Od(s)?H1(s):cS(s)},dS=function(s,e){return s&&Pa(e,Rf(e),s)},uS=function(s){var e=[];if(s!=null)for(var t in Object(s))e.push(t);return e};var hS=Object.prototype.hasOwnProperty;const fS=function(s){if(!te(s))return uS(s);var e=Lf(s),t=[];for(var n in s)(n!="constructor"||!e&&hS.call(s,n))&&t.push(n);return t},Ba=function(s){return Od(s)?H1(s,!0):fS(s)},pS=function(s,e){return s&&Pa(e,Ba(e),s)};var W1=r&&!r.nodeType&&r,G1=W1&&!0&&i&&!i.nodeType&&i,K1=G1&&G1.exports===W1?dt.Buffer:void 0,Y1=K1?K1.allocUnsafe:void 0;const q1=function(s,e){if(e)return s.slice();var t=s.length,n=Y1?Y1(t):new s.constructor(t);return s.copy(n),n},Z1=function(s,e){var t=-1,n=s.length;for(e||(e=Array(n));++t<n;)e[t]=s[t];return e},mS=function(s,e){for(var t=-1,n=s==null?0:s.length,a=0,c=[];++t<n;){var p=s[t];e(p,t,s)&&(c[a++]=p)}return c},Q1=function(){return[]};var gS=Object.prototype.propertyIsEnumerable,J1=Object.getOwnPropertySymbols;const Nf=J1?function(s){return s==null?[]:(s=Object(s),mS(J1(s),function(e){return gS.call(s,e)}))}:Q1,_S=function(s,e){return Pa(s,Nf(s),e)},X1=function(s,e){for(var t=-1,n=e.length,a=s.length;++t<n;)s[a+t]=e[t];return s},e_=Object.getOwnPropertySymbols?function(s){for(var e=[];s;)X1(e,Nf(s)),s=Te(s);return e}:Q1,bS=function(s,e){return Pa(s,e_(s),e)},t_=function(s,e,t){var n=e(s);return Re(s)?n:X1(n,t(s))},$f=function(s){return t_(s,Rf,Nf)},vS=function(s){return t_(s,Ba,e_)},jf=Ms(dt,"DataView"),zf=Ms(dt,"Promise"),Ff=Ms(dt,"Set"),Vf=Ms(dt,"WeakMap");var n_="[object Map]",i_="[object Promise]",o_="[object Set]",r_="[object WeakMap]",s_="[object DataView]",kS=Is(jf),wS=Is(zl),yS=Is(zf),CS=Is(Ff),AS=Is(Vf),Ps=Se;(jf&&Ps(new jf(new ArrayBuffer(1)))!=s_||zl&&Ps(new zl)!=n_||zf&&Ps(zf.resolve())!=i_||Ff&&Ps(new Ff)!=o_||Vf&&Ps(new Vf)!=r_)&&(Ps=function(s){var e=Se(s),t=e=="[object Object]"?s.constructor:void 0,n=t?Is(t):"";if(n)switch(n){case kS:return s_;case wS:return n_;case yS:return i_;case CS:return o_;case AS:return r_}return e});const Wl=Ps;var xS=Object.prototype.hasOwnProperty;const SS=function(s){var e=s.length,t=new s.constructor(e);return e&&typeof s[0]=="string"&&xS.call(s,"index")&&(t.index=s.index,t.input=s.input),t},Bd=dt.Uint8Array,Uf=function(s){var e=new s.constructor(s.byteLength);return new Bd(e).set(new Bd(s)),e},ES=function(s,e){var t=e?Uf(s.buffer):s.buffer;return new s.constructor(t,s.byteOffset,s.byteLength)};var DS=/\w*$/;const TS=function(s){var e=new s.constructor(s.source,DS.exec(s));return e.lastIndex=s.lastIndex,e};var a_=mt?mt.prototype:void 0,l_=a_?a_.valueOf:void 0;const IS=function(s){return l_?Object(l_.call(s)):{}},c_=function(s,e){var t=e?Uf(s.buffer):s.buffer;return new s.constructor(t,s.byteOffset,s.length)},MS=function(s,e,t){var n=s.constructor;switch(e){case"[object ArrayBuffer]":return Uf(s);case"[object Boolean]":case"[object Date]":return new n(+s);case"[object DataView]":return ES(s,t);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return c_(s,t);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(s);case"[object RegExp]":return TS(s);case"[object Symbol]":return IS(s)}};var d_=Object.create;const PS=function(){function s(){}return function(e){if(!te(e))return{};if(d_)return d_(e);s.prototype=e;var t=new s;return s.prototype=void 0,t}}(),u_=function(s){return typeof s.constructor!="function"||Lf(s)?{}:PS(Te(s))},OS=function(s){return Je(s)&&Wl(s)=="[object Map]"};var h_=Oa&&Oa.isMap;const BS=h_?Pf(h_):OS,LS=function(s){return Je(s)&&Wl(s)=="[object Set]"};var f_=Oa&&Oa.isSet;const RS=f_?Pf(f_):LS;var p_="[object Arguments]",m_="[object Function]",g_="[object Object]",Dn={};Dn[p_]=Dn["[object Array]"]=Dn["[object ArrayBuffer]"]=Dn["[object DataView]"]=Dn["[object Boolean]"]=Dn["[object Date]"]=Dn["[object Float32Array]"]=Dn["[object Float64Array]"]=Dn["[object Int8Array]"]=Dn["[object Int16Array]"]=Dn["[object Int32Array]"]=Dn["[object Map]"]=Dn["[object Number]"]=Dn[g_]=Dn["[object RegExp]"]=Dn["[object Set]"]=Dn["[object String]"]=Dn["[object Symbol]"]=Dn["[object Uint8Array]"]=Dn["[object Uint8ClampedArray]"]=Dn["[object Uint16Array]"]=Dn["[object Uint32Array]"]=!0,Dn["[object Error]"]=Dn[m_]=Dn["[object WeakMap]"]=!1;const Hf=function s(e,t,n,a,c,p){var _,w=1&t,E=2&t,I=4&t;if(n&&(_=c?n(e,a,c,p):n(e)),_!==void 0)return _;if(!te(e))return e;var O=Re(e);if(O){if(_=SS(e),!w)return Z1(e,_)}else{var $=Wl(e),V=$==m_||$=="[object GeneratorFunction]";if(Ul(e))return q1(e,w);if($==g_||$==p_||V&&!c){if(_=E||V?{}:u_(e),!w)return E?bS(e,pS(_,e)):_S(e,dS(_,e))}else{if(!Dn[$])return c?e:{};_=MS(e,$,w)}}p||(p=new Vl);var G=p.get(e);if(G)return G;p.set(e,_),RS(e)?e.forEach(function(ie){_.add(s(ie,t,n,ie,e,p))}):BS(e)&&e.forEach(function(ie,he){_.set(he,s(ie,t,n,he,e,p))});var Q=O?void 0:(I?E?vS:$f:E?Ba:Rf)(e);return Q8(Q||e,function(ie,he){Q&&(ie=e[he=ie]),Tf(_,he,s(ie,t,n,he,e,p))}),_},Wf=function(s,e){return Hf(s,5,e=typeof e=="function"?e:void 0)},Os=function(s){return Je(s)&&s.nodeType===1&&!kn(s)};class __{constructor(e,t){this._config={},t&&this.define(b_(t)),e&&this._setObjectToTarget(this._config,e)}set(e,t){this._setToTarget(this._config,e,t)}define(e,t){this._setToTarget(this._config,e,t,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,t,n,a=!1){if(kn(t))return void this._setObjectToTarget(e,t,a);const c=t.split(".");t=c.pop();for(const p of c)kn(e[p])||(e[p]={}),e=e[p];if(kn(n))return kn(e[t])||(e[t]={}),e=e[t],void this._setObjectToTarget(e,n,a);a&&e[t]!==void 0||(e[t]=n)}_getFromSource(e,t){const n=t.split(".");t=n.pop();for(const a of n){if(!kn(e[a])){e=null;break}e=e[a]}return e?b_(e[t]):void 0}_setObjectToTarget(e,t,n){Object.keys(t).forEach(a=>{this._setToTarget(e,a,t[a],n)})}}function b_(s){return Wf(s,NS)}function NS(s){return Os(s)?s:void 0}function Zr(s){if(s){if(s.defaultView)return s instanceof s.defaultView.Document;if(s.ownerDocument&&s.ownerDocument.defaultView)return s instanceof s.ownerDocument.defaultView.Node}return!1}function Ld(s){const e=Object.prototype.toString.apply(s);return e=="[object Window]"||e=="[object global]"}const v_=yr(J());function yr(s){return s?class extends s{listenTo(e,t,n,a={}){if(Zr(e)||Ld(e)){const c={capture:!!a.useCapture,passive:!!a.usePassive},p=this._getProxyEmitter(e,c)||new $S(e,c);this.listenTo(p,t,n,a)}else super.listenTo(e,t,n,a)}stopListening(e,t,n){if(Zr(e)||Ld(e)){const a=this._getAllProxyEmitters(e);for(const c of a)this.stopListening(c,t,n)}else super.stopListening(e,t,n)}_getProxyEmitter(e,t){return function(n,a){const c=n[oe];return c&&c[a]?c[a].emitter:null}(this,k_(e,t))}_getAllProxyEmitters(e){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(t=>this._getProxyEmitter(e,t)).filter(t=>!!t)}}:v_}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(s=>{yr[s]=v_.prototype[s]});class $S extends J(){constructor(e,t){super(),q(this,k_(e,t)),this._domNode=e,this._options=t}attach(e){if(this._domListeners&&this._domListeners[e])return;const t=this._createDomListener(e);this._domNode.addEventListener(e,t,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=t}detach(e){let t;!this._domListeners[e]||(t=this._events[e])&&t.callbacks.length||this._domListeners[e].removeListener()}_addEventListener(e,t,n){this.attach(e),J().prototype._addEventListener.call(this,e,t,n)}_removeEventListener(e,t){J().prototype._removeEventListener.call(this,e,t),this.detach(e)}_createDomListener(e){const t=n=>{this.fire(e,n)};return t.removeListener=()=>{this._domNode.removeEventListener(e,t,this._options),delete this._domListeners[e]},t}}function k_(s,e){let t=function(n){return n["data-ck-expando"]||(n["data-ck-expando"]=S())}(s);for(const n of Object.keys(e).sort())e[n]&&(t+="-"+n);return t}let Gf;try{Gf={window,document}}catch{Gf={window:{},document:{}}}const Vt=Gf;function oi(s){return Object.prototype.toString.call(s)=="[object Text]"}function Rd(s){return Object.prototype.toString.apply(s)=="[object Range]"}function w_(s){const e=s.ownerDocument.defaultView.getComputedStyle(s);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}const y_=["top","right","bottom","left","width","height"];class wn{constructor(e){const t=Rd(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),A_(e)||t)if(t){const n=wn.getDomRangeRects(e);Nd(this,wn.getBoundingRect(n))}else Nd(this,e.getBoundingClientRect());else if(Ld(e)){const{innerWidth:n,innerHeight:a}=e;Nd(this,{top:0,right:n,bottom:a,left:0,width:n,height:a})}else Nd(this,e)}clone(){return new wn(this)}moveTo(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}moveBy(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}getIntersection(e){const t={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};return t.width=t.right-t.left,t.height=t.bottom-t.top,t.width<0||t.height<0?null:new wn(t)}getIntersectionArea(e){const t=this.getIntersection(e);return t?t.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let t=this.clone();if(C_(e))return t;let n,a=e,c=e.parentNode||e.commonAncestorContainer;for(;c&&!C_(c);){if(a instanceof HTMLElement&&x_(a)==="absolute"&&(n=a),n&&(x_(c)!=="relative"||(p=c).ownerDocument.defaultView.getComputedStyle(p).overflow==="visible")){a=c,c=c.parentNode;continue}const _=new wn(c),w=t.getIntersection(_);if(!w)return null;w.getArea()<t.getArea()&&(t=w),a=c,c=c.parentNode}var p;return t}isEqual(e){for(const t of y_)if(this[t]!==e[t])return!1;return!0}contains(e){const t=this.getIntersection(e);return!(!t||!t.isEqual(e))}excludeScrollbarsAndBorders(){const e=this._source;let t,n,a;if(Ld(e))t=e.innerWidth-e.document.documentElement.clientWidth,n=e.innerHeight-e.document.documentElement.clientHeight,a=e.getComputedStyle(e.document.documentElement).direction;else{const c=w_(e);t=e.offsetWidth-e.clientWidth-c.left-c.right,n=e.offsetHeight-e.clientHeight-c.top-c.bottom,a=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=c.left,this.top+=c.top,this.right-=c.right,this.bottom-=c.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=t,a==="ltr"?this.right-=t:this.left+=t,this.height-=n,this.bottom-=n,this}static getDomRangeRects(e){const t=[],n=Array.from(e.getClientRects());if(n.length)for(const a of n)t.push(new wn(a));else{let a=e.startContainer;oi(a)&&(a=a.parentNode);const c=new wn(a.getBoundingClientRect());c.right=c.left,c.width=0,t.push(c)}return t}static getBoundingRect(e){const t={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let n=0;for(const a of e)n++,t.left=Math.min(t.left,a.left),t.top=Math.min(t.top,a.top),t.right=Math.max(t.right,a.right),t.bottom=Math.max(t.bottom,a.bottom);return n==0?null:(t.width=t.right-t.left,t.height=t.bottom-t.top,new wn(t))}}function Nd(s,e){for(const t of y_)s[t]=e[t]}function C_(s){return!!A_(s)&&s===s.ownerDocument.body}function A_(s){return s!==null&&typeof s=="object"&&s.nodeType===1&&typeof s.getBoundingClientRect=="function"}function x_(s){return s.ownerDocument.defaultView.getComputedStyle(s).position}const Xn=class{constructor(s,e){Xn._observerInstance||Xn._createObserver(),this._element=s,this._callback=e,Xn._addElementCallback(s,e),Xn._observerInstance.observe(s)}get element(){return this._element}destroy(){Xn._deleteElementCallback(this._element,this._callback)}static _addElementCallback(s,e){Xn._elementCallbacks||(Xn._elementCallbacks=new Map);let t=Xn._elementCallbacks.get(s);t||(t=new Set,Xn._elementCallbacks.set(s,t)),t.add(e)}static _deleteElementCallback(s,e){const t=Xn._getElementCallbacks(s);t&&(t.delete(e),t.size||(Xn._elementCallbacks.delete(s),Xn._observerInstance.unobserve(s))),Xn._elementCallbacks&&!Xn._elementCallbacks.size&&(Xn._observerInstance=null,Xn._elementCallbacks=null)}static _getElementCallbacks(s){return Xn._elementCallbacks?Xn._elementCallbacks.get(s):null}static _createObserver(){Xn._observerInstance=new Vt.window.ResizeObserver(s=>{for(const e of s){const t=Xn._getElementCallbacks(e.target);if(t)for(const n of t)n(e)}})}};let $d=Xn;function jS(s,e){s instanceof HTMLTextAreaElement&&(s.value=e),s.innerHTML=e}function S_(s){return e=>e+s}function jd(s){let e=0;for(;s.previousSibling;)s=s.previousSibling,e++;return e}function E_(s,e,t){s.insertBefore(t,s.childNodes[e]||null)}function Gl(s){return s&&s.nodeType===Node.COMMENT_NODE}function Bs(s){return!!(s&&s.getClientRects&&s.getClientRects().length)}$d._observerInstance=null,$d._elementCallbacks=null;var D_=Math.pow;function T_({element:s,target:e,positions:t,limiter:n,fitInViewport:a,viewportOffsetConfig:c}){jl(e)&&(e=e()),jl(n)&&(n=n());const p=function($){return $&&$.parentNode?$.offsetParent===Vt.document.body?null:$.offsetParent:null}(s),_=new wn(s),w=new wn(e);let E;const I=a&&function($){$=Object.assign({top:0,bottom:0,left:0,right:0},$);const V=new wn(Vt.window);return V.top+=$.top,V.height-=$.top,V.bottom-=$.bottom,V.height-=$.bottom,V}(c)||null,O={targetRect:w,elementRect:_,positionedElementAncestor:p,viewportRect:I};if(n||a){const $=n&&new wn(n).getVisible();Object.assign(O,{limiterRect:$,viewportRect:I}),E=function(V,G){const{elementRect:Q}=G,ie=Q.getArea(),he=V.map(it=>new Kf(it,G)).filter(it=>!!it.name);let ye=0,Oe=null;for(const it of he){const{limiterIntersectionArea:Ct,viewportIntersectionArea:Zt}=it;if(Ct===ie)return it;const $t=D_(Zt,2)+D_(Ct,2);$t>ye&&(ye=$t,Oe=it)}return Oe}(t,O)||new Kf(t[0],O)}else E=new Kf(t[0],O);return E}function I_(s){const{scrollX:e,scrollY:t}=Vt.window;return s.clone().moveBy(e,t)}class Kf{constructor(e,t){const n=e(t.targetRect,t.elementRect,t.viewportRect);if(!n)return;const{left:a,top:c,name:p,config:_}=n;this.name=p,this.config=_,this._positioningFunctionCorrdinates={left:a,top:c},this._options=t}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;if(e){const t=this._options.viewportRect;if(!t)return e.getIntersectionArea(this._rect);{const n=e.getIntersection(t);if(n)return n.getIntersectionArea(this._rect)}}return 0}get viewportIntersectionArea(){const e=this._options.viewportRect;return e?e.getIntersectionArea(this._rect):0}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCorrdinates.left,this._positioningFunctionCorrdinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=I_(this._rect),this._options.positionedElementAncestor&&function(e,t){const n=I_(new wn(t)),a=w_(t);let c=0,p=0;c-=n.left,p-=n.top,c+=t.scrollLeft,p+=t.scrollTop,c-=a.left,p-=a.top,e.moveBy(c,p)}(this._cachedAbsoluteRect,this._options.positionedElementAncestor)),this._cachedAbsoluteRect}}function M_(s){const e=s.parentNode;e&&e.removeChild(s)}function zS({window:s,rect:e,alignToTop:t,forceScroll:n,viewportOffset:a}){const c=e.clone().moveBy(0,a.bottom),p=e.clone().moveBy(0,-a.top),_=new wn(s).excludeScrollbarsAndBorders(),w=t&&n,E=[p,c].every(G=>_.contains(G));let{scrollX:I,scrollY:O}=s;const $=I,V=O;w?O-=_.top-e.top+a.top:E||(O_(p,_)?O-=_.top-e.top+a.top:P_(c,_)&&(O+=t?e.top-_.top-a.top:e.bottom-_.bottom+a.bottom)),E||(B_(e,_)?I-=_.left-e.left+a.left:L_(e,_)&&(I+=e.right-_.right+a.right)),I==$&&O===V||s.scrollTo(I,O)}function FS({parent:s,getRect:e,alignToTop:t,forceScroll:n,ancestorOffset:a=0,limiterElement:c}){const p=Yf(s),_=t&&n;let w,E,I;const O=c||p.document.body;for(;s!=O;)E=e(),w=new wn(s).excludeScrollbarsAndBorders(),I=w.contains(E),_?s.scrollTop-=w.top-E.top+a:I||(O_(E,w)?s.scrollTop-=w.top-E.top+a:P_(E,w)&&(s.scrollTop+=t?E.top-w.top-a:E.bottom-w.bottom+a)),I||(B_(E,w)?s.scrollLeft-=w.left-E.left+a:L_(E,w)&&(s.scrollLeft+=E.right-w.right+a)),s=s.parentNode}function P_(s,e){return s.bottom>e.bottom}function O_(s,e){return s.top<e.top}function B_(s,e){return s.left<e.left}function L_(s,e){return s.right>e.right}function Yf(s){return Rd(s)?s.startContainer.ownerDocument.defaultView:s.ownerDocument.defaultView}function VS(s){if(Rd(s)){let e=s.commonAncestorContainer;return oi(e)&&(e=e.parentNode),e}return s.parentNode}function R_(s,e){const t=Yf(s),n=new wn(s);if(t===e)return n;{let a=t;for(;a!=e;){const c=a.frameElement,p=new wn(c).excludeScrollbarsAndBorders();n.moveBy(p.left,p.top),a=a.parent}}return n}const US={ctrl:"⌃",cmd:"⌘",alt:"⌥",shift:"⇧"},HS={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},nn=function(){const s={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++)s[String.fromCharCode(e).toLowerCase()]=e;for(let e=48;e<=57;e++)s[e-48]=e;for(let e=112;e<=123;e++)s["f"+(e-111)]=e;for(const e of"`-=[];',./\\")s[e]=e.charCodeAt(0);return s}(),WS=Object.fromEntries(Object.entries(nn).map(([s,e])=>[e,s.charAt(0).toUpperCase()+s.slice(1)]));function La(s){let e;if(typeof s=="string"){if(e=nn[s.toLowerCase()],!e)throw new L("keyboard-unknown-key",null,{key:s})}else e=s.keyCode+(s.altKey?nn.alt:0)+(s.ctrlKey?nn.ctrl:0)+(s.shiftKey?nn.shift:0)+(s.metaKey?nn.cmd:0);return e}function zd(s){return typeof s=="string"&&(s=function(e){return e.split("+").map(t=>t.trim())}(s)),s.map(e=>typeof e=="string"?function(t){if(t.endsWith("!"))return La(t.slice(0,-1));const n=La(t);return g.isMac&&n==nn.ctrl?nn.cmd:n}(e):e).reduce((e,t)=>t+e,0)}function N_(s){let e=zd(s);return Object.entries(g.isMac?US:HS).reduce((t,[n,a])=>(e&nn[n]&&(e&=~nn[n],t+=a),t),"")+(e?WS[e]:"")}function qf(s,e){const t=e==="ltr";switch(s){case nn.arrowleft:return t?"left":"right";case nn.arrowright:return t?"right":"left";case nn.arrowup:return"up";case nn.arrowdown:return"down"}}function ui(s){return Array.isArray(s)?s:[s]}function GS(s,e,t=1){if(typeof t!="number")throw new L("translation-service-quantity-not-a-number",null,{quantity:t});const n=Object.keys(Vt.window.CKEDITOR_TRANSLATIONS).length;n===1&&(s=Object.keys(Vt.window.CKEDITOR_TRANSLATIONS)[0]);const a=e.id||e.string;if(n===0||!function(w,E){return!!Vt.window.CKEDITOR_TRANSLATIONS[w]&&!!Vt.window.CKEDITOR_TRANSLATIONS[w].dictionary[E]}(s,a))return t!==1?e.plural:e.string;const c=Vt.window.CKEDITOR_TRANSLATIONS[s].dictionary,p=Vt.window.CKEDITOR_TRANSLATIONS[s].getPluralForm||(w=>w===1?0:1),_=c[a];return typeof _=="string"?_:_[Number(p(t))]}Vt.window.CKEDITOR_TRANSLATIONS||(Vt.window.CKEDITOR_TRANSLATIONS={});const KS=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function $_(s){return KS.includes(s)?"rtl":"ltr"}class YS{constructor({uiLanguage:e="en",contentLanguage:t}={}){this.uiLanguage=e,this.contentLanguage=t||this.uiLanguage,this.uiLanguageDirection=$_(this.uiLanguage),this.contentLanguageDirection=$_(this.contentLanguage),this.t=(n,a)=>this._t(n,a)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,t=[]){t=ui(t),typeof e=="string"&&(e={string:e});const n=e.plural?t[0]:1;return function(a,c){return a.replace(/%(\d+)/g,(p,_)=>_<c.length?c[_]:p)}(GS(this.uiLanguage,e,n),t)}}class Oi extends J(){constructor(e={},t={}){super();const n=Ae(e);if(n||(t=e),this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],n)for(const a of e)this._items.push(a),this._itemMap.set(this._getItemIdBeforeAdding(a),a)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,t){return this.addMany([e],t)}addMany(e,t){if(t===void 0)t=this._items.length;else if(t>this._items.length||t<0)throw new L("collection-add-item-invalid-index",this);let n=0;for(const a of e){const c=this._getItemIdBeforeAdding(a),p=t+n;this._items.splice(p,0,a),this._itemMap.set(c,a),this.fire("add",a,p),n++}return this.fire("change",{added:e,removed:[],index:t}),this}get(e){let t;if(typeof e=="string")t=this._itemMap.get(e);else{if(typeof e!="number")throw new L("collection-get-invalid-arg",this);t=this._items[e]}return t||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const t=e[this._idProperty];return t&&this._itemMap.has(t)}}getIndex(e){let t;return t=typeof e=="string"?this._itemMap.get(e):e,t?this._items.indexOf(t):-1}remove(e){const[t,n]=this._remove(e);return this.fire("change",{added:[],removed:[t],index:n}),t}map(e,t){return this._items.map(e,t)}find(e,t){return this._items.find(e,t)}filter(e,t){return this._items.filter(e,t)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new L("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:t=>{this._setUpBindToBinding(n=>new t(n))},using:t=>{typeof t=="function"?this._setUpBindToBinding(t):this._setUpBindToBinding(n=>n[t])}}}_setUpBindToBinding(e){const t=this._bindToCollection,n=(a,c,p)=>{const _=t._bindToCollection==this,w=t._bindToInternalToExternalMap.get(c);if(_&&w)this._bindToExternalToInternalMap.set(c,w),this._bindToInternalToExternalMap.set(w,c);else{const E=e(c);if(!E)return void this._skippedIndexesFromExternal.push(p);let I=p;for(const O of this._skippedIndexesFromExternal)p>O&&I--;for(const O of t._skippedIndexesFromExternal)I>=O&&I++;this._bindToExternalToInternalMap.set(c,E),this._bindToInternalToExternalMap.set(E,c),this.add(E,I);for(let O=0;O<t._skippedIndexesFromExternal.length;O++)I<=t._skippedIndexesFromExternal[O]&&t._skippedIndexesFromExternal[O]++}};for(const a of t)n(0,a,t.getIndex(a));this.listenTo(t,"add",n),this.listenTo(t,"remove",(a,c,p)=>{const _=this._bindToExternalToInternalMap.get(c);_&&this.remove(_),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((w,E)=>(p<E&&w.push(E-1),p>E&&w.push(E),w),[])})}_getItemIdBeforeAdding(e){const t=this._idProperty;let n;if(t in e){if(n=e[t],typeof n!="string")throw new L("collection-add-invalid-id",this);if(this.get(n))throw new L("collection-add-item-already-exists",this)}else e[t]=n=S();return n}_remove(e){let t,n,a,c=!1;const p=this._idProperty;if(typeof e=="string"?(n=e,a=this._itemMap.get(n),c=!a,a&&(t=this._items.indexOf(a))):typeof e=="number"?(t=e,a=this._items[t],c=!a,a&&(n=a[p])):(a=e,n=a[p],t=this._items.indexOf(a),c=t==-1||!this._itemMap.get(n)),c)throw new L("collection-remove-404",this);this._items.splice(t,1),this._itemMap.delete(n);const _=this._bindToInternalToExternalMap.get(a);return this._bindToInternalToExternalMap.delete(a),this._bindToExternalToInternalMap.delete(_),this.fire("remove",a,t),[a,t]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function Hn(s){const e=s.next();return e.done?null:e.value}class Ai extends yr(de()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(e){if(this._elements.has(e))throw new L("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class Fi{constructor(){this._listener=new(yr())}listenTo(e){this._listener.listenTo(e,"keydown",(t,n)=>{this._listener.fire("_keydown:"+La(n),n)})}set(e,t,n={}){const a=zd(e),c=n.priority;this._listener.listenTo(this._listener,"_keydown:"+a,(p,_)=>{t(_,()=>{_.preventDefault(),_.stopPropagation(),p.stop()}),p.return=!0},{priority:c})}press(e){return!!this._listener.fire("_keydown:"+La(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}function Qo(s){return Ae(s)?new Map(s):function(e){const t=new Map;for(const n in e)t.set(n,e[n]);return t}(s)}function Zf(s,e){let t;function n(...a){n.cancel(),t=setTimeout(()=>s(...a),e)}return n.cancel=()=>{clearTimeout(t)},n}function Qf(s,e){return!!(t=s.charAt(e-1))&&t.length==1&&/[\ud800-\udbff]/.test(t)&&function(n){return!!n&&n.length==1&&/[\udc00-\udfff]/.test(n)}(s.charAt(e));var t}function Jf(s,e){return!!(t=s.charAt(e))&&t.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(t);var t}const qS=function(){const s=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],e=new RegExp("\\p{Regional_Indicator}{2}","u").source,t="(?:"+s.map(n=>n.source).join("|")+")";return new RegExp(`${e}|${t}(?:‍${t})*`,"ug")}();function j_(s,e){const t=String(s).matchAll(qS);return Array.from(t).some(n=>n.index<e&&e<n.index+n[0].length)}class Ne extends de(){constructor(e){super(),this._disableStack=new Set,this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",z_,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",z_),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function z_(s){s.return=!1,s.stop()}class Nt extends de(){constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(e,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",t=>{if(!this.affectsData)return;const n=e.model.document.selection,a=n.getFirstPosition().root.rootName!="$graveyard"&&e.model.canEditAt(n);(e.isReadOnly||this._isEnabledBasedOnSelection&&!a)&&(t.return=!1,t.stop())},{priority:"highest"}),this.on("execute",t=>{this.isEnabled||t.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",F_,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",F_),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function F_(s){s.return=!1,s.stop()}class V_ extends Nt{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...e){const t=this._getFirstEnabledCommand();return!!t&&t.execute(e)}registerChildCommand(e,t={}){B(this._childCommandsDefinitions,{command:e,priority:t.priority||"normal"}),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const e=this._childCommandsDefinitions.find(({command:t})=>t.isEnabled);return e&&e.command}}class U_ extends J(){constructor(e,t=[],n=[]){super(),this._plugins=new Map,this._context=e,this._availablePlugins=new Map;for(const a of t)a.pluginName&&this._availablePlugins.set(a.pluginName,a);this._contextPlugins=new Map;for(const[a,c]of n)this._contextPlugins.set(a,c),this._contextPlugins.set(c,a),a.pluginName&&this._availablePlugins.set(a.pluginName,a)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const t=this._plugins.get(e);if(!t){let n=e;throw typeof e=="function"&&(n=e.pluginName||e.name),new L("plugincollection-plugin-not-loaded",this._context,{plugin:n})}return t}has(e){return this._plugins.has(e)}init(e,t=[],n=[]){const a=this,c=this._context;(function G(Q,ie=new Set){Q.forEach(he=>{w(he)&&(ie.has(he)||(ie.add(he),he.pluginName&&!a._availablePlugins.has(he.pluginName)&&a._availablePlugins.set(he.pluginName,he),he.requires&&G(he.requires,ie)))})})(e),$(e);const p=[...function G(Q,ie=new Set){return Q.map(he=>w(he)?he:a._availablePlugins.get(he)).reduce((he,ye)=>ie.has(ye)?he:(ie.add(ye),ye.requires&&($(ye.requires,ye),G(ye.requires,ie).forEach(Oe=>he.add(Oe))),he.add(ye)),new Set)}(e.filter(G=>!I(G,t)))];(function(G,Q){for(const ie of Q){if(typeof ie!="function")throw new L("plugincollection-replace-plugin-invalid-type",null,{pluginItem:ie});const he=ie.pluginName;if(!he)throw new L("plugincollection-replace-plugin-missing-name",null,{pluginItem:ie});if(ie.requires&&ie.requires.length)throw new L("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:he});const ye=a._availablePlugins.get(he);if(!ye)throw new L("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:he});const Oe=G.indexOf(ye);if(Oe===-1){if(a._contextPlugins.has(ye))return;throw new L("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:he})}if(ye.requires&&ye.requires.length)throw new L("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:he});G.splice(Oe,1,ie),a._availablePlugins.set(he,ie)}})(p,n);const _=p.map(G=>{let Q=a._contextPlugins.get(G);return Q=Q||new G(c),a._add(G,Q),Q});return V(_,"init").then(()=>V(_,"afterInit")).then(()=>_);function w(G){return typeof G=="function"}function E(G){return w(G)&&!!G.isContextPlugin}function I(G,Q){return Q.some(ie=>ie===G||O(G)===ie||O(ie)===G)}function O(G){return w(G)?G.pluginName||G.name:G}function $(G,Q=null){G.map(ie=>w(ie)?ie:a._availablePlugins.get(ie)||ie).forEach(ie=>{(function(he,ye){if(!w(he))throw ye?new L("plugincollection-soft-required",c,{missingPlugin:he,requiredBy:O(ye)}):new L("plugincollection-plugin-not-found",c,{plugin:he})})(ie,Q),function(he,ye){if(E(ye)&&!E(he))throw new L("plugincollection-context-required",c,{plugin:O(he),requiredBy:O(ye)})}(ie,Q),function(he,ye){if(ye&&I(he,t))throw new L("plugincollection-required",c,{plugin:O(he),requiredBy:O(ye)})}(ie,Q)})}function V(G,Q){return G.reduce((ie,he)=>he[Q]?a._contextPlugins.has(he)?ie:ie.then(he[Q].bind(he)):ie,Promise.resolve())}}destroy(){const e=[];for(const[,t]of this)typeof t.destroy!="function"||this._contextPlugins.has(t)||e.push(t.destroy());return Promise.all(e)}_add(e,t){this._plugins.set(e,t);const n=e.pluginName;if(n){if(this._plugins.has(n))throw new L("plugincollection-plugin-name-conflict",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:e});this._plugins.set(n,t)}}}class H_{constructor(e){this._contextOwner=null,this.config=new __(e,this.constructor.defaultConfig);const t=this.constructor.builtinPlugins;this.config.define("plugins",t),this.plugins=new U_(this,t);const n=this.config.get("language")||{};this.locale=new YS({uiLanguage:typeof n=="string"?n:n.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new Oi}initPlugins(){const e=this.config.get("plugins")||[],t=this.config.get("substitutePlugins")||[];for(const n of e.concat(t)){if(typeof n!="function")throw new L("context-initplugins-constructor-only",null,{Plugin:n});if(n.isContextPlugin!==!0)throw new L("context-initplugins-invalid-plugin",null,{Plugin:n})}return this.plugins.init(e,[],t)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,t){if(this._contextOwner)throw new L("context-addeditor-private-context");this.editors.add(e),t&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const t of this.config.names())["plugins","removePlugins","extraPlugins"].includes(t)||(e[t]=this.config.get(t));return e}static create(e){return new Promise(t=>{const n=new this(e);t(n.initPlugins().then(()=>n))})}}class Fd extends de(){constructor(e){super(),this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}class ZS extends Fi{constructor(e){super(),this.editor=e}set(e,t,n={}){if(typeof t=="string"){const a=t;t=(c,p)=>{this.editor.execute(a),p()}}super.set(e,t,n)}}var QS=d(6062),pt=d.n(QS),W_=d(4717),JS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(W_.Z,JS),W_.Z.locals;const Vd=new WeakMap;function G_({view:s,element:e,isDirectHost:t=!0,keepOnFocus:n=!1}){const a=s.document;function c(p){Vd.get(a).set(e,{text:p,isDirectHost:t,keepOnFocus:n,hostElement:t?e:null}),s.change(_=>Xf(a,_))}Vd.has(a)||(Vd.set(a,new Map),a.registerPostFixer(p=>Xf(a,p)),a.on("change:isComposing",()=>{s.change(p=>Xf(a,p))},{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",(p,_,w)=>{c(w)}),e.placeholder&&c(e.placeholder)}function XS(s,e){return!!e.hasClass("ck-placeholder")&&(s.removeClass("ck-placeholder",e),!0)}function Xf(s,e){const t=Vd.get(s),n=[];let a=!1;for(const[c,p]of t)p.isDirectHost&&(n.push(c),K_(e,c,p)&&(a=!0));for(const[c,p]of t){if(p.isDirectHost)continue;const _=e7(c);_&&(n.includes(_)||(p.hostElement=_,K_(e,c,p)&&(a=!0)))}return a}function K_(s,e,t){const{text:n,isDirectHost:a,hostElement:c}=t;let p=!1;return c.getAttribute("data-placeholder")!==n&&(s.setAttribute("data-placeholder",n,c),p=!0),(a||e.childCount==1)&&function(_,w){if(!_.isAttached()||Array.from(_.getChildren()).some(O=>!O.is("uiElement")))return!1;const E=_.document,I=E.selection.anchor;return!(E.isComposing&&I&&I.parent===_||!w&&E.isFocused&&(!I||I.parent===_))}(c,t.keepOnFocus)?function(_,w){return!w.hasClass("ck-placeholder")&&(_.addClass("ck-placeholder",w),!0)}(s,c)&&(p=!0):XS(s,c)&&(p=!0),p}function e7(s){if(s.childCount){const e=s.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}class Ls{is(){throw new Error("is() method is abstract")}}const Y_=function(s){return Hf(s,4)};class Rs extends J(Ls){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new L("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.index),t=t.parent;return e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}getCommonAncestor(e,t={}){const n=this.getAncestors(t),a=e.getAncestors(t);let c=0;for(;n[c]==a[c]&&n[c];)c++;return c===0?null:n[c-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),n=e.getPath(),a=Fe(t,n);switch(a){case"prefix":return!0;case"extension":return!1;default:return t[a]<n[a]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t){this.fire(`change:${e}`,t),this.parent&&this.parent._fireChange(e,t)}toJSON(){const e=Y_(this);return delete e.parent,e}}Rs.prototype.is=function(s){return s==="node"||s==="view:node"};class yn extends Rs{constructor(e,t){super(e),this._textData=t}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof yn&&(this===e||this.data===e.data)}_clone(){return new yn(this.document,this.data)}}yn.prototype.is=function(s){return s==="$text"||s==="view:$text"||s==="text"||s==="view:text"||s==="node"||s==="view:node"};class Jo extends Ls{constructor(e,t,n){if(super(),this.textNode=e,t<0||t>e.data.length)throw new L("view-textproxy-wrong-offsetintext",this);if(n<0||t+n>e.data.length)throw new L("view-textproxy-wrong-length",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const t=[];let n=e.includeSelf?this.textNode:this.parent;for(;n!==null;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}}Jo.prototype.is=function(s){return s==="$textProxy"||s==="view:$textProxy"||s==="textProxy"||s==="view:textProxy"};class Oo{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let t of e)(typeof t=="string"||t instanceof RegExp)&&(t={name:t}),this._patterns.push(t)}match(...e){for(const t of e)for(const n of this._patterns){const a=q_(t,n);if(a)return{element:t,pattern:n,match:a}}return null}matchAll(...e){const t=[];for(const n of e)for(const a of this._patterns){const c=q_(n,a);c&&t.push({element:n,pattern:a,match:c})}return t.length>0?t:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],t=e.name;return typeof e=="function"||!t||t instanceof RegExp?null:t}}function q_(s,e){if(typeof e=="function")return e(s);const t={};return e.name&&(t.name=function(n,a){return n instanceof RegExp?!!a.match(n):n===a}(e.name,s.name),!t.name)||e.attributes&&(t.attributes=function(n,a){const c=new Set(a.getAttributeKeys());return kn(n)?(n.style!==void 0&&j("matcher-pattern-deprecated-attributes-style-key",n),n.class!==void 0&&j("matcher-pattern-deprecated-attributes-class-key",n)):(c.delete("style"),c.delete("class")),ep(n,c,p=>a.getAttribute(p))}(e.attributes,s),!t.attributes)||e.classes&&(t.classes=function(n,a){return ep(n,a.getClassNames(),()=>{})}(e.classes,s),!t.classes)||e.styles&&(t.styles=function(n,a){return ep(n,a.getStyleNames(!0),c=>a.getStyle(c))}(e.styles,s),!t.styles)?null:t}function ep(s,e,t){const n=function(p){return Array.isArray(p)?p.map(_=>kn(_)?(_.key!==void 0&&_.value!==void 0||j("matcher-pattern-missing-key-or-value",_),[_.key,_.value]):[_,!0]):kn(p)?Object.entries(p):[[p,!0]]}(s),a=Array.from(e),c=[];if(n.forEach(([p,_])=>{a.forEach(w=>{(function(E,I){return E===!0||E===I||E instanceof RegExp&&I.match(E)})(p,w)&&function(E,I,O){if(E===!0)return!0;const $=O(I);return E===$||E instanceof RegExp&&!!String($).match(E)}(_,w,t)&&c.push(w)})}),n.length&&!(c.length<n.length))return c}const Ud=function(s){return typeof s=="symbol"||Je(s)&&Se(s)=="[object Symbol]"};var t7=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n7=/^\w*$/;const i7=function(s,e){if(Re(s))return!1;var t=typeof s;return!(t!="number"&&t!="symbol"&&t!="boolean"&&s!=null&&!Ud(s))||n7.test(s)||!t7.test(s)||e!=null&&s in Object(e)};function tp(s,e){if(typeof s!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var t=function(){var n=arguments,a=e?e.apply(this,n):n[0],c=t.cache;if(c.has(a))return c.get(a);var p=s.apply(this,n);return t.cache=c.set(a,p)||c,p};return t.cache=new(tp.Cache||Md),t}tp.Cache=Md;const o7=tp,r7=function(s){var e=o7(s,function(n){return t.size===500&&t.clear(),n}),t=e.cache;return e};var s7=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a7=/\\(\\)?/g,l7=r7(function(s){var e=[];return s.charCodeAt(0)===46&&e.push(""),s.replace(s7,function(t,n,a,c){e.push(a?c.replace(a7,"$1"):n||t)}),e});const c7=l7,d7=function(s,e){for(var t=-1,n=s==null?0:s.length,a=Array(n);++t<n;)a[t]=e(s[t],t,s);return a};var Z_=mt?mt.prototype:void 0,Q_=Z_?Z_.toString:void 0;const u7=function s(e){if(typeof e=="string")return e;if(Re(e))return d7(e,s)+"";if(Ud(e))return Q_?Q_.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t},np=function(s){return s==null?"":u7(s)},ip=function(s,e){return Re(s)?s:i7(s,e)?[s]:c7(np(s))},h7=function(s){var e=s==null?0:s.length;return e?s[e-1]:void 0},op=function(s){if(typeof s=="string"||Ud(s))return s;var e=s+"";return e=="0"&&1/s==-1/0?"-0":e},J_=function(s,e){for(var t=0,n=(e=ip(e,s)).length;s!=null&&t<n;)s=s[op(e[t++])];return t&&t==n?s:void 0},X_=function(s,e,t){var n=-1,a=s.length;e<0&&(e=-e>a?0:a+e),(t=t>a?a:t)<0&&(t+=a),a=e>t?0:t-e>>>0,e>>>=0;for(var c=Array(a);++n<a;)c[n]=s[n+e];return c},f7=function(s,e){return e.length<2?s:J_(s,X_(e,0,-1))},p7=function(s,e){return e=ip(e,s),(s=f7(s,e))==null||delete s[op(h7(e))]},m7=function(s,e){return s==null||p7(s,e)},Hd=function(s,e,t){var n=s==null?void 0:J_(s,e);return n===void 0?t:n},rp=function(s,e,t){(t!==void 0&&!Ts(s[e],t)||t===void 0&&!(e in s))&&Df(s,e,t)},g7=function(s){return function(e,t,n){for(var a=-1,c=Object(e),p=n(e),_=p.length;_--;){var w=p[s?_:++a];if(t(c[w],w,c)===!1)break}return e}}(),_7=function(s){return Je(s)&&Od(s)},sp=function(s,e){if((e!=="constructor"||typeof s[e]!="function")&&e!="__proto__")return s[e]},b7=function(s){return Pa(s,Ba(s))},v7=function(s,e,t,n,a,c,p){var _=sp(s,t),w=sp(e,t),E=p.get(w);if(E)rp(s,t,E);else{var I=c?c(_,w,t+"",s,e,p):void 0,O=I===void 0;if(O){var $=Re(w),V=!$&&Ul(w),G=!$&&!V&&Bf(w);I=w,$||V||G?Re(_)?I=_:_7(_)?I=Z1(_):V?(O=!1,I=q1(w,!0)):G?(O=!1,I=c_(w,!0)):I=[]:kn(w)||If(w)?(I=_,If(_)?I=b7(_):te(_)&&!jl(_)||(I=u_(w))):O=!1}O&&(p.set(w,I),a(I,w,n,c,p),p.delete(w)),rp(s,t,I)}},k7=function s(e,t,n,a,c){e!==t&&g7(t,function(p,_){if(c||(c=new Vl),te(p))v7(e,t,_,n,s,a,c);else{var w=a?a(sp(e,_),p,_+"",e,t,c):void 0;w===void 0&&(w=p),rp(e,_,w)}},Ba)},Ns=function(s){return s},w7=function(s,e,t){switch(t.length){case 0:return s.call(e);case 1:return s.call(e,t[0]);case 2:return s.call(e,t[0],t[1]);case 3:return s.call(e,t[0],t[1],t[2])}return s.apply(e,t)};var eb=Math.max;const y7=function(s,e,t){return e=eb(e===void 0?s.length-1:e,0),function(){for(var n=arguments,a=-1,c=eb(n.length-e,0),p=Array(c);++a<c;)p[a]=n[e+a];a=-1;for(var _=Array(e+1);++a<e;)_[a]=n[a];return _[e]=t(p),w7(s,this,_)}},C7=function(s){return function(){return s}},A7=Pd?function(s,e){return Pd(s,"toString",{configurable:!0,enumerable:!1,value:C7(e),writable:!0})}:Ns;var x7=Date.now;const S7=function(s){var e=0,t=0;return function(){var n=x7(),a=16-(n-t);if(t=n,a>0){if(++e>=800)return arguments[0]}else e=0;return s.apply(void 0,arguments)}}(A7),E7=function(s,e){return S7(y7(s,e,Ns),s+"")},D7=function(s,e,t){if(!te(t))return!1;var n=typeof e;return!!(n=="number"?Od(t)&&Mf(e,t.length):n=="string"&&e in t)&&Ts(t[e],s)},tb=function(s){return E7(function(e,t){var n=-1,a=t.length,c=a>1?t[a-1]:void 0,p=a>2?t[2]:void 0;for(c=s.length>3&&typeof c=="function"?(a--,c):void 0,p&&D7(t[0],t[1],p)&&(c=a<3?void 0:c,a=1),e=Object(e);++n<a;){var _=t[n];_&&s(e,_,n,c)}return e})},nb=tb(function(s,e,t){k7(s,e,t)}),T7=function(s,e,t,n){if(!te(s))return s;for(var a=-1,c=(e=ip(e,s)).length,p=c-1,_=s;_!=null&&++a<c;){var w=op(e[a]),E=t;if(w==="__proto__"||w==="constructor"||w==="prototype")return s;if(a!=p){var I=_[w];(E=n?n(I,w,_):void 0)===void 0&&(E=te(I)?I:Mf(e[a+1])?[]:{})}Tf(_,w,E),_=_[w]}return s},I7=function(s,e,t){return s==null?s:T7(s,e,t)};class M7{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){const e=Object.entries(this._styles);return!Array.from(e).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const t=Array.from(function(n){let a=null,c=0,p=0,_=null;const w=new Map;if(n==="")return w;n.charAt(n.length-1)!=";"&&(n+=";");for(let E=0;E<n.length;E++){const I=n.charAt(E);if(a===null)switch(I){case":":_||(_=n.substr(c,E-c),p=E+1);break;case'"':case"'":a=I;break;case";":{const O=n.substr(p,E-p);_&&w.set(_.trim(),O.trim()),_=null,c=E+1;break}}else I===a&&(a=null)}return w}(e).entries());for(const[n,a]of t)this._styleProcessor.toNormalizedForm(n,a,this._styles)}has(e){if(this.isEmpty)return!1;const t=this._styleProcessor.getReducedForm(e,this._styles).find(([n])=>n===e);return Array.isArray(t)}set(e,t){if(te(e))for(const[n,a]of Object.entries(e))this._styleProcessor.toNormalizedForm(n,a,this._styles);else this._styleProcessor.toNormalizedForm(e,t,this._styles)}remove(e){const t=ap(e);m7(this._styles,t),delete this._styles[e],this._cleanEmptyObjectsOnPath(t)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!te(this._styles[e]))return this._styles[e];const t=this._styleProcessor.getReducedForm(e,this._styles).find(([n])=>n===e);return Array.isArray(t)?t[1]:void 0}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([t])=>t)}clear(){this._styles={}}_getStylesEntries(){const e=[],t=Object.keys(this._styles);for(const n of t)e.push(...this._styleProcessor.getReducedForm(n,this._styles));return e}_cleanEmptyObjectsOnPath(e){const t=e.split(".");if(!(t.length>1))return;const n=t.splice(0,t.length-1).join("."),a=Hd(this._styles,n);a&&!Array.from(Object.keys(a)).length&&this.remove(n)}}class P7{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,t,n){if(te(t))lp(n,ap(e),t);else if(this._normalizers.has(e)){const a=this._normalizers.get(e),{path:c,value:p}=a(t);lp(n,c,p)}else lp(n,e,t)}getNormalized(e,t){if(!e)return nb({},t);if(t[e]!==void 0)return t[e];if(this._extractors.has(e)){const n=this._extractors.get(e);if(typeof n=="string")return Hd(t,n);const a=n(e,t);if(a)return a}return Hd(t,ap(e))}getReducedForm(e,t){const n=this.getNormalized(e,t);return n===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(n):[[e,n]]}getStyleNames(e){const t=Array.from(this._consumables.keys()).filter(a=>{const c=this.getNormalized(a,e);return c&&typeof c=="object"?Object.keys(c).length:c}),n=new Set([...t,...Object.keys(e)]);return Array.from(n.values())}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,t){this._normalizers.set(e,t)}setExtractor(e,t){this._extractors.set(e,t)}setReducer(e,t){this._reducers.set(e,t)}setStyleRelation(e,t){this._mapStyleNames(e,t);for(const n of t)this._mapStyleNames(n,[e])}_mapStyleNames(e,t){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...t)}}function ap(s){return s.replace("-",".")}function lp(s,e,t){let n=t;te(t)&&(n=nb({},Hd(s,e),t)),I7(s,e,n)}class no extends Rs{constructor(e,t,n,a){if(super(e),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=t,this._attrs=function(c){const p=Qo(c);for(const[_,w]of p)w===null?p.delete(_):typeof w!="string"&&p.set(_,String(w));return p}(n),this._children=[],a&&this._insertChild(0,a),this._classes=new Set,this._attrs.has("class")){const c=this._attrs.get("class");ib(this._classes,c),this._attrs.delete("class")}this._styles=new M7(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const t=this._styles.toString();return t==""?void 0:t}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof no))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[t,n]of this._attrs)if(!e._attrs.has(t)||e._attrs.get(t)!==n)return!1;for(const t of this._classes)if(!e._classes.has(t))return!1;for(const t of this._styles.getStyleNames())if(!e._styles.has(t)||e._styles.getAsString(t)!==this._styles.getAsString(t))return!1;return!0}hasClass(...e){for(const t of e)if(!this._classes.has(t))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const t of e)if(!this._styles.has(t))return!1;return!0}findAncestor(...e){const t=new Oo(...e);let n=this.parent;for(;n&&!n.is("documentFragment");){if(t.match(n))return n;n=n.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),t=this._styles.toString(),n=Array.from(this._attrs).map(a=>`${a[0]}="${a[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(t?` style="${t}"`:"")+(n==""?"":` ${n}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const t=[];if(e)for(const a of this.getChildren())t.push(a._clone(e));const n=new this.constructor(this.document,this.name,this._attrs,t);return n._classes=new Set(this._classes),n._styles.set(this._styles.getNormalized()),n._customProperties=new Map(this._customProperties),n.getFillerOffset=this.getFillerOffset,n._unsafeAttributesToRender=this._unsafeAttributesToRender,n}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange("children",this);let n=0;const a=function(c,p){return typeof p=="string"?[new yn(c,p)]:(Ae(p)||(p=[p]),Array.from(p).map(_=>typeof _=="string"?new yn(c,_):_ instanceof Jo?new yn(c,_.data):_))}(this.document,t);for(const c of a)c.parent!==null&&c._remove(),c.parent=this,c.document=this.document,this._children.splice(e,0,c),e++,n++;return n}_removeChildren(e,t=1){this._fireChange("children",this);for(let n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}_setAttribute(e,t){const n=String(t);this._fireChange("attributes",this),e=="class"?ib(this._classes,n):e=="style"?this._styles.setTo(n):this._attrs.set(e,n)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0&&(this._classes.clear(),!0):e=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const t of ui(e))this._classes.add(t)}_removeClass(e){this._fireChange("attributes",this);for(const t of ui(e))this._classes.delete(t)}_setStyle(e,t){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,t)}_removeStyle(e){this._fireChange("attributes",this);for(const t of ui(e))this._styles.remove(t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}function ib(s,e){const t=e.split(/\s+/);s.clear(),t.forEach(n=>s.add(n))}no.prototype.is=function(s,e){return e?e===this.name&&(s==="element"||s==="view:element"):s==="element"||s==="view:element"||s==="node"||s==="view:node"};class Kl extends no{constructor(e,t,n,a){super(e,t,n,a),this.getFillerOffset=ob}}function ob(){const s=[...this.getChildren()],e=s[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const t of s)if(!t.is("uiElement"))return null;return this.childCount}Kl.prototype.is=function(s,e){return e?e===this.name&&(s==="containerElement"||s==="view:containerElement"||s==="element"||s==="view:element"):s==="containerElement"||s==="view:containerElement"||s==="element"||s==="view:element"||s==="node"||s==="view:node"};class Wd extends de(Kl){constructor(e,t,n,a){super(e,t,n,a),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",c=>c&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}Wd.prototype.is=function(s,e){return e?e===this.name&&(s==="editableElement"||s==="view:editableElement"||s==="containerElement"||s==="view:containerElement"||s==="element"||s==="view:element"):s==="editableElement"||s==="view:editableElement"||s==="containerElement"||s==="view:containerElement"||s==="element"||s==="view:element"||s==="node"||s==="view:node"};const rb=Symbol("rootName");class sb extends Wd{constructor(e,t){super(e,t),this.rootName="main"}get rootName(){return this.getCustomProperty(rb)}set rootName(e){this._setCustomProperty(rb,e)}set _name(e){this.name=e}}sb.prototype.is=function(s,e){return e?e===this.name&&(s==="rootElement"||s==="view:rootElement"||s==="editableElement"||s==="view:editableElement"||s==="containerElement"||s==="view:containerElement"||s==="element"||s==="view:element"):s==="rootElement"||s==="view:rootElement"||s==="editableElement"||s==="view:editableElement"||s==="containerElement"||s==="view:containerElement"||s==="element"||s==="view:element"||s==="node"||s==="view:node"};class $s{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new L("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new L("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=st._createAt(e.startPosition):this._position=st._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,n;do n=this.position,t=this.next();while(!t.done&&e(t.value));t.done||(this._position=n)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const t=this.position,n=e.parent;if(n.parent===null&&e.offset===n.childCount)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let a;if(n instanceof yn){if(e.isAtEnd)return this._position=st._createAfter(n),this._next();a=n.data[e.offset]}else a=n.getChild(e.offset);if(a instanceof no){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}else e=new st(a,0);return this._position=e,this._formatReturnValue("elementStart",a,t,e,1)}if(a instanceof yn){if(this.singleCharacters)return e=new st(a,0),this._position=e,this._next();let c,p=a.data.length;return a==this._boundaryEndParent?(p=this.boundaries.end.offset,c=new Jo(a,0,p),e=st._createAfter(c)):(c=new Jo(a,0,a.data.length),e.offset++),this._position=e,this._formatReturnValue("text",c,t,e,p)}if(typeof a=="string"){let c;this.singleCharacters?c=1:c=(n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length)-e.offset;const p=new Jo(n,e.offset,c);return e.offset+=c,this._position=e,this._formatReturnValue("text",p,t,e,c)}return e=st._createAfter(n),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",n,t,e)}_previous(){let e=this.position.clone();const t=this.position,n=e.parent;if(n.parent===null&&e.offset===0)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let a;if(n instanceof yn){if(e.isAtStart)return this._position=st._createBefore(n),this._previous();a=n.data[e.offset-1]}else a=n.getChild(e.offset-1);if(a instanceof no)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",a,t,e,1)):(e=new st(a,a.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",a,t,e));if(a instanceof yn){if(this.singleCharacters)return e=new st(a,a.data.length),this._position=e,this._previous();let c,p=a.data.length;if(a==this._boundaryStartParent){const _=this.boundaries.start.offset;c=new Jo(a,_,a.data.length-_),p=c.data.length,e=st._createBefore(c)}else c=new Jo(a,0,a.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",c,t,e,p)}if(typeof a=="string"){let c;if(this.singleCharacters)c=1;else{const _=n===this._boundaryStartParent?this.boundaries.start.offset:0;c=e.offset-_}e.offset-=c;const p=new Jo(n,e.offset,c);return this._position=e,this._formatReturnValue("text",p,t,e,c)}return e=st._createBefore(n),this._position=e,this._formatReturnValue("elementStart",n,t,e,1)}_formatReturnValue(e,t,n,a,c){return t instanceof Jo&&(t.offsetInText+t.data.length==t.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?n=st._createAfter(t.textNode):(a=st._createAfter(t.textNode),this._position=a)),t.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?n=st._createBefore(t.textNode):(a=st._createBefore(t.textNode),this._position=a))),{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:a,length:c}}}}class st extends Ls{constructor(e,t){super(),this.parent=e,this.offset=t}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof Wd);){if(!e.parent)return null;e=e.parent}return e}getShiftedBy(e){const t=st._createAt(this),n=t.offset+e;return t.offset=n<0?0:n,t}getLastMatchingPosition(e,t={}){t.startPosition=this;const n=new $s(t);return n.skip(e),n.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const t=this.getAncestors(),n=e.getAncestors();let a=0;for(;t[a]==n[a]&&t[a];)a++;return a===0?null:t[a-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const t=this.parent.is("node")?this.parent.getPath():[],n=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),n.push(e.offset);const a=Fe(t,n);switch(a){case"prefix":return"before";case"extension":return"after";default:return t[a]<n[a]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new $s(e)}clone(){return new st(this.parent,this.offset)}static _createAt(e,t){if(e instanceof st)return new this(e.parent,e.offset);{const n=e;if(t=="end")t=n.is("$text")?n.data.length:n.childCount;else{if(t=="before")return this._createBefore(n);if(t=="after")return this._createAfter(n);if(t!==0&&!t)throw new L("view-createpositionat-offset-required",n)}return new st(n,t)}}static _createAfter(e){if(e.is("$textProxy"))return new st(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new L("view-position-after-root",e,{root:e});return new st(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new st(e.textNode,e.offsetInText);if(!e.parent)throw new L("view-position-before-root",e,{root:e});return new st(e.parent,e.index)}}st.prototype.is=function(s){return s==="position"||s==="view:position"};class Mt extends Ls{constructor(e,t=null){super(),this.start=e.clone(),this.end=t?t.clone():e.clone()}*[Symbol.iterator](){yield*new $s({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(Gd,{direction:"backward"}),t=this.end.getLastMatchingPosition(Gd);return e.parent.is("$text")&&e.isAtStart&&(e=st._createBefore(e.parent)),t.parent.is("$text")&&t.isAtEnd&&(t=st._createAfter(t.parent)),new Mt(e,t)}getTrimmed(){let e=this.start.getLastMatchingPosition(Gd);if(e.isAfter(this.end)||e.isEqual(this.end))return new Mt(e,e);let t=this.end.getLastMatchingPosition(Gd,{direction:"backward"});const n=e.nodeAfter,a=t.nodeBefore;return n&&n.is("$text")&&(e=new st(n,0)),a&&a.is("$text")&&(t=new st(a,a.data.length)),new Mt(e,t)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),a=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&a}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new Mt(this.start,e.start)),this.containsPosition(e.end)&&t.push(new Mt(e.end,this.end))):t.push(this.clone()),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,n=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(n=e.end),new Mt(t,n)}return null}getWalker(e={}){return e.boundaries=this,new $s(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}clone(){return new Mt(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new $s(e);for(const n of t)yield n.item}*getPositions(e={}){e.boundaries=this;const t=new $s(e);yield t.position;for(const n of t)yield n.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,t,n,a){return new this(new st(e,t),new st(n,a))}static _createFromPositionAndShift(e,t){const n=e,a=e.getShiftedBy(t);return t>0?new this(n,a):new this(a,n)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(st._createBefore(e),t)}}function Gd(s){return!(!s.item.is("attributeElement")&&!s.item.is("uiElement"))}Mt.prototype.is=function(s){return s==="range"||s==="view:range"};class Xo extends J(Ls){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?e.clone():null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let n=!1;for(const a of e._ranges)if(t.isEqual(a)){n=!0;break}if(!n)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const t=We(this.getRanges());if(t!=We(e.getRanges()))return!1;if(t==0)return!0;for(let n of this.getRanges()){n=n.getTrimmed();let a=!1;for(let c of e.getRanges())if(c=c.getTrimmed(),n.start.isEqual(c.start)&&n.end.isEqual(c.end)){a=!0;break}if(!a)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[t,n,a]=e;if(typeof n=="object"&&(a=n,n=void 0),t===null)this._setRanges([]),this._setFakeOptions(a);else if(t instanceof Xo||t instanceof cp)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof Mt)this._setRanges([t],a&&a.backward),this._setFakeOptions(a);else if(t instanceof st)this._setRanges([new Mt(t)]),this._setFakeOptions(a);else if(t instanceof Rs){const c=!!a&&!!a.backward;let p;if(n===void 0)throw new L("view-selection-setto-required-second-parameter",this);p=n=="in"?Mt._createIn(t):n=="on"?Mt._createOn(t):new Mt(st._createAt(t,n)),this._setRanges([p],c),this._setFakeOptions(a)}else{if(!Ae(t))throw new L("view-selection-setto-not-selectable",this);this._setRanges(t,a&&a.backward),this._setFakeOptions(a)}this.fire("change")}setFocus(e,t){if(this.anchor===null)throw new L("view-selection-setfocus-no-ranges",this);const n=st._createAt(e,t);if(n.compareWith(this.focus)=="same")return;const a=this.anchor;this._ranges.pop(),n.compareWith(a)=="before"?this._addRange(new Mt(n,a),!0):this._addRange(new Mt(a,n)),this.fire("change")}_setRanges(e,t=!1){e=Array.from(e),this._ranges=[];for(const n of e)this._addRange(n);this._lastRangeBackward=!!t}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,t=!1){if(!(e instanceof Mt))throw new L("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges)if(e.isIntersecting(t))throw new L("view-selection-range-intersects",this,{addedRange:e,intersectingRange:t});this._ranges.push(new Mt(e.start,e.end))}}Xo.prototype.is=function(s){return s==="selection"||s==="view:selection"};class cp extends J(Ls){constructor(...e){super(),this._selection=new Xo,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,t){this._selection.setFocus(e,t)}}cp.prototype.is=function(s){return s==="selection"||s=="documentSelection"||s=="view:selection"||s=="view:documentSelection"};class Ra extends C{constructor(e,t,n){super(e,t),this.startRange=n,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const dp=Symbol("bubbling contexts");function up(s){return class extends s{fire(e,...t){try{const n=e instanceof C?e:new C(this,e),a=hp(this);if(!a.size)return;if(Yl(n,"capturing",this),Na(a,"$capture",n,...t))return n.return;const c=n.startRange||this.selection.getFirstRange(),p=c?c.getContainedElement():null,_=!!p&&!!ab(a,p);let w=p||function(E){if(!E)return null;const I=E.start.parent,O=E.end.parent,$=I.getPath(),V=O.getPath();return $.length>V.length?I:O}(c);if(Yl(n,"atTarget",w),!_){if(Na(a,"$text",n,...t))return n.return;Yl(n,"bubbling",w)}for(;w;){if(w.is("rootElement")){if(Na(a,"$root",n,...t))return n.return}else if(w.is("element")&&Na(a,w.name,n,...t))return n.return;if(Na(a,w,n,...t))return n.return;w=w.parent,Yl(n,"bubbling",w)}return Yl(n,"bubbling",this),Na(a,"$document",n,...t),n.return}catch(n){L.rethrowUnexpectedError(n,this)}}_addEventListener(e,t,n){const a=ui(n.context||"$document"),c=hp(this);for(const p of a){let _=c.get(p);_||(_=new(J()),c.set(p,_)),this.listenTo(_,e,t,n)}}_removeEventListener(e,t){const n=hp(this);for(const a of n.values())this.stopListening(a,e,t)}}}{const s=up(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{up[e]=s.prototype[e]})}function Yl(s,e,t){s instanceof Ra&&(s._eventPhase=e,s._currentTarget=t)}function Na(s,e,t,...n){const a=typeof e=="string"?s.get(e):ab(s,e);return!!a&&(a.fire(t,...n),t.stop.called)}function ab(s,e){for(const[t,n]of s)if(typeof t=="function"&&t(e))return n;return null}function hp(s){return s[dp]||(s[dp]=new Map),s[dp]}class Kd extends up(de()){constructor(e){super(),this._postFixers=new Set,this.selection=new cp,this.roots=new Oi({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.map(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let t=!1;do for(const n of this._postFixers)if(t=n(e),t)break;while(t)}}class js extends no{constructor(e,t,n,a){super(e,t,n,a),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=O7}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new L("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const t=super._clone(e);return t._priority=this._priority,t._id=this._id,t}}function O7(){if(fp(this))return null;let s=this.parent;for(;s&&s.is("attributeElement");){if(fp(s)>1)return null;s=s.parent}return!s||fp(s)>1?null:this.childCount}function fp(s){return Array.from(s.getChildren()).filter(e=>!e.is("uiElement")).length}js.DEFAULT_PRIORITY=10,js.prototype.is=function(s,e){return e?e===this.name&&(s==="attributeElement"||s==="view:attributeElement"||s==="element"||s==="view:element"):s==="attributeElement"||s==="view:attributeElement"||s==="element"||s==="view:element"||s==="node"||s==="view:node"};class pp extends no{constructor(e,t,n,a){super(e,t,n,a),this.getFillerOffset=B7}_insertChild(e,t){if(t&&(t instanceof Rs||Array.from(t).length>0))throw new L("view-emptyelement-cannot-add",[this,t]);return 0}}function B7(){return null}pp.prototype.is=function(s,e){return e?e===this.name&&(s==="emptyElement"||s==="view:emptyElement"||s==="element"||s==="view:element"):s==="emptyElement"||s==="view:emptyElement"||s==="element"||s==="view:element"||s==="node"||s==="view:node"};class Yd extends no{constructor(e,t,n,a){super(e,t,n,a),this.getFillerOffset=R7}_insertChild(e,t){if(t&&(t instanceof Rs||Array.from(t).length>0))throw new L("view-uielement-cannot-add",[this,t]);return 0}render(e,t){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const n of this.getAttributeKeys())t.setAttribute(n,this.getAttribute(n));return t}}function L7(s){s.document.on("arrowKey",(e,t)=>function(n,a,c){if(a.keyCode==nn.arrowright){const p=a.domTarget.ownerDocument.defaultView.getSelection(),_=p.rangeCount==1&&p.getRangeAt(0).collapsed;if(_||a.shiftKey){const w=p.focusNode,E=p.focusOffset,I=c.domPositionToView(w,E);if(I===null)return;let O=!1;const $=I.getLastMatchingPosition(V=>(V.item.is("uiElement")&&(O=!0),!(!V.item.is("uiElement")&&!V.item.is("attributeElement"))));if(O){const V=c.viewPositionToDom($);_?p.collapse(V.parent,V.offset):p.extend(V.parent,V.offset)}}}}(0,t,s.domConverter),{priority:"low"})}function R7(){return null}Yd.prototype.is=function(s,e){return e?e===this.name&&(s==="uiElement"||s==="view:uiElement"||s==="element"||s==="view:element"):s==="uiElement"||s==="view:uiElement"||s==="element"||s==="view:element"||s==="node"||s==="view:node"};class mp extends no{constructor(e,t,n,a){super(e,t,n,a),this.getFillerOffset=N7}_insertChild(e,t){if(t&&(t instanceof Rs||Array.from(t).length>0))throw new L("view-rawelement-cannot-add",[this,t]);return 0}render(e,t){}}function N7(){return null}mp.prototype.is=function(s,e){return e?e===this.name&&(s==="rawElement"||s==="view:rawElement"||s==="element"||s==="view:element"):s==="rawElement"||s==="view:rawElement"||s===this.name||s==="view:"+this.name||s==="element"||s==="view:element"||s==="node"||s==="view:node"};class zs extends J(Ls){constructor(e,t){super(),this._children=[],this._customProperties=new Map,this.document=e,t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange("children",this);let n=0;const a=function(c,p){return typeof p=="string"?[new yn(c,p)]:(Ae(p)||(p=[p]),Array.from(p).map(_=>typeof _=="string"?new yn(c,_):_ instanceof Jo?new yn(c,_.data):_))}(this.document,t);for(const c of a)c.parent!==null&&c._remove(),c.parent=this,this._children.splice(e,0,c),e++,n++;return n}_removeChildren(e,t=1){this._fireChange("children",this);for(let n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}_fireChange(e,t){this.fire("change:"+e,t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}zs.prototype.is=function(s){return s==="documentFragment"||s==="view:documentFragment"};class lb{constructor(e){this._cloneGroups=new Map,this._slotFactory=null,this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,t){this.document.selection._setFocus(e,t)}createDocumentFragment(e){return new zs(this.document,e)}createText(e){return new yn(this.document,e)}createAttributeElement(e,t,n={}){const a=new js(this.document,e,t);return typeof n.priority=="number"&&(a._priority=n.priority),n.id&&(a._id=n.id),n.renderUnsafeAttributes&&a._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),a}createContainerElement(e,t,n={},a={}){let c=null;kn(n)?a=n:c=n;const p=new Kl(this.document,e,t,c);return a.renderUnsafeAttributes&&p._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),p}createEditableElement(e,t,n={}){const a=new Wd(this.document,e,t);return n.renderUnsafeAttributes&&a._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),a}createEmptyElement(e,t,n={}){const a=new pp(this.document,e,t);return n.renderUnsafeAttributes&&a._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),a}createUIElement(e,t,n){const a=new Yd(this.document,e,t);return n&&(a.render=n),a}createRawElement(e,t,n,a={}){const c=new mp(this.document,e,t);return n&&(c.render=n),a.renderUnsafeAttributes&&c._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),c}setAttribute(e,t,n){n._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,n){kn(e)&&n===void 0?t._setStyle(e):n._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,n){n._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){return e instanceof st?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const t=e.parent;if(!t.is("containerElement"))throw new L("view-writer-break-non-container-element",this.document);if(!t.parent)throw new L("view-writer-break-root",this.document);if(e.isAtStart)return st._createBefore(t);if(!e.isAtEnd){const n=t._clone(!1);this.insert(st._createAfter(t),n);const a=new Mt(e,st._createAt(t,"end")),c=new st(n,0);this.move(a,c)}return st._createAfter(t)}mergeAttributes(e){const t=e.offset,n=e.parent;if(n.is("$text"))return e;if(n.is("attributeElement")&&n.childCount===0){const p=n.parent,_=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new st(p,_))}const a=n.getChild(t-1),c=n.getChild(t);if(!a||!c)return e;if(a.is("$text")&&c.is("$text"))return db(a,c);if(a.is("attributeElement")&&c.is("attributeElement")&&a.isSimilar(c)){const p=a.childCount;return a._appendChild(c.getChildren()),c._remove(),this._removeFromClonedElementsGroup(c),this.mergeAttributes(new st(a,p))}return e}mergeContainers(e){const t=e.nodeBefore,n=e.nodeAfter;if(!(t&&n&&t.is("containerElement")&&n.is("containerElement")))throw new L("view-writer-merge-containers-invalid-position",this.document);const a=t.getChild(t.childCount-1),c=a instanceof yn?st._createAt(a,"end"):st._createAt(t,"end");return this.move(Mt._createIn(n),st._createAt(t,"end")),this.remove(Mt._createOn(n)),c}insert(e,t){ub(t=Ae(t)?[...t]:[t],this.document);const n=t.reduce((p,_)=>{const w=p[p.length-1],E=!_.is("uiElement");return w&&w.breakAttributes==E?w.nodes.push(_):p.push({breakAttributes:E,nodes:[_]}),p},[]);let a=null,c=e;for(const{nodes:p,breakAttributes:_}of n){const w=this._insertNodes(c,p,_);a||(a=w.start),c=w.end}return a?new Mt(a,c):new Mt(e)}remove(e){const t=e instanceof Mt?e:Mt._createOn(e);if(ql(t,this.document),t.isCollapsed)return new zs(this.document);const{start:n,end:a}=this._breakAttributesRange(t,!0),c=n.parent,p=a.offset-n.offset,_=c._removeChildren(n.offset,p);for(const E of _)this._removeFromClonedElementsGroup(E);const w=this.mergeAttributes(n);return t.start=w,t.end=w.clone(),new zs(this.document,_)}clear(e,t){ql(e,this.document);const n=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const a of n){const c=a.item;let p;if(c.is("element")&&t.isSimilar(c))p=Mt._createOn(c);else if(!a.nextPosition.isAfter(e.start)&&c.is("$textProxy")){const _=c.getAncestors().find(w=>w.is("element")&&t.isSimilar(w));_&&(p=Mt._createIn(_))}p&&(p.end.isAfter(e.end)&&(p.end=e.end),p.start.isBefore(e.start)&&(p.start=e.start),this.remove(p))}}move(e,t){let n;if(t.isAfter(e.end)){const a=(t=this._breakAttributes(t,!0)).parent,c=a.childCount;e=this._breakAttributesRange(e,!0),n=this.remove(e),t.offset+=a.childCount-c}else n=this.remove(e);return this.insert(t,n)}wrap(e,t){if(!(t instanceof js))throw new L("view-writer-wrap-invalid-attribute",this.document);if(ql(e,this.document),e.isCollapsed){let a=e.start;a.parent.is("element")&&(n=a.parent,!Array.from(n.getChildren()).some(p=>!p.is("uiElement")))&&(a=a.getLastMatchingPosition(p=>p.item.is("uiElement"))),a=this._wrapPosition(a,t);const c=this.document.selection;return c.isCollapsed&&c.getFirstPosition().isEqual(e.start)&&this.setSelection(a),new Mt(a)}return this._wrapRange(e,t);var n}unwrap(e,t){if(!(t instanceof js))throw new L("view-writer-unwrap-invalid-attribute",this.document);if(ql(e,this.document),e.isCollapsed)return e;const{start:n,end:a}=this._breakAttributesRange(e,!0),c=n.parent,p=this._unwrapChildren(c,n.offset,a.offset,t),_=this.mergeAttributes(p.start);_.isEqual(p.start)||p.end.offset--;const w=this.mergeAttributes(p.end);return new Mt(_,w)}rename(e,t){const n=new Kl(this.document,e,t.getAttributes());return this.insert(st._createAfter(t),n),this.move(Mt._createIn(t),st._createAt(n,0)),this.remove(Mt._createOn(t)),n}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,t){return st._createAt(e,t)}createPositionAfter(e){return st._createAfter(e)}createPositionBefore(e){return st._createBefore(e)}createRange(e,t){return new Mt(e,t)}createRangeOn(e){return Mt._createOn(e)}createRangeIn(e){return Mt._createIn(e)}createSelection(...e){return new Xo(...e)}createSlot(e="children"){if(!this._slotFactory)throw new L("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,t,n){let a,c;if(a=n?gp(e):e.parent.is("$text")?e.parent.parent:e.parent,!a)throw new L("view-writer-invalid-position-container",this.document);c=n?this._breakAttributes(e,!0):e.parent.is("$text")?_p(e):e;const p=a._insertChild(c.offset,t);for(const I of t)this._addToClonedElementsGroup(I);const _=c.getShiftedBy(p),w=this.mergeAttributes(c);w.isEqual(c)||_.offset--;const E=this.mergeAttributes(_);return new Mt(w,E)}_wrapChildren(e,t,n,a){let c=t;const p=[];for(;c<n;){const w=e.getChild(c),E=w.is("$text"),I=w.is("attributeElement");if(I&&this._wrapAttributeElement(a,w))p.push(new st(e,c));else if(E||!I||$7(a,w)){const O=a._clone();w._remove(),O._appendChild(w),e._insertChild(c,O),this._addToClonedElementsGroup(O),p.push(new st(e,c))}else this._wrapChildren(w,0,w.childCount,a);c++}let _=0;for(const w of p)w.offset-=_,w.offset!=t&&(this.mergeAttributes(w).isEqual(w)||(_++,n--));return Mt._createFromParentsAndOffsets(e,t,e,n)}_unwrapChildren(e,t,n,a){let c=t;const p=[];for(;c<n;){const w=e.getChild(c);if(w.is("attributeElement"))if(w.isSimilar(a)){const E=w.getChildren(),I=w.childCount;w._remove(),e._insertChild(c,E),this._removeFromClonedElementsGroup(w),p.push(new st(e,c),new st(e,c+I)),c+=I,n+=I-1}else this._unwrapAttributeElement(a,w)?(p.push(new st(e,c),new st(e,c+1)),c++):(this._unwrapChildren(w,0,w.childCount,a),c++);else c++}let _=0;for(const w of p)w.offset-=_,!(w.offset==t||w.offset==n)&&(this.mergeAttributes(w).isEqual(w)||(_++,n--));return Mt._createFromParentsAndOffsets(e,t,e,n)}_wrapRange(e,t){const{start:n,end:a}=this._breakAttributesRange(e,!0),c=n.parent,p=this._wrapChildren(c,n.offset,a.offset,t),_=this.mergeAttributes(p.start);_.isEqual(p.start)||p.end.offset--;const w=this.mergeAttributes(p.end);return new Mt(_,w)}_wrapPosition(e,t){if(t.isSimilar(e.parent))return cb(e.clone());e.parent.is("$text")&&(e=_p(e));const n=this.createAttributeElement("_wrapPosition-fake-element");n._priority=Number.POSITIVE_INFINITY,n.isSimilar=()=>!1,e.parent._insertChild(e.offset,n);const a=new Mt(e,e.getShiftedBy(1));this.wrap(a,t);const c=new st(n.parent,n.index);n._remove();const p=c.nodeBefore,_=c.nodeAfter;return p instanceof yn&&_ instanceof yn?db(p,_):cb(c)}_wrapAttributeElement(e,t){if(!hb(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const n of e.getAttributeKeys())if(n!=="class"&&n!=="style"&&t.hasAttribute(n)&&t.getAttribute(n)!==e.getAttribute(n))return!1;for(const n of e.getStyleNames())if(t.hasStyle(n)&&t.getStyle(n)!==e.getStyle(n))return!1;for(const n of e.getAttributeKeys())n!=="class"&&n!=="style"&&(t.hasAttribute(n)||this.setAttribute(n,e.getAttribute(n),t));for(const n of e.getStyleNames())t.hasStyle(n)||this.setStyle(n,e.getStyle(n),t);for(const n of e.getClassNames())t.hasClass(n)||this.addClass(n,t);return!0}_unwrapAttributeElement(e,t){if(!hb(e,t)||e.name!==t.name||e.priority!==t.priority)return!1;for(const n of e.getAttributeKeys())if(n!=="class"&&n!=="style"&&(!t.hasAttribute(n)||t.getAttribute(n)!==e.getAttribute(n)))return!1;if(!t.hasClass(...e.getClassNames()))return!1;for(const n of e.getStyleNames())if(!t.hasStyle(n)||t.getStyle(n)!==e.getStyle(n))return!1;for(const n of e.getAttributeKeys())n!=="class"&&n!=="style"&&this.removeAttribute(n,t);return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}_breakAttributesRange(e,t=!1){const n=e.start,a=e.end;if(ql(e,this.document),e.isCollapsed){const w=this._breakAttributes(e.start,t);return new Mt(w,w)}const c=this._breakAttributes(a,t),p=c.parent.childCount,_=this._breakAttributes(n,t);return c.offset+=c.parent.childCount-p,new Mt(_,c)}_breakAttributes(e,t=!1){const n=e.offset,a=e.parent;if(e.parent.is("emptyElement"))throw new L("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new L("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new L("view-writer-cannot-break-raw-element",this.document);if(!t&&a.is("$text")&&bp(a.parent)||bp(a))return e.clone();if(a.is("$text"))return this._breakAttributes(_p(e),t);if(n==a.childCount){const c=new st(a.parent,a.index+1);return this._breakAttributes(c,t)}if(n===0){const c=new st(a.parent,a.index);return this._breakAttributes(c,t)}{const c=a.index+1,p=a._clone();a.parent._insertChild(c,p),this._addToClonedElementsGroup(p);const _=a.childCount-n,w=a._removeChildren(n,_);p._appendChild(w);const E=new st(a.parent,c);return this._breakAttributes(E,t)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const a of e.getChildren())this._addToClonedElementsGroup(a);const t=e.id;if(!t)return;let n=this._cloneGroups.get(t);n||(n=new Set,this._cloneGroups.set(t,n)),n.add(e),e._clonesGroup=n}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const a of e.getChildren())this._removeFromClonedElementsGroup(a);const t=e.id;if(!t)return;const n=this._cloneGroups.get(t);n&&n.delete(e)}}function gp(s){let e=s.parent;for(;!bp(e);){if(!e)return;e=e.parent}return e}function $7(s,e){return s.priority<e.priority||!(s.priority>e.priority)&&s.getIdentity()<e.getIdentity()}function cb(s){const e=s.nodeBefore;if(e&&e.is("$text"))return new st(e,e.data.length);const t=s.nodeAfter;return t&&t.is("$text")?new st(t,0):s}function _p(s){if(s.offset==s.parent.data.length)return new st(s.parent.parent,s.parent.index+1);if(s.offset===0)return new st(s.parent.parent,s.parent.index);const e=s.parent.data.slice(s.offset);return s.parent._data=s.parent.data.slice(0,s.offset),s.parent.parent._insertChild(s.parent.index+1,new yn(s.root.document,e)),new st(s.parent.parent,s.parent.index+1)}function db(s,e){const t=s.data.length;return s._data+=e.data,e._remove(),new st(s,t)}const j7=[yn,js,Kl,pp,mp,Yd];function ub(s,e){for(const t of s){if(!j7.some(n=>t instanceof n))throw new L("view-writer-insert-invalid-node-type",e);t.is("$text")||ub(t.getChildren(),e)}}function bp(s){return s&&(s.is("containerElement")||s.is("documentFragment"))}function ql(s,e){const t=gp(s.start),n=gp(s.end);if(!t||!n||t!==n)throw new L("view-writer-invalid-range-container",e)}function hb(s,e){return s.id===null&&e.id===null}const fb=s=>s.createTextNode(" "),pb=s=>{const e=s.createElement("span");return e.dataset.ckeFiller="true",e.innerText=" ",e},mb=s=>{const e=s.createElement("br");return e.dataset.ckeFiller="true",e},Bo=7,Zl="⁠".repeat(Bo);function io(s){return typeof s=="string"?s.substr(0,Bo)===Zl:oi(s)&&s.data.substr(0,Bo)===Zl}function Ql(s){return s.data.length==Bo&&io(s)}function gb(s){const e=typeof s=="string"?s:s.data;return io(s)?e.slice(Bo):e}function z7(s,e){if(e.keyCode==nn.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(t.rangeCount==1&&t.getRangeAt(0).collapsed){const n=t.getRangeAt(0).startContainer,a=t.getRangeAt(0).startOffset;io(n)&&a<=Bo&&t.collapse(n,0)}}}var _b=d(9315),F7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(_b.Z,F7),_b.Z.locals;class V7 extends de(){constructor(e,t){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=e,this.selection=t,this.set("isFocused",!1),this.set("isSelecting",!1),g.isBlink&&!g.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(e,t){if(e==="text")this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if(e==="attributes")this.markedAttributes.add(t);else{if(e!=="children")throw new L("view-renderer-unknown-type",this);this.markedChildren.add(t)}}}render(){if(this.isComposing&&!g.isAndroid)return;let e=null;const t=!(g.isBlink&&!g.isAndroid)||!this.isSelecting;for(const n of this.markedChildren)this._updateChildrenMappings(n);t?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=st._createBefore(e.parent)));for(const n of this.markedAttributes)this._updateAttrs(n);for(const n of this.markedChildren)this._updateChildren(n,{inlineFillerPosition:e});for(const n of this.markedTexts)!this.markedChildren.has(n.parent)&&this.domConverter.mapViewToDom(n.parent)&&this._updateText(n,{inlineFillerPosition:e});if(t)if(e){const n=this.domConverter.viewPositionToDom(e),a=n.parent.ownerDocument;io(n.parent)?this._inlineFiller=n.parent:this._inlineFiller=bb(a,n.parent,n.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){if(!this.domConverter.mapViewToDom(e))return;const t=Array.from(this.domConverter.mapViewToDom(e).childNodes),n=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),a=this._diffNodeLists(t,n),c=this._findUpdateActions(a,t,n,U7);if(c.indexOf("update")!==-1){const p={equal:0,insert:0,delete:0};for(const _ of c)if(_==="update"){const w=p.equal+p.insert,E=p.equal+p.delete,I=e.getChild(w);!I||I.is("uiElement")||I.is("rawElement")||this._updateElementMappings(I,t[E]),M_(n[w]),p.equal++}else p[_]++}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?st._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&oi(t.parent)&&io(t.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!io(e))throw new L("view-renderer-filler-was-lost",this);Ql(e)?e.remove():e.data=e.data.substr(Bo),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=e.parent,n=e.offset;if(!this.domConverter.mapViewToDom(t.root)||!t.is("element")||!function(p){if(p.getAttribute("contenteditable")=="false")return!1;const _=p.findAncestor(w=>w.hasAttribute("contenteditable"));return!_||_.getAttribute("contenteditable")=="true"}(t)||n===t.getFillerOffset())return!1;const a=e.nodeBefore,c=e.nodeAfter;return!(a instanceof yn||c instanceof yn)&&(!g.isAndroid||!a&&!c)}_updateText(e,t){const n=this.domConverter.findCorrespondingDomText(e);let a=this.domConverter.viewToDom(e).data;const c=t.inlineFillerPosition;c&&c.parent==e.parent&&c.offset==e.index&&(a=Zl+a),vb(n,a)}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const n=Array.from(t.attributes).map(c=>c.name),a=e.getAttributeKeys();for(const c of a)this.domConverter.setDomElementAttribute(t,c,e.getAttribute(c),e);for(const c of n)e.hasAttribute(c)||this.domConverter.removeDomElementAttribute(t,c)}_updateChildren(e,t){const n=this.domConverter.mapViewToDom(e);if(!n)return;if(g.isAndroid){let O=null;for(const $ of Array.from(n.childNodes)){if(O&&oi(O)&&oi($)){n.normalize();break}O=$}}const a=t.inlineFillerPosition,c=n.childNodes,p=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));a&&a.parent===e&&bb(n.ownerDocument,p,a.offset);const _=this._diffNodeLists(c,p),w=this._findUpdateActions(_,c,p,H7);let E=0;const I=new Set;for(const O of w)O==="delete"?(I.add(c[E]),M_(c[E])):O!=="equal"&&O!=="update"||E++;E=0;for(const O of w)O==="insert"?(E_(n,E,p[E]),E++):O==="update"?(vb(c[E],p[E].data),E++):O==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(p[E])),E++);for(const O of I)O.parentNode||this.domConverter.unbindDomElement(O)}_diffNodeLists(e,t){return e=function(n,a){const c=Array.from(n);return c.length==0||!a||c[c.length-1]==a&&c.pop(),c}(e,this._fakeSelectionContainer),T(e,t,W7.bind(null,this.domConverter))}_findUpdateActions(e,t,n,a){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let c=[],p=[],_=[];const w={equal:0,insert:0,delete:0};for(const E of e)E==="insert"?_.push(n[w.equal+w.insert]):E==="delete"?p.push(t[w.equal+w.delete]):(c=c.concat(T(p,_,a).map(I=>I==="equal"?"update":I)),c.push("equal"),p=[],_=[]),w[E]++;return c.concat(T(p,_,a).map(E=>E==="equal"?"update":E))}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const t of e.getChildren())this._markDescendantTextToSync(t)}}_updateSelection(){if(g.isBlink&&!g.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&g.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(p){const _=p.createElement("div");return _.className="ck-fake-selection-container",Object.assign(_.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),_.textContent=" ",_}(t));const n=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(n,this.selection),!this._fakeSelectionNeedsUpdate(e))return;n.parentElement&&n.parentElement==e||e.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||" ";const a=t.getSelection(),c=t.createRange();a.removeAllRanges(),c.selectNodeContents(n),a.addRange(c)}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t))return;const n=this.domConverter.viewPositionToDom(this.selection.anchor),a=this.domConverter.viewPositionToDom(this.selection.focus);t.setBaseAndExtent(n.parent,n.offset,a.parent,a.offset),g.isGecko&&function(c,p){const _=c.parent;if(_.nodeType!=Node.ELEMENT_NODE||c.offset!=_.childNodes.length-1)return;const w=_.childNodes[c.offset];w&&w.tagName=="BR"&&p.addRange(p.getRangeAt(0))}(a,t)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const t=e&&this.domConverter.domSelectionToView(e);return(!t||!this.selection.isEqual(t))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(t))}_fakeSelectionNeedsUpdate(e){const t=this._fakeSelectionContainer,n=e.ownerDocument.getSelection();return!t||t.parentElement!==e||n.anchorNode!==t&&!t.contains(n.anchorNode)||t.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const t=e.getSelection();if(t.rangeCount){const n=e.activeElement,a=this.domConverter.mapDomToView(n);n&&a&&t.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function bb(s,e,t){const n=e instanceof Array?e:e.childNodes,a=n[t];if(oi(a))return a.data=Zl+a.data,a;{const c=s.createTextNode(Zl);return Array.isArray(e)?n.splice(t,0,c):E_(e,t,c),c}}function U7(s,e){return Zr(s)&&Zr(e)&&!oi(s)&&!oi(e)&&!Gl(s)&&!Gl(e)&&s.tagName.toLowerCase()===e.tagName.toLowerCase()}function H7(s,e){return Zr(s)&&Zr(e)&&oi(s)&&oi(e)}function W7(s,e,t){return e===t||(oi(e)&&oi(t)?e.data===t.data:!(!s.isBlockFiller(e)||!s.isBlockFiller(t)))}function vb(s,e){const t=s.data;if(t==e)return;const n=k(t,e);for(const a of n)a.type==="insert"?s.insertData(a.index,a.values.join("")):s.deleteData(a.index,a.howMany)}const G7=mb(Vt.document),K7=fb(Vt.document),Y7=pb(Vt.document),qd="data-ck-unsafe-attribute-",kb="data-ck-unsafe-element";class Zd{constructor(e,{blockFillerMode:t,renderingMode:n="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new Oo,this._inlineObjectElementMatcher=new Oo,this.document=e,this.renderingMode=n,this.blockFillerMode=t||(n==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?Vt.document:Vt.document.implementation.createHTMLDocument("")}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new Xo(t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(const n of Array.from(e.children))this.unbindDomElement(n)}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}shouldRenderAttribute(e,t,n){return this.renderingMode==="data"||!(e=e.toLowerCase()).startsWith("on")&&(e!=="srcdoc"||!t.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(n==="img"&&(e==="src"||e==="srcset")||n==="source"&&e==="srcset"||!t.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,t){if(this.renderingMode==="data")return void(e.innerHTML=t);const n=new DOMParser().parseFromString(t,"text/html"),a=n.createDocumentFragment(),c=n.body.childNodes;for(;c.length>0;)a.appendChild(c[0]);const p=n.createTreeWalker(a,NodeFilter.SHOW_ELEMENT),_=[];let w;for(;w=p.nextNode();)_.push(w);for(const E of _){for(const O of E.getAttributeNames())this.setDomElementAttribute(E,O,E.getAttribute(O));const I=E.tagName.toLowerCase();this._shouldRenameElement(I)&&(Cb(I),E.replaceWith(this._createReplacementDomElement(I,E)))}for(;e.firstChild;)e.firstChild.remove();e.append(a)}viewToDom(e,t={}){if(e.is("$text")){const n=this._processDataFromViewText(e);return this._domDocument.createTextNode(n)}{if(this.mapViewToDom(e))return this.mapViewToDom(e);let n;if(e.is("documentFragment"))n=this._domDocument.createDocumentFragment(),t.bind&&this.bindDocumentFragments(n,e);else{if(e.is("uiElement"))return n=e.name==="$comment"?this._domDocument.createComment(e.getCustomProperty("$rawContent")):e.render(this._domDocument,this),t.bind&&this.bindElements(n,e),n;this._shouldRenameElement(e.name)?(Cb(e.name),n=this._createReplacementDomElement(e.name)):n=e.hasAttribute("xmlns")?this._domDocument.createElementNS(e.getAttribute("xmlns"),e.name):this._domDocument.createElement(e.name),e.is("rawElement")&&e.render(n,this),t.bind&&this.bindElements(n,e);for(const a of e.getAttributeKeys())this.setDomElementAttribute(n,a,e.getAttribute(a),e)}if(t.withChildren!==!1)for(const a of this.viewChildrenToDom(e,t))n.appendChild(a);return n}}setDomElementAttribute(e,t,n,a){const c=this.shouldRenderAttribute(t,n,e.tagName.toLowerCase())||a&&a.shouldRenderUnsafeAttribute(t);c||j("domconverter-unsafe-attribute-detected",{domElement:e,key:t,value:n}),function(p){try{Vt.document.createAttribute(p)}catch{return!1}return!0}(t)?(e.hasAttribute(t)&&!c?e.removeAttribute(t):e.hasAttribute(qd+t)&&c&&e.removeAttribute(qd+t),e.setAttribute(c?t:qd+t,n)):j("domconverter-invalid-attribute-detected",{domElement:e,key:t,value:n})}removeDomElementAttribute(e,t){t!=kb&&(e.removeAttribute(t),e.removeAttribute(qd+t))}*viewChildrenToDom(e,t={}){const n=e.getFillerOffset&&e.getFillerOffset();let a=0;for(const c of e.getChildren()){n===a&&(yield this._getBlockFiller());const p=c.is("element")&&!!c.getCustomProperty("dataPipeline:transparentRendering")&&!Hn(c.getAttributes());p&&this.renderingMode=="data"?yield*this.viewChildrenToDom(c,t):(p&&j("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:c}),yield this.viewToDom(c,t)),a++}n===a&&(yield this._getBlockFiller())}viewRangeToDom(e){const t=this.viewPositionToDom(e.start),n=this.viewPositionToDom(e.end),a=this._domDocument.createRange();return a.setStart(t.parent,t.offset),a.setEnd(n.parent,n.offset),a}viewPositionToDom(e){const t=e.parent;if(t.is("$text")){const n=this.findCorrespondingDomText(t);if(!n)return null;let a=e.offset;return io(n)&&(a+=Bo),{parent:n,offset:a}}{let n,a,c;if(e.offset===0){if(n=this.mapViewToDom(t),!n)return null;c=n.childNodes[0]}else{const p=e.nodeBefore;if(a=p.is("$text")?this.findCorrespondingDomText(p):this.mapViewToDom(p),!a)return null;n=a.parentNode,c=a.nextSibling}return oi(c)&&io(c)?{parent:c,offset:Bo}:{parent:n,offset:a?jd(a)+1:0}}}domToView(e,t={}){const n=[],a=this._domToView(e,t,n),c=a.next().value;return c?(a.next(),this._processDomInlineNodes(null,n,t),c.is("$text")&&c.data.length==0?null:c):null}*domChildrenToView(e,t={},n=[]){for(let a=0;a<e.childNodes.length;a++){const c=e.childNodes[a],p=this._domToView(c,t,n),_=p.next().value;_!==null&&(this._isBlockViewElement(_)&&this._processDomInlineNodes(e,n,t),yield _,p.next())}this._processDomInlineNodes(e,n,t)}domSelectionToView(e){if(e.rangeCount===1){let a=e.getRangeAt(0).startContainer;oi(a)&&(a=a.parentNode);const c=this.fakeSelectionToView(a);if(c)return c}const t=this.isDomSelectionBackward(e),n=[];for(let a=0;a<e.rangeCount;a++){const c=e.getRangeAt(a),p=this.domRangeToView(c);p&&n.push(p)}return new Xo(n,{backward:t})}domRangeToView(e){const t=this.domPositionToView(e.startContainer,e.startOffset),n=this.domPositionToView(e.endContainer,e.endOffset);return t&&n?new Mt(t,n):null}domPositionToView(e,t=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,jd(e));const n=this.mapDomToView(e);if(n&&(n.is("uiElement")||n.is("rawElement")))return st._createBefore(n);if(oi(e)){if(Ql(e))return this.domPositionToView(e.parentNode,jd(e));const a=this.findCorrespondingViewText(e);let c=t;return a?(io(e)&&(c-=Bo,c=c<0?0:c),new st(a,c)):null}if(t===0){const a=this.mapDomToView(e);if(a)return new st(a,0)}else{const a=e.childNodes[t-1];if(oi(a)&&Ql(a)||a&&this.isBlockFiller(a))return this.domPositionToView(a.parentNode,jd(a));const c=oi(a)?this.findCorrespondingViewText(a):this.mapDomToView(a);if(c&&c.parent)return new st(c.parent,c.index+1)}return null}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(Ql(e))return null;const t=this.getHostViewElement(e);if(t)return t;const n=e.previousSibling;if(n){if(!this.isElement(n))return null;const a=this.mapDomToView(n);if(a){const c=a.nextSibling;return c instanceof yn?c:null}}else{const a=this.mapDomToView(e.parentNode);if(a){const c=a.getChild(0);return c instanceof yn?c:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){const{scrollX:n,scrollY:a}=Vt.window,c=[];wb(t,p=>{const{scrollLeft:_,scrollTop:w}=p;c.push([_,w])}),t.focus(),wb(t,p=>{const[_,w]=c.shift();p.scrollLeft=_,p.scrollTop=w}),Vt.window.scrollTo(n,a)}}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const t=e.ownerDocument.defaultView.getSelection(),n=this.domSelectionToView(t);n&&n.rangeCount>0&&t.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(G7):!(e.tagName!=="BR"||!yb(e,this.blockElements)||e.parentNode.childNodes.length!==1)||e.isEqualNode(Y7)||function(t,n){return t.isEqualNode(K7)&&yb(t,n)&&t.parentNode.childNodes.length===1}(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const t=this._domDocument.createRange();try{t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const n=t.collapsed;return t.detach(),n}getHostViewElement(e){const t=function(n){const a=[];let c=n;for(;c&&c.nodeType!=Node.DOCUMENT_NODE;)a.unshift(c),c=c.parentNode;return a}(e);for(t.pop();t.length;){const n=t.pop(),a=this._domToViewMapping.get(n);if(a&&(a.is("uiElement")||a.is("rawElement")))return a}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return fb(this._domDocument);case"markedNbsp":return pb(this._domDocument);case"br":return mb(this._domDocument)}}_isDomSelectionPositionCorrect(e,t){if(oi(e)&&io(e)&&t<Bo||this.isElement(e)&&io(e.childNodes[t]))return!1;const n=this.mapDomToView(e);return!n||!n.is("uiElement")&&!n.is("rawElement")}*_domToView(e,t,n){if(this.isBlockFiller(e))return null;const a=this.getHostViewElement(e);if(a)return a;if(Gl(e)&&t.skipComments)return null;if(oi(e)){if(Ql(e))return null;{const c=e.data;if(c==="")return null;const p=new yn(this.document,c);return n.push(p),p}}{let c=this.mapDomToView(e);if(c)return this._isInlineObjectElement(c)&&n.push(c),c;if(this.isDocumentFragment(e))c=new zs(this.document),t.bind&&this.bindDocumentFragments(e,c);else{c=this._createViewElement(e,t),t.bind&&this.bindElements(e,c);const _=e.attributes;if(_)for(let w=_.length,E=0;E<w;E++)c._setAttribute(_[E].name,_[E].value);if(this._isViewElementWithRawContent(c,t))return c._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(c)||n.push(c),c;if(Gl(e))return c._setCustomProperty("$rawContent",e.data),c}yield c;const p=[];if(t.withChildren!==!1)for(const _ of this.domChildrenToView(e,t,p))c._appendChild(_);if(this._isInlineObjectElement(c))n.push(c);else for(const _ of p)n.push(_)}}_processDomInlineNodes(e,t,n){if(!t.length||e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let a=!1;for(let c=0;c<t.length;c++){const p=t[c];if(!p.is("$text")){a=!1;continue}let _,w=!1;if(q7(p,this.preElements))_=gb(p.data);else{_=p.data.replace(/[ \n\t\r]{1,}/g," "),w=/[^\S\u00A0]/.test(_.charAt(_.length-1));const E=c>0?t[c-1]:null,I=c+1<t.length?t[c+1]:null,O=!E||E.is("element")&&E.name=="br"||a,$=!I&&!io(p.data);n.withChildren!==!1&&(O&&(_=_.replace(/^ /,"")),$&&(_=_.replace(/ $/,""))),_=gb(_),_=_.replace(/ \u00A0/g,"  ");const V=I&&I.is("element")&&I.name!="br",G=I&&I.is("$text")&&I.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(_)||!I||V||G)&&(_=_.replace(/\u00A0$/," ")),(O||E&&E.is("element")&&E.name!="br")&&(_=_.replace(/^\u00A0/," "))}_.length==0&&p.parent?(p._remove(),t.splice(c,1),c--):(p._data=_,a=w)}t.length=0}_processDataFromViewText(e){let t=e.data;if(e.getAncestors().some(n=>this.preElements.includes(n.name)))return t;if(t.charAt(0)==" "){const n=this._getTouchingInlineViewNode(e,!1);!(n&&n.is("$textProxy")&&this._nodeEndsWithSpace(n))&&n||(t=" "+t.substr(1))}if(t.charAt(t.length-1)==" "){const n=this._getTouchingInlineViewNode(e,!0),a=n&&n.is("$textProxy")&&n.data.charAt(0)==" ";t.charAt(t.length-2)!=" "&&n&&!a||(t=t.substr(0,t.length-1)+" ")}return t.replace(/ {2}/g,"  ")}_nodeEndsWithSpace(e){if(e.getAncestors().some(n=>this.preElements.includes(n.name)))return!1;const t=this._processDataFromViewText(e);return t.charAt(t.length-1)==" "}_getTouchingInlineViewNode(e,t){const n=new $s({startPosition:t?st._createAfter(e):st._createBefore(e),direction:t?"forward":"backward"});for(const a of n){if(a.item.is("element","br"))return null;if(this._isInlineObjectElement(a.item))return a.item;if(a.item.is("containerElement"))return null;if(a.item.is("$textProxy"))return a.item}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return!!e.is("element")&&(e.name=="br"||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e))}_createViewElement(e,t){if(Gl(e))return new Yd(this.document,"$comment");const n=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new no(this.document,n)}_isViewElementWithRawContent(e,t){return t.withChildren!==!1&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const t=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(t)}_createReplacementDomElement(e,t){const n=this._domDocument.createElement("span");if(n.setAttribute(kb,e),t){for(;t.firstChild;)n.appendChild(t.firstChild);for(const a of t.getAttributeNames())n.setAttribute(a,t.getAttribute(a))}return n}}function q7(s,e){return s.getAncestors().some(t=>t.is("element")&&e.includes(t.name))}function wb(s,e){let t=s;for(;t;)e(t),t=t.parentElement}function yb(s,e){const t=s.parentNode;return!!t&&!!t.tagName&&e.includes(t.tagName.toLowerCase())}function Cb(s){s==="script"&&j("domconverter-unsafe-script-element-detected"),s==="style"&&j("domconverter-unsafe-style-element-detected")}class er extends yr(){constructor(e){super(),this._isEnabled=!1,this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!(!e||e.nodeType!==1)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const Ab=tb(function(s,e){Pa(e,Ba(e),s)});class $a{constructor(e,t,n){this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,Ab(this,n)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Qr extends er{constructor(){super(...arguments),this.useCapture=!1}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(t=>{this.listenTo(e,t,(n,a)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(a.target)&&this.onDomEvent(a)},{useCapture:this.useCapture})})}stopObserving(e){this.stopListening(e)}fire(e,t,n){this.isEnabled&&this.document.fire(e,new $a(this.view,t,n))}}class Z7 extends Qr{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(e){const t={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return La(this)}};this.fire(e.type,e,t)}}const vp=function(){return dt.Date.now()};var Q7=/\s/;const J7=function(s){for(var e=s.length;e--&&Q7.test(s.charAt(e)););return e};var X7=/^\s+/;const eE=function(s){return s&&s.slice(0,J7(s)+1).replace(X7,"")};var tE=/^[-+]0x[0-9a-f]+$/i,nE=/^0b[01]+$/i,iE=/^0o[0-7]+$/i,oE=parseInt;const xb=function(s){if(typeof s=="number")return s;if(Ud(s))return NaN;if(te(s)){var e=typeof s.valueOf=="function"?s.valueOf():s;s=te(e)?e+"":e}if(typeof s!="string")return s===0?s:+s;s=eE(s);var t=nE.test(s);return t||iE.test(s)?oE(s.slice(2),t?2:8):tE.test(s)?NaN:+s};var rE=Math.max,sE=Math.min;const ja=function(s,e,t){var n,a,c,p,_,w,E=0,I=!1,O=!1,$=!0;if(typeof s!="function")throw new TypeError("Expected a function");function V(ye){var Oe=n,it=a;return n=a=void 0,E=ye,p=s.apply(it,Oe)}function G(ye){var Oe=ye-w;return w===void 0||Oe>=e||Oe<0||O&&ye-E>=c}function Q(){var ye=vp();if(G(ye))return ie(ye);_=setTimeout(Q,function(Oe){var it=e-(Oe-w);return O?sE(it,c-(Oe-E)):it}(ye))}function ie(ye){return _=void 0,$&&n?V(ye):(n=a=void 0,p)}function he(){var ye=vp(),Oe=G(ye);if(n=arguments,a=this,w=ye,Oe){if(_===void 0)return function(it){return E=it,_=setTimeout(Q,e),I?V(it):p}(w);if(O)return clearTimeout(_),_=setTimeout(Q,e),V(w)}return _===void 0&&(_=setTimeout(Q,e)),p}return e=xb(e)||0,te(t)&&(I=!!t.leading,c=(O="maxWait"in t)?rE(xb(t.maxWait)||0,e):c,$="trailing"in t?!!t.trailing:$),he.cancel=function(){_!==void 0&&clearTimeout(_),E=0,n=w=a=_=void 0},he.flush=function(){return _===void 0?p:ie(vp())},he};class aE extends er{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=ja(t=>{this.document.fire("selectionChangeDone",t)},200)}observe(){const e=this.document;e.on("arrowKey",(t,n)=>{e.selection.isFake&&this.isEnabled&&n.preventDefault()},{context:"$capture"}),e.on("arrowKey",(t,n)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(n.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection,n=new Xo(t.getRanges(),{backward:t.isBackward,fake:!1});e!=nn.arrowleft&&e!=nn.arrowup||n.setTo(n.getFirstPosition()),e!=nn.arrowright&&e!=nn.arrowdown||n.setTo(n.getLastPosition());const a={oldSelection:t,newSelection:n,domSelection:null};this.document.fire("selectionChange",a),this._fireSelectionChangeDoneDebounced(a)}}const lE=function(s){return this.__data__.set(s,"__lodash_hash_undefined__"),this},cE=function(s){return this.__data__.has(s)};function Qd(s){var e=-1,t=s==null?0:s.length;for(this.__data__=new Md;++e<t;)this.add(s[e])}Qd.prototype.add=Qd.prototype.push=lE,Qd.prototype.has=cE;const dE=Qd,uE=function(s,e){for(var t=-1,n=s==null?0:s.length;++t<n;)if(e(s[t],t,s))return!0;return!1},hE=function(s,e){return s.has(e)},Sb=function(s,e,t,n,a,c){var p=1&t,_=s.length,w=e.length;if(_!=w&&!(p&&w>_))return!1;var E=c.get(s),I=c.get(e);if(E&&I)return E==e&&I==s;var O=-1,$=!0,V=2&t?new dE:void 0;for(c.set(s,e),c.set(e,s);++O<_;){var G=s[O],Q=e[O];if(n)var ie=p?n(Q,G,O,e,s,c):n(G,Q,O,s,e,c);if(ie!==void 0){if(ie)continue;$=!1;break}if(V){if(!uE(e,function(he,ye){if(!hE(V,ye)&&(G===he||a(G,he,t,n,c)))return V.push(ye)})){$=!1;break}}else if(G!==Q&&!a(G,Q,t,n,c)){$=!1;break}}return c.delete(s),c.delete(e),$},fE=function(s){var e=-1,t=Array(s.size);return s.forEach(function(n,a){t[++e]=[a,n]}),t},pE=function(s){var e=-1,t=Array(s.size);return s.forEach(function(n){t[++e]=n}),t};var Eb=mt?mt.prototype:void 0,kp=Eb?Eb.valueOf:void 0;const mE=function(s,e,t,n,a,c,p){switch(t){case"[object DataView]":if(s.byteLength!=e.byteLength||s.byteOffset!=e.byteOffset)return!1;s=s.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(s.byteLength!=e.byteLength||!c(new Bd(s),new Bd(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ts(+s,+e);case"[object Error]":return s.name==e.name&&s.message==e.message;case"[object RegExp]":case"[object String]":return s==e+"";case"[object Map]":var _=fE;case"[object Set]":var w=1&n;if(_||(_=pE),s.size!=e.size&&!w)return!1;var E=p.get(s);if(E)return E==e;n|=2,p.set(s,e);var I=Sb(_(s),_(e),n,a,c,p);return p.delete(s),I;case"[object Symbol]":if(kp)return kp.call(s)==kp.call(e)}return!1};var gE=Object.prototype.hasOwnProperty;const _E=function(s,e,t,n,a,c){var p=1&t,_=$f(s),w=_.length;if(w!=$f(e).length&&!p)return!1;for(var E=w;E--;){var I=_[E];if(!(p?I in e:gE.call(e,I)))return!1}var O=c.get(s),$=c.get(e);if(O&&$)return O==e&&$==s;var V=!0;c.set(s,e),c.set(e,s);for(var G=p;++E<w;){var Q=s[I=_[E]],ie=e[I];if(n)var he=p?n(ie,Q,I,e,s,c):n(Q,ie,I,s,e,c);if(!(he===void 0?Q===ie||a(Q,ie,t,n,c):he)){V=!1;break}G||(G=I=="constructor")}if(V&&!G){var ye=s.constructor,Oe=e.constructor;ye==Oe||!("constructor"in s)||!("constructor"in e)||typeof ye=="function"&&ye instanceof ye&&typeof Oe=="function"&&Oe instanceof Oe||(V=!1)}return c.delete(s),c.delete(e),V};var Db="[object Arguments]",Tb="[object Array]",Jd="[object Object]",Ib=Object.prototype.hasOwnProperty;const bE=function(s,e,t,n,a,c){var p=Re(s),_=Re(e),w=p?Tb:Wl(s),E=_?Tb:Wl(e),I=(w=w==Db?Jd:w)==Jd,O=(E=E==Db?Jd:E)==Jd,$=w==E;if($&&Ul(s)){if(!Ul(e))return!1;p=!0,I=!1}if($&&!I)return c||(c=new Vl),p||Bf(s)?Sb(s,e,t,n,a,c):mE(s,e,w,t,n,a,c);if(!(1&t)){var V=I&&Ib.call(s,"__wrapped__"),G=O&&Ib.call(e,"__wrapped__");if(V||G){var Q=V?s.value():s,ie=G?e.value():e;return c||(c=new Vl),a(Q,ie,t,n,c)}}return!!$&&(c||(c=new Vl),_E(s,e,t,n,a,c))},Mb=function s(e,t,n,a,c){return e===t||(e==null||t==null||!Je(e)&&!Je(t)?e!=e&&t!=t:bE(e,t,n,a,s,c))},vE=function(s,e,t){var n=(t=typeof t=="function"?t:void 0)?t(s,e):void 0;return n===void 0?Mb(s,e,void 0,t):!!n};class Pb extends er{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const t=this.domConverter,n=new Set,a=new Set;for(const p of e){const _=t.mapDomToView(p.target);_&&(_.is("uiElement")||_.is("rawElement")||p.type!=="childList"||this._isBogusBrMutation(p)||a.add(_))}for(const p of e){const _=t.mapDomToView(p.target);if((!_||!_.is("uiElement")&&!_.is("rawElement"))&&p.type==="characterData"){const w=t.findCorrespondingViewText(p.target);w&&!a.has(w.parent)?n.add(w):!w&&io(p.target)&&a.add(t.mapDomToView(p.target.parentNode))}}let c=!1;for(const p of n)c=!0,this.renderer.markToSync("text",p);for(const p of a){const _=t.mapViewToDom(p),w=Array.from(p.getChildren()),E=Array.from(t.domChildrenToView(_,{withChildren:!1}));vE(w,E,kE)||(c=!0,this.renderer.markToSync("children",p))}c&&this.view.forceRender()}_isBogusBrMutation(e){let t=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}}function kE(s,e){if(!Array.isArray(s))return s===e||!(!s.is("$text")||!e.is("$text"))&&s.data===e.data}class Xd extends Qr{constructor(e){super(e),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const t=this.document;t.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),e.change(()=>{})},50)}),t.on("blur",(n,a)=>{const c=t.selection.editableElement;c!==null&&c!==a.target||(t.isFocused=!1,this._isFocusChanging=!1,e.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class wE extends er{constructor(e){super(e),this.mutationObserver=e.getObserver(Pb),this.focusObserver=e.getObserver(Xd),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=ja(t=>{this.document.fire("selectionChangeDone",t)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=ja(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const t=e.ownerDocument,n=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,t),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(e,"keydown",n,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",n,{priority:"highest",useCapture:!0}),this._documents.has(t)||(this.listenTo(t,"mouseup",n,{priority:"highest",useCapture:!0}),this.listenTo(t,"selectionchange",(a,c)=>{this.document.isComposing&&!g.isAndroid||(this._handleSelectionChange(c,t),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(t))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e,t){if(!this.isEnabled)return;const n=t.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(n.anchorNode))return;this.mutationObserver.flush();const a=this.domConverter.domSelectionToView(n);if(a.rangeCount!=0){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(a)||!this.domConverter.isDomSelectionCorrect(n))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(a))this.view.forceRender();else{const c={oldSelection:this.selection,newSelection:a,domSelection:n};this.document.fire("selectionChange",c),this._fireSelectionChangeDoneDebounced(c)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class yE extends Qr{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const t=this.document;t.on("compositionstart",()=>{t.isComposing=!0},{priority:"low"}),t.on("compositionend",()=>{t.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}class Ob{constructor(e,t={}){this._files=t.cacheFiles?Bb(e):null,this._native=e}get files(){return this._files||(this._files=Bb(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,t,n){this._native.setDragImage(e,t,n)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function Bb(s){const e=Array.from(s.files||[]),t=Array.from(s.items||[]);return e.length?e:t.filter(n=>n.kind==="file").map(n=>n.getAsFile())}class CE extends Qr{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(e){const t=e.getTargetRanges(),n=this.view,a=n.document;let c=null,p=null,_=[];if(e.dataTransfer&&(c=new Ob(e.dataTransfer)),e.data!==null?p=e.data:c&&(p=c.getData("text/plain")),a.selection.isFake)_=Array.from(a.selection.getRanges());else if(t.length)_=t.map(w=>{const E=n.domConverter.domPositionToView(w.startContainer,w.startOffset),I=n.domConverter.domPositionToView(w.endContainer,w.endOffset);return E?n.createRange(E,I):I?n.createRange(I):void 0}).filter(w=>!!w);else if(g.isAndroid){const w=e.target.ownerDocument.defaultView.getSelection();_=Array.from(n.domConverter.domSelectionToView(w).getRanges())}if(g.isAndroid&&e.inputType=="insertCompositionText"&&p&&p.endsWith(`
`))this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[n.createRange(_[0].end)]});else if(e.inputType=="insertText"&&p&&p.includes(`
`)){const w=p.split(/\n{1,2}/g);let E=_;for(let I=0;I<w.length;I++){const O=w[I];O!=""&&(this.fire(e.type,e,{data:O,dataTransfer:c,targetRanges:E,inputType:e.inputType,isComposing:e.isComposing}),E=[a.selection.getFirstRange()]),I+1<w.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:E}),E=[a.selection.getFirstRange()])}}else this.fire(e.type,e,{data:p,dataTransfer:c,targetRanges:_,inputType:e.inputType,isComposing:e.isComposing})}}class AE extends er{constructor(e){super(e),this.document.on("keydown",(t,n)=>{if(this.isEnabled&&((a=n.keyCode)==nn.arrowright||a==nn.arrowleft||a==nn.arrowup||a==nn.arrowdown)){const c=new Ra(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(c,n),c.stop.called&&t.stop()}var a})}observe(){}stopObserving(){}}class xE extends er{constructor(e){super(e);const t=this.document;t.on("keydown",(n,a)=>{if(!this.isEnabled||a.keyCode!=nn.tab||a.ctrlKey)return;const c=new Ra(t,"tab",t.selection.getFirstRange());t.fire(c,a),c.stop.called&&n.stop()})}observe(){}stopObserving(){}}const Jr=function(s){return Hf(s,5)};class SE extends de(){constructor(e){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new Kd(e),this.domConverter=new Zd(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new V7(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new lb(this.document),this.addObserver(Pb),this.addObserver(Xd),this.addObserver(wE),this.addObserver(Z7),this.addObserver(aE),this.addObserver(yE),this.addObserver(AE),this.addObserver(CE),this.addObserver(xE),this.document.on("arrowKey",z7,{priority:"low"}),L7(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),g.isiOS&&this.listenTo(this.document,"blur",(t,n)=>{this.domConverter.mapDomToView(n.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(e,t="main"){const n=this.document.getRoot(t);n._name=e.tagName.toLowerCase();const a={};for(const{name:p,value:_}of Array.from(e.attributes))a[p]=_,p==="class"?this._writer.addClass(_.split(" "),n):this._writer.setAttribute(p,_,n);this._initialDomRootAttributes.set(e,a);const c=()=>{this._writer.setAttribute("contenteditable",(!n.isReadOnly).toString(),n),n.isReadOnly?this._writer.addClass("ck-read-only",n):this._writer.removeClass("ck-read-only",n)};c(),this.domRoots.set(t,e),this.domConverter.bindElements(e,n),this._renderer.markToSync("children",n),this._renderer.markToSync("attributes",n),this._renderer.domDocuments.add(e.ownerDocument),n.on("change:children",(p,_)=>this._renderer.markToSync("children",_)),n.on("change:attributes",(p,_)=>this._renderer.markToSync("attributes",_)),n.on("change:text",(p,_)=>this._renderer.markToSync("text",_)),n.on("change:isReadOnly",()=>this.change(c)),n.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const p of this._observers.values())p.observe(e,t)}detachDomRoot(e){const t=this.domRoots.get(e);Array.from(t.attributes).forEach(({name:a})=>t.removeAttribute(a));const n=this._initialDomRootAttributes.get(t);for(const a in n)t.setAttribute(a,n[a]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t);for(const a of this._observers.values())a.stopObserving(t)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);for(const[n,a]of this.domRoots)t.observe(a,n);return t.enable(),t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:t,viewportOffset:n=20,ancestorOffset:a=20}={}){const c=this.document.selection.getFirstRange();if(!c)return;const p=Jr({alignToTop:e,forceScroll:t,viewportOffset:n,ancestorOffset:a});typeof n=="number"&&(n={top:n,bottom:n,left:n,right:n});const _={target:this.domConverter.viewRangeToDom(c),viewportOffset:n,ancestorOffset:a,alignToTop:e,forceScroll:t};this.fire("scrollToTheSelection",_,p),function({target:w,viewportOffset:E=0,ancestorOffset:I=0,alignToTop:O,forceScroll:$}){const V=Yf(w);let G=V,Q=null;for(E=function(ie){return typeof ie=="number"?{top:ie,bottom:ie,left:ie,right:ie}:ie}(E);G;){let ie;ie=VS(G==V?w:Q),FS({parent:ie,getRect:()=>R_(w,G),alignToTop:O,ancestorOffset:I,forceScroll:$});const he=R_(w,G);if(zS({window:G,rect:he,viewportOffset:E,alignToTop:O,forceScroll:$}),G.parent!=G){if(Q=G.frameElement,G=G.parent,!Q)return}else G=null}}(_)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new L("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(t){L.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(Xd).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,t){return st._createAt(e,t)}createPositionAfter(e){return st._createAfter(e)}createPositionBefore(e){return st._createBefore(e)}createRange(e,t){return new Mt(e,t)}createRangeOn(e){return Mt._createOn(e)}createRangeIn(e){return Mt._createIn(e)}createSelection(...e){return new Xo(...e)}_disableRendering(e){this._renderingDisabled=e,e==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class Xr{is(){throw new Error("is() method is abstract")}}class Fs extends Xr{constructor(e){super(),this.parent=null,this._attrs=Qo(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new L("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new L("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}getCommonAncestor(e,t={}){const n=this.getAncestors(t),a=e.getAncestors(t);let c=0;for(;n[c]==a[c]&&n[c];)c++;return c===0?null:n[c-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const t=this.getPath(),n=e.getPath(),a=Fe(t,n);switch(a){case"prefix":return!0;case"extension":return!1;default:return t[a]<n[a]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((t,n)=>(t[n[0]]=n[1],t),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=Qo(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}Fs.prototype.is=function(s){return s==="node"||s==="model:node"};class Jl{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,t)=>e+t.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const t=this._nodes.indexOf(e);return t==-1?null:t}getNodeStartOffset(e){const t=this.getNodeIndex(e);return t===null?null:this._nodes.slice(0,t).reduce((n,a)=>n+a.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const t=this._nodes[e];if(!t)throw new L("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(t)}offsetToIndex(e){let t=0;for(const n of this._nodes){if(e>=t&&e<t+n.offsetSize)return this.getNodeIndex(n);t+=n.offsetSize}if(t!=e)throw new L("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,t){for(const n of t)if(!(n instanceof Fs))throw new L("model-nodelist-insertnodes-not-node",this);this._nodes=function(n,a,c,p){if(Math.max(a.length,n.length)>1e4)return n.slice(0,c).concat(a).concat(n.slice(c+p,n.length));{const _=Array.from(n);return _.splice(c,p,...a),_}}(this._nodes,Array.from(t),e,0)}_removeNodes(e,t=1){return this._nodes.splice(e,t)}toJSON(){return this._nodes.map(e=>e.toJSON())}}class Cn extends Fs{constructor(e,t){super(t),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new Cn(this.data,this.getAttributes())}static fromJSON(e){return new Cn(e.data,e.attributes)}}Cn.prototype.is=function(s){return s==="$text"||s==="model:$text"||s==="text"||s==="model:text"||s==="node"||s==="model:node"};class Lo extends Xr{constructor(e,t,n){if(super(),this.textNode=e,t<0||t>e.offsetSize)throw new L("model-textproxy-wrong-offsetintext",this);if(n<0||t+n>e.offsetSize)throw new L("model-textproxy-wrong-length",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Lo.prototype.is=function(s){return s==="$textProxy"||s==="model:$textProxy"||s==="textProxy"||s==="model:textProxy"};class pn extends Fs{constructor(e,t,n){super(t),this._children=new Jl,this.name=e,n&&this._insertChild(0,n)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const n of e)t=t.getChild(t.offsetToIndex(n));return t}findAncestor(e,t={}){let n=t.includeSelf?this:this.parent;for(;n;){if(n.name===e)return n;n=n.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(e=!1){const t=e?Array.from(this._children).map(n=>n._clone(!0)):void 0;return new pn(this.name,this.getAttributes(),t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const n=function(a){return typeof a=="string"?[new Cn(a)]:(Ae(a)||(a=[a]),Array.from(a).map(c=>typeof c=="string"?new Cn(c):c instanceof Lo?new Cn(c.data,c.getAttributes()):c))}(t);for(const a of n)a.parent!==null&&a._remove(),a.parent=this;this._children._insertNodes(e,n)}_removeChildren(e,t=1){const n=this._children._removeNodes(e,t);for(const a of n)a.parent=null;return n}static fromJSON(e){let t;if(e.children){t=[];for(const n of e.children)n.name?t.push(pn.fromJSON(n)):t.push(Cn.fromJSON(n))}return new pn(e.name,e.attributes,t)}}pn.prototype.is=function(s,e){return e?e===this.name&&(s==="element"||s==="model:element"):s==="element"||s==="model:element"||s==="node"||s==="model:node"};class tr{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new L("model-tree-walker-no-start-position",null);const t=e.direction||"forward";if(t!="forward"&&t!="backward")throw new L("model-tree-walker-unknown-direction",e,{direction:t});this.direction=t,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=Ye._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,n,a,c;do a=this.position,c=this._visitedParent,{done:t,value:n}=this.next();while(!t&&e(n));t||(this._position=a,this._visitedParent=c)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,t=this.position.clone(),n=this._visitedParent;if(n.parent===null&&t.offset===n.maxOffset)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const a=Xl(t,n),c=a||Lb(t,n,a);if(c instanceof pn){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(t))return{done:!0,value:void 0};t.offset++}else t.path.push(0),this._visitedParent=c;return this._position=t,Vs("elementStart",c,e,t,1)}if(c instanceof Cn){let p;if(this.singleCharacters)p=1;else{let E=c.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<E&&(E=this.boundaries.end.offset),p=E-t.offset}const _=t.offset-c.startOffset,w=new Lo(c,_,p);return t.offset+=p,this._position=t,Vs("text",w,e,t,p)}return t.path.pop(),t.offset++,this._position=t,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():Vs("elementEnd",n,e,t)}_previous(){const e=this.position,t=this.position.clone(),n=this._visitedParent;if(n.parent===null&&t.offset===0)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const a=t.parent,c=Xl(t,a),p=c||Rb(t,a,c);if(p instanceof pn)return t.offset--,this.shallow?(this._position=t,Vs("elementStart",p,e,t,1)):(t.path.push(p.maxOffset),this._position=t,this._visitedParent=p,this.ignoreElementEnd?this._previous():Vs("elementEnd",p,e,t));if(p instanceof Cn){let _;if(this.singleCharacters)_=1;else{let I=p.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>I&&(I=this.boundaries.start.offset),_=t.offset-I}const w=t.offset-p.startOffset,E=new Lo(p,w-_,_);return t.offset-=_,this._position=t,Vs("text",E,e,t,_)}return t.path.pop(),this._position=t,this._visitedParent=n.parent,Vs("elementStart",n,e,t,1)}}function Vs(s,e,t,n,a){return{done:!1,value:{type:s,item:e,previousPosition:t,nextPosition:n,length:a}}}class Ye extends Xr{constructor(e,t,n="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new L("model-position-root-invalid",e);if(!(t instanceof Array)||t.length===0)throw new L("model-position-path-incorrect-format",e,{path:t});e.is("rootElement")?t=t.slice():(t=[...e.getPath(),...t],e=e.root),this.root=e,this.path=t,this.stickiness=n}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChild(e.offsetToIndex(this.path[t])),!e)throw new L("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new L("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Xl(this,this.parent)}get nodeAfter(){const e=this.parent;return Lb(this,e,Xl(this,e))}get nodeBefore(){const e=this.parent;return Rb(this,e,Xl(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const t=Fe(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}getLastMatchingPosition(e,t={}){t.startPosition=this;const n=new tr(t);return n.skip(e),n.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const t=Fe(this.path,e.path),n=typeof t=="string"?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,n)}getCommonAncestor(e){const t=this.getAncestors(),n=e.getAncestors();let a=0;for(;t[a]==n[a]&&t[a];)a++;return a===0?null:t[a-1]}getShiftedBy(e){const t=this.clone(),n=t.offset+e;return t.offset=n<0?0:n,t}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const t=Math.min(this.path.length,e.path.length);for(let n=0;n<t;n++){const a=this.path[n]-e.path[n];if(a<-1||a>1)return!1;if(a===1)return Nb(e,this,n);if(a===-1)return Nb(this,e,n)}return this.path.length===e.path.length||(this.path.length>e.path.length?wp(this.path,t):wp(e.path,t))}hasSameParentAs(e){return this.root!==e.root?!1:Fe(this.getParentPath(),e.getParentPath())=="same"}getTransformedByOperation(e){let t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=Ye._createAt(this)}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const t=e.movedRange;let n;return t.containsPosition(this)||t.start.isEqual(this)?(n=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(n=n._getTransformedByDeletion(e.deletionPosition,1))):n=this.isEqual(e.deletionPosition)?Ye._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),n}_getTransformedByDeletion(e,t){const n=Ye._createAt(this);if(this.root!=e.root)return n;if(Fe(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;n.offset-=t}}else if(Fe(e.getParentPath(),this.getParentPath())=="prefix"){const a=e.path.length-1;if(e.offset<=this.path[a]){if(e.offset+t>this.path[a])return null;n.path[a]-=t}}return n}_getTransformedByInsertion(e,t){const n=Ye._createAt(this);if(this.root!=e.root)return n;if(Fe(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(n.offset+=t);else if(Fe(e.getParentPath(),this.getParentPath())=="prefix"){const a=e.path.length-1;e.offset<=this.path[a]&&(n.path[a]+=t)}return n}_getTransformedByMove(e,t,n){if(t=t._getTransformedByDeletion(e,n),e.isEqual(t))return Ye._createAt(this);const a=this._getTransformedByDeletion(e,n);return a===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(n).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,t):a._getTransformedByInsertion(t,n)}_getCombined(e,t){const n=e.path.length-1,a=Ye._createAt(t);return a.stickiness=this.stickiness,a.offset=a.offset+this.path[n]-e.offset,a.path=[...a.path,...this.path.slice(n+1)],a}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t,n="toNone"){if(e instanceof Ye)return new Ye(e.root,e.path,e.stickiness);{const a=e;if(t=="end")t=a.maxOffset;else{if(t=="before")return this._createBefore(a,n);if(t=="after")return this._createAfter(a,n);if(t!==0&&!t)throw new L("model-createpositionat-offset-required",[this,e])}if(!a.is("element")&&!a.is("documentFragment"))throw new L("model-position-parent-incorrect",[this,e]);const c=a.getPath();return c.push(t),new this(a.root,c,n)}}static _createAfter(e,t){if(!e.parent)throw new L("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}static _createBefore(e,t){if(!e.parent)throw new L("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}static fromJSON(e,t){if(e.root==="$graveyard"){const n=new Ye(t.graveyard,e.path);return n.stickiness=e.stickiness,n}if(!t.getRoot(e.root))throw new L("model-position-fromjson-no-root",t,{rootName:e.root});return new Ye(t.getRoot(e.root),e.path,e.stickiness)}}function Xl(s,e){const t=e.getChild(e.offsetToIndex(s.offset));return t&&t.is("$text")&&t.startOffset<s.offset?t:null}function Lb(s,e,t){return t!==null?null:e.getChild(e.offsetToIndex(s.offset))}function Rb(s,e,t){return t!==null?null:e.getChild(e.offsetToIndex(s.offset)-1)}function Nb(s,e,t){return t+1!==s.path.length&&!!wp(e.path,t+1)&&!!function(n,a){let c=n.parent,p=n.path.length-1,_=0;for(;p>=a;){if(n.path[p]+_!==c.maxOffset)return!1;_=1,p--,c=c.parent}return!0}(s,t+1)}function wp(s,e){for(;e<s.length;){if(s[e]!==0)return!1;e++}return!0}Ye.prototype.is=function(s){return s==="position"||s==="model:position"};class Pe extends Xr{constructor(e,t){super(),this.start=Ye._createAt(e),this.end=t?Ye._createAt(t):Ye._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new tr({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return Fe(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=!1){e.isCollapsed&&(t=!1);const n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),a=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&a}containsItem(e){const t=Ye._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new Pe(this.start,e.start)),this.containsPosition(e.end)&&t.push(new Pe(e.end,this.end))):t.push(new Pe(this.start,this.end)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,n=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(n=e.end),new Pe(t,n)}return null}getJoined(e,t=!1){let n=this.isIntersecting(e);if(n||(n=this.start.isBefore(e.start)?t?this.end.isTouching(e.start):this.end.isEqual(e.start):t?e.end.isTouching(this.start):e.end.isEqual(this.start)),!n)return null;let a=this.start,c=this.end;return e.start.isBefore(a)&&(a=e.start),e.end.isAfter(c)&&(c=e.end),new Pe(a,c)}getMinimalFlatRanges(){const e=[],t=this.start.getCommonPath(this.end).length,n=Ye._createAt(this.start);let a=n.parent;for(;n.path.length>t+1;){const c=a.maxOffset-n.offset;c!==0&&e.push(new Pe(n,n.getShiftedBy(c))),n.path=n.path.slice(0,-1),n.offset++,a=a.parent}for(;n.path.length<=this.end.path.length;){const c=this.end.path[n.path.length-1],p=c-n.offset;p!==0&&e.push(new Pe(n,n.getShiftedBy(p))),n.offset=c,n.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new tr(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const t=new tr(e);for(const n of t)yield n.item}*getPositions(e={}){e.boundaries=this;const t=new tr(e);yield t.position;for(const n of t)yield n.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new Pe(this.start,this.end)]}getTransformedByOperations(e){const t=[new Pe(this.start,this.end)];for(const n of e)for(let a=0;a<t.length;a++){const c=t[a].getTransformedByOperation(n);t.splice(a,1,...c),a+=c.length-1}for(let n=0;n<t.length;n++){const a=t[n];for(let c=n+1;c<t.length;c++){const p=t[c];(a.containsRange(p)||p.containsRange(a)||a.isEqual(p))&&t.splice(c,1)}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,t=!1){return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e,t=!1){const n=e.sourcePosition,a=e.howMany,c=e.targetPosition;return this._getTransformedByMove(n,c,a,t)}_getTransformedBySplitOperation(e){const t=this.start._getTransformedBySplitOperation(e);let n=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(n=this.end.getShiftedBy(1)),t.root!=n.root&&(n=this.end.getShiftedBy(-1)),new Pe(t,n)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new Pe(this.start);let t=this.start._getTransformedByMergeOperation(e),n=this.end._getTransformedByMergeOperation(e);return t.root!=n.root&&(n=this.end.getShiftedBy(-1)),t.isAfter(n)?(e.sourcePosition.isBefore(e.targetPosition)?(t=Ye._createAt(n),t.offset=0):(e.deletionPosition.isEqual(t)||(n=e.deletionPosition),t=e.targetPosition),new Pe(t,n)):new Pe(t,n)}_getTransformedByInsertion(e,t,n=!1){if(n&&this.containsPosition(e))return[new Pe(this.start,e),new Pe(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))];{const a=new Pe(this.start,this.end);return a.start=a.start._getTransformedByInsertion(e,t),a.end=a.end._getTransformedByInsertion(e,t),[a]}}_getTransformedByMove(e,t,n,a=!1){if(this.isCollapsed){const O=this.start._getTransformedByMove(e,t,n);return[new Pe(O)]}const c=Pe._createFromPositionAndShift(e,n),p=t._getTransformedByDeletion(e,n);if(this.containsPosition(t)&&!a&&(c.containsPosition(this.start)||c.containsPosition(this.end))){const O=this.start._getTransformedByMove(e,t,n),$=this.end._getTransformedByMove(e,t,n);return[new Pe(O,$)]}let _;const w=this.getDifference(c);let E=null;const I=this.getIntersection(c);if(w.length==1?E=new Pe(w[0].start._getTransformedByDeletion(e,n),w[0].end._getTransformedByDeletion(e,n)):w.length==2&&(E=new Pe(this.start,this.end._getTransformedByDeletion(e,n))),_=E?E._getTransformedByInsertion(p,n,I!==null||a):[],I){const O=new Pe(I.start._getCombined(c.start,p),I.end._getCombined(c.start,p));_.length==2?_.splice(1,0,O):_.push(O)}return _}_getTransformedByDeletion(e,t){let n=this.start._getTransformedByDeletion(e,t),a=this.end._getTransformedByDeletion(e,t);return n==null&&a==null?null:(n==null&&(n=e),a==null&&(a=e),new Pe(n,a))}static _createFromPositionAndShift(e,t){const n=e,a=e.getShiftedBy(t);return t>0?new this(n,a):new this(a,n)}static _createIn(e){return new this(Ye._createAt(e,0),Ye._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(Ye._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new L("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const t=e[0];e.sort((c,p)=>c.start.isAfter(p.start)?1:-1);const n=e.indexOf(t),a=new this(t.start,t.end);if(n>0)for(let c=n-1;e[c].end.isEqual(a.start);c++)a.start=Ye._createAt(e[c].start);for(let c=n+1;c<e.length&&e[c].start.isEqual(a.end);c++)a.end=Ye._createAt(e[c].end);return a}static fromJSON(e,t){return new this(Ye.fromJSON(e.start,t),Ye.fromJSON(e.end,t))}}Pe.prototype.is=function(s){return s==="range"||s==="model:range"};class $b extends J(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,t)=>{if(t.viewPosition)return;const n=this._modelToViewMapping.get(t.modelPosition.parent);if(!n)throw new L("mapping-model-position-view-parent-not-found",this,{modelPosition:t.modelPosition});t.viewPosition=this.findPositionIn(n,t.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,t)=>{if(t.modelPosition)return;const n=this.findMappedViewAncestor(t.viewPosition),a=this._viewToModelMapping.get(n),c=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,n);t.modelPosition=Ye._createAt(a,c)},{priority:"low"})}bindElements(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}unbindViewElement(e,t={}){const n=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const a of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(a);t.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(n)==e&&this._modelToViewMapping.delete(n))}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}bindElementToMarker(e,t){const n=this._markerNameToElements.get(t)||new Set;n.add(e);const a=this._elementToMarkerNames.get(e)||new Set;a.add(t),this._markerNameToElements.set(t,n),this._elementToMarkerNames.set(e,a)}unbindElementFromMarkerName(e,t){const n=this._markerNameToElements.get(t);n&&(n.delete(e),n.size==0&&this._markerNameToElements.delete(t));const a=this._elementToMarkerNames.get(e);a&&(a.delete(t),a.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,t]of this._deferredBindingRemovals)e.root==t&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new Pe(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new Mt(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}toViewPosition(e,t={}){const n={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire("modelToViewPosition",n),n.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t)return null;const n=new Set;for(const a of t)if(a.is("attributeElement"))for(const c of a.getElementsWithSameId())n.add(c);else n.add(a);return n}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}findMappedViewAncestor(e){let t=e.parent;for(;!this._viewToModelMapping.has(t);)t=t.parent;return t}_toModelOffset(e,t,n){if(n!=e)return this._toModelOffset(e.parent,e.index,n)+this._toModelOffset(e,t,e);if(e.is("$text"))return t;let a=0;for(let c=0;c<t;c++)a+=this.getModelLength(e.getChild(c));return a}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let t=0;for(const n of e.getChildren())t+=this.getModelLength(n);return t}}findPositionIn(e,t){let n,a=0,c=0,p=0;if(e.is("$text"))return new st(e,t);for(;c<t;)n=e.getChild(p),a=this.getModelLength(n),c+=a,p++;return c==t?this._moveViewPositionToTextNode(new st(e,p)):this.findPositionIn(n,t-(c-a))}_moveViewPositionToTextNode(e){const t=e.nodeBefore,n=e.nodeAfter;return t instanceof yn?new st(t,t.data.length):n instanceof yn?new st(n,0):e}}class EE{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,t){t=eu(t),e instanceof Lo&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}consume(e,t){return t=eu(t),e instanceof Lo&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,t)&&(this._consumable.get(e).set(t,!1),!0)}test(e,t){t=eu(t),e instanceof Lo&&(e=this._getSymbolForTextProxy(e));const n=this._consumable.get(e);if(n===void 0)return null;const a=n.get(t);return a===void 0?null:a}revert(e,t){t=eu(t),e instanceof Lo&&(e=this._getSymbolForTextProxy(e));const n=this.test(e,t);return n===!1?(this._consumable.get(e).set(t,!0),!0):n!==!0&&null}verifyAllConsumed(e){const t=[];for(const[n,a]of this._consumable)for(const[c,p]of a){const _=c.split(":")[0];p&&e==_&&t.push({event:c,item:n.name||n.description})}if(t.length)throw new L("conversion-model-consumable-not-consumed",null,{items:t})}_getSymbolForTextProxy(e){let t=null;const n=this._textProxyRegistry.get(e.startOffset);if(n){const a=n.get(e.endOffset);a&&(t=a.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e)),t}_addSymbolForTextProxy(e){const t=e.startOffset,n=e.endOffset,a=e.parent,c=Symbol("$textProxy:"+e.data);let p,_;return p=this._textProxyRegistry.get(t),p||(p=new Map,this._textProxyRegistry.set(t,p)),_=p.get(n),_||(_=new Map,p.set(n,_)),_.set(a,c),c}}function eu(s){const e=s.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?s:e.length>1?e[0]+":"+e[1]:e[0]}var DE=Object.defineProperty,TE=Object.defineProperties,IE=Object.getOwnPropertyDescriptors,jb=Object.getOwnPropertySymbols,ME=Object.prototype.hasOwnProperty,PE=Object.prototype.propertyIsEnumerable,zb=(s,e,t)=>e in s?DE(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,yp=(s,e)=>{for(var t in e||(e={}))ME.call(e,t)&&zb(s,t,e[t]);if(jb)for(var t of jb(e))PE.call(e,t)&&zb(s,t,e[t]);return s},Fb=(s,e)=>TE(s,IE(e));class Vb extends J(){constructor(e){super(),this._conversionApi=yp({dispatcher:this},e),this._firedEventsMap=new WeakMap}convertChanges(e,t,n){const a=this._createConversionApi(n,e.getRefreshedItems());for(const p of e.getMarkersToRemove())this._convertMarkerRemove(p.name,p.range,a);const c=this._reduceChanges(e.getChanges());for(const p of c)p.type==="insert"?this._convertInsert(Pe._createFromPositionAndShift(p.position,p.length),a):p.type==="reinsert"?this._convertReinsert(Pe._createFromPositionAndShift(p.position,p.length),a):p.type==="remove"?this._convertRemove(p.position,p.length,p.name,a):this._convertAttribute(p.range,p.attributeKey,p.attributeOldValue,p.attributeNewValue,a);for(const p of a.mapper.flushUnboundMarkerNames()){const _=t.get(p).getRange();this._convertMarkerRemove(p,_,a),this._convertMarkerAdd(p,_,a)}for(const p of e.getMarkersToAdd())this._convertMarkerAdd(p.name,p.range,a);a.mapper.flushDeferredBindings(),a.consumable.verifyAllConsumed("insert")}convert(e,t,n,a={}){const c=this._createConversionApi(n,void 0,a);this._convertInsert(e,c);for(const[p,_]of t)this._convertMarkerAdd(p,_,c);c.consumable.verifyAllConsumed("insert")}convertSelection(e,t,n){const a=this._createConversionApi(n);this.fire("cleanSelection",{selection:e},a);const c=e.getFirstPosition().root;if(!a.mapper.toViewElement(c))return;const p=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(a.consumable,e,p),this.fire("selection",{selection:e},a),e.isCollapsed){for(const _ of p)if(a.consumable.test(e,"addMarker:"+_.name)){const w=_.getRange();if(!OE(e.getFirstPosition(),_,a.mapper))continue;const E={item:e,markerName:_.name,markerRange:w};this.fire(`addMarker:${_.name}`,E,a)}for(const _ of e.getAttributeKeys())if(a.consumable.test(e,"attribute:"+_)){const w={item:e,range:e.getFirstRange(),attributeKey:_,attributeOldValue:null,attributeNewValue:e.getAttribute(_)};this.fire(`attribute:${_}:$text`,w,a)}}}_convertInsert(e,t,n={}){n.doNotAddConsumables||this._addConsumablesForInsert(t.consumable,Array.from(e));for(const a of Array.from(e.getWalker({shallow:!0})).map(Ub))this._testAndFire("insert",a,t)}_convertRemove(e,t,n,a){this.fire(`remove:${n}`,{position:e,length:t},a)}_convertAttribute(e,t,n,a,c){this._addConsumablesForRange(c.consumable,e,`attribute:${t}`);for(const p of e){const _={item:p.item,range:Pe._createFromPositionAndShift(p.previousPosition,p.length),attributeKey:t,attributeOldValue:n,attributeNewValue:a};this._testAndFire(`attribute:${t}`,_,c)}}_convertReinsert(e,t){const n=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(t.consumable,n);for(const a of n.map(Ub))this._testAndFire("insert",Fb(yp({},a),{reconversion:!0}),t)}_convertMarkerAdd(e,t,n){if(t.root.rootName=="$graveyard")return;const a=`addMarker:${e}`;if(n.consumable.add(t,a),this.fire(a,{markerName:e,markerRange:t},n),n.consumable.consume(t,a)){this._addConsumablesForRange(n.consumable,t,a);for(const c of t.getItems()){if(!n.consumable.test(c,a))continue;const p={item:c,range:Pe._createOn(c),markerName:e,markerRange:t};this.fire(a,p,n)}}}_convertMarkerRemove(e,t,n){t.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:t},n)}_reduceChanges(e){const t={changes:e};return this.fire("reduceChanges",t),t.changes}_addConsumablesForInsert(e,t){for(const n of t){const a=n.item;if(e.test(a,"insert")===null){e.add(a,"insert");for(const c of a.getAttributeKeys())e.add(a,"attribute:"+c)}}return e}_addConsumablesForRange(e,t,n){for(const a of t.getItems())e.add(a,n);return e}_addConsumablesForSelection(e,t,n){e.add(t,"selection");for(const a of n)e.add(t,"addMarker:"+a.name);for(const a of t.getAttributeKeys())e.add(t,"attribute:"+a);return e}_testAndFire(e,t,n){const a=function(w,E){const I=E.item.is("element")?E.item.name:"$text";return`${w}:${I}`}(e,t),c=t.item.is("$textProxy")?n.consumable._getSymbolForTextProxy(t.item):t.item,p=this._firedEventsMap.get(n),_=p.get(c);if(_){if(_.has(a))return;_.add(a)}else p.set(c,new Set([a]));this.fire(a,t,n)}_testAndFireAddAttributes(e,t){const n={item:e,range:Pe._createOn(e)};for(const a of n.item.getAttributeKeys())n.attributeKey=a,n.attributeOldValue=null,n.attributeNewValue=n.item.getAttribute(a),this._testAndFire(`attribute:${a}`,n,t)}_createConversionApi(e,t=new Set,n={}){const a=Fb(yp({},this._conversionApi),{consumable:new EE,writer:e,options:n,convertItem:c=>this._convertInsert(Pe._createOn(c),a),convertChildren:c=>this._convertInsert(Pe._createIn(c),a,{doNotAddConsumables:!0}),convertAttributes:c=>this._testAndFireAddAttributes(c,a),canReuseView:c=>!t.has(a.mapper.toModelElement(c))});return this._firedEventsMap.set(a,new Map),a}}function OE(s,e,t){const n=e.getRange(),a=Array.from(s.getAncestors());return a.shift(),a.reverse(),!a.some(c=>{if(n.containsItem(c))return!!t.toViewElement(c).getCustomProperty("addHighlight")})}function Ub(s){return{item:s.item,range:Pe._createFromPositionAndShift(s.previousPosition,s.length)}}class oo extends J(Xr){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let n=!1;for(const a of e._ranges)if(t.isEqual(a)){n=!0;break}if(!n)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new Pe(e.start,e.end)}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?new Pe(e.start,e.end):null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?new Pe(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[t,n,a]=e;if(typeof n=="object"&&(a=n,n=void 0),t===null)this._setRanges([]);else if(t instanceof oo)this._setRanges(t.getRanges(),t.isBackward);else if(t&&typeof t.getRanges=="function")this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof Pe)this._setRanges([t],!!a&&!!a.backward);else if(t instanceof Ye)this._setRanges([new Pe(t)]);else if(t instanceof Fs){const c=!!a&&!!a.backward;let p;if(n=="in")p=Pe._createIn(t);else if(n=="on")p=Pe._createOn(t);else{if(n===void 0)throw new L("model-selection-setto-required-second-parameter",[this,t]);p=new Pe(Ye._createAt(t,n))}this._setRanges([p],c)}else{if(!Ae(t))throw new L("model-selection-setto-not-selectable",[this,t]);this._setRanges(t,a&&!!a.backward)}}_setRanges(e,t=!1){const n=Array.from(e),a=n.some(c=>{if(!(c instanceof Pe))throw new L("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(p=>!p.isEqual(c))});(n.length!==this._ranges.length||a)&&(this._replaceAllRanges(n),this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0}))}setFocus(e,t){if(this.anchor===null)throw new L("model-selection-setfocus-no-ranges",[this,e]);const n=Ye._createAt(e,t);if(n.compareWith(this.focus)=="same")return;const a=this.anchor;this._ranges.length&&this._popRange(),n.compareWith(a)=="before"?(this._pushRange(new Pe(n,a)),this._lastRangeBackward=!0):(this._pushRange(new Pe(a,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const n=Wb(t.start,e);LE(n,t)&&(yield n);for(const c of t.getWalker()){const p=c.item;c.type=="elementEnd"&&BE(p,e,t)&&(yield p)}const a=Wb(t.end,e);RE(a,t)&&(yield a)}}containsEntireContent(e=this.anchor.root){const t=Ye._createAt(e,0),n=Ye._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new Pe(e.start,e.end))}_checkRange(e){for(let t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new L("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}_replaceAllRanges(e){this._removeAllRanges();for(const t of e)this._pushRange(t)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function Hb(s,e){return!e.has(s)&&(e.add(s),s.root.document.model.schema.isBlock(s)&&!!s.parent)}function BE(s,e,t){return Hb(s,e)&&Cp(s,t)}function Wb(s,e){const t=s.parent.root.document.model.schema,n=s.parent.getAncestors({parentFirst:!0,includeSelf:!0});let a=!1;const c=n.find(p=>!a&&(a=t.isLimit(p),!a&&Hb(p,e)));return n.forEach(p=>e.add(p)),c}function Cp(s,e){const t=function(n){const a=n.root.document.model.schema;let c=n.parent;for(;c;){if(a.isBlock(c))return c;c=c.parent}}(s);return t?!e.containsRange(Pe._createOn(t),!0):!0}function LE(s,e){return!!s&&(!(!e.isCollapsed&&!s.isEmpty)||!e.start.isTouching(Ye._createAt(s,s.maxOffset))&&Cp(s,e))}function RE(s,e){return!!s&&(!(!e.isCollapsed&&!s.isEmpty)||!e.end.isTouching(Ye._createAt(s,0))&&Cp(s,e))}oo.prototype.is=function(s){return s==="selection"||s==="model:selection"};class Ro extends J(Pe){constructor(e,t){super(e,t),NE.call(this)}detach(){this.stopListening()}toRange(){return new Pe(this.start,this.end)}static fromRange(e){return new Ro(e.start,e.end)}}function NE(){this.listenTo(this.root.document.model,"applyOperation",(s,e)=>{const t=e[0];t.isDocumentOperation&&$E.call(this,t)},{priority:"low"})}function $E(s){const e=this.getTransformedByOperation(s),t=Pe._createFromRanges(e),n=!t.isEqual(this),a=function(p,_){switch(_.type){case"insert":return p.containsPosition(_.position);case"move":case"remove":case"reinsert":case"merge":return p.containsPosition(_.sourcePosition)||p.start.isEqual(_.sourcePosition)||p.containsPosition(_.targetPosition);case"split":return p.containsPosition(_.splitPosition)||p.containsPosition(_.insertionPosition)}return!1}(this,s);let c=null;if(n){t.root.rootName=="$graveyard"&&(c=s.type=="remove"?s.sourcePosition:s.deletionPosition);const p=this.toRange();this.start=t.start,this.end=t.end,this.fire("change:range",p,{deletionPosition:c})}else a&&this.fire("change:content",this.toRange(),{deletionPosition:c})}Ro.prototype.is=function(s){return s==="liveRange"||s==="model:liveRange"||s=="range"||s==="model:range"};const tu="selection:";class No extends J(Xr){constructor(e){super(),this._selection=new jE(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return tu+e}static _isStoreAttributeKey(e){return e.startsWith(tu)}}No.prototype.is=function(s){return s==="selection"||s=="model:selection"||s=="documentSelection"||s=="model:documentSelection"};class jE extends oo{constructor(e){super(),this.markers=new Oi({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(t,n)=>{const a=n[0];a.isDocumentOperation&&a.type!="marker"&&a.type!="rename"&&a.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(t,n,a,c)=>{this._updateMarker(n,c)}),this.listenTo(this._document,"change",(t,n)=>{(function(a,c){const p=a.document.differ;for(const _ of p.getChanges()){if(_.type!="insert")continue;const w=_.position.parent;_.length===w.maxOffset&&a.enqueueChange(c,E=>{const I=Array.from(w.getAttributeKeys()).filter(O=>O.startsWith(tu));for(const O of I)E.removeAttribute(O,w)})}})(this._model,n)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,t){super.setFocus(e,t),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,t){if(this._setAttribute(e,t)){const n=[e];this.fire("change:attribute",{attributeKeys:n,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}overrideGravity(){const e=S();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new L("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const t=this._prepareRange(e);t&&this._ranges.push(t)}_validateSelectionRanges(e){for(const t of e)if(!this._document._validateSelectionRange(t))throw new L("document-selection-wrong-position",this,{range:t})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const t=Ro.fromRange(e);return t.on("change:range",(n,a,c)=>{if(this._hasChangedRange=!0,t.root==this._document.graveyard){this._selectionRestorePosition=c.deletionPosition;const p=this._ranges.indexOf(t);this._ranges.splice(p,1),t.detach()}}),t}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let t=!1;for(const a of this._model.markers){const c=a.name.split(":",1)[0];if(!this._observedMarkers.has(c))continue;const p=a.getRange();for(const _ of this.getRanges())p.containsRange(_,!_.isCollapsed)&&e.push(a)}const n=Array.from(this.markers);for(const a of e)this.markers.has(a)||(this.markers.add(a),t=!0);for(const a of Array.from(this.markers))e.includes(a)||(this.markers.remove(a),t=!0);t&&this.fire("change:marker",{oldMarkers:n,directChange:!1})}_updateMarker(e,t){const n=e.name.split(":",1)[0];if(!this._observedMarkers.has(n))return;let a=!1;const c=Array.from(this.markers),p=this.markers.has(e);if(t){let _=!1;for(const w of this.getRanges())if(t.containsRange(w,!w.isCollapsed)){_=!0;break}_&&!p?(this.markers.add(e),a=!0):!_&&p&&(this.markers.remove(e),a=!0)}else p&&(this.markers.remove(e),a=!0);a&&this.fire("change:marker",{oldMarkers:c,directChange:!1})}_updateAttributes(e){const t=Qo(this._getSurroundingAttributes()),n=Qo(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[c,p]of this._attributePriority)p=="low"&&(this._attrs.delete(c),this._attributePriority.delete(c));this._setAttributesTo(t);const a=[];for(const[c,p]of this.getAttributes())n.has(c)&&n.get(c)===p||a.push(c);for(const[c]of n)this.hasAttribute(c)||a.push(c);a.length>0&&this.fire("change:attribute",{attributeKeys:a,directChange:!1})}_setAttribute(e,t,n=!0){const a=n?"normal":"low";return a=="low"&&this._attributePriority.get(e)=="normal"?!1:super.getAttribute(e)!==t&&(this._attrs.set(e,t),this._attributePriority.set(e,a),!0)}_removeAttribute(e,t=!0){const n=t?"normal":"low";return(n!="low"||this._attributePriority.get(e)!="normal")&&(this._attributePriority.set(e,n),!!super.hasAttribute(e)&&(this._attrs.delete(e),!0))}_setAttributesTo(e){const t=new Set;for(const[n,a]of this.getAttributes())e.get(n)!==a&&this._removeAttribute(n,!1);for(const[n,a]of e)this._setAttribute(n,a,!1)&&t.add(n);return t}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const t of e.getAttributeKeys())t.startsWith(tu)&&(yield[t.substr(10),e.getAttribute(t)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),t=this._model.schema;if(e.root.rootName=="$graveyard")return null;let n=null;if(this.isCollapsed){const a=e.textNode?e.textNode:e.nodeBefore,c=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(n=ec(a,t)),n||(n=ec(c,t)),!this.isGravityOverridden&&!n){let p=a;for(;p&&!n;)p=p.previousSibling,n=ec(p,t)}if(!n){let p=c;for(;p&&!n;)p=p.nextSibling,n=ec(p,t)}n||(n=this.getStoredAttributes())}else{const a=this.getFirstRange();for(const c of a){if(c.item.is("element")&&t.isObject(c.item)){n=ec(c.item,t);break}if(c.type=="text"){n=c.item.getAttributes();break}}}return n}_fixGraveyardSelection(e){const t=this._model.schema.getNearestSelectionRange(e);t&&this._pushRange(t)}}function ec(s,e){if(!s)return null;if(s instanceof Lo||s instanceof Cn)return s.getAttributes();if(!e.isInline(s))return null;if(!e.isObject(s))return[];const t=[];for(const[n,a]of s.getAttributes())e.checkAttribute("$text",n)&&e.getAttributeProperties(n).copyFromObject!==!1&&t.push([n,a]);return t}class Gb{constructor(e){this._dispatchers=e}add(e){for(const t of this._dispatchers)e(t);return this}}class zE extends Gb{elementToElement(e){return this.add(function(t){const n=qb(t.model),a=tc(t.view,"container");return n.attributes.length&&(n.children=!0),c=>{c.on(`insert:${n.name}`,function(p,_=VE){return(w,E,I)=>{if(!_(E.item,I.consumable,{preflight:!0}))return;const O=p(E.item,I,E);if(!O)return;_(E.item,I.consumable);const $=I.mapper.toViewPosition(E.range.start);I.mapper.bindElements(E.item,O),I.writer.insert($,O),I.convertAttributes(E.item),ev(O,E.item.getChildren(),I,{reconversion:E.reconversion})}}(a,Xb(n)),{priority:t.converterPriority||"normal"}),(n.children||n.attributes.length)&&c.on("reduceChanges",Jb(n),{priority:"low"})}}(e))}elementToStructure(e){return this.add(function(t){const n=qb(t.model),a=tc(t.view,"container");return n.children=!0,c=>{if(c._conversionApi.schema.checkChild(n.name,"$text"))throw new L("conversion-element-to-structure-disallowed-text",c,{elementName:n.name});var p,_;c.on(`insert:${n.name}`,(p=a,_=Xb(n),(w,E,I)=>{if(!_(E.item,I.consumable,{preflight:!0}))return;const O=new Map;I.writer._registerSlotFactory(function(G,Q,ie){return(he,ye)=>{const Oe=he.createContainerElement("$slot");let it=null;if(ye==="children")it=Array.from(G.getChildren());else{if(typeof ye!="function")throw new L("conversion-slot-mode-unknown",ie.dispatcher,{modeOrFilter:ye});it=Array.from(G.getChildren()).filter(Ct=>ye(Ct))}return Q.set(Oe,it),Oe}}(E.item,O,I));const $=p(E.item,I,E);if(I.writer._clearSlotFactory(),!$)return;(function(G,Q,ie){const he=Array.from(Q.values()).flat(),ye=new Set(he);if(ye.size!=he.length)throw new L("conversion-slot-filter-overlap",ie.dispatcher,{element:G});if(ye.size!=G.childCount)throw new L("conversion-slot-filter-incomplete",ie.dispatcher,{element:G})})(E.item,O,I),_(E.item,I.consumable);const V=I.mapper.toViewPosition(E.range.start);I.mapper.bindElements(E.item,$),I.writer.insert(V,$),I.convertAttributes(E.item),function(G,Q,ie,he){ie.mapper.on("modelToViewPosition",it,{priority:"highest"});let ye=null,Oe=null;for([ye,Oe]of Q)ev(G,Oe,ie,he),ie.writer.move(ie.writer.createRangeIn(ye),ie.writer.createPositionBefore(ye)),ie.writer.remove(ye);function it(Ct,Zt){const $t=Zt.modelPosition.nodeAfter,Rn=Oe.indexOf($t);Rn<0||(Zt.viewPosition=Zt.mapper.findPositionIn(ye,Rn))}ie.mapper.off("modelToViewPosition",it)}($,O,I,{reconversion:E.reconversion})}),{priority:t.converterPriority||"normal"}),c.on("reduceChanges",Jb(n),{priority:"low"})}}(e))}attributeToElement(e){return this.add(function(t){t=Jr(t);let n=t.model;typeof n=="string"&&(n={key:n});let a=`attribute:${n.key}`;if(n.name&&(a+=":"+n.name),n.values)for(const p of n.values)t.view[p]=tc(t.view[p],"attribute");else t.view=tc(t.view,"attribute");const c=Zb(t);return p=>{p.on(a,function(_){return(w,E,I)=>{if(!I.consumable.test(E.item,w.name))return;const O=_(E.attributeOldValue,I,E),$=_(E.attributeNewValue,I,E);if(!O&&!$)return;I.consumable.consume(E.item,w.name);const V=I.writer,G=V.document.selection;if(E.item instanceof oo||E.item instanceof No)V.wrap(G.getFirstRange(),$);else{let Q=I.mapper.toViewRange(E.range);E.attributeOldValue!==null&&O&&(Q=V.unwrap(Q,O)),E.attributeNewValue!==null&&$&&V.wrap(Q,$)}}}(c),{priority:t.converterPriority||"normal"})}}(e))}attributeToAttribute(e){return this.add(function(t){t=Jr(t);let n=t.model;typeof n=="string"&&(n={key:n});let a=`attribute:${n.key}`;if(n.name&&(a+=":"+n.name),n.values)for(const p of n.values)t.view[p]=Qb(t.view[p]);else t.view=Qb(t.view);const c=Zb(t);return p=>{var _;p.on(a,(_=c,(w,E,I)=>{if(!I.consumable.test(E.item,w.name))return;const O=_(E.attributeOldValue,I,E),$=_(E.attributeNewValue,I,E);if(!O&&!$)return;I.consumable.consume(E.item,w.name);const V=I.mapper.toViewElement(E.item),G=I.writer;if(!V)throw new L("conversion-attribute-to-attribute-on-text",I.dispatcher,E);if(E.attributeOldValue!==null&&O)if(O.key=="class"){const Q=ui(O.value);for(const ie of Q)G.removeClass(ie,V)}else if(O.key=="style"){const Q=Object.keys(O.value);for(const ie of Q)G.removeStyle(ie,V)}else G.removeAttribute(O.key,V);if(E.attributeNewValue!==null&&$)if($.key=="class"){const Q=ui($.value);for(const ie of Q)G.addClass(ie,V)}else if($.key=="style"){const Q=Object.keys($.value);for(const ie of Q)G.setStyle(ie,$.value[ie],V)}else G.setAttribute($.key,$.value,V)}),{priority:t.converterPriority||"normal"})}}(e))}markerToElement(e){return this.add(function(t){const n=tc(t.view,"ui");return a=>{var c;a.on(`addMarker:${t.model}`,(c=n,(p,_,w)=>{_.isOpening=!0;const E=c(_,w);_.isOpening=!1;const I=c(_,w);if(!E||!I)return;const O=_.markerRange;if(O.isCollapsed&&!w.consumable.consume(O,p.name))return;for(const G of O)if(!w.consumable.consume(G.item,p.name))return;const $=w.mapper,V=w.writer;V.insert($.toViewPosition(O.start),E),w.mapper.bindElementToMarker(E,_.markerName),O.isCollapsed||(V.insert($.toViewPosition(O.end),I),w.mapper.bindElementToMarker(I,_.markerName)),p.stop()}),{priority:t.converterPriority||"normal"}),a.on(`removeMarker:${t.model}`,(p,_,w)=>{const E=w.mapper.markerNameToElements(_.markerName);if(E){for(const I of E)w.mapper.unbindElementFromMarkerName(I,_.markerName),w.writer.clear(w.writer.createRangeOn(I),I);w.writer.clearClonedElementsGroup(_.markerName),p.stop()}},{priority:t.converterPriority||"normal"})}}(e))}markerToHighlight(e){return this.add(function(t){return n=>{var a;n.on(`addMarker:${t.model}`,(a=t.view,(c,p,_)=>{if(!p.item||!(p.item instanceof oo||p.item instanceof No||p.item.is("$textProxy")))return;const w=Ap(a,p,_);if(!w||!_.consumable.consume(p.item,c.name))return;const E=_.writer,I=Kb(E,w),O=E.document.selection;if(p.item instanceof oo||p.item instanceof No)E.wrap(O.getFirstRange(),I);else{const $=_.mapper.toViewRange(p.range),V=E.wrap($,I);for(const G of V.getItems())if(G.is("attributeElement")&&G.isSimilar(I)){_.mapper.bindElementToMarker(G,p.markerName);break}}}),{priority:t.converterPriority||"normal"}),n.on(`addMarker:${t.model}`,function(c){return(p,_,w)=>{if(!_.item||!(_.item instanceof pn))return;const E=Ap(c,_,w);if(!E||!w.consumable.test(_.item,p.name))return;const I=w.mapper.toViewElement(_.item);if(I&&I.getCustomProperty("addHighlight")){w.consumable.consume(_.item,p.name);for(const O of Pe._createIn(_.item))w.consumable.consume(O.item,p.name);I.getCustomProperty("addHighlight")(I,E,w.writer),w.mapper.bindElementToMarker(I,_.markerName)}}}(t.view),{priority:t.converterPriority||"normal"}),n.on(`removeMarker:${t.model}`,function(c){return(p,_,w)=>{if(_.markerRange.isCollapsed)return;const E=Ap(c,_,w);if(!E)return;const I=Kb(w.writer,E),O=w.mapper.markerNameToElements(_.markerName);if(O){for(const $ of O)w.mapper.unbindElementFromMarkerName($,_.markerName),$.is("attributeElement")?w.writer.unwrap(w.writer.createRangeOn($),I):$.getCustomProperty("removeHighlight")($,E.id,w.writer);w.writer.clearClonedElementsGroup(_.markerName),p.stop()}}}(t.view),{priority:t.converterPriority||"normal"})}}(e))}markerToData(e){return this.add(function(t){t=Jr(t);const n=t.model;let a=t.view;return a||(a=c=>({group:n,name:c.substr(t.model.length+1)})),c=>{var p;c.on(`addMarker:${n}`,(p=a,(_,w,E)=>{const I=p(w.markerName,E);if(!I)return;const O=w.markerRange;E.consumable.consume(O,_.name)&&(Yb(O,!1,E,w,I),Yb(O,!0,E,w,I),_.stop())}),{priority:t.converterPriority||"normal"}),c.on(`removeMarker:${n}`,function(_){return(w,E,I)=>{const O=_(E.markerName,I);if(!O)return;const $=I.mapper.markerNameToElements(E.markerName);if($){for(const G of $)I.mapper.unbindElementFromMarkerName(G,E.markerName),G.is("containerElement")?(V(`data-${O.group}-start-before`,G),V(`data-${O.group}-start-after`,G),V(`data-${O.group}-end-before`,G),V(`data-${O.group}-end-after`,G)):I.writer.clear(I.writer.createRangeOn(G),G);I.writer.clearClonedElementsGroup(E.markerName),w.stop()}function V(G,Q){if(Q.hasAttribute(G)){const ie=new Set(Q.getAttribute(G).split(","));ie.delete(O.name),ie.size==0?I.writer.removeAttribute(G,Q):I.writer.setAttribute(G,Array.from(ie).join(","),Q)}}}}(a),{priority:t.converterPriority||"normal"})}}(e))}}function Kb(s,e){const t=s.createAttributeElement("span",e.attributes);return e.classes&&t._addClass(e.classes),typeof e.priority=="number"&&(t._priority=e.priority),t._id=e.id,t}function Yb(s,e,t,n,a){const c=e?s.start:s.end,p=c.nodeAfter&&c.nodeAfter.is("element")?c.nodeAfter:null,_=c.nodeBefore&&c.nodeBefore.is("element")?c.nodeBefore:null;if(p||_){let w,E;e&&p||!e&&!_?(w=p,E=!0):(w=_,E=!1);const I=t.mapper.toViewElement(w);if(I)return void function(O,$,V,G,Q,ie){const he=`data-${ie.group}-${$?"start":"end"}-${V?"before":"after"}`,ye=O.hasAttribute(he)?O.getAttribute(he).split(","):[];ye.unshift(ie.name),G.writer.setAttribute(he,ye.join(","),O),G.mapper.bindElementToMarker(O,Q.markerName)}(I,e,E,t,n,a)}(function(w,E,I,O,$){const V=`${$.group}-${E?"start":"end"}`,G=$.name?{name:$.name}:null,Q=I.writer.createUIElement(V,G);I.writer.insert(w,Q),I.mapper.bindElementToMarker(Q,O.markerName)})(t.mapper.toViewPosition(c),e,t,n,a)}function qb(s){return typeof s=="string"&&(s={name:s}),s.attributes?Array.isArray(s.attributes)||(s.attributes=[s.attributes]):s.attributes=[],s.children=!!s.children,s}function tc(s,e){return typeof s=="function"?s:(t,n)=>function(a,c,p){typeof a=="string"&&(a={name:a});let _;const w=c.writer,E=Object.assign({},a.attributes);if(p=="container")_=w.createContainerElement(a.name,E);else if(p=="attribute"){const I={priority:a.priority||js.DEFAULT_PRIORITY};_=w.createAttributeElement(a.name,E,I)}else _=w.createUIElement(a.name,E);if(a.styles){const I=Object.keys(a.styles);for(const O of I)w.setStyle(O,a.styles[O],_)}if(a.classes){const I=a.classes;if(typeof I=="string")w.addClass(I,_);else for(const O of I)w.addClass(O,_)}return _}(s,n,e)}function Zb(s){return s.model.values?(e,t,n)=>{const a=s.view[e];return a?a(e,t,n):null}:s.view}function Qb(s){return typeof s=="string"?e=>({key:s,value:e}):typeof s=="object"?s.value?()=>s:e=>({key:s.key,value:e}):s}function Ap(s,e,t){const n=typeof s=="function"?s(e,t):s;return n?(n.priority||(n.priority=10),n.id||(n.id=e.markerName),n):null}function Jb(s){const e=function(t){return(n,a)=>{if(!n.is("element",t.name))return!1;if(a.type=="attribute"){if(t.attributes.includes(a.attributeKey))return!0}else if(t.children)return!0;return!1}}(s);return(t,n)=>{const a=[];n.reconvertedElements||(n.reconvertedElements=new Set);for(const c of n.changes){const p=c.type=="attribute"?c.range.start.nodeAfter:c.position.parent;if(p&&e(p,c)){if(!n.reconvertedElements.has(p)){n.reconvertedElements.add(p);const _=Ye._createBefore(p);let w=a.length;for(let E=a.length-1;E>=0;E--){const I=a[E],O=(I.type=="attribute"?I.range.start:I.position).compareWith(_);if(O=="before"||I.type=="remove"&&O=="same")break;w=E}a.splice(w,0,{type:"remove",name:p.name,position:_,length:1},{type:"reinsert",name:p.name,position:_,length:1})}}else a.push(c)}n.changes=a}}function Xb(s){return(e,t,n={})=>{const a=["insert"];for(const c of s.attributes)e.hasAttribute(c)&&a.push(`attribute:${c}`);return!!a.every(c=>t.test(e,c))&&(n.preflight||a.forEach(c=>t.consume(e,c)),!0)}}function ev(s,e,t,n){for(const a of e)FE(s.root,a,t,n)||t.convertItem(a)}function FE(s,e,t,n){const{writer:a,mapper:c}=t;if(!n.reconversion)return!1;const p=c.toViewElement(e);return!(!p||p.root==s)&&!!t.canReuseView(p)&&(a.move(a.createRangeOn(p),c.toViewPosition(Ye._createBefore(e))),!0)}function VE(s,e,{preflight:t}={}){return t?e.test(s,"insert"):e.consume(s,"insert")}function tv(s){const{schema:e,document:t}=s.model;for(const n of t.getRoots())if(n.isEmpty&&!e.checkChild(n,"$text")&&e.checkChild(n,"paragraph"))return s.insertElement("paragraph",n),!0;return!1}function nv(s,e,t){const n=t.createContext(s);return!!t.checkChild(n,"paragraph")&&!!t.checkChild(n.push("paragraph"),e)}function iv(s,e){const t=e.createElement("paragraph");return e.insert(t,s),e.createPositionAt(t,0)}var UE=Object.defineProperty,HE=Object.defineProperties,WE=Object.getOwnPropertyDescriptors,ov=Object.getOwnPropertySymbols,GE=Object.prototype.hasOwnProperty,KE=Object.prototype.propertyIsEnumerable,rv=(s,e,t)=>e in s?UE(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;class YE extends Gb{elementToElement(e){return this.add(sv(e))}elementToAttribute(e){return this.add(function(t){t=Jr(t),av(t);const n=lv(t,!1),a=xp(t.view),c=a?`element:${a}`:"element";return p=>{p.on(c,n,{priority:t.converterPriority||"low"})}}(e))}attributeToAttribute(e){return this.add(function(t){t=Jr(t);let n=null;(typeof t.view=="string"||t.view.key)&&(n=function(c){typeof c.view=="string"&&(c.view={key:c.view});const p=c.view.key;let _;return p=="class"||p=="style"?_={[p=="class"?"classes":"styles"]:c.view.value}:_={attributes:{[p]:c.view.value===void 0?/[\s\S]*/:c.view.value}},c.view.name&&(_.name=c.view.name),c.view=_,p}(t)),av(t,n);const a=lv(t,!0);return c=>{c.on("element",a,{priority:t.converterPriority||"low"})}}(e))}elementToMarker(e){return this.add(function(t){const n=function(p){return(_,w)=>{const E=typeof p=="string"?p:p(_,w);return w.writer.createElement("$marker",{"data-name":E})}}(t.model);return sv((a=((p,_)=>{for(var w in _||(_={}))GE.call(_,w)&&rv(p,w,_[w]);if(ov)for(var w of ov(_))KE.call(_,w)&&rv(p,w,_[w]);return p})({},t),c={model:n},HE(a,WE(c))));var a,c}(e))}dataToMarker(e){return this.add(function(t){t=Jr(t),t.model||(t.model=p=>p?t.view+":"+p:t.view);const n={view:t.view,model:t.model},a=Sp(cv(n,"start")),c=Sp(cv(n,"end"));return p=>{p.on(`element:${t.view}-start`,a,{priority:t.converterPriority||"normal"}),p.on(`element:${t.view}-end`,c,{priority:t.converterPriority||"normal"});const _=M.low,w=M.highest,E=M.get(t.converterPriority)/w;p.on("element",function(I){return(O,$,V)=>{const G=`data-${I.view}`;function Q(ie,he){for(const ye of he){const Oe=I.model(ye,V),it=V.writer.createElement("$marker",{"data-name":Oe});V.writer.insert(it,ie),$.modelCursor.isEqual(ie)?$.modelCursor=$.modelCursor.getShiftedBy(1):$.modelCursor=$.modelCursor._getTransformedByInsertion(ie,1),$.modelRange=$.modelRange._getTransformedByInsertion(ie,1)[0]}}(V.consumable.test($.viewItem,{attributes:G+"-end-after"})||V.consumable.test($.viewItem,{attributes:G+"-start-after"})||V.consumable.test($.viewItem,{attributes:G+"-end-before"})||V.consumable.test($.viewItem,{attributes:G+"-start-before"}))&&($.modelRange||Object.assign($,V.convertChildren($.viewItem,$.modelCursor)),V.consumable.consume($.viewItem,{attributes:G+"-end-after"})&&Q($.modelRange.end,$.viewItem.getAttribute(G+"-end-after").split(",")),V.consumable.consume($.viewItem,{attributes:G+"-start-after"})&&Q($.modelRange.end,$.viewItem.getAttribute(G+"-start-after").split(",")),V.consumable.consume($.viewItem,{attributes:G+"-end-before"})&&Q($.modelRange.start,$.viewItem.getAttribute(G+"-end-before").split(",")),V.consumable.consume($.viewItem,{attributes:G+"-start-before"})&&Q($.modelRange.start,$.viewItem.getAttribute(G+"-start-before").split(",")))}}(n),{priority:_+E})}}(e))}}function sv(s){const e=Sp(s=Jr(s)),t=xp(s.view),n=t?`element:${t}`:"element";return a=>{a.on(n,e,{priority:s.converterPriority||"normal"})}}function xp(s){return typeof s=="string"?s:typeof s=="object"&&typeof s.name=="string"?s.name:null}function Sp(s){const e=new Oo(s.view);return(t,n,a)=>{const c=e.match(n.viewItem);if(!c)return;const p=c.match;if(p.name=!0,!a.consumable.test(n.viewItem,p))return;const _=function(w,E,I){return w instanceof Function?w(E,I):I.writer.createElement(w)}(s.model,n.viewItem,a);_&&a.safeInsert(_,n.modelCursor)&&(a.consumable.consume(n.viewItem,p),a.convertChildren(n.viewItem,_),a.updateConversionResult(_,n))}}function av(s,e=null){const t=e===null||(c=>c.getAttribute(e)),n=typeof s.model!="object"?s.model:s.model.key,a=typeof s.model!="object"||s.model.value===void 0?t:s.model.value;s.model={key:n,value:a}}function lv(s,e){const t=new Oo(s.view);return(n,a,c)=>{if(!a.modelRange&&e)return;const p=t.match(a.viewItem);if(!p||(function(I,O){const $=typeof I=="function"?I(O):I;return typeof $=="object"&&!xp($)?!1:!$.classes&&!$.attributes&&!$.styles}(s.view,a.viewItem)?p.match.name=!0:delete p.match.name,!c.consumable.test(a.viewItem,p.match)))return;const _=s.model.key,w=typeof s.model.value=="function"?s.model.value(a.viewItem,c):s.model.value;if(w===null)return;a.modelRange||Object.assign(a,c.convertChildren(a.viewItem,a.modelCursor)),function(I,O,$,V){let G=!1;for(const Q of Array.from(I.getItems({shallow:$})))V.schema.checkAttribute(Q,O.key)&&(G=!0,Q.hasAttribute(O.key)||V.writer.setAttribute(O.key,O.value,Q));return G}(a.modelRange,{key:_,value:w},e,c)&&(c.consumable.test(a.viewItem,{name:!0})&&(p.match.name=!0),c.consumable.consume(a.viewItem,p.match))}}function cv(s,e){return{view:`${s.view}-${e}`,model:(t,n)=>{const a=t.getAttribute("name"),c=s.model(a,n);return n.writer.createElement("$marker",{"data-name":c})}}}function qE(s){s.document.registerPostFixer(e=>function(t,n){const a=n.document.selection,c=n.schema,p=[];let _=!1;for(const w of a.getRanges()){const E=dv(w,c);E&&!E.isEqual(w)?(p.push(E),_=!0):p.push(w)}return _&&t.setSelection(function(w){const E=[...w],I=new Set;let O=1;for(;O<E.length;){const $=E[O],V=E.slice(0,O);for(const[G,Q]of V.entries())if(!I.has(G)){if($.isEqual(Q))I.add(G);else if($.isIntersecting(Q)){I.add(G),I.add(O);const ie=$.getJoined(Q);E.push(ie)}}O++}return E.filter(($,V)=>!I.has(V))}(p),{backward:a.isBackward}),!1}(e,s))}function dv(s,e){return s.isCollapsed?function(t,n){const a=t.start,c=n.getNearestSelectionRange(a);if(!c){const _=a.getAncestors().reverse().find(w=>n.isObject(w));return _?Pe._createOn(_):null}if(!c.isCollapsed)return c;const p=c.start;return a.isEqual(p)?null:new Pe(p)}(s,e):function(t,n){const{start:a,end:c}=t,p=n.checkChild(a,"$text"),_=n.checkChild(c,"$text"),w=n.getLimitElement(a),E=n.getLimitElement(c);if(w===E){if(p&&_)return null;if(function($,V,G){const Q=$.nodeAfter&&!G.isLimit($.nodeAfter)||G.checkChild($,"$text"),ie=V.nodeBefore&&!G.isLimit(V.nodeBefore)||G.checkChild(V,"$text");return Q||ie}(a,c,n)){const $=a.nodeAfter&&n.isSelectable(a.nodeAfter)?null:n.getNearestSelectionRange(a,"forward"),V=c.nodeBefore&&n.isSelectable(c.nodeBefore)?null:n.getNearestSelectionRange(c,"backward"),G=$?$.start:a,Q=V?V.end:c;return new Pe(G,Q)}}const I=w&&!w.is("rootElement"),O=E&&!E.is("rootElement");if(I||O){const $=a.nodeAfter&&c.nodeBefore&&a.nodeAfter.parent===c.nodeBefore.parent,V=I&&(!$||!hv(a.nodeAfter,n)),G=O&&(!$||!hv(c.nodeBefore,n));let Q=a,ie=c;return V&&(Q=Ye._createBefore(uv(w,n))),G&&(ie=Ye._createAfter(uv(E,n))),new Pe(Q,ie)}return null}(s,e)}function uv(s,e){let t=s,n=t;for(;e.isLimit(n)&&n.parent;)t=n,n=n.parent;return t}function hv(s,e){return s&&e.isSelectable(s)}class ZE extends de(){constructor(e,t){super(),this.model=e,this.view=new SE(t),this.mapper=new $b,this.downcastDispatcher=new Vb({mapper:this.mapper,schema:e.schema});const n=this.model.document,a=n.selection,c=this.model.markers;var p,_,w;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(n,"change",()=>{this.view.change(E=>{this.downcastDispatcher.convertChanges(n.differ,c,E),this.downcastDispatcher.convertSelection(a,c,E)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(E,I){return(O,$)=>{const V=$.newSelection,G=[];for(const ie of V.getRanges())G.push(I.toModelRange(ie));const Q=E.createSelection(G,{backward:V.isBackward});Q.isEqual(E.document.selection)||E.change(ie=>{ie.setSelection(Q)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(p=this.mapper,_=this.model.schema,w=this.view,(E,I)=>{if(!w.document.isComposing||g.isAndroid)for(let O=0;O<I.targetRanges.length;O++){const $=I.targetRanges[O],V=p.toModelRange($),G=dv(V,_);G&&!G.isEqual(V)&&(I.targetRanges[O]=p.toViewRange(G))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(E,I,O)=>{if(!O.consumable.consume(I.item,E.name))return;const $=O.writer,V=O.mapper.toViewPosition(I.range.start),G=$.createText(I.item.data);$.insert(V,G)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(E,I,O)=>{O.convertAttributes(I.item),I.reconversion||!I.item.is("element")||I.item.isEmpty||O.convertChildren(I.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(E,I,O)=>{const $=O.mapper.toViewPosition(I.position),V=I.position.getShiftedBy(I.length),G=O.mapper.toViewPosition(V,{isPhantom:!0}),Q=O.writer.createRange($,G),ie=O.writer.remove(Q.getTrimmed());for(const he of O.writer.createRangeIn(ie).getItems())O.mapper.unbindViewElement(he,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("cleanSelection",(E,I,O)=>{const $=O.writer,V=$.document.selection;for(const G of V.getRanges())G.isCollapsed&&G.end.parent.isAttached()&&O.writer.mergeAttributes(G.start);$.setSelection(null)}),this.downcastDispatcher.on("selection",(E,I,O)=>{const $=I.selection;if($.isCollapsed||!O.consumable.consume($,"selection"))return;const V=[];for(const G of $.getRanges())V.push(O.mapper.toViewRange(G));O.writer.setSelection(V,{backward:$.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(E,I,O)=>{const $=I.selection;if(!$.isCollapsed||!O.consumable.consume($,"selection"))return;const V=O.writer,G=$.getFirstPosition(),Q=O.mapper.toViewPosition(G),ie=V.breakAttributes(Q);V.setSelection(ie)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(E=>{if(E.rootName=="$graveyard")return null;const I=new sb(this.view.document,E.name);return I.rootName=E.rootName,this.mapper.bindElements(E,I),I})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const t=typeof e=="string"?e:e.name,n=this.model.markers.get(t);if(!n)throw new L("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:t});this.model.change(()=>{this.model.markers._refresh(n)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}class nc{constructor(){this._consumables=new Map}add(e,t){let n;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?n=this._consumables.get(e):(n=new QE(e),this._consumables.set(e,n)),n.add(t))}test(e,t){const n=this._consumables.get(e);return n===void 0?null:e.is("$text")||e.is("documentFragment")?n:n.test(t)}consume(e,t){return!!this.test(e,t)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0)}revert(e,t){const n=this._consumables.get(e);n!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):n.revert(t))}static consumablesFromElement(e){const t={element:e,name:!0,attributes:[],classes:[],styles:[]},n=e.getAttributeKeys();for(const p of n)p!="style"&&p!="class"&&t.attributes.push(p);const a=e.getClassNames();for(const p of a)t.classes.push(p);const c=e.getStyleNames();for(const p of c)t.styles.push(p);return t}static createFrom(e,t){if(t||(t=new nc),e.is("$text"))return t.add(e),t;e.is("element")&&t.add(e,nc.consumablesFromElement(e)),e.is("documentFragment")&&t.add(e);for(const n of e.getChildren())t=nc.createFrom(n,t);return t}}const nu=["attributes","classes","styles"];class QE{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const t of nu)t in e&&this._add(t,e[t])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const t of nu)if(t in e){const n=this._test(t,e[t]);if(n!==!0)return n}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const t of nu)t in e&&this._consume(t,e[t])}revert(e){e.name&&(this._canConsumeName=!0);for(const t of nu)t in e&&this._revert(t,e[t])}_add(e,t){const n=Re(t)?t:[t],a=this._consumables[e];for(const c of n){if(e==="attributes"&&(c==="class"||c==="style"))throw new L("viewconsumable-invalid-attribute",this);if(a.set(c,!0),e==="styles")for(const p of this.element.document.stylesProcessor.getRelatedStyles(c))a.set(p,!0)}}_test(e,t){const n=Re(t)?t:[t],a=this._consumables[e];for(const c of n)if(e!=="attributes"||c!=="class"&&c!=="style"){const p=a.get(c);if(p===void 0)return null;if(!p)return!1}else{const p=c=="class"?"classes":"styles",_=this._test(p,[...this._consumables[p].keys()]);if(_!==!0)return _}return!0}_consume(e,t){const n=Re(t)?t:[t],a=this._consumables[e];for(const c of n)if(e!=="attributes"||c!=="class"&&c!=="style"){if(a.set(c,!1),e=="styles")for(const p of this.element.document.stylesProcessor.getRelatedStyles(c))a.set(p,!1)}else{const p=c=="class"?"classes":"styles";this._consume(p,[...this._consumables[p].keys()])}}_revert(e,t){const n=Re(t)?t:[t],a=this._consumables[e];for(const c of n)if(e!=="attributes"||c!=="class"&&c!=="style")a.get(c)===!1&&a.set(c,!0);else{const p=c=="class"?"classes":"styles";this._revert(p,[...this._consumables[p].keys()])}}}class JE extends de(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,t)=>{t[0]=new Us(t[0])},{priority:"highest"}),this.on("checkChild",(e,t)=>{t[0]=new Us(t[0]),t[1]=this.getDefinition(t[1])},{priority:"highest"})}register(e,t){if(this._sourceDefinitions[e])throw new L("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e])throw new L("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let t;return t=typeof e=="string"?e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return!(!t||!t.isBlock)}isLimit(e){const t=this.getDefinition(e);return!!t&&!(!t.isLimit&&!t.isObject)}isObject(e){const t=this.getDefinition(e);return!!t&&!!(t.isObject||t.isLimit&&t.isSelectable&&t.isContent)}isInline(e){const t=this.getDefinition(e);return!(!t||!t.isInline)}isSelectable(e){const t=this.getDefinition(e);return!!t&&!(!t.isSelectable&&!t.isObject)}isContent(e){const t=this.getDefinition(e);return!!t&&!(!t.isContent&&!t.isObject)}checkChild(e,t){return!!t&&this._checkContextMatch(t,e)}checkAttribute(e,t){const n=this.getDefinition(e.last);return!!n&&n.allowAttributes.includes(t)}checkMerge(e,t){if(e instanceof Ye){const n=e.nodeBefore,a=e.nodeAfter;if(!(n instanceof pn))throw new L("schema-check-merge-no-element-before",this);if(!(a instanceof pn))throw new L("schema-check-merge-no-element-after",this);return this.checkMerge(n,a)}for(const n of t.getChildren())if(!this.checkChild(e,n))return!1;return!0}addChildCheck(e){this.on("checkChild",(t,[n,a])=>{if(!a)return;const c=e(n,a);typeof c=="boolean"&&(t.stop(),t.return=c)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(t,[n,a])=>{const c=e(n,a);typeof c=="boolean"&&(t.stop(),t.return=c)},{priority:"high"})}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let t;for(e instanceof Ye?t=e.parent:t=(e instanceof Pe?[e]:Array.from(e.getRanges())).reduce((n,a)=>{const c=a.getCommonAncestor();return n?n.getCommonAncestor(c,{includeSelf:!0}):c},null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}checkAttributeInSelection(e,t){if(e.isCollapsed){const n=[...e.getFirstPosition().getAncestors(),new Cn("",e.getAttributes())];return this.checkAttribute(n,t)}{const n=e.getRanges();for(const a of n)for(const c of a)if(this.checkAttribute(c.item,t))return!0}return!1}*getValidRanges(e,t){e=function*(n){for(const a of n)yield*a.getMinimalFlatRanges()}(e);for(const n of e)yield*this._getValidRangesForRange(n,t)}getNearestSelectionRange(e,t="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new Pe(e);let n,a;const c=e.getAncestors().reverse().find(p=>this.isLimit(p))||e.root;t!="both"&&t!="backward"||(n=new tr({boundaries:Pe._createIn(c),startPosition:e,direction:"backward"})),t!="both"&&t!="forward"||(a=new tr({boundaries:Pe._createIn(c),startPosition:e}));for(const p of function*(_,w){let E=!1;for(;!E;){if(E=!0,_){const I=_.next();I.done||(E=!1,yield{walker:_,value:I.value})}if(w){const I=w.next();I.done||(E=!1,yield{walker:w,value:I.value})}}}(n,a)){const _=p.walker==n?"elementEnd":"elementStart",w=p.value;if(w.type==_&&this.isObject(w.item))return Pe._createOn(w.item);if(this.checkChild(w.nextPosition,"$text"))return new Pe(w.nextPosition)}return null}findAllowedParent(e,t){let n=e.parent;for(;n;){if(this.checkChild(n,t))return n;if(this.isLimit(n))return null;n=n.parent}return null}setAllowedAttributes(e,t,n){const a=n.model;for(const[c,p]of Object.entries(t))a.schema.checkAttribute(e,c)&&n.setAttribute(c,p,e)}removeDisallowedAttributes(e,t){for(const n of e)if(n.is("$text"))fv(this,n,t);else{const a=Pe._createIn(n).getPositions();for(const c of a)fv(this,c.nodeBefore||c.parent,t)}}getAttributesWithProperty(e,t,n){const a={};for(const[c,p]of e.getAttributes()){const _=this.getAttributeProperties(c);_[t]!==void 0&&(n!==void 0&&n!==_[t]||(a[c]=p))}return a}createContext(e){return new Us(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},t=this._sourceDefinitions,n=Object.keys(t);for(const a of n)e[a]=XE(t[a],a);for(const a of n)e9(e,a);for(const a of n)t9(e,a);for(const a of n)n9(e,a);for(const a of n)i9(e,a),o9(e,a);for(const a of n)r9(e,a),s9(e,a),a9(e,a);this._compiledDefinitions=e}_checkContextMatch(e,t,n=t.length-1){const a=t.getItem(n);if(e.allowIn.includes(a.name)){if(n==0)return!0;{const c=this.getDefinition(a);return this._checkContextMatch(c,t,n-1)}}return!1}*_getValidRangesForRange(e,t){let n=e.start,a=e.start;for(const c of e.getItems({shallow:!0}))c.is("element")&&(yield*this._getValidRangesForRange(Pe._createIn(c),t)),this.checkAttribute(c,t)||(n.isEqual(a)||(yield new Pe(n,a)),n=Ye._createAfter(c)),a=Ye._createAfter(c);n.isEqual(a)||(yield new Pe(n,a))}}class Us{constructor(e){if(e instanceof Us)return e;let t;t=typeof e=="string"?[e]:Array.isArray(e)?e:e.getAncestors({includeSelf:!0}),this._items=t.map(c9)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new Us([e]);return t._items=[...this._items,...t._items],t}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function XE(s,e){const t={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(n,a){for(const c of n){const p=Object.keys(c).filter(_=>_.startsWith("is"));for(const _ of p)a[_]=!!c[_]}}(s,t),Hs(s,t,"allowIn"),Hs(s,t,"allowContentOf"),Hs(s,t,"allowWhere"),Hs(s,t,"allowAttributes"),Hs(s,t,"allowAttributesOf"),Hs(s,t,"allowChildren"),Hs(s,t,"inheritTypesFrom"),function(n,a){for(const c of n){const p=c.inheritAllFrom;p&&(a.allowContentOf.push(p),a.allowWhere.push(p),a.allowAttributesOf.push(p),a.inheritTypesFrom.push(p))}}(s,t),t}function e9(s,e){const t=s[e];for(const n of t.allowChildren){const a=s[n];a&&a.allowIn.push(e)}t.allowChildren.length=0}function t9(s,e){for(const t of s[e].allowContentOf)s[t]&&l9(s,t).forEach(n=>{n.allowIn.push(e)});delete s[e].allowContentOf}function n9(s,e){for(const t of s[e].allowWhere){const n=s[t];if(n){const a=n.allowIn;s[e].allowIn.push(...a)}}delete s[e].allowWhere}function i9(s,e){for(const t of s[e].allowAttributesOf){const n=s[t];if(n){const a=n.allowAttributes;s[e].allowAttributes.push(...a)}}delete s[e].allowAttributesOf}function o9(s,e){const t=s[e];for(const n of t.inheritTypesFrom){const a=s[n];if(a){const c=Object.keys(a).filter(p=>p.startsWith("is"));for(const p of c)p in t||(t[p]=a[p])}}delete t.inheritTypesFrom}function r9(s,e){const t=s[e],n=t.allowIn.filter(a=>s[a]);t.allowIn=Array.from(new Set(n))}function s9(s,e){const t=s[e];for(const n of t.allowIn)s[n].allowChildren.push(e)}function a9(s,e){const t=s[e];t.allowAttributes=Array.from(new Set(t.allowAttributes))}function Hs(s,e,t){for(const n of s){const a=n[t];typeof a=="string"?e[t].push(a):Array.isArray(a)&&e[t].push(...a)}}function l9(s,e){const t=s[e];return(n=s,Object.keys(n).map(a=>n[a])).filter(a=>a.allowIn.includes(t.name));var n}function c9(s){return typeof s=="string"||s.is("documentFragment")?{name:typeof s=="string"?s:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:s.is("element")?s.name:"$text",*getAttributeKeys(){yield*s.getAttributeKeys()},getAttribute:e=>s.getAttribute(e)}}function fv(s,e,t){for(const n of e.getAttributeKeys())s.checkAttribute(e,n)||t.removeAttribute(n,e)}var d9=Object.defineProperty,u9=Object.defineProperties,h9=Object.getOwnPropertyDescriptors,pv=Object.getOwnPropertySymbols,f9=Object.prototype.hasOwnProperty,p9=Object.prototype.propertyIsEnumerable,mv=(s,e,t)=>e in s?d9(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;class m9 extends J(){constructor(e){var t;super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=(t=((n,a)=>{for(var c in a||(a={}))f9.call(a,c)&&mv(n,c,a[c]);if(pv)for(var c of pv(a))p9.call(a,c)&&mv(n,c,a[c]);return n})({},e),u9(t,h9({consumable:null,writer:null,store:null,convertItem:(n,a)=>this._convertItem(n,a),convertChildren:(n,a)=>this._convertChildren(n,a),safeInsert:(n,a)=>this._safeInsert(n,a),updateConversionResult:(n,a)=>this._updateConversionResult(n,a),splitToAllowedParent:(n,a)=>this._splitToAllowedParent(n,a),getSplitParts:n=>this._getSplitParts(n),keepEmptyElement:n=>this._keepEmptyElement(n)})))}convert(e,t,n=["$root"]){this.fire("viewCleanup",e),this._modelCursor=function(p,_){let w;for(const E of new Us(p)){const I={};for(const $ of E.getAttributeKeys())I[$]=E.getAttribute($);const O=_.createElement(E.name,I);w&&_.insert(O,w),w=Ye._createAt(O,0)}return w}(n,t),this.conversionApi.writer=t,this.conversionApi.consumable=nc.createFrom(e),this.conversionApi.store={};const{modelRange:a}=this._convertItem(e,this._modelCursor),c=t.createDocumentFragment();if(a){this._removeEmptyElements();for(const p of Array.from(this._modelCursor.parent.getChildren()))t.append(p,c);c.markers=function(p,_){const w=new Set,E=new Map,I=Pe._createIn(p).getItems();for(const O of I)O.is("element","$marker")&&w.add(O);for(const O of w){const $=O.getAttribute("data-name"),V=_.createPositionBefore(O);E.has($)?E.get($).end=V.clone():E.set($,new Pe(V.clone())),_.remove(O)}return E}(c,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,c}_convertItem(e,t){const n={viewItem:e,modelCursor:t,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,n,this.conversionApi):e.is("$text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof Pe))throw new L("view-conversion-dispatcher-incorrect-result",this);return{modelRange:n.modelRange,modelCursor:n.modelCursor}}_convertChildren(e,t){let n=t.is("position")?t:Ye._createAt(t,0);const a=new Pe(n);for(const c of Array.from(e.getChildren())){const p=this._convertItem(c,n);p.modelRange instanceof Pe&&(a.end=p.modelRange.end,n=p.modelCursor)}return{modelRange:a,modelCursor:n}}_safeInsert(e,t){const n=this._splitToAllowedParent(e,t);return!!n&&(this.conversionApi.writer.insert(e,n.position),!0)}_updateConversionResult(e,t){const n=this._getSplitParts(e),a=this.conversionApi.writer;t.modelRange||(t.modelRange=a.createRange(a.createPositionBefore(e),a.createPositionAfter(n[n.length-1])));const c=this._cursorParents.get(e);t.modelCursor=c?a.createPositionAt(c,0):t.modelRange.end}_splitToAllowedParent(e,t){const{schema:n,writer:a}=this.conversionApi;let c=n.findAllowedParent(t,e);if(c){if(c===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(c)&&(c=null)}if(!c)return nv(t,e,n)?{position:iv(t,a)}:null;const p=this.conversionApi.writer.split(t,c),_=[];for(const E of p.range.getWalker())if(E.type=="elementEnd")_.push(E.item);else{const I=_.pop(),O=E.item;this._registerSplitPair(I,O)}const w=p.range.end.parent;return this._cursorParents.set(e,w),{position:p.position,cursorParent:w}}_registerSplitPair(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);const n=this._splitParts.get(e);this._splitParts.set(t,n),n.push(t)}_getSplitParts(e){let t;return t=this._splitParts.has(e)?this._splitParts.get(e):[e],t}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const t of this._splitParts.keys())t.isEmpty&&!this._emptyElementsToKeep.has(t)&&(this.conversionApi.writer.remove(t),this._splitParts.delete(t),e=!0);e&&this._removeEmptyElements()}}class g9{getHtml(e){const t=document.implementation.createHTMLDocument("").createElement("div");return t.appendChild(e),t.innerHTML}}class _9{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new Zd(e,{renderingMode:"data"}),this.htmlWriter=new g9}toData(e){const t=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this.domConverter.domToView(t,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const t=this.domParser.parseFromString(e,"text/html"),n=t.createDocumentFragment(),a=t.body.childNodes;for(;a.length>0;)n.appendChild(a[0]);return n}}class b9 extends J(){constructor(e,t){super(),this.model=e,this.mapper=new $b,this.downcastDispatcher=new Vb({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",(n,a,c)=>{if(!c.consumable.consume(a.item,n.name))return;const p=c.writer,_=c.mapper.toViewPosition(a.range.start),w=p.createText(a.item.data);p.insert(_,w)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(n,a,c)=>{c.convertAttributes(a.item),a.reconversion||!a.item.is("element")||a.item.isEmpty||c.convertChildren(a.item)},{priority:"lowest"}),this.upcastDispatcher=new m9({schema:e.schema}),this.viewDocument=new Kd(t),this.stylesProcessor=t,this.htmlProcessor=new _9(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new lb(this.viewDocument),this.upcastDispatcher.on("text",(n,a,{schema:c,consumable:p,writer:_})=>{let w=a.modelCursor;if(!p.test(a.viewItem))return;if(!c.checkChild(w,"$text")){if(!nv(w,"$text",c)||a.viewItem.data.trim().length==0)return;const I=w.nodeBefore;w=iv(w,_),I&&I.is("element","$marker")&&(_.move(_.createRangeOn(I),w),w=_.createPositionAfter(I))}p.consume(a.viewItem);const E=_.createText(a.viewItem.data);_.insert(E,w),a.modelRange=_.createRange(w,w.getShiftedBy(E.offsetSize)),a.modelCursor=a.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(n,a,c)=>{if(!a.modelRange&&c.consumable.consume(a.viewItem,{name:!0})){const{modelRange:p,modelCursor:_}=c.convertChildren(a.viewItem,a.modelCursor);a.modelRange=p,a.modelCursor=_}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(n,a,c)=>{if(!a.modelRange&&c.consumable.consume(a.viewItem,{name:!0})){const{modelRange:p,modelCursor:_}=c.convertChildren(a.viewItem,a.modelCursor);a.modelRange=p,a.modelCursor=_}},{priority:"lowest"}),de().prototype.decorate.call(this,"init"),de().prototype.decorate.call(this,"set"),de().prototype.decorate.call(this,"get"),de().prototype.decorate.call(this,"toView"),de().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},tv)},{priority:"lowest"})}get(e={}){const{rootName:t="main",trim:n="empty"}=e;if(!this._checkIfRootsExists([t]))throw new L("datacontroller-get-non-existent-root",this);const a=this.model.document.getRoot(t);return a.isAttached()||j("datacontroller-get-detached-root",this),n!=="empty"||this.model.hasContent(a,{ignoreWhitespaces:!0})?this.stringify(a,e):""}stringify(e,t={}){const n=this.toView(e,t);return this.processor.toData(n)}toView(e,t={}){const n=this.viewDocument,a=this._viewWriter;this.mapper.clearBindings();const c=Pe._createIn(e),p=new zs(n);this.mapper.bindElements(e,p);const _=e.is("documentFragment")?e.markers:function(w){const E=[],I=w.root.document;if(!I)return new Map;const O=Pe._createIn(w);for(const $ of I.model.markers){const V=$.getRange(),G=V.isCollapsed,Q=V.start.isEqual(O.start)||V.end.isEqual(O.end);if(G&&Q)E.push([$.name,V]);else{const ie=O.getIntersection(V);ie&&E.push([$.name,ie])}}return E.sort(([$,V],[G,Q])=>{if(V.end.compareWith(Q.start)!=="after")return 1;if(V.start.compareWith(Q.end)!=="before")return-1;switch(V.start.compareWith(Q.start)){case"before":return 1;case"after":return-1;default:switch(V.end.compareWith(Q.end)){case"before":return 1;case"after":return-1;default:return G.localeCompare($)}}}),new Map(E)}(e);return this.downcastDispatcher.convert(c,_,a,t),p}init(e){if(this.model.document.version)throw new L("datacontroller-init-document-not-empty",this);let t={};if(typeof e=="string"?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new L("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},n=>{for(const a of Object.keys(t)){const c=this.model.document.getRoot(a);n.insert(this.parse(t[a],c),c,0)}}),Promise.resolve()}set(e,t={}){let n={};if(typeof e=="string"?n.main=e:n=e,!this._checkIfRootsExists(Object.keys(n)))throw new L("datacontroller-set-non-existent-root",this);this.model.enqueueChange(t.batchType||{},a=>{a.setSelection(null),a.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const c of Object.keys(n)){const p=this.model.document.getRoot(c);a.remove(a.createRangeIn(p)),a.insert(this.parse(n[c],p),p,0)}})}parse(e,t="$root"){const n=this.processor.toView(e);return this.toModel(n,t)}toModel(e,t="$root"){return this.model.change(n=>this.upcastDispatcher.convert(e,n,t))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const t of e)if(!this.model.document.getRoot(t))return!1;return!0}}class v9{constructor(e,t){this._helpers=new Map,this._downcast=ui(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=ui(t),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,t){const n=this._downcast.includes(t);if(!this._upcast.includes(t)&&!n)throw new L("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:n})}for(e){if(!this._helpers.has(e))throw new L("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:t,view:n}of Ep(e))this.for("upcast").elementToElement({model:t,view:n,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:t,view:n}of Ep(e))this.for("upcast").elementToAttribute({view:n,model:t,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:t,view:n}of Ep(e))this.for("upcast").attributeToAttribute({view:n,model:t})}_createConversionHelpers({name:e,dispatchers:t,isDowncast:n}){if(this._helpers.has(e))throw new L("conversion-group-exists",this);const a=n?new zE(t):new YE(t);this._helpers.set(e,a)}}function*Ep(s){if(s.model.values)for(const e of s.model.values){const t={key:s.model.key,value:e},n=s.view[e],a=s.upcastAlso?s.upcastAlso[e]:void 0;yield*gv(t,n,a)}else yield*gv(s.model,s.view,s.upcastAlso)}function*gv(s,e,t){if(yield{model:s,view:e},t)for(const n of ui(t))yield{model:s,view:n}}class ro{constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,t){return new this(e.baseVersion)}}function Dp(s,e){const t=bv(e),n=t.reduce((p,_)=>p+_.offsetSize,0),a=s.parent;rc(s);const c=s.index;return a._insertChild(c,t),oc(a,c+t.length),oc(a,c),new Pe(s,s.getShiftedBy(n))}function _v(s){if(!s.isFlat)throw new L("operation-utils-remove-range-not-flat",this);const e=s.start.parent;rc(s.start),rc(s.end);const t=e._removeChildren(s.start.index,s.end.index-s.start.index);return oc(e,s.start.index),t}function ic(s,e){if(!s.isFlat)throw new L("operation-utils-move-range-not-flat",this);const t=_v(s);return Dp(e=e._getTransformedByDeletion(s.start,s.end.offset-s.start.offset),t)}function bv(s){const e=[];(function t(n){if(typeof n=="string")e.push(new Cn(n));else if(n instanceof Lo)e.push(new Cn(n.data,n.getAttributes()));else if(n instanceof Fs)e.push(n);else if(Ae(n))for(const a of n)t(a)})(s);for(let t=1;t<e.length;t++){const n=e[t],a=e[t-1];n instanceof Cn&&a instanceof Cn&&vv(n,a)&&(e.splice(t-1,2,new Cn(a.data+n.data,a.getAttributes())),t--)}return e}function oc(s,e){const t=s.getChild(e-1),n=s.getChild(e);if(t&&n&&t.is("$text")&&n.is("$text")&&vv(t,n)){const a=new Cn(t.data+n.data,t.getAttributes());s._removeChildren(e-1,2),s._insertChild(e-1,a)}}function rc(s){const e=s.textNode,t=s.parent;if(e){const n=s.offset-e.startOffset,a=e.index;t._removeChildren(a,1);const c=new Cn(e.data.substr(0,n),e.getAttributes()),p=new Cn(e.data.substr(n),e.getAttributes());t._insertChild(a,[c,p])}}function vv(s,e){const t=s.getAttributes(),n=e.getAttributes();for(const a of t){if(a[1]!==e.getAttribute(a[0]))return!1;n.next()}return n.next().done}class un extends ro{constructor(e,t,n,a){super(a),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=t,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[Pe._createFromPositionAndShift(this.sourcePosition,this.howMany),Pe._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new un(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new un(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent,n=this.sourcePosition.offset,a=this.targetPosition.offset;if(n+this.howMany>e.maxOffset)throw new L("move-operation-nodes-do-not-exist",this);if(e===t&&n<a&&a<n+this.howMany)throw new L("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&Fe(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const c=this.sourcePosition.path.length-1;if(this.targetPosition.path[c]>=n&&this.targetPosition.path[c]<n+this.howMany)throw new L("move-operation-node-into-itself",this)}}_execute(){ic(Pe._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,t){const n=Ye.fromJSON(e.sourcePosition,t),a=Ye.fromJSON(e.targetPosition,t);return new this(n,e.howMany,a,e.baseVersion)}}class hi extends ro{constructor(e,t,n){super(n),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new Jl(bv(t)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new Jl([...this.nodes].map(n=>n._clone(!0))),t=new hi(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}getReversed(){const e=this.position.root.document.graveyard,t=new Ye(e,[0]);return new un(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new L("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new Jl([...e].map(t=>t._clone(!0))),Dp(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,t){const n=[];for(const c of e.nodes)c.name?n.push(pn.fromJSON(c)):n.push(Cn.fromJSON(c));const a=new hi(Ye.fromJSON(e.position,t),n,e.baseVersion);return a.shouldReceiveAttributes=e.shouldReceiveAttributes,a}}class An extends ro{constructor(e,t,n,a,c){super(c),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=t,this.insertionPosition=n,this.graveyardPosition=a?a.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new Ye(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Pe(this.splitPosition,e)}get affectedSelectable(){const e=[Pe._createFromPositionAndShift(this.splitPosition,0),Pe._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(Pe._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new An(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,t=new Ye(e,[0]);return new Wn(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,t=this.splitPosition.offset;if(!e||e.maxOffset<t)throw new L("split-operation-position-invalid",this);if(!e.parent)throw new L("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new L("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new L("split-operation-graveyard-position-invalid",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)ic(Pe._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const t=e._clone();Dp(this.insertionPosition,t)}ic(new Pe(Ye._createAt(e,this.splitPosition.offset),Ye._createAt(e,e.maxOffset)),this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const t=e.path.slice(0,-1);return t[t.length-1]++,new Ye(e.root,t,"toPrevious")}static fromJSON(e,t){const n=Ye.fromJSON(e.splitPosition,t),a=Ye.fromJSON(e.insertionPosition,t),c=e.graveyardPosition?Ye.fromJSON(e.graveyardPosition,t):null;return new this(n,e.howMany,a,c,e.baseVersion)}}class Wn extends ro{constructor(e,t,n,a,c){super(c),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=t,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=a.clone()}get type(){return"merge"}get deletionPosition(){return new Ye(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Pe(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[Pe._createOn(e),Pe._createFromPositionAndShift(this.targetPosition,0),Pe._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new Wn(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),n=new Ye(this.sourcePosition.root,t)._getTransformedByMergeOperation(this);return new An(e,this.howMany,n,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent;if(!e.parent)throw new L("merge-operation-source-position-invalid",this);if(!t.parent)throw new L("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new L("merge-operation-how-many-invalid",this)}_execute(){const e=this.sourcePosition.parent;ic(Pe._createIn(e),this.targetPosition),ic(Pe._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,t){const n=Ye.fromJSON(e.sourcePosition,t),a=Ye.fromJSON(e.targetPosition,t),c=Ye.fromJSON(e.graveyardPosition,t);return new this(n,e.howMany,a,c,e.baseVersion)}}class Vi extends ro{constructor(e,t,n,a,c,p){super(p),this.name=e,this.oldRange=t?t.clone():null,this.newRange=n?n.clone():null,this.affectsData=c,this._markers=a}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new Vi(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Vi(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,t){return new Vi(e.name,e.oldRange?Pe.fromJSON(e.oldRange,t):null,e.newRange?Pe.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}const kv=function(s,e){return Mb(s,e)};class ei extends ro{constructor(e,t,n,a,c){super(c),this.range=e.clone(),this.key=t,this.oldValue=n===void 0?null:n,this.newValue=a===void 0?null:a}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new ei(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new ei(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new L("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!kv(e.getAttribute(this.key),this.oldValue))throw new L("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new L("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){kv(this.oldValue,this.newValue)||function(e,t,n){rc(e.start),rc(e.end);for(const a of e.getItems({shallow:!0})){const c=a.is("$textProxy")?a.textNode:a;n!==null?c._setAttribute(t,n):c._removeAttribute(t),oc(c.parent,c.index)}oc(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,t){return new ei(Pe.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}class ri extends ro{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new ri(this.baseVersion)}getReversed(){return new ri(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class Ui extends ro{constructor(e,t,n,a){super(a),this.position=e,this.position.stickiness="toNext",this.oldName=t,this.newName=n}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new Ui(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Ui(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof pn))throw new L("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new L("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,t){return new Ui(Ye.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}class Cr extends ro{constructor(e,t,n,a,c){super(c),this.root=e,this.key=t,this.oldValue=n===void 0?null:n,this.newValue=a===void 0?null:a}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new Cr(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Cr(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new L("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new L("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new L("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,t){if(!t.getRoot(e.root))throw new L("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new Cr(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class nr extends ro{constructor(e,t,n,a,c){super(c),this.rootName=e,this.elementName=t,this.isAdd=n,this._document=a,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new nr(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new nr(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,t){return new nr(e.rootName,e.elementName,e.isAdd,t,e.baseVersion)}}const bo={};bo[ei.className]=ei,bo[hi.className]=hi,bo[Vi.className]=Vi,bo[un.className]=un,bo[ri.className]=ri,bo[ro.className]=ro,bo[Ui.className]=Ui,bo[Cr.className]=Cr,bo[nr.className]=nr,bo[An.className]=An,bo[Wn.className]=Wn;class k9{static fromJSON(e,t){return bo[e.__className].fromJSON(e,t)}}const Tp=new Map;function on(s,e,t){let n=Tp.get(s);n||(n=new Map,Tp.set(s,n)),n.set(e,t)}function w9(s){return[s]}function wv(s,e,t={}){const n=function(a,c){const p=Tp.get(a);return p&&p.has(c)?p.get(c):w9}(s.constructor,e.constructor);try{return n(s=s.clone(),e,t)}catch(a){throw a}}function y9(s,e,t){s=s.slice(),e=e.slice();const n=new C9(t.document,t.useRelations,t.forceWeakRemove);n.setOriginalOperations(s),n.setOriginalOperations(e);const a=n.originalOperations;if(s.length==0||e.length==0)return{operationsA:s,operationsB:e,originalOperations:a};const c=new WeakMap;for(const w of s)c.set(w,0);const p={nextBaseVersionA:s[s.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:s.length,originalOperationsBCount:e.length};let _=0;for(;_<s.length;){const w=s[_],E=c.get(w);if(E==e.length){_++;continue}const I=e[E],O=wv(w,I,n.getContext(w,I,!0)),$=wv(I,w,n.getContext(I,w,!1));n.updateRelation(w,I),n.setOriginalOperations(O,w),n.setOriginalOperations($,I);for(const V of O)c.set(V,E+$.length);s.splice(_,1,...O),e.splice(E,1,...$)}if(t.padWithNoOps){const w=s.length-p.originalOperationsACount,E=e.length-p.originalOperationsBCount;Cv(s,E-w),Cv(e,w-E)}return yv(s,p.nextBaseVersionB),yv(e,p.nextBaseVersionA),{operationsA:s,operationsB:e,originalOperations:a}}class C9{constructor(e,t,n=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=t,this._forceWeakRemove=!!n,this._relations=new Map}setOriginalOperations(e,t=null){const n=t?this.originalOperations.get(t):null;for(const a of e)this.originalOperations.set(a,n||a)}updateRelation(e,t){if(e instanceof un)t instanceof Wn?e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter"):t instanceof un&&(e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter"));else if(e instanceof An){if(t instanceof Wn)e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");else if(t instanceof un)if(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))this._setRelation(e,t,"splitBefore");else{const n=Pe._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&n.containsPosition(e.splitPosition)){const a=n.end.offset-e.splitPosition.offset,c=e.splitPosition.offset-n.start.offset;this._setRelation(e,t,{howMany:a,offset:c})}}}else if(e instanceof Wn)t instanceof Wn?(e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement")):t instanceof An&&e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource");else if(e instanceof Vi){const n=e.newRange;if(!n)return;if(t instanceof un){const a=Pe._createFromPositionAndShift(t.sourcePosition,t.howMany),c=a.containsPosition(n.start)||a.start.isEqual(n.start),p=a.containsPosition(n.end)||a.end.isEqual(n.end);!c&&!p||a.containsRange(n)||this._setRelation(e,t,{side:c?"left":"right",path:c?n.start.path.slice():n.end.path.slice()})}else if(t instanceof Wn){const a=n.start.isEqual(t.targetPosition),c=n.start.isEqual(t.deletionPosition),p=n.end.isEqual(t.deletionPosition),_=n.end.isEqual(t.sourcePosition);(a||c||p||_)&&this._setRelation(e,t,{wasInLeftElement:a,wasStartBeforeMergedElement:c,wasEndBeforeMergedElement:p,wasInRightElement:_})}}}getContext(e,t,n){return{aIsStrong:n,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}_getRelation(e,t){const n=this.originalOperations.get(t),a=this._history.getUndoneOperation(n);if(!a)return null;const c=this.originalOperations.get(e),p=this._relations.get(c);return p&&p.get(a)||null}_setRelation(e,t,n){const a=this.originalOperations.get(e),c=this.originalOperations.get(t);let p=this._relations.get(a);p||(p=new Map,this._relations.set(a,p)),p.set(c,n)}}function yv(s,e){for(const t of s)t.baseVersion=e++}function Cv(s,e){for(let t=0;t<e;t++)s.push(new ri(0))}function Av(s,e,t){const n=s.nodes.getNode(0).getAttribute(e);if(n==t)return null;const a=new Pe(s.position,s.position.getShiftedBy(s.howMany));return new ei(a,e,n,t,0)}function xv(s,e){return s.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function za(s,e){const t=[];for(let n=0;n<s.length;n++){const a=s[n],c=new un(a.start,a.end.offset-a.start.offset,e,0);t.push(c);for(let p=n+1;p<s.length;p++)s[p]=s[p]._getTransformedByMove(c.sourcePosition,c.targetPosition,c.howMany)[0];e=e._getTransformedByMove(c.sourcePosition,c.targetPosition,c.howMany)}return t}on(ei,ei,(s,e,t)=>{if(s.key===e.key&&s.range.start.hasSameParentAs(e.range.start)){const n=s.range.getDifference(e.range).map(c=>new ei(c,s.key,s.oldValue,s.newValue,0)),a=s.range.getIntersection(e.range);return a&&t.aIsStrong&&n.push(new ei(a,e.key,e.newValue,s.newValue,0)),n.length==0?[new ri(0)]:n}return[s]}),on(ei,hi,(s,e)=>{if(s.range.start.hasSameParentAs(e.position)&&s.range.containsPosition(e.position)){const t=s.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(n=>new ei(n,s.key,s.oldValue,s.newValue,s.baseVersion));if(e.shouldReceiveAttributes){const n=Av(e,s.key,s.oldValue);n&&t.unshift(n)}return t}return s.range=s.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[s]}),on(ei,Wn,(s,e)=>{const t=[];s.range.start.hasSameParentAs(e.deletionPosition)&&(s.range.containsPosition(e.deletionPosition)||s.range.start.isEqual(e.deletionPosition))&&t.push(Pe._createFromPositionAndShift(e.graveyardPosition,1));const n=s.range._getTransformedByMergeOperation(e);return n.isCollapsed||t.push(n),t.map(a=>new ei(a,s.key,s.oldValue,s.newValue,s.baseVersion))}),on(ei,un,(s,e)=>function(n,a){const c=Pe._createFromPositionAndShift(a.sourcePosition,a.howMany);let p=null,_=[];c.containsRange(n,!0)?p=n:n.start.hasSameParentAs(c.start)?(_=n.getDifference(c),p=n.getIntersection(c)):_=[n];const w=[];for(let E of _){E=E._getTransformedByDeletion(a.sourcePosition,a.howMany);const I=a.getMovedRangeStart(),O=E.start.hasSameParentAs(I),$=E._getTransformedByInsertion(I,a.howMany,O);w.push(...$)}return p&&w.push(p._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany,!1)[0]),w}(s.range,e).map(n=>new ei(n,s.key,s.oldValue,s.newValue,s.baseVersion))),on(ei,An,(s,e)=>{if(s.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||s.range.end.offset++,[s];if(s.range.start.hasSameParentAs(e.splitPosition)&&s.range.containsPosition(e.splitPosition)){const t=s.clone();return t.range=new Pe(e.moveTargetPosition.clone(),s.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),s.range.end=e.splitPosition.clone(),s.range.end.stickiness="toPrevious",[s,t]}return s.range=s.range._getTransformedBySplitOperation(e),[s]}),on(hi,ei,(s,e)=>{const t=[s];if(s.shouldReceiveAttributes&&s.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(s.position)){const n=Av(s,e.key,e.newValue);n&&t.push(n)}return t}),on(hi,hi,(s,e,t)=>(s.position.isEqual(e.position)&&t.aIsStrong||(s.position=s.position._getTransformedByInsertOperation(e)),[s])),on(hi,un,(s,e)=>(s.position=s.position._getTransformedByMoveOperation(e),[s])),on(hi,An,(s,e)=>(s.position=s.position._getTransformedBySplitOperation(e),[s])),on(hi,Wn,(s,e)=>(s.position=s.position._getTransformedByMergeOperation(e),[s])),on(Vi,hi,(s,e)=>(s.oldRange&&(s.oldRange=s.oldRange._getTransformedByInsertOperation(e)[0]),s.newRange&&(s.newRange=s.newRange._getTransformedByInsertOperation(e)[0]),[s])),on(Vi,Vi,(s,e,t)=>{if(s.name==e.name){if(!t.aIsStrong)return[new ri(0)];s.oldRange=e.newRange?e.newRange.clone():null}return[s]}),on(Vi,Wn,(s,e)=>(s.oldRange&&(s.oldRange=s.oldRange._getTransformedByMergeOperation(e)),s.newRange&&(s.newRange=s.newRange._getTransformedByMergeOperation(e)),[s])),on(Vi,un,(s,e,t)=>{if(s.oldRange&&(s.oldRange=Pe._createFromRanges(s.oldRange._getTransformedByMoveOperation(e))),s.newRange){if(t.abRelation){const n=Pe._createFromRanges(s.newRange._getTransformedByMoveOperation(e));if(t.abRelation.side=="left"&&e.targetPosition.isEqual(s.newRange.start))return s.newRange.end=n.end,s.newRange.start.path=t.abRelation.path,[s];if(t.abRelation.side=="right"&&e.targetPosition.isEqual(s.newRange.end))return s.newRange.start=n.start,s.newRange.end.path=t.abRelation.path,[s]}s.newRange=Pe._createFromRanges(s.newRange._getTransformedByMoveOperation(e))}return[s]}),on(Vi,An,(s,e,t)=>{if(s.oldRange&&(s.oldRange=s.oldRange._getTransformedBySplitOperation(e)),s.newRange){if(t.abRelation){const n=s.newRange._getTransformedBySplitOperation(e);return s.newRange.start.isEqual(e.splitPosition)&&t.abRelation.wasStartBeforeMergedElement?s.newRange.start=Ye._createAt(e.insertionPosition):s.newRange.start.isEqual(e.splitPosition)&&!t.abRelation.wasInLeftElement&&(s.newRange.start=Ye._createAt(e.moveTargetPosition)),s.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasInRightElement?s.newRange.end=Ye._createAt(e.moveTargetPosition):s.newRange.end.isEqual(e.splitPosition)&&t.abRelation.wasEndBeforeMergedElement?s.newRange.end=Ye._createAt(e.insertionPosition):s.newRange.end=n.end,[s]}s.newRange=s.newRange._getTransformedBySplitOperation(e)}return[s]}),on(Wn,hi,(s,e)=>(s.sourcePosition.hasSameParentAs(e.position)&&(s.howMany+=e.howMany),s.sourcePosition=s.sourcePosition._getTransformedByInsertOperation(e),s.targetPosition=s.targetPosition._getTransformedByInsertOperation(e),[s])),on(Wn,Wn,(s,e,t)=>{if(s.sourcePosition.isEqual(e.sourcePosition)&&s.targetPosition.isEqual(e.targetPosition)){if(t.bWasUndone){const n=e.graveyardPosition.path.slice();return n.push(0),s.sourcePosition=new Ye(e.graveyardPosition.root,n),s.howMany=0,[s]}return[new ri(0)]}if(s.sourcePosition.isEqual(e.sourcePosition)&&!s.targetPosition.isEqual(e.targetPosition)&&!t.bWasUndone&&t.abRelation!="splitAtSource"){const n=s.targetPosition.root.rootName=="$graveyard",a=e.targetPosition.root.rootName=="$graveyard";if(a&&!n||!(n&&!a)&&t.aIsStrong){const c=e.targetPosition._getTransformedByMergeOperation(e),p=s.targetPosition._getTransformedByMergeOperation(e);return[new un(c,s.howMany,p,0)]}return[new ri(0)]}return s.sourcePosition.hasSameParentAs(e.targetPosition)&&(s.howMany+=e.howMany),s.sourcePosition=s.sourcePosition._getTransformedByMergeOperation(e),s.targetPosition=s.targetPosition._getTransformedByMergeOperation(e),s.graveyardPosition.isEqual(e.graveyardPosition)&&t.aIsStrong||(s.graveyardPosition=s.graveyardPosition._getTransformedByMergeOperation(e)),[s]}),on(Wn,un,(s,e,t)=>{const n=Pe._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!t.bWasUndone&&!t.forceWeakRemove&&s.deletionPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(s.sourcePosition)?[new ri(0)]:(s.sourcePosition.hasSameParentAs(e.targetPosition)&&(s.howMany+=e.howMany),s.sourcePosition.hasSameParentAs(e.sourcePosition)&&(s.howMany-=e.howMany),s.sourcePosition=s.sourcePosition._getTransformedByMoveOperation(e),s.targetPosition=s.targetPosition._getTransformedByMoveOperation(e),s.graveyardPosition.isEqual(e.targetPosition)||(s.graveyardPosition=s.graveyardPosition._getTransformedByMoveOperation(e)),[s])}),on(Wn,An,(s,e,t)=>{if(e.graveyardPosition&&(s.graveyardPosition=s.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),s.deletionPosition.isEqual(e.graveyardPosition)&&(s.howMany=e.howMany)),s.targetPosition.isEqual(e.splitPosition)){const n=e.howMany!=0,a=e.graveyardPosition&&s.deletionPosition.isEqual(e.graveyardPosition);if(n||a||t.abRelation=="mergeTargetNotMoved")return s.sourcePosition=s.sourcePosition._getTransformedBySplitOperation(e),[s]}if(s.sourcePosition.isEqual(e.splitPosition)){if(t.abRelation=="mergeSourceNotMoved")return s.howMany=0,s.targetPosition=s.targetPosition._getTransformedBySplitOperation(e),[s];if(t.abRelation=="mergeSameElement"||s.sourcePosition.offset>0)return s.sourcePosition=e.moveTargetPosition.clone(),s.targetPosition=s.targetPosition._getTransformedBySplitOperation(e),[s]}return s.sourcePosition.hasSameParentAs(e.splitPosition)&&(s.howMany=e.splitPosition.offset),s.sourcePosition=s.sourcePosition._getTransformedBySplitOperation(e),s.targetPosition=s.targetPosition._getTransformedBySplitOperation(e),[s]}),on(un,hi,(s,e)=>{const t=Pe._createFromPositionAndShift(s.sourcePosition,s.howMany)._getTransformedByInsertOperation(e,!1)[0];return s.sourcePosition=t.start,s.howMany=t.end.offset-t.start.offset,s.targetPosition.isEqual(e.position)||(s.targetPosition=s.targetPosition._getTransformedByInsertOperation(e)),[s]}),on(un,un,(s,e,t)=>{const n=Pe._createFromPositionAndShift(s.sourcePosition,s.howMany),a=Pe._createFromPositionAndShift(e.sourcePosition,e.howMany);let c,p=t.aIsStrong,_=!t.aIsStrong;if(t.abRelation=="insertBefore"||t.baRelation=="insertAfter"?_=!0:t.abRelation!="insertAfter"&&t.baRelation!="insertBefore"||(_=!1),c=s.targetPosition.isEqual(e.targetPosition)&&_?s.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):s.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),xv(s,e)&&xv(e,s))return[e.getReversed()];if(n.containsPosition(e.targetPosition)&&n.containsRange(a,!0))return n.start=n.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),n.end=n.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),za([n],c);if(a.containsPosition(s.targetPosition)&&a.containsRange(n,!0))return n.start=n.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),n.end=n.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),za([n],c);const w=Fe(s.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(w=="prefix"||w=="extension")return n.start=n.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),n.end=n.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),za([n],c);s.type!="remove"||e.type=="remove"||t.aWasUndone||t.forceWeakRemove?s.type=="remove"||e.type!="remove"||t.bWasUndone||t.forceWeakRemove||(p=!1):p=!0;const E=[],I=n.getDifference(a);for(const $ of I){$.start=$.start._getTransformedByDeletion(e.sourcePosition,e.howMany),$.end=$.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const V=Fe($.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",G=$._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,V);E.push(...G)}const O=n.getIntersection(a);return O!==null&&p&&(O.start=O.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),O.end=O.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),E.length===0?E.push(O):E.length==1?a.start.isBefore(n.start)||a.start.isEqual(n.start)?E.unshift(O):E.push(O):E.splice(1,0,O)),E.length===0?[new ri(s.baseVersion)]:za(E,c)}),on(un,An,(s,e,t)=>{let n=s.targetPosition.clone();s.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&t.abRelation!="moveTargetAfter"||(n=s.targetPosition._getTransformedBySplitOperation(e));const a=Pe._createFromPositionAndShift(s.sourcePosition,s.howMany);if(a.end.isEqual(e.insertionPosition))return e.graveyardPosition||s.howMany++,s.targetPosition=n,[s];if(a.start.hasSameParentAs(e.splitPosition)&&a.containsPosition(e.splitPosition)){let p=new Pe(e.splitPosition,a.end);return p=p._getTransformedBySplitOperation(e),za([new Pe(a.start,e.splitPosition),p],n)}s.targetPosition.isEqual(e.splitPosition)&&t.abRelation=="insertAtSource"&&(n=e.moveTargetPosition),s.targetPosition.isEqual(e.insertionPosition)&&t.abRelation=="insertBetween"&&(n=s.targetPosition);const c=[a._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const p=a.start.isEqual(e.graveyardPosition)||a.containsPosition(e.graveyardPosition);s.howMany>1&&p&&!t.aWasUndone&&c.push(Pe._createFromPositionAndShift(e.insertionPosition,1))}return za(c,n)}),on(un,Wn,(s,e,t)=>{const n=Pe._createFromPositionAndShift(s.sourcePosition,s.howMany);if(e.deletionPosition.hasSameParentAs(s.sourcePosition)&&n.containsPosition(e.sourcePosition)){if(s.type!="remove"||t.forceWeakRemove){if(s.howMany==1)return t.bWasUndone?(s.sourcePosition=e.graveyardPosition.clone(),s.targetPosition=s.targetPosition._getTransformedByMergeOperation(e),[s]):[new ri(0)]}else if(!t.aWasUndone){const c=[];let p=e.graveyardPosition.clone(),_=e.targetPosition._getTransformedByMergeOperation(e);s.howMany>1&&(c.push(new un(s.sourcePosition,s.howMany-1,s.targetPosition,0)),p=p._getTransformedByMove(s.sourcePosition,s.targetPosition,s.howMany-1),_=_._getTransformedByMove(s.sourcePosition,s.targetPosition,s.howMany-1));const w=e.deletionPosition._getCombined(s.sourcePosition,s.targetPosition),E=new un(p,1,w,0),I=E.getMovedRangeStart().path.slice();I.push(0);const O=new Ye(E.targetPosition.root,I);_=_._getTransformedByMove(p,w,1);const $=new un(_,e.howMany,O,0);return c.push(E),c.push($),c}}const a=Pe._createFromPositionAndShift(s.sourcePosition,s.howMany)._getTransformedByMergeOperation(e);return s.sourcePosition=a.start,s.howMany=a.end.offset-a.start.offset,s.targetPosition=s.targetPosition._getTransformedByMergeOperation(e),[s]}),on(Ui,hi,(s,e)=>(s.position=s.position._getTransformedByInsertOperation(e),[s])),on(Ui,Wn,(s,e)=>s.position.isEqual(e.deletionPosition)?(s.position=e.graveyardPosition.clone(),s.position.stickiness="toNext",[s]):(s.position=s.position._getTransformedByMergeOperation(e),[s])),on(Ui,un,(s,e)=>(s.position=s.position._getTransformedByMoveOperation(e),[s])),on(Ui,Ui,(s,e,t)=>{if(s.position.isEqual(e.position)){if(!t.aIsStrong)return[new ri(0)];s.oldName=e.newName}return[s]}),on(Ui,An,(s,e)=>{if(Fe(s.position.path,e.splitPosition.getParentPath())=="same"&&!e.graveyardPosition){const t=new Ui(s.position.getShiftedBy(1),s.oldName,s.newName,0);return[s,t]}return s.position=s.position._getTransformedBySplitOperation(e),[s]}),on(Cr,Cr,(s,e,t)=>{if(s.root===e.root&&s.key===e.key){if(!t.aIsStrong||s.newValue===e.newValue)return[new ri(0)];s.oldValue=e.newValue}return[s]}),on(nr,nr,(s,e)=>s.rootName===e.rootName&&s.isAdd===e.isAdd?[new ri(0)]:[s]),on(An,hi,(s,e)=>(s.splitPosition.hasSameParentAs(e.position)&&s.splitPosition.offset<e.position.offset&&(s.howMany+=e.howMany),s.splitPosition=s.splitPosition._getTransformedByInsertOperation(e),s.insertionPosition=s.insertionPosition._getTransformedByInsertOperation(e),[s])),on(An,Wn,(s,e,t)=>{if(!s.graveyardPosition&&!t.bWasUndone&&s.splitPosition.hasSameParentAs(e.sourcePosition)){const n=e.graveyardPosition.path.slice();n.push(0);const a=new Ye(e.graveyardPosition.root,n),c=An.getInsertionPosition(new Ye(e.graveyardPosition.root,n)),p=new An(a,0,c,null,0);return s.splitPosition=s.splitPosition._getTransformedByMergeOperation(e),s.insertionPosition=An.getInsertionPosition(s.splitPosition),s.graveyardPosition=p.insertionPosition.clone(),s.graveyardPosition.stickiness="toNext",[p,s]}return s.splitPosition.hasSameParentAs(e.deletionPosition)&&!s.splitPosition.isAfter(e.deletionPosition)&&s.howMany--,s.splitPosition.hasSameParentAs(e.targetPosition)&&(s.howMany+=e.howMany),s.splitPosition=s.splitPosition._getTransformedByMergeOperation(e),s.insertionPosition=An.getInsertionPosition(s.splitPosition),s.graveyardPosition&&(s.graveyardPosition=s.graveyardPosition._getTransformedByMergeOperation(e)),[s]}),on(An,un,(s,e,t)=>{const n=Pe._createFromPositionAndShift(e.sourcePosition,e.howMany);if(s.graveyardPosition){const c=n.start.isEqual(s.graveyardPosition)||n.containsPosition(s.graveyardPosition);if(!t.bWasUndone&&c){const p=s.splitPosition._getTransformedByMoveOperation(e),_=s.graveyardPosition._getTransformedByMoveOperation(e),w=_.path.slice();w.push(0);const E=new Ye(_.root,w);return[new un(p,s.howMany,E,0)]}s.graveyardPosition=s.graveyardPosition._getTransformedByMoveOperation(e)}const a=s.splitPosition.isEqual(e.targetPosition);if(a&&(t.baRelation=="insertAtSource"||t.abRelation=="splitBefore"))return s.howMany+=e.howMany,s.splitPosition=s.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),s.insertionPosition=An.getInsertionPosition(s.splitPosition),[s];if(a&&t.abRelation&&t.abRelation.howMany){const{howMany:c,offset:p}=t.abRelation;return s.howMany+=c,s.splitPosition=s.splitPosition.getShiftedBy(p),[s]}if(s.splitPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(s.splitPosition)){const c=e.howMany-(s.splitPosition.offset-e.sourcePosition.offset);return s.howMany-=c,s.splitPosition.hasSameParentAs(e.targetPosition)&&s.splitPosition.offset<e.targetPosition.offset&&(s.howMany+=e.howMany),s.splitPosition=e.sourcePosition.clone(),s.insertionPosition=An.getInsertionPosition(s.splitPosition),[s]}return e.sourcePosition.isEqual(e.targetPosition)||(s.splitPosition.hasSameParentAs(e.sourcePosition)&&s.splitPosition.offset<=e.sourcePosition.offset&&(s.howMany-=e.howMany),s.splitPosition.hasSameParentAs(e.targetPosition)&&s.splitPosition.offset<e.targetPosition.offset&&(s.howMany+=e.howMany)),s.splitPosition.stickiness="toNone",s.splitPosition=s.splitPosition._getTransformedByMoveOperation(e),s.splitPosition.stickiness="toNext",s.graveyardPosition?s.insertionPosition=s.insertionPosition._getTransformedByMoveOperation(e):s.insertionPosition=An.getInsertionPosition(s.splitPosition),[s]}),on(An,An,(s,e,t)=>{if(s.splitPosition.isEqual(e.splitPosition)){if(!s.graveyardPosition&&!e.graveyardPosition)return[new ri(0)];if(s.graveyardPosition&&e.graveyardPosition&&s.graveyardPosition.isEqual(e.graveyardPosition))return[new ri(0)];if(t.abRelation=="splitBefore")return s.howMany=0,s.graveyardPosition=s.graveyardPosition._getTransformedBySplitOperation(e),[s]}if(s.graveyardPosition&&e.graveyardPosition&&s.graveyardPosition.isEqual(e.graveyardPosition)){const n=s.splitPosition.root.rootName=="$graveyard",a=e.splitPosition.root.rootName=="$graveyard";if(a&&!n||!(n&&!a)&&t.aIsStrong){const c=[];return e.howMany&&c.push(new un(e.moveTargetPosition,e.howMany,e.splitPosition,0)),s.howMany&&c.push(new un(s.splitPosition,s.howMany,s.moveTargetPosition,0)),c}return[new ri(0)]}if(s.graveyardPosition&&(s.graveyardPosition=s.graveyardPosition._getTransformedBySplitOperation(e)),s.splitPosition.isEqual(e.insertionPosition)&&t.abRelation=="splitBefore")return s.howMany++,[s];if(e.splitPosition.isEqual(s.insertionPosition)&&t.baRelation=="splitBefore"){const n=e.insertionPosition.path.slice();n.push(0);const a=new Ye(e.insertionPosition.root,n);return[s,new un(s.insertionPosition,1,a,0)]}return s.splitPosition.hasSameParentAs(e.splitPosition)&&s.splitPosition.offset<e.splitPosition.offset&&(s.howMany-=e.howMany),s.splitPosition=s.splitPosition._getTransformedBySplitOperation(e),s.insertionPosition=An.getInsertionPosition(s.splitPosition),[s]});class _i extends J(Ye){constructor(e,t,n="toNone"){if(super(e,t,n),!this.root.is("rootElement"))throw new L("model-liveposition-root-not-rootelement",e);A9.call(this)}detach(){this.stopListening()}toPosition(){return new Ye(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}function A9(){this.listenTo(this.root.document.model,"applyOperation",(s,e)=>{const t=e[0];t.isDocumentOperation&&x9.call(this,t)},{priority:"low"})}function x9(s){const e=this.getTransformedByOperation(s);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}_i.prototype.is=function(s){return s==="livePosition"||s==="model:livePosition"||s=="position"||s==="model:position"};class Fa{constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},j("batch-constructor-deprecated-string-type"));const{isUndoable:t=!0,isLocal:n=!0,isUndo:a=!1,isTyping:c=!1}=e;this.operations=[],this.isUndoable=t,this.isLocal=n,this.isUndo=a,this.isTyping=c}get type(){return j("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}var S9=Object.defineProperty,E9=Object.defineProperties,D9=Object.getOwnPropertyDescriptors,Sv=Object.getOwnPropertySymbols,T9=Object.prototype.hasOwnProperty,I9=Object.prototype.propertyIsEnumerable,Ev=(s,e,t)=>e in s?S9(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,Dv=(s,e)=>{for(var t in e||(e={}))T9.call(e,t)&&Ev(s,t,e[t]);if(Sv)for(var t of Sv(e))I9.call(e,t)&&Ev(s,t,e[t]);return s};class M9{constructor(e){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const t=e;switch(t.type){case"insert":if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const n of t.range.getItems({shallow:!0}))this._isInInsertedElement(n.parent)||this._markAttribute(n);break;case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const n=this._isInInsertedElement(t.sourcePosition.parent),a=this._isInInsertedElement(t.targetPosition.parent);n||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),a||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const n=Pe._createFromPositionAndShift(t.position,1);for(const a of this._markerCollection.getMarkersIntersectingRange(n)){const c=a.getData();this.bufferMarkerChange(a.name,c,c)}break}case"split":{const n=t.splitPosition.parent;this._isInInsertedElement(n)||this._markRemove(n,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break}case"merge":{const n=t.sourcePosition.parent;this._isInInsertedElement(n.parent)||this._markRemove(n.parent,n.startOffset,1);const a=t.graveyardPosition.parent;this._markInsert(a,t.graveyardPosition.offset,1);const c=t.targetPosition.parent;this._isInInsertedElement(c)||this._markInsert(c,t.targetPosition.offset,n.maxOffset);break}case"detachRoot":case"addRoot":{const n=t.affectedSelectable;if(!n._isLoaded||n.isAttached()==t.isAdd)return;this._bufferRootStateChange(t.rootName,t.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!t.root._isLoaded)return;const n=t.root.rootName;this._bufferRootAttributeChange(n,t.key,t.oldValue,t.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,t,n){t.range&&t.range.root.is("rootElement")&&!t.range.root._isLoaded&&(t.range=null),n.range&&n.range.root.is("rootElement")&&!n.range.root._isLoaded&&(n.range=null);let a=this._changedMarkers.get(e);a?a.newMarkerData=n:(a={newMarkerData:n,oldMarkerData:t},this._changedMarkers.set(e,a)),a.oldMarkerData.range==null&&n.range==null&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[t,n]of this._changedMarkers)n.oldMarkerData.range!=null&&e.push({name:t,range:n.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[t,n]of this._changedMarkers)n.newMarkerData.range!=null&&e.push({name:t,range:n.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,t])=>({name:e,data:{oldRange:t.oldMarkerData.range,newRange:t.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:t}of this._changedMarkers.values()){if(e.affectsData!==t.affectsData)return!0;if(e.affectsData){const n=e.range&&!t.range,a=!e.range&&t.range,c=e.range&&t.range&&!e.range.isEqual(t.range);if(n||a||c)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let t=[];for(const n of this._changesInElement.keys()){const a=this._changesInElement.get(n).sort((I,O)=>I.offset===O.offset?I.type!=O.type?I.type=="remove"?-1:1:0:I.offset<O.offset?-1:1),c=this._elementSnapshots.get(n),p=Tv(n.getChildren()),_=P9(c.length,a);let w=0,E=0;for(const I of _)if(I==="i")t.push(this._getInsertDiff(n,w,p[w])),w++;else if(I==="r")t.push(this._getRemoveDiff(n,w,c[E])),E++;else if(I==="a"){const O=p[w].attributes,$=c[E].attributes;let V;if(p[w].name=="$text")V=new Pe(Ye._createAt(n,w),Ye._createAt(n,w+1));else{const G=n.offsetToIndex(w);V=new Pe(Ye._createAt(n,w),Ye._createAt(n.getChild(G),0))}t.push(...this._getAttributesDiff(V,$,O)),w++,E++}else w++,E++}t.sort((n,a)=>n.position.root!=a.position.root?n.position.root.rootName<a.position.root.rootName?-1:1:n.position.isEqual(a.position)?n.changeCount-a.changeCount:n.position.isBefore(a.position)?-1:1);for(let n=1,a=0;n<t.length;n++){const c=t[a],p=t[n],_=c.type=="remove"&&p.type=="remove"&&c.name=="$text"&&p.name=="$text"&&c.position.isEqual(p.position),w=c.type=="insert"&&p.type=="insert"&&c.name=="$text"&&p.name=="$text"&&c.position.parent==p.position.parent&&c.position.offset+c.length==p.position.offset,E=c.type=="attribute"&&p.type=="attribute"&&c.position.parent==p.position.parent&&c.range.isFlat&&p.range.isFlat&&c.position.offset+c.length==p.position.offset&&c.attributeKey==p.attributeKey&&c.attributeOldValue==p.attributeOldValue&&c.attributeNewValue==p.attributeNewValue;_||w||E?(c.length++,E&&(c.range.end=c.range.end.getShiftedBy(1)),t[n]=null):a=n}t=t.filter(n=>n);for(const n of t)delete n.changeCount,n.type=="attribute"&&(delete n.position,delete n.length);return this._changeCount=0,this._cachedChangesWithGraveyard=t,this._cachedChanges=t.filter(O9),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const t=Dv({},e);return t.state!==void 0&&delete t.attributes,t})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(e,t){if(!this._changedRoots.has(e))return void this._changedRoots.set(e,{name:e,state:t?"attached":"detached"});const n=this._changedRoots.get(e);n.state!==void 0?(delete n.state,n.attributes===void 0&&this._changedRoots.delete(e)):n.state=t?"attached":"detached"}_bufferRootAttributeChange(e,t,n,a){const c=this._changedRoots.get(e)||{name:e},p=c.attributes||{};if(p[t]){const _=p[t];a===_.oldValue?delete p[t]:_.newValue=a}else p[t]={oldValue:n,newValue:a};Object.entries(p).length===0?(delete c.attributes,c.state===void 0&&this._changedRoots.delete(e)):(c.attributes=p,this._changedRoots.set(e,c))}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const t=Pe._createOn(e);for(const n of this._markerCollection.getMarkersIntersectingRange(t)){const a=n.getData();this.bufferMarkerChange(n.name,a,a)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const n of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,n,null,e.getAttribute(n));for(const n of this._markerCollection)if(n.getRange().root==e){const a=n.getData();this.bufferMarkerChange(n.name,(t=Dv({},a),E9(t,D9({range:null}))),a)}var t}}_markInsert(e,t,n){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const a={type:"insert",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,a)}_markRemove(e,t,n){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const a={type:"remove",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,a),this._removeAllNestedChanges(e,t,n)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshot(e);const n=this._getChangesForElement(e);this._handleChange(t,n),n.push(t);for(let a=0;a<n.length;a++)n[a].howMany<1&&(n.splice(a,1),a--)}_getChangesForElement(e){let t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,Tv(e.getChildren()))}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const n of t){const a=e.offset+e.howMany,c=n.offset+n.howMany;if(e.type=="insert"&&(n.type=="insert"&&(e.offset<=n.offset?n.offset+=e.howMany:e.offset<c&&(n.howMany+=e.nodesToHandle,e.nodesToHandle=0)),n.type=="remove"&&e.offset<n.offset&&(n.offset+=e.howMany),n.type=="attribute")){if(e.offset<=n.offset)n.offset+=e.howMany;else if(e.offset<c){const p=n.howMany;n.howMany=e.offset-n.offset,t.unshift({type:"attribute",offset:a,howMany:p-n.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(n.type=="insert"){if(a<=n.offset)n.offset-=e.howMany;else if(a<=c)if(e.offset<n.offset){const p=a-n.offset;n.offset=e.offset,n.howMany-=p,e.nodesToHandle-=p}else n.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=n.offset)e.nodesToHandle-=n.howMany,n.howMany=0;else if(e.offset<c){const p=c-e.offset;n.howMany-=p,e.nodesToHandle-=p}}if(n.type=="remove"&&(a<=n.offset?n.offset-=e.howMany:e.offset<n.offset&&(e.nodesToHandle+=n.howMany,n.howMany=0)),n.type=="attribute"){if(a<=n.offset)n.offset-=e.howMany;else if(e.offset<n.offset){const p=a-n.offset;n.offset=e.offset,n.howMany-=p}else if(e.offset<c)if(a<=c){const p=n.howMany;n.howMany=e.offset-n.offset;const _=p-n.howMany-e.nodesToHandle;t.unshift({type:"attribute",offset:e.offset,howMany:_,count:this._changeCount++})}else n.howMany-=c-e.offset}}if(e.type=="attribute"){if(n.type=="insert")if(e.offset<n.offset&&a>n.offset){if(a>c){const p={type:"attribute",offset:c,howMany:a-c,count:this._changeCount++};this._handleChange(p,t),t.push(p)}e.nodesToHandle=n.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=n.offset&&e.offset<c&&(a>c?(e.nodesToHandle=a-c,e.offset=c):e.nodesToHandle=0);if(n.type=="remove"&&e.offset<n.offset&&a>n.offset){const p={type:"attribute",offset:n.offset,howMany:a-n.offset,count:this._changeCount++};this._handleChange(p,t),t.push(p),e.nodesToHandle=n.offset-e.offset,e.howMany=e.nodesToHandle}n.type=="attribute"&&(e.offset>=n.offset&&a<=c?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=n.offset&&a>=c&&(n.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,t,n){return{type:"insert",position:Ye._createAt(e,t),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(e,t,n){return{type:"remove",position:Ye._createAt(e,t),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,t,n){const a=[];n=new Map(n);for(const[c,p]of t){const _=n.has(c)?n.get(c):null;_!==p&&a.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:c,attributeOldValue:p,attributeNewValue:_,changeCount:this._changeCount++}),n.delete(c)}for(const[c,p]of n)a.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:c,attributeOldValue:null,attributeNewValue:p,changeCount:this._changeCount++});return a}_isInInsertedElement(e){const t=e.parent;if(!t)return!1;const n=this._changesInElement.get(t),a=e.startOffset;if(n){for(const c of n)if(c.type=="insert"&&a>=c.offset&&a<c.offset+c.howMany)return!0}return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,n){const a=new Pe(Ye._createAt(e,t),Ye._createAt(e,t+n));for(const c of a.getItems({shallow:!0}))c.is("element")&&(this._elementSnapshots.delete(c),this._changesInElement.delete(c),this._removeAllNestedChanges(c,0,c.maxOffset))}}function Tv(s){const e=[];for(const t of s)if(t.is("$text"))for(let n=0;n<t.data.length;n++)e.push({name:"$text",attributes:new Map(t.getAttributes())});else e.push({name:t.name,attributes:new Map(t.getAttributes())});return e}function P9(s,e){const t=[];let n=0,a=0;for(const c of e){if(c.offset>n){for(let p=0;p<c.offset-n;p++)t.push("e");a+=c.offset-n}if(c.type=="insert"){for(let p=0;p<c.howMany;p++)t.push("i");n=c.offset+c.howMany}else if(c.type=="remove"){for(let p=0;p<c.howMany;p++)t.push("r");n=c.offset,a+=c.howMany}else t.push(..."a".repeat(c.howMany).split("")),n=c.offset+c.howMany,a+=c.howMany}if(a<s)for(let c=0;c<s-a-n;c++)t.push("e");return t}function O9(s){const e="position"in s&&s.position.root.rootName=="$graveyard",t="range"in s&&s.range.root.rootName=="$graveyard";return!e&&!t}class B9{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new L("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,t=this.version){if(!this._operations.length)return[];const n=this._operations[0];e===void 0&&(e=n.baseVersion);let a=t-1;for(const[_,w]of this._gaps)e>_&&e<w&&(e=w),a>_&&a<w&&(a=_-1);if(a<n.baseVersion||e>this.lastOperation.baseVersion)return[];let c=this._baseVersionToOperationIndex.get(e);c===void 0&&(c=0);let p=this._baseVersionToOperationIndex.get(a);return p===void 0&&(p=this._operations.length-1),this._operations.slice(c,p+1)}getOperation(e){const t=this._baseVersionToOperationIndex.get(e);if(t!==void 0)return this._operations[t]}setOperationAsUndone(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class iu extends pn{constructor(e,t,n="main"){super(t),this._isAttached=!0,this._isLoaded=!0,this._document=e,this.rootName=n}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}iu.prototype.is=function(s,e){return e?e===this.name&&(s==="rootElement"||s==="model:rootElement"||s==="element"||s==="model:element"):s==="rootElement"||s==="model:rootElement"||s==="element"||s==="model:element"||s==="node"||s==="model:node"};var L9=Object.defineProperty,R9=Object.defineProperties,N9=Object.getOwnPropertyDescriptors,Iv=Object.getOwnPropertySymbols,$9=Object.prototype.hasOwnProperty,j9=Object.prototype.propertyIsEnumerable,Mv=(s,e,t)=>e in s?L9(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,Pv=(s,e)=>{for(var t in e||(e={}))$9.call(e,t)&&Mv(s,t,e[t]);if(Iv)for(var t of Iv(e))j9.call(e,t)&&Mv(s,t,e[t]);return s},Ov=(s,e)=>R9(s,N9(e));const Bv="$graveyard";class z9 extends J(){constructor(e){super(),this.model=e,this.history=new B9,this.selection=new No(this),this.roots=new Oi({idProperty:"rootName"}),this.differ=new M9(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",Bv),this.listenTo(e,"applyOperation",(t,n)=>{const a=n[0];a.isDocumentOperation&&this.differ.bufferOperation(a)},{priority:"high"}),this.listenTo(e,"applyOperation",(t,n)=>{const a=n[0];a.isDocumentOperation&&this.history.addOperation(a)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(t,n,a,c,p)=>{const _=Ov(Pv({},n.getData()),{range:c});this.differ.bufferMarkerChange(n.name,p,_),a===null&&n.on("change",(w,E)=>{const I=n.getData();this.differ.bufferMarkerChange(n.name,Ov(Pv({},I),{range:E}),I)})}),this.registerPostFixer(t=>{let n=!1;for(const a of this.roots)a.isAttached()||a.isEmpty||(t.remove(t.createRangeIn(a)),n=!0);for(const a of this.model.markers)a.getRange().root.isAttached()||(t.removeMarker(a),n=!0);return n})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(Bv)}createRoot(e="$root",t="main"){if(this.roots.get(t))throw new L("model-document-createroot-name-exists",this,{name:t});const n=new iu(this,e,t);return this.roots.add(n),n}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(t=>t.rootName)}getRoots(e=!1){return Array.from(this.roots).filter(t=>t!=this.graveyard&&(e||t.isAttached())&&t._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=Y_(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),t=this.model,n=t.schema,a=t.createPositionFromPath(e,[0]);return n.getNearestSelectionRange(a)||t.createRange(a)}_validateSelectionRange(e){return Lv(e.start)&&Lv(e.end)}_callPostFixers(e){let t=!1;do for(const n of this._postFixers)if(this.selection.refresh(),t=n(e),t)break;while(t)}}function Lv(s){const e=s.textNode;if(e){const t=e.data,n=s.offset-e.startOffset;return!Qf(t,n)&&!Jf(t,n)}return!0}var F9=Object.defineProperty,V9=Object.defineProperties,U9=Object.getOwnPropertyDescriptors,Rv=Object.getOwnPropertySymbols,H9=Object.prototype.hasOwnProperty,W9=Object.prototype.propertyIsEnumerable,Nv=(s,e,t)=>e in s?F9(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;class G9 extends J(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const t=e instanceof Va?e.name:e;return this._markers.has(t)}get(e){return this._markers.get(e)||null}_set(e,t,n=!1,a=!1){const c=e instanceof Va?e.name:e;if(c.includes(","))throw new L("markercollection-incorrect-marker-name",this);const p=this._markers.get(c);if(p){const I=p.getData(),O=p.getRange();let $=!1;return O.isEqual(t)||(p._attachLiveRange(Ro.fromRange(t)),$=!0),n!=p.managedUsingOperations&&(p._managedUsingOperations=n,$=!0),typeof a=="boolean"&&a!=p.affectsData&&(p._affectsData=a,$=!0),$&&this.fire(`update:${c}`,p,O,t,I),p}const _=Ro.fromRange(t),w=new Va(c,_,n,a);var E;return this._markers.set(c,w),this.fire(`update:${c}`,w,null,t,(E=((I,O)=>{for(var $ in O||(O={}))H9.call(O,$)&&Nv(I,$,O[$]);if(Rv)for(var $ of Rv(O))W9.call(O,$)&&Nv(I,$,O[$]);return I})({},w.getData()),V9(E,U9({range:null})))),w}_remove(e){const t=e instanceof Va?e.name:e,n=this._markers.get(t);return!!n&&(this._markers.delete(t),this.fire(`update:${t}`,n,n.getRange(),null,n.getData()),this._destroyMarker(n),!0)}_refresh(e){const t=e instanceof Va?e.name:e,n=this._markers.get(t);if(!n)throw new L("markercollection-refresh-marker-not-exists",this);const a=n.getRange();this.fire(`update:${t}`,n,a,a,n.getData())}*getMarkersAtPosition(e){for(const t of this)t.getRange().containsPosition(e)&&(yield t)}*getMarkersIntersectingRange(e){for(const t of this)t.getRange().getIntersection(e)!==null&&(yield t)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values())t.name.startsWith(e+":")&&(yield t)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class Va extends J(Xr){constructor(e,t,n,a){super(),this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=n,this._affectsData=a}get managedUsingOperations(){if(!this._liveRange)throw new L("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new L("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new L("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new L("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new L("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Va.prototype.is=function(s){return s==="marker"||s==="model:marker"};class K9 extends ro{constructor(e,t){super(null),this.sourcePosition=e.clone(),this.howMany=t}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new L("detach-operation-on-document-node",this)}_execute(){_v(Pe._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class Ar extends Xr{constructor(e){super(),this.markers=new Map,this._children=new Jl,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const n of e)t=t.getChild(t.offsetToIndex(n));return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}static fromJSON(e){const t=[];for(const n of e)n.name?t.push(pn.fromJSON(n)):t.push(Cn.fromJSON(n));return new Ar(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const n=function(a){return typeof a=="string"?[new Cn(a)]:(Ae(a)||(a=[a]),Array.from(a).map(c=>typeof c=="string"?new Cn(c):c instanceof Lo?new Cn(c.data,c.getAttributes()):c))}(t);for(const a of n)a.parent!==null&&a._remove(),a.parent=this;this._children._insertNodes(e,n)}_removeChildren(e,t=1){const n=this._children._removeNodes(e,t);for(const a of n)a.parent=null;return n}}Ar.prototype.is=function(s){return s==="documentFragment"||s==="model:documentFragment"};class Y9{constructor(e,t){this.model=e,this.batch=t}createText(e,t){return new Cn(e,t)}createElement(e,t){return new pn(e,t)}createDocumentFragment(){return new Ar}cloneElement(e,t=!0){return e._clone(t)}insert(e,t,n=0){if(this._assertWriterUsedCorrectly(),e instanceof Cn&&e.data=="")return;const a=Ye._createAt(t,n);if(e.parent){if(zv(e.root,a.root))return void this.move(Pe._createOn(e),a);if(e.root.document)throw new L("model-writer-insert-forbidden-move",this);this.remove(e)}const c=a.root.document?a.root.document.version:null,p=new hi(a,e,c);if(e instanceof Cn&&(p.shouldReceiveAttributes=!0),this.batch.addOperation(p),this.model.applyOperation(p),e instanceof Ar)for(const[_,w]of e.markers){const E=Ye._createAt(w.root,0),I={range:new Pe(w.start._getCombined(E,a),w.end._getCombined(E,a)),usingOperation:!0,affectsData:!0};this.model.markers.has(_)?this.updateMarker(_,I):this.addMarker(_,I)}}insertText(e,t,n,a){t instanceof Ar||t instanceof pn||t instanceof Ye?this.insert(this.createText(e),t,n):this.insert(this.createText(e,t),n,a)}insertElement(e,t,n,a){t instanceof Ar||t instanceof pn||t instanceof Ye?this.insert(this.createElement(e),t,n):this.insert(this.createElement(e,t),n,a)}append(e,t){this.insert(e,t,"end")}appendText(e,t,n){t instanceof Ar||t instanceof pn?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),n,"end")}appendElement(e,t,n){t instanceof Ar||t instanceof pn?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),n,"end")}setAttribute(e,t,n){if(this._assertWriterUsedCorrectly(),n instanceof Pe){const a=n.getMinimalFlatRanges();for(const c of a)$v(this,e,t,c)}else jv(this,e,t,n)}setAttributes(e,t){for(const[n,a]of Qo(e))this.setAttribute(n,a,t)}removeAttribute(e,t){if(this._assertWriterUsedCorrectly(),t instanceof Pe){const n=t.getMinimalFlatRanges();for(const a of n)$v(this,e,null,a)}else jv(this,e,null,t)}clearAttributes(e){this._assertWriterUsedCorrectly();const t=n=>{for(const a of n.getAttributeKeys())this.removeAttribute(a,n)};if(e instanceof Pe)for(const n of e.getItems())t(n);else t(e)}move(e,t,n){if(this._assertWriterUsedCorrectly(),!(e instanceof Pe))throw new L("writer-move-invalid-range",this);if(!e.isFlat)throw new L("writer-move-range-not-flat",this);const a=Ye._createAt(t,n);if(a.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!zv(e.root,a.root))throw new L("writer-move-different-document",this);const c=e.root.document?e.root.document.version:null,p=new un(e.start,e.end.offset-e.start.offset,a,c);this.batch.addOperation(p),this.model.applyOperation(p)}remove(e){this._assertWriterUsedCorrectly();const t=(e instanceof Pe?e:Pe._createOn(e)).getMinimalFlatRanges().reverse();for(const n of t)this._addOperationForAffectedMarkers("move",n),q9(n.start,n.end.offset-n.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const t=e.nodeBefore,n=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof pn))throw new L("writer-merge-no-element-before",this);if(!(n instanceof pn))throw new L("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,t,n){return this.model.createPositionFromPath(e,t,n)}createPositionAt(e,t){return this.model.createPositionAt(e,t)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,t){return this.model.createRange(e,t)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const t=e.nodeBefore,n=e.nodeAfter;this.move(Pe._createIn(n),Ye._createAt(t,"end")),this.remove(n)}_merge(e){const t=Ye._createAt(e.nodeBefore,"end"),n=Ye._createAt(e.nodeAfter,0),a=e.root.document.graveyard,c=new Ye(a,[0]),p=e.root.document.version,_=new Wn(n,e.nodeAfter.maxOffset,t,c,p);this.batch.addOperation(_),this.model.applyOperation(_)}rename(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof pn))throw new L("writer-rename-not-element-instance",this);const n=e.root.document?e.root.document.version:null,a=new Ui(Ye._createBefore(e),e.name,t,n);this.batch.addOperation(a),this.model.applyOperation(a)}split(e,t){this._assertWriterUsedCorrectly();let n,a,c=e.parent;if(!c.parent)throw new L("writer-split-element-no-parent",this);if(t||(t=c.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new L("writer-split-invalid-limit-element",this);do{const p=c.root.document?c.root.document.version:null,_=c.maxOffset-e.offset,w=An.getInsertionPosition(e),E=new An(e,_,w,null,p);this.batch.addOperation(E),this.model.applyOperation(E),n||a||(n=c,a=e.parent.nextSibling),c=(e=this.createPositionAfter(e.parent)).parent}while(c!==t);return{position:e,range:new Pe(Ye._createAt(n,"end"),Ye._createAt(a,0))}}wrap(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new L("writer-wrap-range-not-flat",this);const n=t instanceof pn?t:new pn(t);if(n.childCount>0)throw new L("writer-wrap-element-not-empty",this);if(n.parent!==null)throw new L("writer-wrap-element-attached",this);this.insert(n,e.start);const a=new Pe(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(a,Ye._createAt(n,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new L("writer-unwrap-element-no-parent",this);this.move(Pe._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,t){if(this._assertWriterUsedCorrectly(),!t||typeof t.usingOperation!="boolean")throw new L("writer-addmarker-no-usingoperation",this);const n=t.usingOperation,a=t.range,c=t.affectsData!==void 0&&t.affectsData;if(this.model.markers.has(e))throw new L("writer-addmarker-marker-exists",this);if(!a)throw new L("writer-addmarker-no-range",this);return n?(sc(this,e,null,a,c),this.model.markers.get(e)):this.model.markers._set(e,a,n,c)}updateMarker(e,t){this._assertWriterUsedCorrectly();const n=typeof e=="string"?e:e.name,a=this.model.markers.get(n);if(!a)throw new L("writer-updatemarker-marker-not-exists",this);if(!t)return j("writer-updatemarker-reconvert-using-editingcontroller",{markerName:n}),void this.model.markers._refresh(a);const c=typeof t.usingOperation=="boolean",p=typeof t.affectsData=="boolean",_=p?t.affectsData:a.affectsData;if(!c&&!t.range&&!p)throw new L("writer-updatemarker-wrong-options",this);const w=a.getRange(),E=t.range?t.range:w;c&&t.usingOperation!==a.managedUsingOperations?t.usingOperation?sc(this,n,null,E,_):(sc(this,n,w,null,_),this.model.markers._set(n,E,void 0,_)):a.managedUsingOperations?sc(this,n,w,E,_):this.model.markers._set(n,E,void 0,_)}removeMarker(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?e:e.name;if(!this.model.markers.has(t))throw new L("writer-removemarker-no-marker",this);const n=this.model.markers.get(t);if(!n.managedUsingOperations)return void this.model.markers._remove(t);sc(this,t,n.getRange(),null,n.affectsData)}addRoot(e,t="$root"){this._assertWriterUsedCorrectly();const n=this.model.document.getRoot(e);if(n&&n.isAttached())throw new L("writer-addroot-root-exists",this);const a=this.model.document,c=new nr(e,t,!0,a,a.version);return this.batch.addOperation(c),this.model.applyOperation(c),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?this.model.document.getRoot(e):e;if(!t||!t.isAttached())throw new L("writer-detachroot-no-root",this);for(const c of this.model.markers)c.getRange().root===t&&this.removeMarker(c);for(const c of t.getAttributeKeys())this.removeAttribute(c,t);this.remove(this.createRangeIn(t));const n=this.model.document,a=new nr(t.rootName,t.name,!1,n,n.version);this.batch.addOperation(a),this.model.applyOperation(a)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,t);else for(const[n,a]of Qo(e))this._setSelectionAttribute(n,a)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const t of e)this._removeSelectionAttribute(t)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){const n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){const a=No._getStoreAttributeKey(e);this.setAttribute(a,t,n.anchor.parent)}n._setAttribute(e,t)}_removeSelectionAttribute(e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const n=No._getStoreAttributeKey(e);this.removeAttribute(n,t.anchor.parent)}t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new L("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,t){for(const n of this.model.markers){if(!n.managedUsingOperations)continue;const a=n.getRange();let c=!1;if(e==="move"){const p=t;c=p.containsPosition(a.start)||p.start.isEqual(a.start)||p.containsPosition(a.end)||p.end.isEqual(a.end)}else{const p=t,_=p.nodeBefore,w=p.nodeAfter,E=a.start.parent==_&&a.start.isAtEnd,I=a.end.parent==w&&a.end.offset==0,O=a.end.nodeAfter==w,$=a.start.nodeAfter==w;c=E||I||O||$}c&&this.updateMarker(n.name,{range:a})}}}function $v(s,e,t,n){const a=s.model,c=a.document;let p,_,w,E=n.start;for(const O of n.getWalker({shallow:!0}))w=O.item.getAttribute(e),p&&_!=w&&(_!=t&&I(),E=p),p=O.nextPosition,_=w;function I(){const O=new Pe(E,p),$=O.root.document?c.version:null,V=new ei(O,e,_,t,$);s.batch.addOperation(V),a.applyOperation(V)}p instanceof Ye&&p!=E&&_!=t&&I()}function jv(s,e,t,n){const a=s.model,c=a.document,p=n.getAttribute(e);let _,w;if(p!=t){if(n.root===n){const E=n.document?c.version:null;w=new Cr(n,e,p,t,E)}else{_=new Pe(Ye._createBefore(n),s.createPositionAfter(n));const E=_.root.document?c.version:null;w=new ei(_,e,p,t,E)}s.batch.addOperation(w),a.applyOperation(w)}}function sc(s,e,t,n,a){const c=s.model,p=c.document,_=new Vi(e,t,n,c.markers,!!a,p.version);s.batch.addOperation(_),c.applyOperation(_)}function q9(s,e,t,n){let a;if(s.root.document){const c=n.document,p=new Ye(c.graveyard,[0]);a=new un(s,e,p,c.version)}else a=new K9(s,e);t.addOperation(a),n.applyOperation(a)}function zv(s,e){return s===e||s instanceof iu&&e instanceof iu}function Z9(s,e,t={}){if(e.isCollapsed)return;const n=e.getFirstRange();if(n.root.rootName=="$graveyard")return;const a=s.schema;s.change(c=>{if(!t.doNotResetEntireContent&&function(E,I){const O=E.getLimitElement(I);if(!I.containsEntireContent(O))return!1;const $=I.getFirstRange();return $.start.parent==$.end.parent?!1:E.checkChild(O,"paragraph")}(a,e))return void function(E,I){const O=E.model.schema.getLimitElement(I);E.remove(E.createRangeIn(O)),Uv(E,E.createPositionAt(O,0),I)}(c,e);const p={};if(!t.doNotAutoparagraph){const E=e.getSelectedElement();E&&Object.assign(p,a.getAttributesWithProperty(E,"copyOnReplace",!0))}const[_,w]=function(E){const I=E.root.document.model,O=E.start;let $=E.end;if(I.hasContent(E,{ignoreMarkers:!0})){const V=function(G){const Q=G.parent,ie=Q.root.document.model.schema,he=Q.getAncestors({parentFirst:!0,includeSelf:!0});for(const ye of he){if(ie.isLimit(ye))return null;if(ie.isBlock(ye))return ye}}($);if(V&&$.isTouching(I.createPositionAt(V,0))){const G=I.createSelection(E);I.modifySelection(G,{direction:"backward"});const Q=G.getLastPosition(),ie=I.createRange(Q,$);I.hasContent(ie,{ignoreMarkers:!0})||($=Q)}}return[_i.fromPosition(O,"toPrevious"),_i.fromPosition($,"toNext")]}(n);_.isTouching(w)||c.remove(c.createRange(_,w)),t.leaveUnmerged||(function(E,I,O){const $=E.model;if(!Ip(E.model.schema,I,O))return;const[V,G]=function(Q,ie){const he=Q.getAncestors(),ye=ie.getAncestors();let Oe=0;for(;he[Oe]&&he[Oe]==ye[Oe];)Oe++;return[he[Oe],ye[Oe]]}(I,O);!V||!G||(!$.hasContent(V,{ignoreMarkers:!0})&&$.hasContent(G,{ignoreMarkers:!0})?Vv(E,I,O,V.parent):Fv(E,I,O,V.parent))}(c,_,w),a.removeDisallowedAttributes(_.parent.getChildren(),c)),Hv(c,e,_),!t.doNotAutoparagraph&&function(E,I){const O=E.checkChild(I,"$text"),$=E.checkChild(I,"paragraph");return!O&&$}(a,_)&&Uv(c,_,e,p),_.detach(),w.detach()})}function Fv(s,e,t,n){const a=e.parent,c=t.parent;if(a!=n&&c!=n){for(e=s.createPositionAfter(a),(t=s.createPositionBefore(c)).isEqual(e)||s.insert(c,e),s.merge(e);t.parent.isEmpty;){const p=t.parent;t=s.createPositionBefore(p),s.remove(p)}Ip(s.model.schema,e,t)&&Fv(s,e,t,n)}}function Vv(s,e,t,n){const a=e.parent,c=t.parent;if(a!=n&&c!=n){for(e=s.createPositionAfter(a),(t=s.createPositionBefore(c)).isEqual(e)||s.insert(a,t);e.parent.isEmpty;){const p=e.parent;e=s.createPositionBefore(p),s.remove(p)}t=s.createPositionBefore(c),function(p,_){const w=_.nodeBefore,E=_.nodeAfter;w.name!=E.name&&p.rename(w,E.name),p.clearAttributes(w),p.setAttributes(Object.fromEntries(E.getAttributes()),w),p.merge(_)}(s,t),Ip(s.model.schema,e,t)&&Vv(s,e,t,n)}}function Ip(s,e,t){const n=e.parent,a=t.parent;return n!=a&&!s.isLimit(n)&&!s.isLimit(a)&&function(c,p,_){const w=new Pe(c,p);for(const E of w.getWalker())if(_.isLimit(E.item))return!1;return!0}(e,t,s)}function Uv(s,e,t,n={}){const a=s.createElement("paragraph");s.model.schema.setAllowedAttributes(a,n,s),s.insert(a,e),Hv(s,t,s.createPositionAt(a,0))}function Hv(s,e,t){e instanceof No?s.setSelection(t):e.setTo(t)}function Wv(s,e){const t=[];Array.from(s.getItems({direction:"backward"})).map(n=>e.createRangeOn(n)).filter(n=>(n.start.isAfter(s.start)||n.start.isEqual(s.start))&&(n.end.isBefore(s.end)||n.end.isEqual(s.end))).forEach(n=>{t.push(n.start.parent),e.remove(n)}),t.forEach(n=>{let a=n;for(;a.parent&&a.isEmpty;){const c=e.createRangeOn(a);a=a.parent,e.remove(c)}})}class Q9{constructor(e,t,n){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=t,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=t.createDocumentFragment(),this._documentFragmentPosition=t.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const t of Array.from(e))this._handleNode(t);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const t=this.writer.createPositionAfter(this._lastNode),n=this.writer.createPositionAfter(e);if(n.isAfter(t)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new L("insertcontent-invalid-insertion-position",this);this.position=n,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?Pe._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new Pe(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e))return void this._handleObject(e);let t=this._checkAndAutoParagraphToAllowedPosition(e);t||(t=this._checkAndSplitToAllowedPosition(e),t)?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this._handleDisallowedNode(e)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=_i.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new L("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=_i.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=_i.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof pn)||!this._canMergeLeft(e))return;const t=_i._createBefore(e);t.stickiness="toNext";const n=_i.fromPosition(this.position,"toNext");this._affectedStart.isEqual(t)&&(this._affectedStart.detach(),this._affectedStart=_i._createAt(t.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=_i._createAt(t.nodeBefore,"end","toNext")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof pn)||!this._canMergeRight(e))return;const t=_i._createAfter(e);if(t.stickiness="toNext",!this.position.isEqual(t))throw new L("insertcontent-invalid-insertion-position",this);this.position=Ye._createAt(t.nodeBefore,"end");const n=_i.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(t)&&(this._affectedEnd.detach(),this._affectedEnd=_i._createAt(t.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=_i._createAt(t.nodeBefore,0,"toPrevious")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_canMergeLeft(e){const t=e.previousSibling;return t instanceof pn&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}_canMergeRight(e){const t=e.nextSibling;return t instanceof pn&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}_tryAutoparagraphing(e){const t=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,t)&&this.schema.checkChild(t,e)&&(t._appendChild(e),this._handleNode(t))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const t=this.writer.createElement("paragraph");return this.writer.insert(t,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=t,this.position=this.writer.createPositionAt(t,0),!0}_checkAndSplitToAllowedPosition(e){const t=this._getAllowedIn(this.position.parent,e);if(!t)return!1;for(t!=this.position.parent&&this._insertPartialFragment();t!=this.position.parent;)if(this.position.isAtStart){const n=this.position.parent;this.position=this.writer.createPositionBefore(n),n.isEmpty&&n.parent===t&&this.writer.remove(n)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const n=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=n,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,t){return this.schema.checkChild(e,t)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,t)}}function Gv(s,e,t="auto"){const n=s.getSelectedElement();if(n&&e.schema.isObject(n)&&!e.schema.isInline(n))return t=="before"||t=="after"?e.createRange(e.createPositionAt(n,t)):e.createRangeOn(n);const a=Hn(s.getSelectedBlocks());if(!a)return e.createRange(s.focus);if(a.isEmpty)return e.createRange(e.createPositionAt(a,0));const c=e.createPositionAfter(a);return s.focus.isTouching(c)?e.createRange(c):e.createRange(e.createPositionBefore(a))}function J9(s,e,t,n={}){if(!s.schema.isObject(e))throw new L("insertobject-element-not-an-object",s,{object:e});const a=t||s.document.selection;let c=a;n.findOptimalPosition&&s.schema.isBlock(e)&&(c=s.createSelection(Gv(a,s,n.findOptimalPosition)));const p=Hn(a.getSelectedBlocks()),_={};return p&&Object.assign(_,s.schema.getAttributesWithProperty(p,"copyOnReplace",!0)),s.change(w=>{c.isCollapsed||s.deleteContent(c,{doNotAutoparagraph:!0});let E=e;const I=c.anchor.parent;!s.schema.checkChild(I,e)&&s.schema.checkChild(I,"paragraph")&&s.schema.checkChild("paragraph",e)&&(E=w.createElement("paragraph"),w.insert(e,E)),s.schema.setAllowedAttributes(E,_,w);const O=s.insertContent(E,c);return O.isCollapsed||n.setSelection&&function($,V,G,Q){const ie=$.model;if(G=="on")return void $.setSelection(V,"on");if(G!="after")throw new L("insertobject-invalid-place-parameter-value",ie);let he=V.nextSibling;if(ie.schema.isInline(V))return void $.setSelection(V,"after");!(he&&ie.schema.checkChild(he,"$text"))&&ie.schema.checkChild(V.parent,"paragraph")&&(he=$.createElement("paragraph"),ie.schema.setAllowedAttributes(he,Q,$),ie.insertContent(he,$.createPositionAfter(V))),he&&$.setSelection(he,0)}(w,e,n.setSelection,_),O})}const X9=' ,.?!:;"-()';function eD(s,e){const{isForward:t,walker:n,unit:a,schema:c,treatEmojiAsSingleUnit:p}=s,{type:_,item:w,nextPosition:E}=e;if(_=="text")return s.unit==="word"?function(I,O){let $=I.position.textNode;for($||($=O?I.position.nodeAfter:I.position.nodeBefore);$&&$.is("$text");){const V=I.position.offset-$.startOffset;if(iD($,V,O))$=O?I.position.nodeAfter:I.position.nodeBefore;else{if(nD($.data,V,O))break;I.next()}}return I.position}(n,t):function(I,O,$){const V=I.position.textNode;if(V){const G=V.data;let Q=I.position.offset-V.startOffset;for(;Qf(G,Q)||O=="character"&&Jf(G,Q)||$&&j_(G,Q);)I.next(),Q=I.position.offset-V.startOffset}return I.position}(n,a,p);if(_==(t?"elementStart":"elementEnd")){if(c.isSelectable(w))return Ye._createAt(w,t?"after":"before");if(c.checkChild(E,"$text"))return E}else{if(c.isLimit(w))return void n.skip(()=>!0);if(c.checkChild(E,"$text"))return E}}function tD(s,e){const t=s.root,n=Ye._createAt(t,e?"end":0);return e?new Pe(s,n):new Pe(n,s)}function nD(s,e,t){const n=e+(t?0:-1);return X9.includes(s.charAt(n))}function iD(s,e,t){return e===(t?s.offsetSize:0)}class oD extends de(){constructor(){super(),this.markers=new G9,this.document=new z9(this),this.schema=new JE,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,t)=>{t[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,t)=>{if(t.name==="$marker")return!0}),qE(this),this.document.registerPostFixer(tv),this.on("insertContent",(e,[t,n])=>{e.return=function(a,c,p){return a.change(_=>{const w=p||a.document.selection;w.isCollapsed||a.deleteContent(w,{doNotAutoparagraph:!0});const E=new Q9(a,_,w.anchor),I=[];let O;if(c.is("documentFragment")){if(c.markers.size){const G=[];for(const[Q,ie]of c.markers){const{start:he,end:ye}=ie,Oe=he.isEqual(ye);G.push({position:he,name:Q,isCollapsed:Oe},{position:ye,name:Q,isCollapsed:Oe})}G.sort(({position:Q},{position:ie})=>Q.isBefore(ie)?1:-1);for(const{position:Q,name:ie,isCollapsed:he}of G){let ye=null,Oe=null;const it=Q.parent===c&&Q.isAtStart,Ct=Q.parent===c&&Q.isAtEnd;it||Ct?he&&(Oe=it?"start":"end"):(ye=_.createElement("$marker"),_.insert(ye,Q)),I.push({name:ie,element:ye,collapsed:Oe})}}O=c.getChildren()}else O=[c];E.handleNodes(O);let $=E.getSelectionRange();if(c.is("documentFragment")&&I.length){const G=$?Ro.fromRange($):null,Q={};for(let ie=I.length-1;ie>=0;ie--){const{name:he,element:ye,collapsed:Oe}=I[ie],it=!Q[he];if(it&&(Q[he]=[]),ye){const Ct=_.createPositionAt(ye,"before");Q[he].push(Ct),_.remove(ye)}else{const Ct=E.getAffectedRange();if(!Ct){Oe&&Q[he].push(E.position);continue}Oe?Q[he].push(Ct[Oe]):Q[he].push(it?Ct.start:Ct.end)}}for(const[ie,[he,ye]]of Object.entries(Q))he&&ye&&he.root===ye.root&&_.addMarker(ie,{usingOperation:!0,affectsData:!0,range:new Pe(he,ye)});G&&($=G.toRange(),G.detach())}$&&(w instanceof No?_.setSelection($):w.setTo($));const V=E.getAffectedRange()||a.createRange(w.anchor);return E.destroy(),V})}(this,t,n)}),this.on("insertObject",(e,[t,n,a])=>{e.return=J9(this,t,n,a)}),this.on("canEditAt",e=>{const t=!this.document.isReadOnly;e.return=t,t||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new Fa,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(t){L.rethrowUnexpectedError(t,this)}}enqueueChange(e,t){try{e?typeof e=="function"?(t=e,e=new Fa):e instanceof Fa||(e=new Fa(e)):e=new Fa,this._pendingChanges.push({batch:e,callback:t}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(n){L.rethrowUnexpectedError(n,this)}}applyOperation(e){e._execute()}insertContent(e,t,n,...a){const c=Mp(t,n);return this.fire("insertContent",[e,c,n,...a])}insertObject(e,t,n,a,...c){const p=Mp(t,n);return this.fire("insertObject",[e,p,a,a,...c])}deleteContent(e,t){Z9(this,e,t)}modifySelection(e,t){(function(n,a,c={}){const p=n.schema,_=c.direction!="backward",w=c.unit?c.unit:"character",E=!!c.treatEmojiAsSingleUnit,I=a.focus,O=new tr({boundaries:tD(I,_),singleCharacters:!0,direction:_?"forward":"backward"}),$={walker:O,schema:p,isForward:_,unit:w,treatEmojiAsSingleUnit:E};let V;for(;V=O.next();){if(V.done)return;const G=eD($,V.value);if(G)return void(a instanceof No?n.change(Q=>{Q.setSelectionFocus(G)}):a.setFocus(G))}})(this,e,t)}getSelectedContent(e){return function(t,n){return t.change(a=>{const c=a.createDocumentFragment(),p=n.getFirstRange();if(!p||p.isCollapsed)return c;const _=p.start.root,w=p.start.getCommonPath(p.end),E=_.getNodeByPath(w);let I;I=p.start.parent==p.end.parent?p:a.createRange(a.createPositionAt(E,p.start.path[w.length]),a.createPositionAt(E,p.end.path[w.length]+1));const O=I.end.offset-I.start.offset;for(const $ of I.getItems({shallow:!0}))$.is("$textProxy")?a.appendText($.data,$.getAttributes(),c):a.append(a.cloneElement($,!0),c);if(I!=p){const $=p._getTransformedByMove(I.start,a.createPositionAt(c,0),O)[0],V=a.createRange(a.createPositionAt(c,0),$.start);Wv(a.createRange($.end,a.createPositionAt(c,"end")),a),Wv(V,a)}return c})}(this,e)}hasContent(e,t={}){const n=e instanceof Pe?e:Pe._createIn(e);if(n.isCollapsed)return!1;const{ignoreWhitespaces:a=!1,ignoreMarkers:c=!1}=t;if(!c){for(const p of this.markers.getMarkersIntersectingRange(n))if(p.affectsData)return!0}for(const p of n.getItems())if(this.schema.isContent(p)&&(!p.is("$textProxy")||!a||p.data.search(/\S/)!==-1))return!0;return!1}canEditAt(e){const t=Mp(e);return this.fire("canEditAt",[t])}createPositionFromPath(e,t,n){return new Ye(e,t,n)}createPositionAt(e,t){return Ye._createAt(e,t)}createPositionAfter(e){return Ye._createAfter(e)}createPositionBefore(e){return Ye._createBefore(e)}createRange(e,t){return new Pe(e,t)}createRangeIn(e){return Pe._createIn(e)}createRangeOn(e){return Pe._createOn(e)}createSelection(...e){return new oo(...e)}createBatch(e){return new Fa(e)}createOperationFromJSON(e){return k9.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const t=this._pendingChanges[0].batch;this._currentWriter=new Y9(this,t);const n=this._pendingChanges[0].callback(this._currentWriter);e.push(n),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function Mp(s,e){if(s)return s instanceof oo||s instanceof No?s:s instanceof Fs?e||e===0?new oo(s,e):s.is("rootElement")?new oo(s,"in"):new oo(s,"on"):new oo(s)}class rD extends Qr{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}class ou extends Qr{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}class es{constructor(e){this.document=e}createDocumentFragment(e){return new zs(this.document,e)}createElement(e,t,n){return new no(this.document,e,t,n)}createText(e){return new yn(this.document,e)}clone(e,t=!1){return e._clone(t)}appendChild(e,t){return t._appendChild(e)}insertChild(e,t,n){return n._insertChild(e,t)}removeChildren(e,t,n){return n._removeChildren(e,t)}remove(e){const t=e.parent;return t?this.removeChildren(t.getChildIndex(e),1,t):[]}replace(e,t){const n=e.parent;if(n){const a=n.getChildIndex(e);return this.removeChildren(a,1,n),this.insertChild(a,t,n),!0}return!1}unwrapElement(e){const t=e.parent;if(t){const n=t.getChildIndex(e);this.remove(e),this.insertChild(n,e.getChildren(),t)}}rename(e,t){const n=new no(this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,n)?n:null}setAttribute(e,t,n){n._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,n){kn(e)&&n===void 0?t._setStyle(e):n._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,n){n._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}createPositionAt(e,t){return st._createAt(e,t)}createPositionAfter(e){return st._createAfter(e)}createPositionBefore(e){return st._createBefore(e)}createRange(e,t){return new Mt(e,t)}createRangeOn(e){return Mt._createOn(e)}createRangeIn(e){return Mt._createIn(e)}createSelection(...e){return new Xo(...e)}}const sD=/^#([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i,aD=/^rgb\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}[0-9]{1,3}[ %]?\)$/i,lD=/^rgba\([ ]?([0-9]{1,3}[ %]?,[ ]?){3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,cD=/^hsl\([ ]?([0-9]{1,3}[ %]?[,]?[ ]*){3}(1|[0-9]+%|[0]?\.?[0-9]+)?\)$/i,dD=/^hsla\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,uD=/\w+\((?:[^()]|\([^()]*\))*\)|\S+/gi,hD=new Set(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","activeborder","activecaption","appworkspace","background","buttonface","buttonhighlight","buttonshadow","buttontext","captiontext","graytext","highlight","highlighttext","inactiveborder","inactivecaption","inactivecaptiontext","infobackground","infotext","menu","menutext","scrollbar","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","window","windowframe","windowtext","rebeccapurple","currentcolor","transparent"]);function fD(s){return s.startsWith("#")?sD.test(s):s.startsWith("rgb")?aD.test(s)||lD.test(s):s.startsWith("hsl")?cD.test(s)||dD.test(s):hD.has(s.toLowerCase())}const pD=/^([+-]?[0-9]*([.][0-9]+)?(px|cm|mm|in|pc|pt|ch|em|ex|rem|vh|vw|vmin|vmax)|0)$/,mD=/^[+-]?[0-9]*([.][0-9]+)?%$/,gD=["repeat-x","repeat-y","repeat","space","round","no-repeat"];function _D(s){return gD.includes(s)}const bD=["center","top","bottom","left","right"];function vD(s){return bD.includes(s)}const kD=["fixed","scroll","local"];function wD(s){return kD.includes(s)}const yD=/^url\(/;function CD(s){return yD.test(s)}function AD(s=""){if(s==="")return{top:void 0,right:void 0,bottom:void 0,left:void 0};const e=Kv(s),t=e[0],n=e[2]||t,a=e[1]||t;return{top:t,bottom:n,right:a,left:e[3]||a}}function xD({top:s,right:e,bottom:t,left:n}){const a=[];return n!==e?a.push(s,e,t,n):t!==s?a.push(s,e,t):e!==s?a.push(s,e):a.push(s),a.join(" ")}function Kv(s){const e=s.matchAll(uD);return Array.from(e).map(t=>t[0])}function SD(s){s.setNormalizer("background",e=>{const t={},n=Kv(e);for(const a of n)_D(a)?(t.repeat=t.repeat||[],t.repeat.push(a)):vD(a)?(t.position=t.position||[],t.position.push(a)):wD(a)?t.attachment=a:fD(a)?t.color=a:CD(a)&&(t.image=a);return{path:"background",value:t}}),s.setNormalizer("background-color",e=>({path:"background.color",value:e})),s.setReducer("background",e=>{const t=[];return t.push(["background-color",e.color]),t}),s.setStyleRelation("background",["background-color"])}function ED(s){var e,t;s.setNormalizer("margin",(e="margin",n=>({path:e,value:AD(n)}))),s.setNormalizer("margin-top",n=>({path:"margin.top",value:n})),s.setNormalizer("margin-right",n=>({path:"margin.right",value:n})),s.setNormalizer("margin-bottom",n=>({path:"margin.bottom",value:n})),s.setNormalizer("margin-left",n=>({path:"margin.left",value:n})),s.setReducer("margin",(t="margin",n=>{const{top:a,right:c,bottom:p,left:_}=n,w=[];return[a,c,_,p].every(E=>!!E)?w.push([t,xD(n)]):(a&&w.push([t+"-top",a]),c&&w.push([t+"-right",c]),p&&w.push([t+"-bottom",p]),_&&w.push([t+"-left",_])),w})),s.setStyleRelation("margin",["margin-top","margin-right","margin-bottom","margin-left"])}class DD{constructor(){this._commands=new Map}add(e,t){this._commands.set(e,t)}get(e){return this._commands.get(e)}execute(e,...t){const n=this.get(e);if(!n)throw new L("commandcollection-command-not-found",this,{commandName:e});return n.execute(...t)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}class TD extends de(){constructor(e={}){super();const t=this.constructor,n=e.language||t.defaultConfig&&t.defaultConfig.language;this._context=e.context||new H_({language:n}),this._context._addEditor(this,!e.context);const a=Array.from(t.builtinPlugins||[]);this.config=new __(e,t.defaultConfig),this.config.define("plugins",a),this.config.define(this._context._getEditorConfig()),this.plugins=new U_(this,a,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new DD,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new oD,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const c=new P7;this.data=new b9(this.model,c),this.editing=new ZE(this.model,c),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new v9([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new ZS(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new L("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new L("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new L("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const e=this.config,t=e.get("plugins"),n=e.get("removePlugins")||[],a=e.get("extraPlugins")||[],c=e.get("substitutePlugins")||[];return this.plugins.init(t.concat(a),n,c)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(t=>this.once("ready",t))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...t){try{return this.commands.execute(e,...t)}catch(n){L.rethrowUnexpectedError(n,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}}function ru(s){return class extends s{setData(e){this.data.set(e)}getData(e){return this.data.get(e)}}}{const s=ru(Object);ru.setData=s.prototype.setData,ru.getData=s.prototype.getData}function Pp(s){return class extends s{updateSourceElement(e=this.data.get()){if(!this.sourceElement)throw new L("editor-missing-sourceelement",this);const t=this.config.get("updateSourceElementOnDestroy"),n=this.sourceElement instanceof HTMLTextAreaElement;jS(this.sourceElement,t||n?e:"")}}}Pp.updateSourceElement=Pp(Object).prototype.updateSourceElement;class Yv extends Fd{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new Oi({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if(typeof e!="string")throw new L("pendingactions-add-invalid-message",this);const t=new(de());return t.set("message",e),this._actions.add(t),this.hasAny=!0,t}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const qv='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',Zv='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',Qv='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',mn={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:qv,caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:Zv,cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',eraser:Qv,image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',objectSizeSmall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',objectSizeMedium:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'};class Jv{constructor(e){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof e.crashNumberLimit=="number"?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof e.minimumNonErrorTimePeriod=="number"?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=t=>{const n="error"in t?t.error:t.reason;n instanceof Error&&this._handleError(n,t)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}off(e,t){this._listeners[e]=this._listeners[e].filter(n=>n!==t)}_fire(e,...t){const n=this._listeners[e]||[];for(const a of n)a.apply(this,[null,...t])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,t){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:t instanceof ErrorEvent?t.filename:void 0,lineno:t instanceof ErrorEvent?t.lineno:void 0,colno:t instanceof ErrorEvent?t.colno:void 0,date:this._now()});const n=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:n}),n?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&e.context!==void 0&&e.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(e)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function Op(s,e=new Set){const t=[s],n=new Set;let a=0;for(;t.length>a;){const c=t[a++];if(!n.has(c)&&ID(c)&&!e.has(c))if(n.add(c),Symbol.iterator in c)try{for(const p of c)t.push(p)}catch{}else for(const p in c)p!=="defaultValue"&&t.push(c[p])}return n}function ID(s){const e=Object.prototype.toString.call(s),t=typeof s;return!(t==="number"||t==="boolean"||t==="string"||t==="symbol"||t==="function"||e==="[object Date]"||e==="[object RegExp]"||e==="[object Module]"||s==null||s._watchdogExcluded||s instanceof EventTarget||s instanceof Event)}function Xv(s,e,t=new Set){if(s===e&&typeof(n=s)=="object"&&n!==null)return!0;var n;const a=Op(s,t),c=Op(e,t);for(const p of a)if(c.has(p))return!0;return!1}const su=function(s,e,t){var n=!0,a=!0;if(typeof s!="function")throw new TypeError("Expected a function");return te(t)&&(n="leading"in t?!!t.leading:n,a="trailing"in t?!!t.trailing:a),ja(s,e,{leading:n,maxWait:e,trailing:a})};var MD=Object.defineProperty,PD=Object.defineProperties,OD=Object.getOwnPropertyDescriptors,au=Object.getOwnPropertySymbols,ek=Object.prototype.hasOwnProperty,tk=Object.prototype.propertyIsEnumerable,nk=(s,e,t)=>e in s?MD(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,Bp=(s,e)=>{for(var t in e||(e={}))ek.call(e,t)&&nk(s,t,e[t]);if(au)for(var t of au(e))tk.call(e,t)&&nk(s,t,e[t]);return s};class ik extends Jv{constructor(e,t={}){super(t),this._editor=null,this._initUsingData=!0,this._editables={},this._throttledSave=su(this._save.bind(this),typeof t.saveInterval=="number"?t.saveInterval:5e3),e&&(this._creator=(n,a)=>e.create(n,a)),this._destructor=n=>n.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},t=[],n=this._config.rootsAttributes||{},a={};for(const[w,E]of Object.entries(this._data.roots))E.isLoaded?(e[w]="",a[w]=n[w]||{}):t.push(w);const c=(p=Bp({},this._config),_={extraPlugins:this._config.extraPlugins||[],lazyRoots:t,rootsAttributes:a,_watchdogInitialData:this._data},PD(p,OD(_)));var p,_;return delete c.initialData,c.extraPlugins.push(BD),this._initUsingData?this.create(e,c,c.context):Os(this._elementOrData)?this.create(this._elementOrData,c,c.context):this.create(this._editables,c,c.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,t=this._config,n){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData=typeof e=="string"||Object.keys(e).length>0&&typeof Object.values(e)[0]=="string",this._config=this._cloneEditorConfiguration(t)||{},this._config.context=n,this._creator(e,this._config))).then(a=>{this._editor=a,a.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=a.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(t){console.error(t,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,t=e.model.document.roots.filter(_=>_.isAttached()&&_.rootName!="$graveyard"),{plugins:n}=e,a=n.has("CommentsRepository")&&n.get("CommentsRepository"),c=n.has("TrackChanges")&&n.get("TrackChanges"),p={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};t.forEach(_=>{p.roots[_.rootName]={content:JSON.stringify(Array.from(_.getChildren())),attributes:JSON.stringify(Array.from(_.getAttributes())),isLoaded:_._isLoaded}});for(const _ of e.model.markers)_._affectsData&&(p.markers[_.name]={rangeJSON:_.getRange().toJSON(),usingOperation:_._managedUsingOperations,affectsData:_._affectsData});return a&&(p.commentThreads=JSON.stringify(a.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),c&&(p.suggestions=JSON.stringify(c.getSuggestions({toJSON:!0,skipNotAttached:!0}))),p}_getEditables(){const e={};for(const t of this.editor.model.document.getRootNames()){const n=this.editor.ui.getEditableElement(t);n&&(e[t]=n)}return e}_isErrorComingFromThisItem(e){return Xv(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return Wf(e,(t,n)=>Os(t)||n==="context"?t:void 0)}}class BD{constructor(e){this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},t=>{this._restoreCollaborationData(),this._restoreEditorData(t)}),this.editor.data.fire("ready")},{priority:999})}_createNode(e,t){if("name"in t){const n=e.createElement(t.name,t.attributes);if(t.children)for(const a of t.children)n._appendChild(this._createNode(e,a));return n}return e.createText(t.data,t.attributes)}_restoreEditorData(e){const t=this.editor;Object.entries(this._data.roots).forEach(([n,{content:a,attributes:c}])=>{const p=JSON.parse(a),_=JSON.parse(c),w=t.model.document.getRoot(n);for(const[E,I]of _)e.setAttribute(E,I,w);for(const E of p){const I=this._createNode(e,E);e.insert(I,w,"end")}}),Object.entries(this._data.markers).forEach(([n,a])=>{const{document:c}=t.model,p=a,{rangeJSON:{start:_,end:w}}=p,E=((G,Q)=>{var ie={};for(var he in G)ek.call(G,he)&&Q.indexOf(he)<0&&(ie[he]=G[he]);if(G!=null&&au)for(var he of au(G))Q.indexOf(he)<0&&tk.call(G,he)&&(ie[he]=G[he]);return ie})(p,["rangeJSON"]),I=c.getRoot(_.root),O=e.createPositionFromPath(I,_.path,_.stickiness),$=e.createPositionFromPath(I,w.path,w.stickiness),V=e.createRange(O,$);e.addMarker(n,Bp({range:V},E))})}_restoreCollaborationData(){const e=JSON.parse(this._data.commentThreads),t=JSON.parse(this._data.suggestions);e.forEach(n=>{const a=this.editor.config.get("collaboration.channelId"),c=this.editor.plugins.get("CommentsRepository");c.hasCommentThread(n.threadId)&&c.getCommentThread(n.threadId).remove(),c.addCommentThread(Bp({channelId:a},n))}),t.forEach(n=>{const a=this.editor.plugins.get("TrackChangesEditing");a.hasSuggestion(n.id)?a.getSuggestion(n.id).attributes=n.attributes:a.addSuggestionData(n)})}}const ac=Symbol("MainQueueId");class LD{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,t){const n=e===ac;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const a=(n?Promise.all(this._queues.values()):Promise.all([this._queues.get(ac),this._queues.get(e)])).then(t),c=a.catch(()=>{});return this._queues.set(e,c),a.finally(()=>{this._activeActions--,this._queues.get(e)===c&&this._activeActions===0&&this._onEmptyCallbacks.forEach(p=>p())})}}function ok(s){return Array.isArray(s)?s:[s]}function Lp({emitter:s,activator:e,callback:t,contextElements:n}){s.listenTo(document,"mousedown",(a,c)=>{if(!e())return;const p=typeof c.composedPath=="function"?c.composedPath():[],_=typeof n=="function"?n():n;for(const w of _)if(w.contains(c.target)||p.includes(w))return;t()})}function Rp(s){return class extends s{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...e){super(...e),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function Np({view:s}){s.listenTo(s.element,"submit",(e,t)=>{t.preventDefault(),s.fire("submit")},{useCapture:!0})}function $p({keystrokeHandler:s,focusTracker:e,gridItems:t,numberOfColumns:n,uiLanguageDirection:a}){const c=typeof n=="number"?()=>n:n;function p(E){return I=>{const O=t.find(G=>G.element===e.focusedElement),$=t.getIndex(O),V=E($,t);t.get(V).focus(),I.stopPropagation(),I.preventDefault()}}function _(E,I){return E===I-1?0:E+1}function w(E,I){return E===0?I-1:E-1}s.set("arrowright",p((E,I)=>a==="rtl"?w(E,I.length):_(E,I.length))),s.set("arrowleft",p((E,I)=>a==="rtl"?_(E,I.length):w(E,I.length))),s.set("arrowup",p((E,I)=>{let O=E-c();return O<0&&(O=E+c()*Math.floor(I.length/c()),O>I.length-1&&(O-=c())),O})),s.set("arrowdown",p((E,I)=>{let O=E+c();return O>I.length-1&&(O=E%c()),O}))}class ir extends Oi{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(t,n,a)=>{this._renderViewIntoCollectionParent(n,a)}),this.on("remove",(t,n)=>{n.element&&this._parentElement&&n.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const t of this)this._renderViewIntoCollectionParent(t)}delegate(...e){if(!e.length||!e.every(t=>typeof t=="string"))throw new L("ui-viewcollection-delegate-wrong-events",this);return{to:t=>{for(const n of this)for(const a of e)n.delegate(a).to(t);this.on("add",(n,a)=>{for(const c of e)a.delegate(c).to(t)}),this.on("remove",(n,a)=>{for(const c of e)a.stopDelegating(c,t)})}}}_renderViewIntoCollectionParent(e,t){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[t])}remove(e){return super.remove(e)}}var rk=d(4793),RD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(rk.Z,RD),rk.Z.locals;class Pt extends yr(de()){constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new Oi,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(t,n)=>{n.locale=e,n.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=vo.bind(this,this)}createCollection(e){const t=new ir(e);return this._viewCollections.add(t),t}registerChild(e){Ae(e)||(e=[e]);for(const t of e)this._unboundChildren.add(t)}deregisterChild(e){Ae(e)||(e=[e]);for(const t of e)this._unboundChildren.remove(t)}setTemplate(e){this.template=new vo(e)}extendTemplate(e){vo.extend(this.template,e)}render(){if(this.isRendered)throw new L("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}class vo extends J(){constructor(e){super(),Object.assign(this,ck(lk(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new L("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){yield*function*e(t){if(t.children)for(const n of t.children)cu(n)?yield n:jp(n)&&(yield*e(n))}(this)}static bind(e,t){return{to:(n,a)=>new ND({eventNameOrFunction:n,attribute:n,observable:e,emitter:t,callback:a}),if:(n,a,c)=>new sk({observable:e,emitter:t,attribute:n,valueIfTrue:a,callback:c})}}static extend(e,t){if(e._isRendered)throw new L("template-extend-render",[this,e]);fk(e,ck(lk(t)))}_renderNode(e){let t;if(t=e.node?this.tag&&this.text:this.tag?this.text:!this.text,t)throw new L("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let t=e.node;return t||(t=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}_renderText(e){let t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(""),lu(this.text)?this._bindToObservable({schema:this.text,updater:$D(t),data:e}):t.textContent=this.text.join(""),t}_renderAttributes(e){if(!this.attributes)return;const t=e.node,n=e.revertData;for(const a in this.attributes){const c=t.getAttribute(a),p=this.attributes[a];n&&(n.attributes[a]=c);const _=pk(p)?p[0].ns:null;if(lu(p)){const w=pk(p)?p[0].value:p;n&&mk(a)&&w.unshift(c),this._bindToObservable({schema:w,updater:jD(t,a,_),data:e})}else if(a=="style"&&typeof p[0]!="string")this._renderStyleAttribute(p[0],e);else{n&&c&&mk(a)&&p.unshift(c);const w=p.map(E=>E&&E.value||E).reduce((E,I)=>E.concat(I),[]).reduce(uk,"");Ua(w)||t.setAttributeNS(_,a,w)}}}_renderStyleAttribute(e,t){const n=t.node;for(const a in e){const c=e[a];lu(c)?this._bindToObservable({schema:[c],updater:zD(n,a),data:t}):n.style[a]=c}}_renderElementChildren(e){const t=e.node,n=e.intoFragment?document.createDocumentFragment():t,a=e.isApplying;let c=0;for(const p of this.children)if(zp(p)){if(!a){p.setParent(t);for(const _ of p)n.appendChild(_.element)}}else if(cu(p))a||(p.isRendered||p.render(),n.appendChild(p.element));else if(Zr(p))n.appendChild(p);else if(a){const _={children:[],bindings:[],attributes:{}};e.revertData.children.push(_),p._renderNode({intoFragment:!1,node:n.childNodes[c++],isApplying:!0,revertData:_})}else n.appendChild(p.render());e.intoFragment&&t.appendChild(n)}_setUpListeners(e){if(this.eventListeners)for(const t in this.eventListeners){const n=this.eventListeners[t].map(a=>{const[c,p]=t.split("@");return a.activateDomEventListener(c,p,e)});e.revertData&&e.revertData.bindings.push(n)}}_bindToObservable({schema:e,updater:t,data:n}){const a=n.revertData;ak(e,t,n);const c=e.filter(p=>!Ua(p)).filter(p=>p.observable).map(p=>p.activateAttributeListener(e,t,n));a&&a.bindings.push(c)}_revertTemplateFromNode(e,t){for(const a of t.bindings)for(const c of a)c();if(t.text)return void(e.textContent=t.text);const n=e;for(const a in t.attributes){const c=t.attributes[a];c===null?n.removeAttribute(a):n.setAttribute(a,c)}for(let a=0;a<t.children.length;++a)this._revertTemplateFromNode(n.childNodes[a],t.children[a])}}class lc{constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}activateAttributeListener(e,t,n){const a=()=>ak(e,t,n);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,a),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,a)}}}class ND extends lc{constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,t,n){const a=(c,p)=>{t&&!p.target.matches(t)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(p):this.observable.fire(this.eventNameOrFunction,p))};return this.emitter.listenTo(n.node,e,a),()=>{this.emitter.stopListening(n.node,e,a)}}}class sk extends lc{constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){return!Ua(super.getValue(e))&&(this.valueIfTrue||!0)}}function lu(s){return!!s&&(s.value&&(s=s.value),Array.isArray(s)?s.some(lu):s instanceof lc)}function ak(s,e,{node:t}){const n=function(c,p){return c.map(_=>_ instanceof lc?_.getValue(p):_)}(s,t);let a;a=s.length==1&&s[0]instanceof sk?n[0]:n.reduce(uk,""),Ua(a)?e.remove():e.set(a)}function $D(s){return{set(e){s.textContent=e},remove(){s.textContent=""}}}function jD(s,e,t){return{set(n){s.setAttributeNS(t,e,n)},remove(){s.removeAttributeNS(t,e)}}}function zD(s,e){return{set(t){s.style[e]=t},remove(){s.style[e]=null}}}function lk(s){return Wf(s,e=>{if(e&&(e instanceof lc||jp(e)||cu(e)||zp(e)))return e})}function ck(s){if(typeof s=="string"?s=function(e){return{text:[e]}}(s):s.text&&function(e){e.text=ui(e.text)}(s),s.on&&(s.eventListeners=function(e){for(const t in e)dk(e,t);return e}(s.on),delete s.on),!s.text){s.attributes&&function(t){for(const n in t)t[n].value&&(t[n].value=ui(t[n].value)),dk(t,n)}(s.attributes);const e=[];if(s.children)if(zp(s.children))e.push(s.children);else for(const t of s.children)jp(t)||cu(t)||Zr(t)?e.push(t):e.push(new vo(t));s.children=e}return s}function dk(s,e){s[e]=ui(s[e])}function uk(s,e){return Ua(e)?s:Ua(s)?e:`${s} ${e}`}function hk(s,e){for(const t in e)s[t]?s[t].push(...e[t]):s[t]=e[t]}function fk(s,e){if(e.attributes&&(s.attributes||(s.attributes={}),hk(s.attributes,e.attributes)),e.eventListeners&&(s.eventListeners||(s.eventListeners={}),hk(s.eventListeners,e.eventListeners)),e.text&&s.text.push(...e.text),e.children&&e.children.length){if(s.children.length!=e.children.length)throw new L("ui-template-extend-children-mismatch",s);let t=0;for(const n of e.children)fk(s.children[t++],n)}}function Ua(s){return!s&&s!==0}function cu(s){return s instanceof Pt}function jp(s){return s instanceof vo}function zp(s){return s instanceof ir}function pk(s){return te(s[0])&&s[0].ns}function mk(s){return s=="class"||s=="style"}class FD extends ir{constructor(e,t=[]){super(t),this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new vo({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=yt(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&e.childElementCount==0&&e.remove()}}var gk=d(6574),VD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(gk.Z,VD),gk.Z.locals;const _k=class extends Pt{constructor(){super();const s=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon","ck-reset_all-excluded",s.if("isColorInherited","ck-icon_inherit-color")],viewBox:s.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const s=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),e=s.getAttribute("viewBox");e&&(this.viewBox=e);for(const{name:t,value:n}of Array.from(s.attributes))_k.presentationalAttributeNames.includes(t)&&this.element.setAttribute(t,n);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;s.childNodes.length>0;)this.element.appendChild(s.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(s=>{s.style.fill=this.fillColor})}};let Ha=_k;Ha.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];var bk=d(4906),UD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(bk.Z,UD),bk.Z.locals;class qt extends Pt{constructor(e){super(e),this._focusDelayed=null;const t=this.bindTemplate,n=S();this.set("ariaChecked",void 0),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${n}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._createLabelView(),this.iconView=new Ha,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const a={tag:"button",attributes:{class:["ck","ck-button",t.to("class"),t.if("isEnabled","ck-disabled",c=>!c),t.if("isVisible","ck-hidden",c=>!c),t.to("isOn",c=>c?"ck-on":"ck-off"),t.if("withText","ck-button_with-text"),t.if("withKeystroke","ck-button_with-keystroke")],role:t.to("role"),type:t.to("type",c=>c||"button"),tabindex:t.to("tabindex"),"aria-label":t.to("ariaLabel"),"aria-labelledby":t.to("ariaLabelledBy"),"aria-disabled":t.if("isEnabled",!0,c=>!c),"aria-checked":t.to("isOn"),"aria-pressed":t.to("isOn",c=>!!this.isToggleable&&String(!!c)),"data-cke-tooltip-text":t.to("_tooltipString"),"data-cke-tooltip-position":t.to("tooltipPosition")},children:this.children,on:{click:t.to(c=>{this.isEnabled?this.fire("execute"):c.preventDefault()})}};g.isSafari&&(this._focusDelayed||(this._focusDelayed=Zf(()=>this.focus(),0)),a.on.mousedown=t.to(()=>{this._focusDelayed()}),a.on.mouseup=t.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(a)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_createLabelView(){const e=new Pt,t=this.bindTemplate;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:t.to("labelStyle"),id:this.ariaLabelledBy},children:[{text:t.to("label")}]}),e}_createKeystrokeView(){const e=new Pt;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",t=>N_(t))}]}),e}_getTooltipString(e,t,n){return e?typeof e=="string"?e:(n&&(n=N_(n)),e instanceof Function?e(t,n):`${t}${n?` (${n})`:""}`):""}}var vk=d(5332),HD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(vk.Z,HD),vk.Z.locals;class cc extends qt{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new Pt;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}function WD(s){return typeof s=="string"?{model:s,label:s,hasBorder:!1,view:{name:"span",styles:{color:s}}}:{model:s.color,label:s.label||s.color,hasBorder:s.hasBorder!==void 0&&s.hasBorder,view:{name:"span",styles:{color:`${s.color}`}}}}class kk extends qt{constructor(e){super(e);const t=this.bindTemplate;this.set("color",void 0),this.set("hasBorder",!1),this.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M16.935 5.328a2 2 0 0 1 0 2.829l-7.778 7.778a2 2 0 0 1-2.829 0L3.5 13.107a1.999 1.999 0 1 1 2.828-2.829l.707.707a1 1 0 0 0 1.414 0l5.658-5.657a2 2 0 0 1 2.828 0z"/><path d="M14.814 6.035 8.448 12.4a1 1 0 0 1-1.414 0l-1.413-1.415A1 1 0 1 0 4.207 12.4l2.829 2.829a1 1 0 0 0 1.414 0l7.778-7.778a1 1 0 1 0-1.414-1.415z"/></svg>',this.extendTemplate({attributes:{style:{backgroundColor:t.to("color")},class:["ck","ck-color-grid__tile",t.if("hasBorder","ck-color-selector__color-tile_bordered")]}})}render(){super.render(),this.iconView.fillColor="hsl(0, 0%, 100%)"}}var wk=d(6781),GD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(wk.Z,GD),wk.Z.locals;class yk extends Pt{constructor(e,t){super(e);const n=t&&t.colorDefinitions?t.colorDefinitions:[];this.columns=t&&t.columns?t.columns:5;const a={gridTemplateColumns:`repeat( ${this.columns}, 1fr)`};this.set("selectedColor",void 0),this.items=this.createCollection(),this.focusTracker=new Ai,this.keystrokes=new Fi,this.items.on("add",(c,p)=>{p.isOn=p.color===this.selectedColor}),n.forEach(c=>{const p=new kk;p.set({color:c.color,label:c.label,tooltip:!0,hasBorder:c.options.hasBorder}),p.on("execute",()=>{this.fire("execute",{value:c.color,hasBorder:c.options.hasBorder,label:c.label})}),this.items.add(p)}),this.setTemplate({tag:"div",children:this.items,attributes:{class:["ck","ck-color-grid"],style:a}}),this.on("change:selectedColor",(c,p,_)=>{for(const w of this.items)w.isOn=w.color===_})}focus(){this.items.length&&this.items.first.focus()}focusLast(){this.items.length&&this.items.last.focus()}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,t)=>{this.focusTracker.add(t.element)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element),$p({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:this.columns,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}}var Ck=d(1103);const Ak=function(s){var e,t,n=[],a=1;if(typeof s=="string")if(Ck[s])n=Ck[s].slice(),t="rgb";else if(s==="transparent")a=0,t="rgb",n=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(s)){var c=s.slice(1);a=1,(w=c.length)<=4?(n=[parseInt(c[0]+c[0],16),parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16)],w===4&&(a=parseInt(c[3]+c[3],16)/255)):(n=[parseInt(c[0]+c[1],16),parseInt(c[2]+c[3],16),parseInt(c[4]+c[5],16)],w===8&&(a=parseInt(c[6]+c[7],16)/255)),n[0]||(n[0]=0),n[1]||(n[1]=0),n[2]||(n[2]=0),t="rgb"}else if(e=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(s)){var p=e[1],_=p==="rgb";t=c=p.replace(/a$/,"");var w=c==="cmyk"?4:c==="gray"?1:3;n=e[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(E,I){if(/%$/.test(E))return I===w?parseFloat(E)/100:c==="rgb"?255*parseFloat(E)/100:parseFloat(E);if(c[I]==="h"){if(/deg$/.test(E))return parseFloat(E);if(xk[E]!==void 0)return xk[E]}return parseFloat(E)}),p===c&&n.push(1),a=_||n[w]===void 0?1:n[w],n=n.slice(0,w)}else s.length>10&&/[0-9](?:\s|\/)/.test(s)&&(n=s.match(/([0-9]+)/g).map(function(E){return parseFloat(E)}),t=s.match(/([a-z])/gi).join("").toLowerCase());else isNaN(s)?Array.isArray(s)||s.length?(n=[s[0],s[1],s[2]],t="rgb",a=s.length===4?s[3]:1):s instanceof Object&&(s.r!=null||s.red!=null||s.R!=null?(t="rgb",n=[s.r||s.red||s.R||0,s.g||s.green||s.G||0,s.b||s.blue||s.B||0]):(t="hsl",n=[s.h||s.hue||s.H||0,s.s||s.saturation||s.S||0,s.l||s.lightness||s.L||s.b||s.brightness]),a=s.a||s.alpha||s.opacity||1,s.opacity!=null&&(a/=100)):(t="rgb",n=[s>>>16,(65280&s)>>>8,255&s]);return{space:t,values:n,alpha:a}};var xk={red:0,orange:60,yellow:120,green:180,blue:240,purple:300},Sk=d(841);function Ek(s,e){if(!s)return"";const t=Dk(s);if(!t)return"";if(t.space===e)return s;if(n=t,!Object.keys(Sk).includes(n.space))return"";var n;const a=Sk[t.space][e];return a?function(c,p){switch(p){case"hex":return`#${c}`;case"rgb":return`rgb( ${c[0]}, ${c[1]}, ${c[2]} )`;case"hsl":return`hsl( ${c[0]}, ${c[1]}%, ${c[2]}% )`;case"hwb":return`hwb( ${c[0]}, ${c[1]}, ${c[2]} )`;case"lab":return`lab( ${c[0]}% ${c[1]} ${c[2]} )`;case"lch":return`lch( ${c[0]}% ${c[1]} ${c[2]} )`;default:return""}}(a(t.space==="hex"?t.hexValue:t.values),e):""}function Dk(s){if(s.startsWith("#")){const t=Ak(s);return{space:"hex",values:t.values,hexValue:s,alpha:t.alpha}}const e=Ak(s);return e.space?e:null}var Tk=d(3662),KD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(Tk.Z,KD),Tk.Z.locals;class Ik extends Pt{constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${S()}`;const t=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:t.to("for")},children:[{text:t.to("text")}]})}}var Mk=d(2577),YD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(Mk.Z,YD),Mk.Z.locals;class dc extends Pt{constructor(e,t){super(e);const n=`ck-labeled-field-view-${S()}`,a=`ck-labeled-field-view-status-${S()}`;this.fieldView=t(this,n,a),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(n),this.statusView=this._createStatusView(a),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(p,_)=>p||_);const c=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",c.to("class"),c.if("isEnabled","ck-disabled",p=>!p),c.if("isEmpty","ck-labeled-field-view_empty"),c.if("isFocused","ck-labeled-field-view_focused"),c.if("placeholder","ck-labeled-field-view_placeholder"),c.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const t=new Ik(this.locale);return t.for=e,t.bind("text").to(this,"label"),t}_createStatusView(e){const t=new Pt(this.locale),n=this.bindTemplate;return t.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",n.if("errorText","ck-labeled-field-view__status_error"),n.if("_statusText","ck-hidden",a=>!a)],id:e,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]}),t}focus(){this.fieldView.focus()}}var Pk=d(4879),qD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(Pk.Z,qD),Pk.Z.locals;class Ok extends Pt{constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new Ai,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0),this.set("inputMode","text");const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",t.if("isFocused","ck-input_focused"),t.if("isEmpty","ck-input-text_empty"),t.if("hasError","ck-error")],id:t.to("id"),placeholder:t.to("placeholder"),readonly:t.to("isReadOnly"),inputmode:t.to("inputMode"),"aria-invalid":t.if("hasError",!0),"aria-describedby":t.to("ariaDescribedById")},on:{input:t.to((...n)=>{this.fire("input",...n),this._updateIsEmpty()}),change:t.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,t,n)=>{this._setDomElementValue(n),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(e){this.element.value=e||e===0?e:""}}class ZD extends Ok{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}class QD extends Ok{constructor(e,{min:t,max:n,step:a}={}){super(e);const c=this.bindTemplate;this.set("min",t),this.set("max",n),this.set("step",a),this.extendTemplate({attributes:{type:"number",class:["ck-input-number"],min:c.to("min"),max:c.to("max"),step:c.to("step")}})}}class JD extends Pt{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",t.to("position",n=>`ck-dropdown__panel_${n}`),t.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:t.to(n=>{n.target.tagName.toLocaleLowerCase()!=="input"&&n.preventDefault()})}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():j("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}var Bk=d(5485),XD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(Bk.Z,XD),Bk.Z.locals;const Fp=class extends Pt{constructor(s,e,t){super(s);const n=this.bindTemplate;this.buttonView=e,this.panelView=t,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.keystrokes=new Fi,this.focusTracker=new Ai,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",n.to("class"),n.if("isEnabled","ck-disabled",a=>!a)],id:n.to("id"),"aria-describedby":n.to("ariaDescribedById")},children:[e,t]}),e.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":n.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(e,t,n)=>{n&&(this.panelPosition==="auto"?this.panelView.position=Fp._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelView.position=this.panelPosition)}),this.keystrokes.listenTo(this.element);const s=(e,t)=>{this.isOpen&&(this.isOpen=!1,t())};this.keystrokes.set("arrowdown",(e,t)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,t())}),this.keystrokes.set("arrowright",(e,t)=>{this.isOpen&&t()}),this.keystrokes.set("arrowleft",s),this.keystrokes.set("esc",s)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:s,north:e,southEast:t,southWest:n,northEast:a,northWest:c,southMiddleEast:p,southMiddleWest:_,northMiddleEast:w,northMiddleWest:E}=Fp.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[t,n,p,_,s,a,c,w,E,e]:[n,t,_,p,s,c,a,E,w,e]}};let Vp=Fp;Vp.defaultPanelPositions={south:(s,e)=>({top:s.bottom,left:s.left-(e.width-s.width)/2,name:"s"}),southEast:s=>({top:s.bottom,left:s.left,name:"se"}),southWest:(s,e)=>({top:s.bottom,left:s.left-e.width+s.width,name:"sw"}),southMiddleEast:(s,e)=>({top:s.bottom,left:s.left-(e.width-s.width)/4,name:"sme"}),southMiddleWest:(s,e)=>({top:s.bottom,left:s.left-3*(e.width-s.width)/4,name:"smw"}),north:(s,e)=>({top:s.top-e.height,left:s.left-(e.width-s.width)/2,name:"n"}),northEast:(s,e)=>({top:s.top-e.height,left:s.left,name:"ne"}),northWest:(s,e)=>({top:s.top-e.height,left:s.left-e.width+s.width,name:"nw"}),northMiddleEast:(s,e)=>({top:s.top-e.height,left:s.left-(e.width-s.width)/4,name:"nme"}),northMiddleWest:(s,e)=>({top:s.top-e.height,left:s.left-3*(e.width-s.width)/4,name:"nmw"})},Vp._getOptimalPosition=T_;const Up='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class Lk extends qt{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",t=>String(t))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new Ha;return e.content=Up,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}class ts{constructor(e){if(this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const t in e.actions){let n=e.actions[t];typeof n=="string"&&(n=[n]);for(const a of n)e.keystrokeHandler.set(a,(c,p)=>{this[t](),p()})}}get first(){return this.focusables.find(Hp)||null}get last(){return this.focusables.filter(Hp).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((t,n)=>{const a=t.element===this.focusTracker.focusedElement;return a&&(e=n),a}),e)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(e){e&&e.focus()}_getFocusableItem(e){const t=this.current,n=this.focusables.length;if(!n)return null;if(t===null)return this[e===1?"first":"last"];let a=(t+n+e)%n;do{const c=this.focusables.get(a);if(Hp(c))return c;a=(a+n+e)%n}while(a!==t);return null}}function Hp(s){return!(!s.focus||!Bs(s.element))}class Rk extends Pt{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class eT extends Pt{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}var Nk=d(5542),tT={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(Nk.Z,tT),Nk.Z.locals;const{threeVerticalDots:$k}=mn,nT={alignLeft:mn.alignLeft,bold:mn.bold,importExport:mn.importExport,paragraph:mn.paragraph,plus:mn.plus,text:mn.text,threeVerticalDots:mn.threeVerticalDots};class Wp extends Pt{constructor(e,t){super(e);const n=this.bindTemplate,a=this.t;this.options=t||{},this.set("ariaLabel",a("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new Ai,this.keystrokes=new Fi,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new iT(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const c=e.uiLanguageDirection==="rtl";this._focusCycler=new ts({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[c?"arrowright":"arrowleft","arrowup"],focusNext:[c?"arrowleft":"arrowright","arrowdown"]}});const p=["ck","ck-toolbar",n.to("class"),n.if("isCompact","ck-toolbar_compact")];var _;this.options.shouldGroupWhenFull&&this.options.isFloating&&p.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:p,role:"toolbar","aria-label":n.to("ariaLabel"),style:{maxWidth:n.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(_=this,_.bindTemplate.to(w=>{w.target===_.element&&w.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new rT(this):new oT(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,t)=>{this.focusTracker.add(t.element)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,t,n){this.items.addMany(this._buildItemsFromConfig(e,t,n))}_buildItemsFromConfig(e,t,n){const a=function(p){return Array.isArray(p)?{items:p,removeItems:[]}:p?Object.assign({items:[],removeItems:[]},p):{items:[],removeItems:[]}}(e),c=n||a.removeItems;return this._cleanItemsConfiguration(a.items,t,c).map(p=>te(p)?this._createNestedToolbarDropdown(p,t,c):p==="|"?new Rk:p==="-"?new eT:t.create(p)).filter(p=>!!p)}_cleanItemsConfiguration(e,t,n){const a=e.filter((c,p,_)=>c==="|"||n.indexOf(c)===-1&&(c==="-"?!this.options.shouldGroupWhenFull||(j("toolbarview-line-break-ignored-when-grouping-items",_),!1):!(!te(c)&&!t.has(c))||(j("toolbarview-item-unavailable",{item:c}),!1)));return this._cleanSeparatorsAndLineBreaks(a)}_cleanSeparatorsAndLineBreaks(e){const t=p=>p!=="-"&&p!=="|",n=e.length,a=e.findIndex(t);if(a===-1)return[];const c=n-e.slice().reverse().findIndex(t);return e.slice(a,c).filter((p,_,w)=>t(p)?!0:!(_>0&&w[_-1]===p))}_createNestedToolbarDropdown(e,t,n){let{label:a,icon:c,items:p,tooltip:_=!0,withText:w=!1}=e;if(p=this._cleanItemsConfiguration(p,t,n),!p.length)return null;const E=Hi(this.locale);return a||j("toolbarview-nested-toolbar-dropdown-missing-label",e),E.class="ck-toolbar__nested-toolbar-dropdown",E.buttonView.set({label:a,tooltip:_,withText:!!w}),c!==!1?E.buttonView.icon=nT[c]||c||$k:E.buttonView.withText=!0,uu(E,()=>E.toolbarView._buildItemsFromConfig(p,t,n)),E}}class iT extends Pt{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class oT{constructor(e){const t=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(n=>n),e.focusables.bindTo(e.items).using(n=>n),e.extendTemplate({attributes:{class:[t.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class rT{constructor(e){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using(t=>t),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),e.children.on("change",this._updateFocusCycleableItems.bind(this)),e.items.on("change",(t,n)=>{const a=n.index,c=Array.from(n.added);for(const p of n.removed)a>=this.ungroupedItems.length?this.groupedItems.remove(p):this.ungroupedItems.remove(p);for(let p=a;p<a+c.length;p++){const _=c[p-a];p>this.ungroupedItems.length?this.groupedItems.add(_,p-this.ungroupedItems.length):this.ungroupedItems.add(_,p)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!Bs(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const e=this.groupedItems.length;let t;for(;this._areItemsOverflowing;)this._groupLastItem(),t=!0;if(!t&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,t=this.viewLocale.uiLanguageDirection,n=new wn(e.lastChild),a=new wn(e);if(!this.cachedPadding){const c=Vt.window.getComputedStyle(e),p=t==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(c[p])}return t==="ltr"?n.right>a.right-this.cachedPadding:n.left<a.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new $d(this.viewElement,t=>{e&&e===t.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=t.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new Rk),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,t=e.t,n=Hi(e);return n.class="ck-toolbar__grouped-dropdown",n.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",uu(n,this.groupedItems),n.buttonView.set({label:t("Show more items"),tooltip:!0,tooltipPosition:e.uiLanguageDirection==="rtl"?"se":"sw",icon:$k}),n}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}var jk=d(1046),sT={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(jk.Z,sT),jk.Z.locals;class aT extends Pt{constructor(e){super(e);const t=this.bindTemplate;this.items=this.createCollection(),this.focusTracker=new Ai,this.keystrokes=new Fi,this._focusCycler=new ts({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:t.to("role"),"aria-label":t.to("ariaLabel")},children:this.items})}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,t)=>{this.focusTracker.add(t.element)}),this.items.on("remove",(e,t)=>{this.focusTracker.remove(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class zk extends Pt{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",t.if("isVisible","ck-hidden",n=>!n)],role:"presentation"},children:this.children})}focus(){this.children.first.focus()}}class lT extends Pt{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}var Fk=d(7686),cT={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(Fk.Z,cT),Fk.Z.locals;class du extends Pt{constructor(e){super(e);const t=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new Fi,this.focusTracker=new Ai,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",t.to("class"),t.if("isVisible","ck-hidden",n=>!n),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,t)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),t())}),this.keystrokes.set("arrowleft",(e,t)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),t())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const e=new qt;return e.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),e.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),e.delegate("execute").to(this),e}_createArrowView(){const e=new qt,t=e.bindTemplate;return e.icon=Up,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":t.to("isOn"),"aria-haspopup":!0,"aria-expanded":t.to("isOn",n=>String(n))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}var Vk=d(7339),dT={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(Vk.Z,dT),Vk.Z.locals;var Uk=d(3949),uT={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(Uk.Z,uT),Uk.Z.locals;function Hi(s,e=Lk){const t=new e(s),n=new JD(s),a=new Vp(s,t,n);return t.bind("isEnabled").to(a),t instanceof du?t.arrowView.bind("isOn").to(a,"isOpen"):t.bind("isOn").to(a,"isOpen"),function(c){(function(p){p.on("render",()=>{Lp({emitter:p,activator:()=>p.isOpen,callback:()=>{p.isOpen=!1},contextElements:()=>[p.element,...p.focusTracker._elements]})})})(c),function(p){p.on("execute",_=>{_.source instanceof cc||(p.isOpen=!1)})}(c),function(p){p.focusTracker.on("change:isFocused",(_,w,E)=>{p.isOpen&&!E&&(p.isOpen=!1)})}(c),function(p){p.keystrokes.set("arrowdown",(_,w)=>{p.isOpen&&(p.panelView.focus(),w())}),p.keystrokes.set("arrowup",(_,w)=>{p.isOpen&&(p.panelView.focusLast(),w())})}(c),function(p){p.on("change:isOpen",(_,w,E)=>{if(E)return;const I=p.panelView.element;I&&I.contains(Vt.document.activeElement)&&p.buttonView.focus()})}(c),function(p){p.on("change:isOpen",(_,w,E)=>{E&&p.panelView.focus()},{priority:"low"})}(c)}(a),a}function uu(s,e,t={}){s.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),s.isOpen?Hk(s,e,t):s.once("change:isOpen",()=>Hk(s,e,t),{priority:"highest"}),t.enableActiveItemFocusOnDropdownOpen&&hu(s,()=>s.toolbarView.items.find(n=>n.isOn))}function Hk(s,e,t){const n=s.locale,a=n.t,c=s.toolbarView=new Wp(n),p=typeof e=="function"?e():e;c.ariaLabel=t.ariaLabel||a("Dropdown toolbar"),t.maxWidth&&(c.maxWidth=t.maxWidth),t.class&&(c.class=t.class),t.isCompact&&(c.isCompact=t.isCompact),t.isVertical&&(c.isVertical=!0),p instanceof ir?c.items.bindTo(p).using(_=>_):c.items.addMany(p),s.panelView.children.add(c),c.items.delegate("execute").to(s)}function uc(s,e,t={}){s.isOpen?Wk(s,e,t):s.once("change:isOpen",()=>Wk(s,e,t),{priority:"highest"}),hu(s,()=>s.listView.items.find(n=>n instanceof zk&&n.children.first.isOn))}function Wk(s,e,t){const n=s.locale,a=s.listView=new aT(n),c=typeof e=="function"?e():e;a.ariaLabel=t.ariaLabel,a.role=t.role,a.items.bindTo(c).using(p=>{if(p.type==="separator")return new lT(n);if(p.type==="button"||p.type==="switchbutton"){const _=new zk(n);let w;return w=p.type==="button"?new qt(n):new cc(n),w.bind(...Object.keys(p.model)).to(p.model),w.delegate("execute").to(_),_.children.add(w),_}return null}),s.panelView.children.add(a),a.items.delegate("execute").to(s)}function hu(s,e){s.on("change:isOpen",()=>{if(!s.isOpen)return;const t=e();t&&(typeof t.focus=="function"?t.focus():j("ui-dropdown-focus-child-on-open-child-missing-focus",{view:t}))},{priority:M.low-10})}function fu(s,e,t){const n=new ZD(s.locale);return n.set({id:e,ariaDescribedById:t}),n.bind("isReadOnly").to(s,"isEnabled",a=>!a),n.bind("hasError").to(s,"errorText",a=>!!a),n.on("input",()=>{s.errorText=null}),s.bind("isEmpty","isFocused","placeholder").to(n),n}function hT(s,e,t){const n=new QD(s.locale);return n.set({id:e,ariaDescribedById:t,inputMode:"numeric"}),n.bind("isReadOnly").to(s,"isEnabled",a=>!a),n.bind("hasError").to(s,"errorText",a=>!!a),n.on("input",()=>{s.errorText=null}),s.bind("isEmpty","isFocused","placeholder").to(n),n}const hc=(s,e=0,t=1)=>s>t?t:s<e?e:s,bi=(s,e=0,t=Math.pow(10,e))=>Math.round(t*s)/t,Gp=s=>(s[0]==="#"&&(s=s.substring(1)),s.length<6?{r:parseInt(s[0]+s[0],16),g:parseInt(s[1]+s[1],16),b:parseInt(s[2]+s[2],16),a:s.length===4?bi(parseInt(s[3]+s[3],16)/255,2):1}:{r:parseInt(s.substring(0,2),16),g:parseInt(s.substring(2,4),16),b:parseInt(s.substring(4,6),16),a:s.length===8?bi(parseInt(s.substring(6,8),16)/255,2):1}),fT=({h:s,s:e,v:t,a:n})=>{const a=(200-e)*t/100;return{h:bi(s),s:bi(a>0&&a<200?e*t/100/(a<=100?a:200-a)*100:0),l:bi(a/2),a:bi(n,2)}},Kp=s=>{const{h:e,s:t,l:n}=fT(s);return`hsl(${e}, ${t}%, ${n}%)`},pT=({h:s,s:e,v:t,a:n})=>{s=s/360*6,e/=100,t/=100;const a=Math.floor(s),c=t*(1-e),p=t*(1-(s-a)*e),_=t*(1-(1-s+a)*e),w=a%6;return{r:bi(255*[t,p,c,c,_,t][w]),g:bi(255*[_,t,t,p,c,c][w]),b:bi(255*[c,c,_,t,t,p][w]),a:bi(n,2)}},pu=s=>{const e=s.toString(16);return e.length<2?"0"+e:e},mT=({r:s,g:e,b:t,a:n})=>{const a=n<1?pu(bi(255*n)):"";return"#"+pu(s)+pu(e)+pu(t)+a},gT=({r:s,g:e,b:t,a:n})=>{const a=Math.max(s,e,t),c=a-Math.min(s,e,t),p=c?a===s?(e-t)/c:a===e?2+(t-s)/c:4+(s-e)/c:0;return{h:bi(60*(p<0?p+6:p)),s:bi(a?c/a*100:0),v:bi(a/255*100),a:n}},Gk=(s,e)=>{if(s===e)return!0;for(const t in s)if(s[t]!==e[t])return!1;return!0},Kk={},Yk=s=>{let e=Kk[s];return e||(e=document.createElement("template"),e.innerHTML=s,Kk[s]=e),e},Yp=(s,e,t)=>{s.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:t}))};let Wa=!1;const qp=s=>"touches"in s,qk=(s,e)=>{const t=qp(e)?e.touches[0]:e,n=s.el.getBoundingClientRect();Yp(s.el,"move",s.getMove({x:hc((t.pageX-(n.left+window.pageXOffset))/n.width),y:hc((t.pageY-(n.top+window.pageYOffset))/n.height)}))};class Zk{constructor(e,t,n,a){const c=Yk(`<div role="slider" tabindex="0" part="${t}" ${n}><div part="${t}-pointer"></div></div>`);e.appendChild(c.content.cloneNode(!0));const p=e.querySelector(`[part=${t}]`);p.addEventListener("mousedown",this),p.addEventListener("touchstart",this),p.addEventListener("keydown",this),this.el=p,this.xy=a,this.nodes=[p.firstChild,p]}set dragging(e){const t=e?document.addEventListener:document.removeEventListener;t(Wa?"touchmove":"mousemove",this),t(Wa?"touchend":"mouseup",this)}handleEvent(e){switch(e.type){case"mousedown":case"touchstart":if(e.preventDefault(),!(t=>!(Wa&&!qp(t)||(Wa||(Wa=qp(t)),0)))(e)||!Wa&&e.button!=0)return;this.el.focus(),qk(this,e),this.dragging=!0;break;case"mousemove":case"touchmove":e.preventDefault(),qk(this,e);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":((t,n)=>{const a=n.keyCode;a>40||t.xy&&a<37||a<33||(n.preventDefault(),Yp(t.el,"move",t.getMove({x:a===39?.01:a===37?-.01:a===34?.05:a===33?-.05:a===35?1:a===36?-1:0,y:a===40?.01:a===38?-.01:0},!0)))})(this,e)}}style(e){e.forEach((t,n)=>{for(const a in t)this.nodes[n].style.setProperty(a,t[a])})}}class _T extends Zk{constructor(e){super(e,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:e}){this.h=e,this.style([{left:e/360*100+"%",color:Kp({h:e,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${bi(e)}`)}getMove(e,t){return{h:t?hc(this.h+360*e.x,0,360):360*e.x}}}class bT extends Zk{constructor(e){super(e,"saturation",'aria-label="Color"',!0)}update(e){this.hsva=e,this.style([{top:100-e.v+"%",left:`${e.s}%`,color:Kp(e)},{"background-color":Kp({h:e.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${bi(e.s)}%, Brightness ${bi(e.v)}%`)}getMove(e,t){return{s:t?hc(this.hsva.s+100*e.x,0,100):100*e.x,v:t?hc(this.hsva.v-100*e.y,0,100):Math.round(100-100*e.y)}}}const mu=Symbol("same"),Zp=Symbol("color"),Qk=Symbol("hsva"),Qp=Symbol("update"),Jk=Symbol("parts"),Xk=Symbol("css"),ew=Symbol("sliders");class vT extends HTMLElement{static get observedAttributes(){return["color"]}get[Xk](){return[':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',"[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}","[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}"]}get[ew](){return[bT,_T]}get color(){return this[Zp]}set color(e){if(!this[mu](e)){const t=this.colorModel.toHsva(e);this[Qp](t),this[Zp]=e}}constructor(){super();const e=Yk(`<style>${this[Xk].join("")}</style>`),t=this.attachShadow({mode:"open"});t.appendChild(e.content.cloneNode(!0)),t.addEventListener("move",this),this[Jk]=this[ew].map(n=>new n(t))}connectedCallback(){if(this.hasOwnProperty("color")){const e=this.color;delete this.color,this.color=e}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(e,t,n){const a=this.colorModel.fromAttr(n);this[mu](a)||(this.color=a)}handleEvent(e){const t=this[Qk],n={...t,...e.detail};let a;this[Qp](n),Gk(n,t)||this[mu](a=this.colorModel.fromHsva(n))||(this[Zp]=a,Yp(this,"color-changed",{value:a}))}[mu](e){return this.color&&this.colorModel.equal(e,this.color)}[Qp](e){this[Qk]=e,this[Jk].forEach(t=>t.update(e))}}const kT={defaultColor:"#000",toHsva:s=>gT(Gp(s)),fromHsva:({h:s,s:e,v:t})=>mT(pT({h:s,s:e,v:t,a:1})),equal:(s,e)=>s.toLowerCase()===e.toLowerCase()||Gk(Gp(s),Gp(e)),fromAttr:s=>s};class wT extends vT{get colorModel(){return kT}}customElements.define("hex-color-picker",class extends wT{});var tw=d(3398),yT={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(tw.Z,yT),tw.Z.locals;class CT extends Pt{constructor(e,t={}){super(e),this.set({color:"",_hexColor:""}),this.hexInputRow=this._createInputRow();const n=this.createCollection();t.hideInput||n.add(this.hexInputRow),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker"],tabindex:-1},children:n}),this._config=t,this._debounceColorPickerEvent=ja(a=>{this.set("color",a),this.fire("colorSelected",{color:this.color})},150,{leading:!0}),this.on("set:color",(a,c,p)=>{a.return=Ek(p,this._config.format||"hsl")}),this.on("change:color",()=>{this._hexColor=Jp(this.color)}),this.on("change:_hexColor",()=>{document.activeElement!==this.picker&&this.picker.setAttribute("color",this._hexColor),Jp(this.color)!=Jp(this._hexColor)&&(this.color=this._hexColor)})}render(){if(super.render(),this.picker=Vt.document.createElement("hex-color-picker"),this.picker.setAttribute("class","hex-color-picker"),this.picker.setAttribute("tabindex","-1"),this._createSlidersView(),this.element){this.hexInputRow.element?this.element.insertBefore(this.picker,this.hexInputRow.element):this.element.appendChild(this.picker);const e=document.createElement("style");e.textContent='[role="slider"]:focus [part$="pointer"] {border: 1px solid #fff;outline: 1px solid var(--ck-color-focus-border);box-shadow: 0 0 0 2px #fff;}',this.picker.shadowRoot.appendChild(e)}this.picker.addEventListener("color-changed",e=>{const t=e.detail.value;this._debounceColorPickerEvent(t)})}focus(){!this._config.hideInput&&(g.isGecko||g.isiOS||g.isSafari)&&this.hexInputRow.children.get(1).focus(),this.slidersView.first.focus()}_createSlidersView(){const e=[...this.picker.shadowRoot.children].filter(t=>t.getAttribute("role")==="slider").map(t=>new AT(t));this.slidersView=this.createCollection(),e.forEach(t=>{this.slidersView.add(t)})}_createInputRow(){const e=new xT,t=this._createColorInput();return new ST(this.locale,[e,t])}_createColorInput(){const e=new dc(this.locale,fu),{t}=this.locale;return e.set({label:t("HEX"),class:"color-picker-hex-input"}),e.fieldView.bind("value").to(this,"_hexColor",n=>e.isFocused?e.fieldView.value:n.startsWith("#")?n.substring(1):n),e.fieldView.on("input",()=>{const n=e.fieldView.element.value;if(n){const a=n.trim(),c=a.startsWith("#")?a.substring(1):a;[3,4,6,8].includes(c.length)&&/(([0-9a-fA-F]{2}){3,4}|([0-9a-fA-F]){3,4})/.test(c)&&this._debounceColorPickerEvent("#"+c)}}),e}}function Jp(s){let e=function(t){if(!t)return"";const n=Dk(t);return n?n.space==="hex"?n.hexValue:Ek(t,"hex"):"#000"}(s);return e||(e="#000"),e.length===4&&(e="#"+[e[1],e[1],e[2],e[2],e[3],e[3]].join("")),e.toLowerCase()}class AT extends Pt{constructor(e){super(),this.element=e}focus(){this.element.focus()}}class xT extends Pt{constructor(e){super(e),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker__hash-view"]},children:"#"})}}class ST extends Pt{constructor(e,t){super(e),this.children=this.createCollection(t),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker__row"]},children:this.children})}}class ET extends de(Oi){constructor(e){super(e),this.set("isEmpty",!0),this.on("change",()=>{this.set("isEmpty",this.length===0)})}add(e,t){return this.find(n=>n.color===e.color)?this:super.add(e,t)}hasColor(e){return!!this.find(t=>t.color===e)}}const DT='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.209 18.717A8.5 8.5 0 1 1 18.686 9.6h-.008l.002.12a3 3 0 0 1-2.866 2.997h-.268l-.046-.002v.002h-4.791a2 2 0 1 0 0 4 1 1 0 1 1-.128 1.992 8.665 8.665 0 0 1-.372.008Zm-3.918-7.01a1.25 1.25 0 1 0-2.415-.648 1.25 1.25 0 0 0 2.415.647ZM5.723 8.18a1.25 1.25 0 1 0 .647-2.414 1.25 1.25 0 0 0-.647 2.414ZM9.76 6.155a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Zm4.028 1.759a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Z"/></svg>';class TT extends Pt{constructor(e,{colors:t,columns:n,removeButtonLabel:a,documentColorsLabel:c,documentColorsCount:p,colorPickerLabel:_,focusTracker:w,focusables:E}){super(e);const I=this.bindTemplate;this.set("isVisible",!0),this.focusTracker=w,this.items=this.createCollection(),this.colorDefinitions=t,this.columns=n,this.documentColors=new ET,this.documentColorsCount=p,this._focusables=E,this._removeButtonLabel=a,this._colorPickerLabel=_,this._documentColorsLabel=c,this.setTemplate({tag:"div",attributes:{class:["ck-color-grids-fragment",I.if("isVisible","ck-hidden",O=>!O)]},children:this.items}),this.removeColorButtonView=this._createRemoveColorButton(),this.items.add(this.removeColorButtonView)}updateDocumentColors(e,t){const n=e.document,a=this.documentColorsCount;this.documentColors.clear();for(const c of n.getRoots()){const p=e.createRangeIn(c);for(const _ of p.getItems())if(_.is("$textProxy")&&_.hasAttribute(t)&&(this._addColorToDocumentColors(_.getAttribute(t)),this.documentColors.length>=a))return}}updateSelectedColors(){const e=this.documentColorsGrid,t=this.staticColorsGrid,n=this.selectedColor;t.selectedColor=n,e&&(e.selectedColor=n)}render(){if(super.render(),this.staticColorsGrid=this._createStaticColorsGrid(),this.items.add(this.staticColorsGrid),this.documentColorsCount){const e=vo.bind(this.documentColors,this.documentColors),t=new Ik(this.locale);t.text=this._documentColorsLabel,t.extendTemplate({attributes:{class:["ck","ck-color-grid__label",e.if("isEmpty","ck-hidden")]}}),this.items.add(t),this.documentColorsGrid=this._createDocumentColorsGrid(),this.items.add(this.documentColorsGrid)}this._createColorPickerButton(),this._addColorSelectorElementsToFocusTracker(),this.focus()}focus(){this.removeColorButtonView.focus()}destroy(){super.destroy()}addColorPickerButton(){this.colorPickerButtonView&&(this.items.add(this.colorPickerButtonView),this.focusTracker.add(this.colorPickerButtonView.element),this._focusables.add(this.colorPickerButtonView))}_addColorSelectorElementsToFocusTracker(){this.focusTracker.add(this.removeColorButtonView.element),this._focusables.add(this.removeColorButtonView),this.staticColorsGrid&&(this.focusTracker.add(this.staticColorsGrid.element),this._focusables.add(this.staticColorsGrid)),this.documentColorsGrid&&(this.focusTracker.add(this.documentColorsGrid.element),this._focusables.add(this.documentColorsGrid))}_createColorPickerButton(){this.colorPickerButtonView=new qt,this.colorPickerButtonView.set({label:this._colorPickerLabel,withText:!0,icon:DT,class:"ck-color-selector__color-picker"}),this.colorPickerButtonView.on("execute",()=>{this.fire("colorPicker:show")})}_createRemoveColorButton(){const e=new qt;return e.set({withText:!0,icon:Qv,label:this._removeButtonLabel}),e.class="ck-color-selector__remove-color",e.on("execute",()=>{this.fire("execute",{value:null,source:"removeColorButton"})}),e.render(),e}_createStaticColorsGrid(){const e=new yk(this.locale,{colorDefinitions:this.colorDefinitions,columns:this.columns});return e.on("execute",(t,n)=>{this.fire("execute",{value:n.value,source:"staticColorsGrid"})}),e}_createDocumentColorsGrid(){const e=vo.bind(this.documentColors,this.documentColors),t=new yk(this.locale,{columns:this.columns});return t.extendTemplate({attributes:{class:e.if("isEmpty","ck-hidden")}}),t.items.bindTo(this.documentColors).using(n=>{const a=new kk;return a.set({color:n.color,hasBorder:n.options&&n.options.hasBorder}),n.label&&a.set({label:n.label,tooltip:!0}),a.on("execute",()=>{this.fire("execute",{value:n.color,source:"documentColorsGrid"})}),a}),this.documentColors.on("change:isEmpty",(n,a,c)=>{c&&(t.selectedColor=null)}),t}_addColorToDocumentColors(e){const t=this.colorDefinitions.find(n=>n.color===e);t?this.documentColors.add(Object.assign({},t)):this.documentColors.add({color:e,label:e,options:{hasBorder:!1}})}}var IT=Object.defineProperty,nw=Object.getOwnPropertySymbols,MT=Object.prototype.hasOwnProperty,PT=Object.prototype.propertyIsEnumerable,iw=(s,e,t)=>e in s?IT(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;class OT extends Pt{constructor(e,{focusTracker:t,focusables:n,keystrokes:a,colorPickerViewConfig:c}){super(e),this.items=this.createCollection(),this.focusTracker=t,this.keystrokes=a,this.set("isVisible",!1),this.set("selectedColor",void 0),this._focusables=n,this._colorPickerViewConfig=c;const p=this.bindTemplate,{saveButtonView:_,cancelButtonView:w}=this._createActionButtons();this.saveButtonView=_,this.cancelButtonView=w,this.actionBarView=this._createActionBarView({saveButtonView:_,cancelButtonView:w}),this.setTemplate({tag:"div",attributes:{class:["ck-color-picker-fragment",p.if("isVisible","ck-hidden",E=>!E)]},children:this.items})}render(){super.render();const e=new CT(this.locale,((t,n)=>{for(var a in n||(n={}))MT.call(n,a)&&iw(t,a,n[a]);if(nw)for(var a of nw(n))PT.call(n,a)&&iw(t,a,n[a]);return t})({},this._colorPickerViewConfig));this.colorPickerView=e,this.colorPickerView.render(),this.selectedColor&&(e.color=this.selectedColor),this.listenTo(this,"change:selectedColor",(t,n,a)=>{e.color=a}),this.items.add(this.colorPickerView),this.items.add(this.actionBarView),this._addColorPickersElementsToFocusTracker(),this._stopPropagationOnArrowsKeys(),this._executeOnEnterPress(),this._executeUponColorChange()}destroy(){super.destroy()}focus(){this.colorPickerView.focus()}_executeOnEnterPress(){this.keystrokes.set("enter",e=>{this.isVisible&&this.focusTracker.focusedElement!==this.cancelButtonView.element&&(this.fire("execute",{value:this.selectedColor}),e.stopPropagation(),e.preventDefault())})}_stopPropagationOnArrowsKeys(){const e=t=>t.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}_addColorPickersElementsToFocusTracker(){for(const t of this.colorPickerView.slidersView)this.focusTracker.add(t.element),this._focusables.add(t);const e=this.colorPickerView.hexInputRow.children.get(1);e.element&&(this.focusTracker.add(e.element),this._focusables.add(e)),this.focusTracker.add(this.saveButtonView.element),this._focusables.add(this.saveButtonView),this.focusTracker.add(this.cancelButtonView.element),this._focusables.add(this.cancelButtonView)}_createActionBarView({saveButtonView:e,cancelButtonView:t}){const n=new Pt,a=this.createCollection();return a.add(e),a.add(t),n.setTemplate({tag:"div",attributes:{class:["ck","ck-color-selector_action-bar"]},children:a}),n}_createActionButtons(){const e=this.locale,t=e.t,n=new qt(e),a=new qt(e);return n.set({icon:Zv,class:"ck-button-save",type:"button",withText:!1,label:t("Accept")}),a.set({icon:qv,class:"ck-button-cancel",type:"button",withText:!1,label:t("Cancel")}),n.on("execute",()=>{this.fire("execute",{source:"colorPickerSaveButton",value:this.selectedColor})}),a.on("execute",()=>{this.fire("colorPicker:cancel")}),{saveButtonView:n,cancelButtonView:a}}_executeUponColorChange(){this.colorPickerView.on("colorSelected",(e,t)=>{this.fire("execute",{value:t.color,source:"colorPicker"}),this.set("selectedColor",t.color)})}}var ow=d(4157),BT={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(ow.Z,BT),ow.Z.locals;class LT extends Pt{constructor(e,{colors:t,columns:n,removeButtonLabel:a,documentColorsLabel:c,documentColorsCount:p,colorPickerLabel:_,colorPickerViewConfig:w}){super(e),this.items=this.createCollection(),this.focusTracker=new Ai,this.keystrokes=new Fi,this._focusables=new ir,this._colorPickerViewConfig=w,this._focusCycler=new ts({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.colorGridsFragmentView=new TT(e,{colors:t,columns:n,removeButtonLabel:a,documentColorsLabel:c,documentColorsCount:p,colorPickerLabel:_,focusTracker:this.focusTracker,focusables:this._focusables}),this.colorPickerFragmentView=new OT(e,{focusables:this._focusables,focusTracker:this.focusTracker,keystrokes:this.keystrokes,colorPickerViewConfig:w}),this.set("_isColorGridsFragmentVisible",!0),this.set("_isColorPickerFragmentVisible",!1),this.set("selectedColor",void 0),this.colorGridsFragmentView.bind("isVisible").to(this,"_isColorGridsFragmentVisible"),this.colorPickerFragmentView.bind("isVisible").to(this,"_isColorPickerFragmentVisible"),this.on("change:selectedColor",(E,I,O)=>{this.colorGridsFragmentView.set("selectedColor",O),this.colorPickerFragmentView.set("selectedColor",O)}),this.colorGridsFragmentView.on("change:selectedColor",(E,I,O)=>{this.set("selectedColor",O)}),this.colorPickerFragmentView.on("change:selectedColor",(E,I,O)=>{this.set("selectedColor",O)}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-selector"]},children:this.items})}render(){super.render(),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}appendUI(){this._appendColorGridsFragment(),this._colorPickerViewConfig&&this._appendColorPickerFragment()}showColorPickerFragment(){this.colorPickerFragmentView.colorPickerView&&!this._isColorPickerFragmentVisible&&(this._isColorPickerFragmentVisible=!0,this.colorPickerFragmentView.focus(),this._isColorGridsFragmentVisible=!1)}showColorGridsFragment(){this._isColorGridsFragmentVisible||(this._isColorGridsFragmentVisible=!0,this.colorGridsFragmentView.focus(),this._isColorPickerFragmentVisible=!1)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}updateDocumentColors(e,t){this.colorGridsFragmentView.updateDocumentColors(e,t)}updateSelectedColors(){this.colorGridsFragmentView.updateSelectedColors()}_appendColorGridsFragment(){this.items.length||(this.items.add(this.colorGridsFragmentView),this.colorGridsFragmentView.delegate("execute").to(this),this.colorGridsFragmentView.delegate("colorPicker:show").to(this))}_appendColorPickerFragment(){this.items.length!==2&&(this.items.add(this.colorPickerFragmentView),this.colorGridsFragmentView.colorPickerButtonView&&this.colorGridsFragmentView.colorPickerButtonView.on("execute",()=>{this.showColorPickerFragment()}),this.colorGridsFragmentView.addColorPickerButton(),this.colorPickerFragmentView.delegate("execute").to(this),this.colorPickerFragmentView.delegate("colorPicker:cancel").to(this))}}class RT{constructor(e){this._components=new Map,this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,t){this._components.set(Xp(e),{callback:t,originalName:e})}create(e){if(!this.has(e))throw new L("componentfactory-item-missing",this,{name:e});return this._components.get(Xp(e)).callback(this.editor.locale)}has(e){return this._components.has(Xp(e))}}function Xp(s){return String(s).toLowerCase()}var rw=d(8793),NT={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(rw.Z,NT),rw.Z.locals;var $T=Object.defineProperty,sw=Object.getOwnPropertySymbols,jT=Object.prototype.hasOwnProperty,zT=Object.prototype.propertyIsEnumerable,aw=(s,e,t)=>e in s?$T(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,sn=(s,e)=>{for(var t in e||(e={}))jT.call(e,t)&&aw(s,t,e[t]);if(sw)for(var t of sw(e))zT.call(e,t)&&aw(s,t,e[t]);return s};const lw=S_("px"),cw=Vt.document.body,em=class extends Pt{constructor(s){super(s);const e=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",e.to("position",t=>`ck-balloon-panel_${t}`),e.if("isVisible","ck-balloon-panel_visible"),e.if("withArrow","ck-balloon-panel_with-arrow"),e.to("class")],style:{top:e.to("top",lw),left:e.to("left",lw)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(s){this.show();const e=em.defaultPositions,t=Object.assign({},{element:this.element,positions:[e.southArrowNorth,e.southArrowNorthMiddleWest,e.southArrowNorthMiddleEast,e.southArrowNorthWest,e.southArrowNorthEast,e.northArrowSouth,e.northArrowSouthMiddleWest,e.northArrowSouthMiddleEast,e.northArrowSouthWest,e.northArrowSouthEast,e.viewportStickyNorth],limiter:cw,fitInViewport:!0},s),n=em._getOptimalPosition(t),a=parseInt(n.left),c=parseInt(n.top),p=n.name,_=n.config||{},{withArrow:w=!0}=_;this.top=c,this.left=a,this.position=p,this.withArrow=w}pin(s){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(s):this._stopPinning()},this._startPinning(s),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(s){this.attachTo(s);const e=tm(s.target),t=s.limiter?tm(s.limiter):cw;this.listenTo(Vt.document,"scroll",(n,a)=>{const c=a.target,p=e&&c.contains(e),_=t&&c.contains(t);!p&&!_&&e&&t||this.attachTo(s)},{useCapture:!0}),this.listenTo(Vt.window,"resize",()=>{this.attachTo(s)})}_stopPinning(){this.stopListening(Vt.document,"scroll"),this.stopListening(Vt.window,"resize")}};let Wi=em;function tm(s){return Os(s)?s:Rd(s)?s.commonAncestorContainer:typeof s=="function"?tm(s()):null}function dw(s={}){const{sideOffset:e=Wi.arrowSideOffset,heightOffset:t=Wi.arrowHeightOffset,stickyVerticalOffset:n=Wi.stickyVerticalOffset,config:a}=s;return{northWestArrowSouthWest:(_,w)=>sn({top:c(_,w),left:_.left-e,name:"arrow_sw"},a&&{config:a}),northWestArrowSouthMiddleWest:(_,w)=>sn({top:c(_,w),left:_.left-.25*w.width-e,name:"arrow_smw"},a&&{config:a}),northWestArrowSouth:(_,w)=>sn({top:c(_,w),left:_.left-w.width/2,name:"arrow_s"},a&&{config:a}),northWestArrowSouthMiddleEast:(_,w)=>sn({top:c(_,w),left:_.left-.75*w.width+e,name:"arrow_sme"},a&&{config:a}),northWestArrowSouthEast:(_,w)=>sn({top:c(_,w),left:_.left-w.width+e,name:"arrow_se"},a&&{config:a}),northArrowSouthWest:(_,w)=>sn({top:c(_,w),left:_.left+_.width/2-e,name:"arrow_sw"},a&&{config:a}),northArrowSouthMiddleWest:(_,w)=>sn({top:c(_,w),left:_.left+_.width/2-.25*w.width-e,name:"arrow_smw"},a&&{config:a}),northArrowSouth:(_,w)=>sn({top:c(_,w),left:_.left+_.width/2-w.width/2,name:"arrow_s"},a&&{config:a}),northArrowSouthMiddleEast:(_,w)=>sn({top:c(_,w),left:_.left+_.width/2-.75*w.width+e,name:"arrow_sme"},a&&{config:a}),northArrowSouthEast:(_,w)=>sn({top:c(_,w),left:_.left+_.width/2-w.width+e,name:"arrow_se"},a&&{config:a}),northEastArrowSouthWest:(_,w)=>sn({top:c(_,w),left:_.right-e,name:"arrow_sw"},a&&{config:a}),northEastArrowSouthMiddleWest:(_,w)=>sn({top:c(_,w),left:_.right-.25*w.width-e,name:"arrow_smw"},a&&{config:a}),northEastArrowSouth:(_,w)=>sn({top:c(_,w),left:_.right-w.width/2,name:"arrow_s"},a&&{config:a}),northEastArrowSouthMiddleEast:(_,w)=>sn({top:c(_,w),left:_.right-.75*w.width+e,name:"arrow_sme"},a&&{config:a}),northEastArrowSouthEast:(_,w)=>sn({top:c(_,w),left:_.right-w.width+e,name:"arrow_se"},a&&{config:a}),southWestArrowNorthWest:_=>sn({top:p(_),left:_.left-e,name:"arrow_nw"},a&&{config:a}),southWestArrowNorthMiddleWest:(_,w)=>sn({top:p(_),left:_.left-.25*w.width-e,name:"arrow_nmw"},a&&{config:a}),southWestArrowNorth:(_,w)=>sn({top:p(_),left:_.left-w.width/2,name:"arrow_n"},a&&{config:a}),southWestArrowNorthMiddleEast:(_,w)=>sn({top:p(_),left:_.left-.75*w.width+e,name:"arrow_nme"},a&&{config:a}),southWestArrowNorthEast:(_,w)=>sn({top:p(_),left:_.left-w.width+e,name:"arrow_ne"},a&&{config:a}),southArrowNorthWest:_=>sn({top:p(_),left:_.left+_.width/2-e,name:"arrow_nw"},a&&{config:a}),southArrowNorthMiddleWest:(_,w)=>sn({top:p(_),left:_.left+_.width/2-.25*w.width-e,name:"arrow_nmw"},a&&{config:a}),southArrowNorth:(_,w)=>sn({top:p(_),left:_.left+_.width/2-w.width/2,name:"arrow_n"},a&&{config:a}),southArrowNorthMiddleEast:(_,w)=>sn({top:p(_),left:_.left+_.width/2-.75*w.width+e,name:"arrow_nme"},a&&{config:a}),southArrowNorthEast:(_,w)=>sn({top:p(_),left:_.left+_.width/2-w.width+e,name:"arrow_ne"},a&&{config:a}),southEastArrowNorthWest:_=>sn({top:p(_),left:_.right-e,name:"arrow_nw"},a&&{config:a}),southEastArrowNorthMiddleWest:(_,w)=>sn({top:p(_),left:_.right-.25*w.width-e,name:"arrow_nmw"},a&&{config:a}),southEastArrowNorth:(_,w)=>sn({top:p(_),left:_.right-w.width/2,name:"arrow_n"},a&&{config:a}),southEastArrowNorthMiddleEast:(_,w)=>sn({top:p(_),left:_.right-.75*w.width+e,name:"arrow_nme"},a&&{config:a}),southEastArrowNorthEast:(_,w)=>sn({top:p(_),left:_.right-w.width+e,name:"arrow_ne"},a&&{config:a}),westArrowEast:(_,w)=>sn({top:_.top+_.height/2-w.height/2,left:_.left-w.width-t,name:"arrow_e"},a&&{config:a}),eastArrowWest:(_,w)=>sn({top:_.top+_.height/2-w.height/2,left:_.right+t,name:"arrow_w"},a&&{config:a}),viewportStickyNorth:(_,w,E)=>_.getIntersection(E)?{top:E.top+n,left:_.left+_.width/2-w.width/2,name:"arrowless",config:sn({withArrow:!1},a)}:null};function c(_,w){return _.top-w.height-t}function p(_){return _.bottom+t}}Wi.arrowSideOffset=25,Wi.arrowHeightOffset=10,Wi.stickyVerticalOffset=20,Wi._getOptimalPosition=T_,Wi.defaultPositions=dw();var uw=d(3332),FT={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(uw.Z,FT),uw.Z.locals;const hw="ck-tooltip",Gi=class extends yr(){constructor(s){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,Gi._editors.add(s),Gi._instance)return Gi._instance;Gi._instance=this,this.tooltipTextView=new Pt(s.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Wi(s.locale),this.balloonPanelView.class=hw,this.balloonPanelView.content.add(this.tooltipTextView),this._pinTooltipDebounced=ja(this._pinTooltip,600),this.listenTo(Vt.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(Vt.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(Vt.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(Vt.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(Vt.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(s){const e=s.ui.view&&s.ui.view.body;Gi._editors.delete(s),this.stopListening(s.ui),e&&e.has(this.balloonPanelView)&&e.remove(this.balloonPanelView),Gi._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),Gi._instance=null)}static getPositioningFunctions(s){const e=Gi.defaultBalloonPositions;return{s:[e.southArrowNorth,e.southArrowNorthEast,e.southArrowNorthWest],n:[e.northArrowSouth],e:[e.eastArrowWest],w:[e.westArrowEast],sw:[e.southArrowNorthEast],se:[e.southArrowNorthWest]}[s]}_onEnterOrFocus(s,{target:e}){const t=nm(e);var n;t&&t!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(t,{text:(n=t).dataset.ckeTooltipText,position:n.dataset.ckeTooltipPosition||"s",cssClass:n.dataset.ckeTooltipClass||""}))}_onLeaveOrBlur(s,{target:e,relatedTarget:t}){if(s.name==="mouseleave"){if(!Os(e)||this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;const n=nm(e),a=nm(t);n&&n!==a&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(s,{target:e}){this._currentElementWithTooltip&&(e.contains(this.balloonPanelView.element)&&e.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(s,{text:e,position:t,cssClass:n}){const a=Hn(Gi._editors.values()).ui.view.body;a.has(this.balloonPanelView)||a.add(this.balloonPanelView),this.tooltipTextView.text=e,this.balloonPanelView.pin({target:s,positions:Gi.getPositioningFunctions(t)}),this._resizeObserver=new $d(s,()=>{Bs(s)||this._unpinTooltip()}),this.balloonPanelView.class=[hw,n].filter(c=>c).join(" ");for(const c of Gi._editors)this.listenTo(c.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=s,this._currentTooltipPosition=t}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const s of Gi._editors)this.stopListening(s.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){Bs(this._currentElementWithTooltip)?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:Gi.getPositioningFunctions(this._currentTooltipPosition)}):this._unpinTooltip()}};let gu=Gi;function nm(s){return Os(s)?s.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}gu.defaultBalloonPositions=dw({heightOffset:5,sideOffset:13}),gu._editors=new Set,gu._instance=null;var VT=Object.defineProperty,fw=Object.getOwnPropertySymbols,UT=Object.prototype.hasOwnProperty,HT=Object.prototype.propertyIsEnumerable,pw=(s,e,t)=>e in s?VT(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,WT=(s,e)=>{for(var t in e||(e={}))UT.call(e,t)&&pw(s,t,e[t]);if(fw)for(var t of fw(e))HT.call(e,t)&&pw(s,t,e[t]);return s};const GT=50,KT=350,YT="Powered by",_u={top:-99999,left:-99999,name:"invalid",config:{withArrow:!1}};class qT extends yr(){constructor(e){super(),this.editor=e,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=su(this._showBalloon.bind(this),50,{leading:!0}),e.on("ready",this._handleEditorReady.bind(this))}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor;(e.config.get("ui.poweredBy.forceVisible")||function(t){function n(V){return V.length>=40&&V.length<=255?"VALID":"INVALID"}if(!t)return"INVALID";let a="";try{a=atob(t)}catch{return"INVALID"}const c=a.split("-"),p=c[0],_=c[1];if(!_)return n(t);try{atob(_)}catch{try{if(atob(p),!atob(p).length)return n(t)}catch{return n(t)}}if(p.length<40||p.length>255)return"INVALID";let w="";try{atob(p),w=atob(_)}catch{return"INVALID"}if(w.length!==8)return"INVALID";const E=Number(w.substring(0,4)),I=Number(w.substring(4,6))-1,O=Number(w.substring(6,8)),$=new Date(E,I,O);return $<H||isNaN(Number($))?"INVALID":"VALID"}(e.config.get("licenseKey"))!=="VALID")&&e.ui.view&&(e.ui.focusTracker.on("change:isFocused",(t,n,a)=>{this._updateLastFocusedEditableElement(),a?this._showBalloon():this._hideBalloon()}),e.ui.focusTracker.on("change:focusedElement",(t,n,a)=>{this._updateLastFocusedEditableElement(),a&&this._showBalloon()}),e.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const e=this.editor,t=this._balloonView=new Wi,n=gw(e),a=new ZT(e.locale,n.label);t.content.add(a),t.set({class:"ck-powered-by-balloon"}),e.ui.view.body.add(t),e.ui.focusTracker.add(t.element),this._balloonView=t}_showBalloon(){if(!this._lastFocusedEditableElement)return;const e=function(t,n){const a=gw(t),c=a.side==="right"?function(p,_){return mw(p,_,(w,E)=>w.left+w.width-E.width-_.horizontalOffset)}(n,a):function(p,_){return mw(p,_,w=>w.left+_.horizontalOffset)}(n,a);return{target:n,positions:[c]}}(this.editor,this._lastFocusedEditableElement);e&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const e=this.editor,t=e.ui.focusTracker.isFocused,n=e.ui.focusTracker.focusedElement;if(!t||!n)return void(this._lastFocusedEditableElement=null);const a=Array.from(e.ui.getEditableElementsNames()).map(c=>e.ui.getEditableElement(c));a.includes(n)?this._lastFocusedEditableElement=n:this._lastFocusedEditableElement=a[0]}}class ZT extends Pt{constructor(e,t){super(e);const n=new Ha,a=this.bindTemplate;n.set({content:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 53 10"><path d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122 2.4 2.4 0 0 1 .69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491Zm.465 2.313-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503Zm6.603 1.598c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02Zm6.501-3.925a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304Zm5.029-.871c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655 1.349 1.349 0 0 0-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768Zm-10.972.86-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016a1.693 1.693 0 0 1-.347-.039.746.746 0 0 1-.45-.262 1.038 1.038 0 0 1-.167-.33 3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852a1.94 1.94 0 0 1 .127-.46.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02 5.09 5.09 0 0 0-.719.041 3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096 7.262 7.262 0 0 0-.042.86c-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>',isColorInherited:!1}),n.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...t?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[t]}]:[],n],on:{dragstart:a.to(c=>c.preventDefault())}}]})}}function mw(s,e,t){return(n,a)=>{const c=n.getVisible();if(!c||n.width<KT||n.height<GT)return _u;let p;p=e.position==="inside"?n.bottom-a.height:n.bottom-a.height/2,p-=e.verticalOffset;const _=t(n,a);if(e.position==="inside"){const w=a.clone().moveTo(_,p);if(w.getIntersectionArea(c)<w.getArea())return _u}else{const w=function(E){let I=E.parentElement;if(!I)return null;for(;I.tagName!="BODY";){const O=I.style.overflowY||Vt.window.getComputedStyle(I).overflowY;if(O==="auto"||O==="scroll")break;if(I=I.parentElement,!I)return null}return I}(s);if(w){const E=new wn(w),I=c.bottom+a.height/2>E.bottom,O=e.side==="left"?n.left<E.left:n.right>E.right;if(I||O)return _u}}return{top:p,left:_,name:`position_${e.position}-side_${e.side}`,config:{withArrow:!1}}}}function gw(s){const e=s.config.get("ui.poweredBy"),t=e&&e.position||"border";return WT({position:t,label:YT,verticalOffset:t==="inside"?5:0,horizontalOffset:5,side:s.locale.contentLanguageDirection==="ltr"?"right":"left"},e)}var QT=Object.defineProperty,_w=Object.getOwnPropertySymbols,JT=Object.prototype.hasOwnProperty,XT=Object.prototype.propertyIsEnumerable,bw=(s,e,t)=>e in s?QT(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;class eI extends de(){constructor(e){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const t=e.editing.view;this.editor=e,this.componentFactory=new RT(e),this.focusTracker=new Ai,this.tooltipManager=new gu(e),this.poweredBy=new qT(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(t.document,"layoutChanged",this.update.bind(this)),this.listenTo(t,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,t){this._editableElementsMap.set(e,t),t.ckeditorInstance||(t.ckeditorInstance=this.editor),this.focusTracker.add(t);const n=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(t)};this.isReady?n():this.once("ready",n)}removeEditableElement(e){const t=this._editableElementsMap.get(e);t&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(t),this.focusTracker.remove(t),t.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,t={}){e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:t})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const e=this.editor,t=e.config.get("ui.viewportOffset");if(t)return t;const n=e.config.get("toolbar.viewportTopOffset");return n?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:n}):{top:0}}_initFocusTracking(){const e=this.editor,t=e.editing.view;let n,a;e.keystrokes.set("Alt+F10",(c,p)=>{const _=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(_)&&!Array.from(t.domRoots.values()).includes(_)&&(n=_);const w=this._getCurrentFocusedToolbarDefinition();w&&a||(a=this._getFocusableCandidateToolbarDefinitions());for(let E=0;E<a.length;E++){const I=a.shift();if(a.push(I),I!==w&&this._focusFocusableCandidateToolbar(I)){w&&w.options.afterBlur&&w.options.afterBlur();break}}p()}),e.keystrokes.set("Esc",(c,p)=>{const _=this._getCurrentFocusedToolbarDefinition();_&&(n?(n.focus(),n=null):e.editing.view.focus(),_.options.afterBlur&&_.options.afterBlur(),p())})}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const t of this._focusableToolbarDefinitions){const{toolbarView:n,options:a}=t;(Bs(n.element)||a.beforeFocus)&&e.push(t)}return e.sort((t,n)=>vw(t)-vw(n)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:t,options:{beforeFocus:n}}=e;return n&&n(),!!Bs(t.element)&&(t.focus(),!0)}_handleScrollToTheSelection(e,t){const n=((a,c)=>{for(var p in c||(c={}))JT.call(c,p)&&bw(a,p,c[p]);if(_w)for(var p of _w(c))XT.call(c,p)&&bw(a,p,c[p]);return a})({top:0,bottom:0,left:0,right:0},this.viewportOffset);t.viewportOffset.top+=n.top,t.viewportOffset.bottom+=n.bottom,t.viewportOffset.left+=n.left,t.viewportOffset.right+=n.right}}function vw(s){const{toolbarView:e,options:t}=s;let n=10;return Bs(e.element)&&n--,t.isContextual&&n--,n}var kw=d(9688),tI={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(kw.Z,tI),kw.Z.locals;class nI extends Pt{constructor(e){super(e),this.body=new FD(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class iI extends Pt{constructor(e,t,n){super(e),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=n,this._hasExternalElement=!!this._editableElement,this._editingView=t}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;function t(n){e.change(a=>{const c=e.document.getRoot(n.name);a.addClass(n.isFocused?"ck-focused":"ck-blurred",c),a.removeClass(n.isFocused?"ck-blurred":"ck-focused",c)})}e.isRenderingInProgress?function n(a){e.once("change:isRenderingInProgress",(c,p,_)=>{_?n(a):t(a)})}(this):t(this)}}class oI extends iI{constructor(e,t,n,a={}){super(e,t,n);const c=e.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=a.label||(()=>c("Editor editing area: %0",this.name))}render(){super.render();const e=this._editingView;e.change(t=>{const n=e.document.getRoot(this.name);t.setAttribute("aria-label",this._generateLabel(this),n)})}}var ww=d(8847),rI={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(ww.Z,rI),ww.Z.locals;class im extends Fd{static get pluginName(){return"Notification"}init(){this.on("show:warning",(e,t)=>{window.alert(t.message)},{priority:"lowest"})}showSuccess(e,t={}){this._showNotification({message:e,type:"success",namespace:t.namespace,title:t.title})}showInfo(e,t={}){this._showNotification({message:e,type:"info",namespace:t.namespace,title:t.title})}showWarning(e,t={}){this._showNotification({message:e,type:"warning",namespace:t.namespace,title:t.title})}_showNotification(e){const t=e.namespace?`show:${e.type}:${e.namespace}`:`show:${e.type}`;this.fire(t,{message:e.message,type:e.type,title:e.title||""})}}class fc extends de(){constructor(e,t){super(),t&&Ab(this,t),e&&this.set(e)}}var yw=d(4650),sI={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(yw.Z,sI),yw.Z.locals;var Cw=d(7676),aI={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(Cw.Z,aI),Cw.Z.locals;const bu=S_("px");class vu extends Ne{constructor(e){super(e),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const t=this.editor.editing.view,n=t.document.selection.editableElement;return n?t.domConverter.mapViewToDom(n.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new L("contextualballoon-add-view-exist",[this,e]);const t=e.stackId||"main";if(!this._idToStack.has(t))return this._idToStack.set(t,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(t)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!e.singleViewMode||this.showStack(t));const n=this._idToStack.get(t);e.singleViewMode&&this.showStack(t),n.set(e.view,e),this._viewToStack.set(e.view,n),n===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new L("contextualballoon-remove-view-not-exist",[this,e]);const t=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(t.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(t.values())[t.size-2])),t.size===1?(this._idToStack.delete(this._getStackId(t)),this._numberOfStacks=this._idToStack.size):t.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const t=this._idToStack.get(e);if(!t)throw new L("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==t&&this._showView(Array.from(t.values()).pop())}_createPanelView(){this._view=new Wi(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(t=>t[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)+1;e[t]||(t=0),this.showStack(this._getStackId(e[t]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)-1;e[t]||(t=e.length-1),this.showStack(this._getStackId(e[t]))}_createRotatorView(){const e=new lI(this.editor.locale),t=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(n,a)=>!a&&n>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(n,a)=>{if(a<2)return"";const c=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return t("%0 of %1",[c,a])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new cI(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(t,n)=>!n&&t>=2?Math.min(t-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:t="",withArrow:n=!0,singleViewMode:a=!1}){this.view.class=t,this.view.withArrow=n,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),a&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}}class lI extends Pt{constructor(e){super(e);const t=e.t,n=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Ai,this.buttonPrevView=this._createButtonView(t("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),this.buttonNextView=this._createButtonView(t("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",n.to("isNavigationVisible",a=>a?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:n.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,t){const n=new qt(this.locale);return n.set({label:e,icon:t,tooltip:!0}),n}}class cI extends Pt{constructor(e,t){super(e);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=t,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",n.to("numberOfPanels",a=>a?"":"ck-hidden")],style:{top:n.to("top",bu),left:n.to("left",bu),width:n.to("width",bu),height:n.to("height",bu)}},children:this.content}),this.on("change:numberOfPanels",(a,c,p,_)=>{p>_?this._addPanels(p-_):this._removePanels(_-p),this.updatePosition()})}_addPanels(e){for(;e--;){const t=new Pt;t.setTemplate({tag:"div"}),this.content.add(t),this.registerChild(t)}}_removePanels(e){for(;e--;){const t=this.content.last;this.content.remove(t),this.deregisterChild(t),t.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:t}=this._balloonPanelView,{width:n,height:a}=new wn(this._balloonPanelView.element);Object.assign(this,{top:e,left:t,width:n,height:a})}}}var Aw=d(5868),dI={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(Aw.Z,dI),Aw.Z.locals;var xw=d(9695),uI={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(xw.Z,uI),xw.Z.locals;class hI extends eI{constructor(e,t){super(e),this.view=t}init(){const e=this.editor,t=this.view,n=e.editing.view,a=t.editable,c=n.document.getRoot();a.name=c.rootName,t.render();const p=a.element;this.setEditableElement(a.name,p),t.editable.bind("isFocused").to(this.focusTracker),n.attachDomRoot(p),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const e=this.view;this.editor.editing.view.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.editor,t=this.view;t.toolbar.fillFromConfig(e.config.get("toolbar"),this.componentFactory),this.addToolbar(t.toolbar)}_initPlaceholder(){const e=this.editor,t=e.editing.view,n=t.document.getRoot(),a=e.config.get("placeholder");if(a){const c=typeof a=="string"?a:a[n.rootName];c&&(n.placeholder=c)}G_({view:t,element:n,isDirectHost:!1,keepOnFocus:!0})}}class fI extends nI{constructor(e,t,n={}){super(e);const a=e.t;this.toolbar=new Wp(e,{shouldGroupWhenFull:n.shouldToolbarGroupWhenFull}),this.editable=new oI(e,t,n.editableElement,{label:c=>a("Rich Text Editor. Editing area: %0",c.name)}),this.toolbar.extendTemplate({attributes:{class:["ck-reset_all","ck-rounded-corners"],dir:e.uiLanguageDirection}})}render(){super.render(),this.registerChild([this.toolbar,this.editable])}}class ku extends ru(Pp(TD)){constructor(e,t={}){if(!wu(e)&&t.initialData!==void 0)throw new L("editor-create-initial-data",null);super(t),this.config.get("initialData")===void 0&&this.config.set("initialData",function(c){return wu(c)?(p=c,p instanceof HTMLTextAreaElement?p.value:p.innerHTML):c;var p}(e)),wu(e)&&(this.sourceElement=e,function(c,p){if(p.ckeditorInstance)throw new L("editor-source-element-already-used",c);p.ckeditorInstance=c,c.once("destroy",()=>{delete p.ckeditorInstance})}(this,e)),this.model.document.createRoot();const n=!this.config.get("toolbar.shouldNotGroupWhenFull"),a=new fI(this.locale,this.editing.view,{editableElement:this.sourceElement,shouldToolbarGroupWhenFull:n});this.ui=new hI(this,a)}destroy(){const e=this.getData();return this.ui.destroy(),super.destroy().then(()=>{this.sourceElement&&this.updateSourceElement(e)})}static create(e,t={}){return new Promise(n=>{if(wu(e)&&e.tagName==="TEXTAREA")throw new L("editor-wrong-element",null);const a=new this(e,t);n(a.initPlugins().then(()=>a.ui.init()).then(()=>a.data.init(a.config.get("initialData"))).then(()=>a.fire("ready")).then(()=>a))})}}function wu(s){return Os(s)}ku.Context=H_,ku.EditorWatchdog=ik,ku.ContextWatchdog=class extends Jv{constructor(s,e={}){super(e),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new LD,this._watchdogConfig=e,this._creator=t=>s.create(t),this._destructor=t=>t.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(s){this._creator=s}setDestructor(s){this._destructor=s}get context(){return this._context}create(s={}){return this._actionQueues.enqueue(ac,()=>(this._contextConfig=s,this._create()))}getItem(s){return this._getWatchdog(s)._item}getItemState(s){return this._getWatchdog(s).state}add(s){const e=ok(s);return Promise.all(e.map(t=>this._actionQueues.enqueue(t.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let n;if(this._watchdogs.has(t.id))throw new Error(`Item with the given id is already added: '${t.id}'.`);if(t.type==="editor")return n=new ik(null,this._watchdogConfig),n.setCreator(t.creator),n._setExcludedProperties(this._contextProps),t.destructor&&n.setDestructor(t.destructor),this._watchdogs.set(t.id,n),n.on("error",(a,{error:c,causesRestart:p})=>{this._fire("itemError",{itemId:t.id,error:c}),p&&this._actionQueues.enqueue(t.id,()=>new Promise(_=>{const w=()=>{n.off("restart",w),this._fire("itemRestart",{itemId:t.id}),_()};n.on("restart",w)}))}),n.create(t.sourceElementOrData,t.config,this._context);throw new Error(`Not supported item type: '${t.type}'.`)})))}remove(s){const e=ok(s);return Promise.all(e.map(t=>this._actionQueues.enqueue(t,()=>{const n=this._getWatchdog(t);return this._watchdogs.delete(t),n.destroy()})))}destroy(){return this._actionQueues.enqueue(ac,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(ac,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(s=>{console.error("An error happened during destroying the context or items.",s)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(s=>(this._context=s,this._contextProps=Op(this._context),Promise.all(Array.from(this._watchdogs.values()).map(e=>(e._setExcludedProperties(this._contextProps),e.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const s=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(e=>e.destroy())).then(()=>this._destructor(s))})}_getWatchdog(s){const e=this._watchdogs.get(s);if(!e)throw new Error(`Item with the given id was not registered: ${s}.`);return e}_isErrorComingFromThisItem(s){for(const e of this._watchdogs.values())if(e._isErrorComingFromThisItem(s))return!1;return Xv(this._context,s.context)}};class om extends Qr{constructor(e){super(e),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const t=this.document;function n(a){return(c,p)=>{p.preventDefault();const _=p.dropRange?[p.dropRange]:null,w=new C(t,a);t.fire(w,{dataTransfer:p.dataTransfer,method:c.name,targetRanges:_,target:p.target,domEvent:p.domEvent}),w.stop.called&&p.stopPropagation()}}this.listenTo(t,"paste",n("clipboardInput"),{priority:"low"}),this.listenTo(t,"drop",n("clipboardInput"),{priority:"low"}),this.listenTo(t,"dragover",n("dragging"),{priority:"low"})}onDomEvent(e){const t="clipboardData"in e?e.clipboardData:e.dataTransfer,n=e.type=="drop"||e.type=="paste",a={dataTransfer:new Ob(t,{cacheFiles:n})};e.type!="drop"&&e.type!="dragover"||(a.dropRange=function(c,p){const _=p.target.ownerDocument,w=p.clientX,E=p.clientY;let I;return _.caretRangeFromPoint&&_.caretRangeFromPoint(w,E)?I=_.caretRangeFromPoint(w,E):p.rangeParent&&(I=_.createRange(),I.setStart(p.rangeParent,p.rangeOffset),I.collapse(!0)),I?c.domConverter.domRangeToView(I):null}(this.view,e)),this.fire(e.type,e,a)}}const Sw=["figcaption","li"];function Ew(s){let e="";if(s.is("$text")||s.is("$textProxy"))e=s.data;else if(s.is("element","img")&&s.hasAttribute("alt"))e=s.getAttribute("alt");else if(s.is("element","br"))e=`
`;else{let t=null;for(const n of s.getChildren()){const a=Ew(n);t&&(t.is("containerElement")||n.is("containerElement"))&&(Sw.includes(t.name)||Sw.includes(n.name)?e+=`
`:e+=`

`),e+=a,t=n}}return e}class or extends Ne{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(om),this._setupPasteDrop(),this._setupCopyCut()}_setupPasteDrop(){const e=this.editor,t=e.model,n=e.editing.view,a=n.document;this.listenTo(a,"clipboardInput",(c,p)=>{p.method!="paste"||e.model.canEditAt(e.model.document.selection)||c.stop()},{priority:"highest"}),this.listenTo(a,"clipboardInput",(c,p)=>{const _=p.dataTransfer;let w;if(p.content)w=p.content;else{let O="";_.getData("text/html")?O=function($){return $.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(V,G)=>G.length==1?" ":G).replace(/<!--[\s\S]*?-->/g,"")}(_.getData("text/html")):_.getData("text/plain")&&(((E=(E=_.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||E.includes("<br>"))&&(E=`<p>${E}</p>`),O=E),w=this.editor.data.htmlProcessor.toView(O)}var E;const I=new C(this,"inputTransformation");this.fire(I,{content:w,dataTransfer:_,targetRanges:p.targetRanges,method:p.method}),I.stop.called&&c.stop(),n.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(c,p)=>{if(p.content.isEmpty)return;const _=this.editor.data.toModel(p.content,"$clipboardHolder");_.childCount!=0&&(c.stop(),t.change(()=>{this.fire("contentInsertion",{content:_,method:p.method,dataTransfer:p.dataTransfer,targetRanges:p.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(c,p)=>{p.resultRange=t.insertContent(p.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,t=e.model.document,n=e.editing.view.document,a=(c,p)=>{const _=p.dataTransfer;p.preventDefault();const w=e.data.toView(e.model.getSelectedContent(t.selection));n.fire("clipboardOutput",{dataTransfer:_,content:w,method:c.name})};this.listenTo(n,"copy",a,{priority:"low"}),this.listenTo(n,"cut",(c,p)=>{e.model.canEditAt(e.model.document.selection)?a(c,p):p.preventDefault()},{priority:"low"}),this.listenTo(n,"clipboardOutput",(c,p)=>{p.content.isEmpty||(p.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(p.content)),p.dataTransfer.setData("text/plain",Ew(p.content))),p.method=="cut"&&e.model.deleteContent(t.selection)},{priority:"low"})}}class Dw{constructor(e,t=20){this._batch=null,this.model=e,this._size=0,this.limit=t,this._isLocked=!1,this._changeCallback=(n,a)=>{a.isLocal&&a.isUndoable&&a!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){this.isLocked&&!e||(this._batch=null,this._size=0)}}class pI extends Nt{constructor(e,t){super(e),this._buffer=new Dw(e.model,t),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const t=this.editor.model,n=t.document,a=e.text||"",c=a.length;let p=n.selection;if(e.selection?p=e.selection:e.range&&(p=t.createSelection(e.range)),!t.canEditAt(p))return;const _=e.resultRange;t.enqueueChange(this._buffer.batch,w=>{this._buffer.lock(),t.deleteContent(p),a&&t.insertContent(w.createText(a,n.selection.getAttributes()),p),_?w.setSelection(_):p.is("documentSelection")||w.setSelection(p),this._buffer.unlock(),this._buffer.input(c)})}}const Tw=["insertText","insertReplacementText"];class mI extends er{constructor(e){super(e),this.focusObserver=e.getObserver(Xd),g.isAndroid&&Tw.push("insertCompositionText");const t=e.document;t.on("beforeinput",(n,a)=>{if(!this.isEnabled)return;const{data:c,targetRanges:p,inputType:_,domEvent:w}=a;if(!Tw.includes(_))return;this.focusObserver.flush();const E=new C(t,"insertText");t.fire(E,new $a(e,w,{text:c,selection:e.createSelection(p)})),E.stop.called&&n.stop()}),t.on("compositionend",(n,{data:a,domEvent:c})=>{this.isEnabled&&!g.isAndroid&&a&&t.fire("insertText",new $a(e,c,{text:a,selection:t.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class Iw extends Ne{static get pluginName(){return"Input"}init(){const e=this.editor,t=e.model,n=e.editing.view,a=t.document.selection;n.addObserver(mI);const c=new pI(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",c),e.commands.add("input",c),this.listenTo(n.document,"insertText",(p,_)=>{n.document.isComposing||_.preventDefault();const{text:w,selection:E,resultRange:I}=_,O=Array.from(E.getRanges()).map(G=>e.editing.mapper.toModelRange(G));let $=w;if(g.isAndroid){const G=Array.from(O[0].getItems()).reduce((Q,ie)=>Q+(ie.is("$textProxy")?ie.data:""),"");G&&(G.length<=$.length?$.startsWith(G)&&($=$.substring(G.length),O[0].start=O[0].start.getShiftedBy(G.length)):G.startsWith($)&&(O[0].start=O[0].start.getShiftedBy($.length),$=""))}const V={text:$,selection:t.createSelection(O)};I&&(V.resultRange=e.editing.mapper.toModelRange(I)),e.execute("insertText",V),n.scrollToTheSelection()}),g.isAndroid?this.listenTo(n.document,"keydown",(p,_)=>{!a.isCollapsed&&_.keyCode==229&&n.document.isComposing&&Mw(t,c)}):this.listenTo(n.document,"compositionstart",()=>{a.isCollapsed||Mw(t,c)})}}function Mw(s,e){if(!e.isEnabled)return;const t=e.buffer;t.lock(),s.enqueueChange(t.batch,()=>{s.deleteContent(s.document.selection)}),t.unlock()}class Pw extends Nt{constructor(e,t){super(e),this.direction=t,this._buffer=new Dw(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const t=this.editor.model,n=t.document;t.enqueueChange(this._buffer.batch,a=>{this._buffer.lock();const c=a.createSelection(e.selection||n.selection);if(!t.canEditAt(c))return;const p=e.sequence||1,_=c.isCollapsed;if(c.isCollapsed&&t.modifySelection(c,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(p))return void this._replaceEntireContentWithParagraph(a);if(this._shouldReplaceFirstBlockWithParagraph(c,p))return void this.editor.execute("paragraph",{selection:c});if(c.isCollapsed)return;let w=0;c.getFirstRange().getMinimalFlatRanges().forEach(E=>{w+=We(E.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),t.deleteContent(c,{doNotResetEntireContent:_,direction:this.direction}),this._buffer.input(w),a.setSelection(c),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const t=this.editor.model,n=t.document.selection,a=t.schema.getLimitElement(n);if(!(n.isCollapsed&&n.containsEntireContent(a))||!t.schema.checkChild(a,"paragraph"))return!1;const c=a.getChild(0);return!c||!c.is("element","paragraph")}_replaceEntireContentWithParagraph(e){const t=this.editor.model,n=t.document.selection,a=t.schema.getLimitElement(n),c=e.createElement("paragraph");e.remove(e.createRangeIn(a)),e.insert(c,a),e.setSelection(c,0)}_shouldReplaceFirstBlockWithParagraph(e,t){const n=this.editor.model;if(t>1||this.direction!="backward"||!e.isCollapsed)return!1;const a=e.getFirstPosition(),c=n.schema.getLimitElement(a),p=c.getChild(0);return a.parent==p&&!!e.containsEntireContent(p)&&!!n.schema.checkChild(c,"paragraph")&&p.name!="paragraph"}}const Ow="word",ns="selection",Ga="backward",pc="forward",Bw={deleteContent:{unit:ns,direction:Ga},deleteContentBackward:{unit:"codePoint",direction:Ga},deleteWordBackward:{unit:Ow,direction:Ga},deleteHardLineBackward:{unit:ns,direction:Ga},deleteSoftLineBackward:{unit:ns,direction:Ga},deleteContentForward:{unit:"character",direction:pc},deleteWordForward:{unit:Ow,direction:pc},deleteHardLineForward:{unit:ns,direction:pc},deleteSoftLineForward:{unit:ns,direction:pc}};class gI extends er{constructor(e){super(e);const t=e.document;let n=0;t.on("keydown",()=>{n++}),t.on("keyup",()=>{n=0}),t.on("beforeinput",(a,c)=>{if(!this.isEnabled)return;const{targetRanges:p,domEvent:_,inputType:w}=c,E=Bw[w];if(!E)return;const I={direction:E.direction,unit:E.unit,sequence:n};I.unit==ns&&(I.selectionToRemove=e.createSelection(p[0])),w==="deleteContentBackward"&&(g.isAndroid&&(I.sequence=1),function($){if($.length!=1||$[0].isCollapsed)return!1;const V=$[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let G=0;for(const{nextPosition:Q}of V){if(Q.parent.is("$text")){const ie=Q.parent.data,he=Q.offset;if(Qf(ie,he)||Jf(ie,he)||j_(ie,he))continue;G++}else G++;if(G>1)return!0}return!1}(p)&&(I.unit=ns,I.selectionToRemove=e.createSelection(p)));const O=new Ra(t,"delete",p[0]);t.fire(O,new $a(e,_,I)),O.stop.called&&a.stop()}),g.isBlink&&function(a){const c=a.view,p=c.document;let _=null,w=!1;function E(O){return O==nn.backspace||O==nn.delete}function I(O){return O==nn.backspace?Ga:pc}p.on("keydown",(O,{keyCode:$})=>{_=$,w=!1}),p.on("keyup",(O,{keyCode:$,domEvent:V})=>{const G=p.selection,Q=a.isEnabled&&$==_&&E($)&&!G.isCollapsed&&!w;if(_=null,Q){const ie=G.getFirstRange(),he=new Ra(p,"delete",ie),ye={unit:ns,direction:I($),selectionToRemove:G};p.fire(he,new $a(c,V,ye))}}),p.on("beforeinput",(O,{inputType:$})=>{const V=Bw[$];E(_)&&V&&V.direction==I(_)&&(w=!0)},{priority:"high"}),p.on("beforeinput",(O,{inputType:$,data:V})=>{_==nn.delete&&$=="insertText"&&V==""&&O.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class xr extends Ne{static get pluginName(){return"Delete"}init(){const e=this.editor,t=e.editing.view,n=t.document,a=e.model.document;t.addObserver(gI),this._undoOnBackspace=!1;const c=new Pw(e,"forward");e.commands.add("deleteForward",c),e.commands.add("forwardDelete",c),e.commands.add("delete",new Pw(e,"backward")),this.listenTo(n,"delete",(p,_)=>{n.isComposing||_.preventDefault();const{direction:w,sequence:E,selectionToRemove:I,unit:O}=_,$=w==="forward"?"deleteForward":"delete",V={sequence:E};if(O=="selection"){const G=Array.from(I.getRanges()).map(Q=>e.editing.mapper.toModelRange(Q));V.selection=e.model.createSelection(G)}else V.unit=O;e.execute($,V),t.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(n,"delete",(p,_)=>{this._undoOnBackspace&&_.direction=="backward"&&_.sequence==1&&_.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),_.preventDefault(),p.stop())},{context:"$capture"}),this.listenTo(a,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class _I extends Ne{static get requires(){return[Iw,xr]}static get pluginName(){return"Typing"}}function Lw(s,e){let t=s.start;return{text:Array.from(s.getWalker({ignoreElementEnd:!1})).reduce((n,{item:a})=>a.is("$text")||a.is("$textProxy")?n+a.data:(t=e.createPositionAfter(a),""),""),range:e.createRange(t,s.end)}}class Rw extends de(){constructor(e,t){super(),this.model=e,this.testCallback=t,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const e=this.model.document;this.listenTo(e.selection,"change:range",(t,{directChange:n})=>{n&&(e.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(e,"change:data",(t,n)=>{!n.isUndo&&n.isLocal&&this._evaluateTextBeforeSelection("data",{batch:n})})}_evaluateTextBeforeSelection(e,t={}){const n=this.model,a=n.document.selection,c=n.createRange(n.createPositionAt(a.focus.parent,0),a.focus),{text:p,range:_}=Lw(c,n),w=this.testCallback(p);if(!w&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!w,w){const E=Object.assign(t,{text:p,range:_});typeof w=="object"&&Object.assign(E,w),this.fire(`matched:${e}`,E)}}}class Nw extends Ne{constructor(e){super(e),this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}init(){const e=this.editor,t=e.model,n=e.editing.view,a=e.locale,c=t.document.selection;this.listenTo(n.document,"arrowKey",(p,_)=>{if(!c.isCollapsed||_.shiftKey||_.altKey||_.ctrlKey)return;const w=_.keyCode==nn.arrowright,E=_.keyCode==nn.arrowleft;if(!w&&!E)return;const I=a.contentLanguageDirection;let O=!1;O=I==="ltr"&&w||I==="rtl"&&E?this._handleForwardMovement(_):this._handleBackwardMovement(_),O===!0&&p.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(c,"change:range",(p,_)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!_.directChange&&Cu(c.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const t=this.attributes,n=this.editor.model.document.selection,a=n.getFirstPosition();return!this._isGravityOverridden&&(!a.isAtStart||!rm(n,t))&&!!Cu(a,t)&&(yu(e),this._overrideGravity(),!0)}_handleBackwardMovement(e){const t=this.attributes,n=this.editor.model,a=n.document.selection,c=a.getFirstPosition();return this._isGravityOverridden?(yu(e),this._restoreGravity(),sm(n,t,c),!0):c.isAtStart?!!rm(a,t)&&(yu(e),sm(n,t,c),!0):!!function(p,_){const w=p.getShiftedBy(-1);return Cu(w,_)}(c,t)&&(c.isAtEnd&&!rm(a,t)&&Cu(c,t)?(yu(e),sm(n,t,c),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function rm(s,e){for(const t of e)if(s.hasAttribute(t))return!0;return!1}function sm(s,e,t){const n=t.nodeBefore;s.change(a=>{if(n){const c=[],p=s.schema.isObject(n)&&s.schema.isInline(n);for(const[_,w]of n.getAttributes())!s.schema.checkAttribute("$text",_)||p&&s.schema.getAttributeProperties(_).copyFromObject===!1||c.push([_,w]);a.setSelectionAttribute(c)}else a.removeSelectionAttribute(e)})}function yu(s){s.preventDefault()}function Cu(s,e){const{nodeBefore:t,nodeAfter:n}=s;for(const a of e){const c=t?t.getAttribute(a):void 0;if((n?n.getAttribute(a):void 0)!==c)return!0}return!1}var $w=/[\\^$.*+?()[\]{}|]/g,bI=RegExp($w.source);const vI=function(s){return(s=np(s))&&bI.test(s)?s.replace($w,"\\$&"):s},jw={copyright:{from:"(c)",to:"©"},registeredTrademark:{from:"(r)",to:"®"},trademark:{from:"(tm)",to:"™"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"½",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"⅓",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"⅔",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"¼",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"¾",null]},lessThanOrEqual:{from:"<=",to:"≤"},greaterThanOrEqual:{from:">=",to:"≥"},notEqual:{from:"!=",to:"≠"},arrowLeft:{from:"<-",to:"←"},arrowRight:{from:"->",to:"→"},horizontalEllipsis:{from:"...",to:"…"},enDash:{from:/(^| )(--)( )$/,to:[null,"–",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"—",null]},quotesPrimary:{from:Ka('"'),to:[null,"“",null,"”"]},quotesSecondary:{from:Ka("'"),to:[null,"‘",null,"’"]},quotesPrimaryEnGb:{from:Ka("'"),to:[null,"‘",null,"’"]},quotesSecondaryEnGb:{from:Ka('"'),to:[null,"“",null,"”"]},quotesPrimaryPl:{from:Ka('"'),to:[null,"„",null,"”"]},quotesSecondaryPl:{from:Ka("'"),to:[null,"‚",null,"’"]}},zw={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},kI=["symbols","mathematical","typography","quotes"];function wI(s){return typeof s=="string"?new RegExp(`(${vI(s)})$`):s}function yI(s){return typeof s=="string"?()=>[s]:s instanceof Array?()=>s:s}function CI(s){return(s.textNode?s.textNode:s.nodeAfter).getAttributes()}function Ka(s){return new RegExp(`(^|\\s)(${s})([^${s}]*)(${s})$`)}function Ya(s,e,t,n){return n.createRange(Fw(s,e,t,!0,n),Fw(s,e,t,!1,n))}function Fw(s,e,t,n,a){let c=s.textNode||(n?s.nodeBefore:s.nodeAfter),p=null;for(;c&&c.getAttribute(e)==t;)p=c,c=n?c.previousSibling:c.nextSibling;return p?a.createPositionAt(p,n?"before":"after"):s}function*Vw(s,e){for(const t of e)t&&s.getAttributeProperties(t[0]).copyOnEnter&&(yield t)}class AI extends Nt{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const t=this.editor.model,n=t.document.selection,a=t.schema,c=n.isCollapsed,p=n.getFirstRange(),_=p.start.parent,w=p.end.parent;if(a.isLimit(_)||a.isLimit(w))return c||_!=w||t.deleteContent(n),!1;if(c){const E=Vw(e.model.schema,n.getAttributes());return Uw(e,p.start),e.setSelectionAttribute(E),!0}{const E=!(p.start.isAtStart&&p.end.isAtEnd),I=_==w;if(t.deleteContent(n,{leaveUnmerged:E}),E){if(I)return Uw(e,n.focus),!0;e.setSelection(w,0)}}return!1}}function Uw(s,e){s.split(e),s.setSelection(e.parent.nextSibling,0)}const xI={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class Hw extends er{constructor(e){super(e);const t=this.document;let n=!1;t.on("keydown",(a,c)=>{n=c.shiftKey}),t.on("beforeinput",(a,c)=>{if(!this.isEnabled)return;let p=c.inputType;g.isSafari&&n&&p=="insertParagraph"&&(p="insertLineBreak");const _=c.domEvent,w=xI[p];if(!w)return;const E=new Ra(t,"enter",c.targetRanges[0]);t.fire(E,new $a(e,_,{isSoft:w.isSoft})),E.stop.called&&a.stop()})}observe(){}stopObserving(){}}class Au extends Ne{static get pluginName(){return"Enter"}init(){const e=this.editor,t=e.editing.view,n=t.document;t.addObserver(Hw),e.commands.add("enter",new AI(e)),this.listenTo(n,"enter",(a,c)=>{n.isComposing||c.preventDefault(),c.isSoft||(e.execute("enter"),t.scrollToTheSelection())},{priority:"low"})}}class SI extends Nt{execute(){const e=this.editor.model,t=e.document;e.change(n=>{(function(a,c,p){const _=p.isCollapsed,w=p.getFirstRange(),E=w.start.parent,I=w.end.parent,O=E==I;if(_){const $=Vw(a.schema,p.getAttributes());Ww(a,c,w.end),c.removeSelectionAttribute(p.getAttributeKeys()),c.setSelectionAttribute($)}else{const $=!(w.start.isAtStart&&w.end.isAtEnd);a.deleteContent(p,{leaveUnmerged:$}),O?Ww(a,c,p.focus):$&&c.setSelection(I,0)}})(e,n,t.selection),this.fire("afterExecute",{writer:n})})}refresh(){const e=this.editor.model,t=e.document;this.isEnabled=function(n,a){if(a.rangeCount>1)return!1;const c=a.anchor;if(!c||!n.checkChild(c,"softBreak"))return!1;const p=a.getFirstRange(),_=p.start.parent,w=p.end.parent;return!((am(_,n)||am(w,n))&&_!==w)}(e.schema,t.selection)}}function Ww(s,e,t){const n=e.createElement("softBreak");s.insertContent(n,t),e.setSelection(n,"after")}function am(s,e){return!s.is("rootElement")&&(e.isLimit(s)||am(s.parent,e))}class EI extends Ne{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,t=e.model.schema,n=e.conversion,a=e.editing.view,c=a.document;t.register("softBreak",{allowWhere:"$text",isInline:!0}),n.for("upcast").elementToElement({model:"softBreak",view:"br"}),n.for("downcast").elementToElement({model:"softBreak",view:(p,{writer:_})=>_.createEmptyElement("br")}),a.addObserver(Hw),e.commands.add("shiftEnter",new SI(e)),this.listenTo(c,"enter",(p,_)=>{c.isComposing||_.preventDefault(),_.isSoft&&(e.execute("shiftEnter"),a.scrollToTheSelection())},{priority:"low"})}}class DI extends J(){constructor(){super(...arguments),this._stack=[]}add(e,t){const n=this._stack,a=n[0];this._insertDescriptor(e);const c=n[0];a===c||lm(a,c)||this.fire("change:top",{oldDescriptor:a,newDescriptor:c,writer:t})}remove(e,t){const n=this._stack,a=n[0];this._removeDescriptor(e);const c=n[0];a===c||lm(a,c)||this.fire("change:top",{oldDescriptor:a,newDescriptor:c,writer:t})}_insertDescriptor(e){const t=this._stack,n=t.findIndex(c=>c.id===e.id);if(lm(e,t[n]))return;n>-1&&t.splice(n,1);let a=0;for(;t[a]&&TI(t[a],e);)a++;t.splice(a,0,e)}_removeDescriptor(e){const t=this._stack,n=t.findIndex(a=>a.id===e);n>-1&&t.splice(n,1)}}function lm(s,e){return s&&e&&s.priority==e.priority&&xu(s.classes)==xu(e.classes)}function TI(s,e){return s.priority>e.priority||!(s.priority<e.priority)&&xu(s.classes)>xu(e.classes)}function xu(s){return Array.isArray(s)?s.sort().join(","):s}const II='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',MI="ck-widget",Gw="ck-widget_selected";function zn(s){return!!s.is("element")&&!!s.getCustomProperty("widget")}function cm(s,e,t={}){if(!s.is("containerElement"))throw new L("widget-to-widget-wrong-element-type",null,{element:s});return e.setAttribute("contenteditable","false",s),e.addClass(MI,s),e.setCustomProperty("widget",!0,s),s.getFillerOffset=BI,e.setCustomProperty("widgetLabel",[],s),t.label&&function(n,a){n.getCustomProperty("widgetLabel").push(a)}(s,t.label),t.hasSelectionHandle&&function(n,a){const c=a.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(p){const _=this.toDomElement(p),w=new Ha;return w.set("content",II),w.render(),_.appendChild(w.element),_});a.insert(a.createPositionAt(n,0),c),a.addClass(["ck-widget_with-selection-handle"],n)}(s,e),Kw(s,e),s}function PI(s,e,t){if(e.classes&&t.addClass(ui(e.classes),s),e.attributes)for(const n in e.attributes)t.setAttribute(n,e.attributes[n],s)}function OI(s,e,t){if(e.classes&&t.removeClass(ui(e.classes),s),e.attributes)for(const n in e.attributes)t.removeAttribute(n,s)}function Kw(s,e,t=PI,n=OI){const a=new DI;a.on("change:top",(c,p)=>{p.oldDescriptor&&n(s,p.oldDescriptor,p.writer),p.newDescriptor&&t(s,p.newDescriptor,p.writer)}),e.setCustomProperty("addHighlight",(c,p,_)=>a.add(p,_),s),e.setCustomProperty("removeHighlight",(c,p,_)=>a.remove(p,_),s)}function Yw(s,e,t={}){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],s),e.setAttribute("role","textbox",s),t.label&&e.setAttribute("aria-label",t.label,s),e.setAttribute("contenteditable",s.isReadOnly?"false":"true",s),s.on("change:isReadOnly",(n,a,c)=>{e.setAttribute("contenteditable",c?"false":"true",s)}),s.on("change:isFocused",(n,a,c)=>{c?e.addClass("ck-editor__nested-editable_focused",s):e.removeClass("ck-editor__nested-editable_focused",s)}),Kw(s,e),s}function qw(s,e){const t=s.getSelectedElement();if(t){const n=is(s);if(n)return e.createRange(e.createPositionAt(t,n))}return Gv(s,e)}function BI(){return null}const Sr="widget-type-around";function Ws(s,e,t){return!!s&&zn(s)&&!t.isInline(e)}function is(s){return s.getAttribute(Sr)}var Zw=d(4921),LI={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(Zw.Z,LI),Zw.Z.locals;const Qw=["before","after"],RI=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,Jw="ck-widget__type-around_disabled";class NI extends Ne{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[Au,xr]}init(){const e=this.editor,t=e.editing.view;this.on("change:isEnabled",(n,a,c)=>{t.change(p=>{for(const _ of t.document.roots)c?p.removeClass(Jw,_):p.addClass(Jw,_)}),c||e.model.change(p=>{p.removeSelectionAttribute(Sr)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,t){const n=this.editor,a=n.editing.view,c=n.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);n.execute("insertParagraph",{position:n.model.createPositionAt(e,t),attributes:c}),a.focus(),a.scrollToTheSelection()}_listenToIfEnabled(e,t,n,a){this.listenTo(e,t,(...c)=>{this.isEnabled&&n(...c)},a)}_insertParagraphAccordingToFakeCaretPosition(){const e=this.editor.model.document.selection,t=is(e);if(!t)return!1;const n=e.getSelectedElement();return this._insertParagraph(n,t),!0}_enableTypeAroundUIInjection(){const e=this.editor,t=e.model.schema,n=e.locale.t,a={before:n("Insert paragraph before block"),after:n("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(c,p,_)=>{const w=_.mapper.toViewElement(p.item);w&&Ws(w,p.item,t)&&(function(E,I,O){const $=E.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(V){const G=this.toDomElement(V);return function(Q,ie){for(const he of Qw){const ye=new vo({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${he}`],title:ie[he],"aria-hidden":"true"},children:[Q.ownerDocument.importNode(RI,!0)]});Q.appendChild(ye.render())}}(G,I),function(Q){const ie=new vo({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});Q.appendChild(ie.render())}(G),G});E.insert(E.createPositionAt(O,"end"),$)}(_.writer,a,w),w.getCustomProperty("widgetLabel").push(()=>this.isEnabled?n("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,t=e.model,n=t.document.selection,a=t.schema,c=e.editing.view;function p(_){return`ck-widget_type-around_show-fake-caret_${_}`}this._listenToIfEnabled(c.document,"arrowKey",(_,w)=>{this._handleArrowKeyPress(_,w)},{context:[zn,"$text"],priority:"high"}),this._listenToIfEnabled(n,"change:range",(_,w)=>{w.directChange&&e.model.change(E=>{E.removeSelectionAttribute(Sr)})}),this._listenToIfEnabled(t.document,"change:data",()=>{const _=n.getSelectedElement();_&&Ws(e.editing.mapper.toViewElement(_),_,a)||e.model.change(w=>{w.removeSelectionAttribute(Sr)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(_,w,E)=>{const I=E.writer;if(this._currentFakeCaretModelElement){const G=E.mapper.toViewElement(this._currentFakeCaretModelElement);G&&(I.removeClass(Qw.map(p),G),this._currentFakeCaretModelElement=null)}const O=w.selection.getSelectedElement();if(!O)return;const $=E.mapper.toViewElement(O);if(!Ws($,O,a))return;const V=is(w.selection);V&&(I.addClass(p(V),$),this._currentFakeCaretModelElement=O)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(_,w,E)=>{E||e.model.change(I=>{I.removeSelectionAttribute(Sr)})})}_handleArrowKeyPress(e,t){const n=this.editor,a=n.model,c=a.document.selection,p=a.schema,_=n.editing.view,w=function(O,$){const V=qf(O,$);return V==="down"||V==="right"}(t.keyCode,n.locale.contentLanguageDirection),E=_.document.selection.getSelectedElement();let I;Ws(E,n.editing.mapper.toModelElement(E),p)?I=this._handleArrowKeyPressOnSelectedWidget(w):c.isCollapsed?I=this._handleArrowKeyPressWhenSelectionNextToAWidget(w):t.shiftKey||(I=this._handleArrowKeyPressWhenNonCollapsedSelection(w)),I&&(t.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const t=this.editor.model,n=is(t.document.selection);return t.change(a=>n?n!==(e?"after":"before")?(a.removeSelectionAttribute(Sr),!0):!1:(a.setSelectionAttribute(Sr,e?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const t=this.editor,n=t.model,a=n.schema,c=t.plugins.get("Widget"),p=c._getObjectElementNextToSelection(e);return!!Ws(t.editing.mapper.toViewElement(p),p,a)&&(n.change(_=>{c._setSelectionOverElement(p),_.setSelectionAttribute(Sr,e?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(e){const t=this.editor,n=t.model,a=n.schema,c=t.editing.mapper,p=n.document.selection,_=e?p.getLastPosition().nodeBefore:p.getFirstPosition().nodeAfter;return!!Ws(c.toViewElement(_),_,a)&&(n.change(w=>{w.setSelection(_,"on"),w.setSelectionAttribute(Sr,e?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,t=e.editing.view;this._listenToIfEnabled(t.document,"mousedown",(n,a)=>{const c=a.domTarget.closest(".ck-widget__type-around__button");if(!c)return;const p=function(E){return E.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(c),_=function(E,I){const O=E.closest(".ck-widget");return I.mapDomToView(O)}(c,t.domConverter),w=e.editing.mapper.toModelElement(_);this._insertParagraph(w,p),a.preventDefault(),n.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,t=e.model.document.selection,n=e.editing.view;this._listenToIfEnabled(n.document,"enter",(a,c)=>{if(a.eventPhase!="atTarget")return;const p=t.getSelectedElement(),_=e.editing.mapper.toViewElement(p),w=e.model.schema;let E;this._insertParagraphAccordingToFakeCaretPosition()?E=!0:Ws(_,p,w)&&(this._insertParagraph(p,c.isSoft?"before":"after"),E=!0),E&&(c.preventDefault(),a.stop())},{context:zn})}_enableInsertingParagraphsOnTypingKeystroke(){const e=this.editor.editing.view.document;this._listenToIfEnabled(e,"insertText",(t,n)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(n.selection=e.selection)},{priority:"high"}),g.isAndroid?this._listenToIfEnabled(e,"keydown",(t,n)=>{n.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(e,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,t=e.editing.view,n=e.model,a=n.schema;this._listenToIfEnabled(t.document,"delete",(c,p)=>{if(c.eventPhase!="atTarget")return;const _=is(n.document.selection);if(!_)return;const w=p.direction,E=n.document.selection.getSelectedElement(),I=w=="forward";if(_==="before"===I)e.execute("delete",{selection:n.createSelection(E,"on")});else{const O=a.getNearestSelectionRange(n.createPositionAt(E,_),w);if(O)if(O.isCollapsed){const $=n.createSelection(O.start);if(n.modifySelection($,{direction:w}),$.focus.isEqual(O.start)){const V=function(G,Q){let ie=Q;for(const he of Q.getAncestors({parentFirst:!0})){if(he.childCount>1||G.isLimit(he))break;ie=he}return ie}(a,O.start.parent);n.deleteContent(n.createSelection(V,"on"),{doNotAutoparagraph:!0})}else n.change(V=>{V.setSelection(O),e.execute(I?"deleteForward":"delete")})}else n.change($=>{$.setSelection(O),e.execute(I?"deleteForward":"delete")})}p.preventDefault(),c.stop()},{context:zn})}_enableInsertContentIntegration(){const e=this.editor,t=this.editor.model,n=t.document.selection;this._listenToIfEnabled(e.model,"insertContent",(a,[c,p])=>{if(p&&!p.is("documentSelection"))return;const _=is(n);return _?(a.stop(),t.change(w=>{const E=n.getSelectedElement(),I=t.createPositionAt(E,_),O=w.createSelection(I),$=t.insertContent(c,O);return w.setSelection(O),$})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,t=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(n,a)=>{const[,c,p={}]=a;if(c&&!c.is("documentSelection"))return;const _=is(t);_&&(p.findOptimalPosition=_,a[3]=p)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,t=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(n,[a])=>{a&&!a.is("documentSelection")||is(t)&&n.stop()},{priority:"high"})}}function $I(s){const e=s.model;return(t,n)=>{const a=n.keyCode==nn.arrowup,c=n.keyCode==nn.arrowdown,p=n.shiftKey,_=e.document.selection;if(!a&&!c)return;const w=c;if(p&&function(I,O){return!I.isCollapsed&&I.isBackward==O}(_,w))return;const E=function(I,O,$){const V=I.model;if($){const G=O.isCollapsed?O.focus:O.getLastPosition(),Q=Xw(V,G,"forward");if(!Q)return null;const ie=V.createRange(G,Q),he=e2(V.schema,ie,"backward");return he?V.createRange(G,he):null}{const G=O.isCollapsed?O.focus:O.getFirstPosition(),Q=Xw(V,G,"backward");if(!Q)return null;const ie=V.createRange(Q,G),he=e2(V.schema,ie,"forward");return he?V.createRange(he,G):null}}(s,_,w);if(E){if(E.isCollapsed&&(_.isCollapsed||p))return;(E.isCollapsed||function(I,O,$){const V=I.model,G=I.view.domConverter;if($){const Oe=V.createSelection(O.start);V.modifySelection(Oe),Oe.focus.isAtEnd||O.start.isEqual(Oe.focus)||(O=V.createRange(Oe.focus,O.end))}const Q=I.mapper.toViewRange(O),ie=G.viewRangeToDom(Q),he=wn.getDomRangeRects(ie);let ye;for(const Oe of he)if(ye!==void 0){if(Math.round(Oe.top)>=ye)return!1;ye=Math.max(ye,Math.round(Oe.bottom))}else ye=Math.round(Oe.bottom);return!0}(s,E,w))&&(e.change(I=>{const O=w?E.end:E.start;if(p){const $=e.createSelection(_.anchor);$.setFocus(O),I.setSelection($)}else I.setSelection(O)}),t.stop(),n.preventDefault(),n.stopPropagation())}}}function Xw(s,e,t){const n=s.schema,a=s.createRangeIn(e.root),c=t=="forward"?"elementStart":"elementEnd";for(const{previousPosition:p,item:_,type:w}of a.getWalker({startPosition:e,direction:t})){if(n.isLimit(_)&&!n.isInline(_))return p;if(w==c&&n.isBlock(_))return null}return null}function e2(s,e,t){const n=t=="backward"?e.end:e.start;if(s.checkChild(n,"$text"))return n;for(const{nextPosition:a}of e.getWalker({direction:t}))if(s.checkChild(a,"$text"))return a;return null}var t2=d(3488),jI={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(t2.Z,jI),t2.Z.locals;class mc extends Ne{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[NI,xr]}init(){const e=this.editor,t=e.editing.view,n=t.document;this.editor.editing.downcastDispatcher.on("selection",(a,c,p)=>{const _=p.writer,w=c.selection;if(w.isCollapsed)return;const E=w.getSelectedElement();if(!E)return;const I=e.editing.mapper.toViewElement(E);var O;zn(I)&&p.consumable.consume(w,"selection")&&_.setSelection(_.createRangeOn(I),{fake:!0,label:(O=I,O.getCustomProperty("widgetLabel").reduce(($,V)=>typeof V=="function"?$?$+". "+V():V():$?$+". "+V:V,""))})}),this.editor.editing.downcastDispatcher.on("selection",(a,c,p)=>{this._clearPreviouslySelectedWidgets(p.writer);const _=p.writer,w=_.document.selection;let E=null;for(const I of w.getRanges())for(const O of I){const $=O.item;zn($)&&!zI($,E)&&(_.addClass(Gw,$),this._previouslySelected.add($),E=$)}},{priority:"low"}),t.addObserver(ou),this.listenTo(n,"mousedown",(...a)=>this._onMousedown(...a)),this.listenTo(n,"arrowKey",(...a)=>{this._handleSelectionChangeOnArrowKeyPress(...a)},{context:[zn,"$text"]}),this.listenTo(n,"arrowKey",(...a)=>{this._preventDefaultOnArrowKeyPress(...a)},{context:"$root"}),this.listenTo(n,"arrowKey",$I(this.editor.editing),{context:"$text"}),this.listenTo(n,"delete",(a,c)=>{this._handleDelete(c.direction=="forward")&&(c.preventDefault(),a.stop())},{context:"$root"})}_onMousedown(e,t){const n=this.editor,a=n.editing.view,c=a.document;let p=t.target;if(function(w){let E=w;for(;E;){if(E.is("editableElement")&&!E.is("rootElement"))return!0;if(zn(E))return!1;E=E.parent}return!1}(p)){if((g.isSafari||g.isGecko)&&t.domEvent.detail>=3){const w=n.editing.mapper,E=p.is("attributeElement")?p.findAncestor(O=>!O.is("attributeElement")):p,I=w.toModelElement(E);t.preventDefault(),this.editor.model.change(O=>{O.setSelection(I,"in")})}return}if(!zn(p)&&(p=p.findAncestor(zn),!p))return;g.isAndroid&&t.preventDefault(),c.isFocused||a.focus();const _=n.editing.mapper.toModelElement(p);this._setSelectionOverElement(_)}_handleSelectionChangeOnArrowKeyPress(e,t){const n=t.keyCode,a=this.editor.model,c=a.schema,p=a.document.selection,_=p.getSelectedElement(),w=qf(n,this.editor.locale.contentLanguageDirection),E=w=="down"||w=="right",I=w=="up"||w=="down";if(_&&c.isObject(_)){const $=E?p.getLastPosition():p.getFirstPosition(),V=c.getNearestSelectionRange($,E?"forward":"backward");return void(V&&(a.change(G=>{G.setSelection(V)}),t.preventDefault(),e.stop()))}if(!p.isCollapsed&&!t.shiftKey){const $=p.getFirstPosition(),V=p.getLastPosition(),G=$.nodeAfter,Q=V.nodeBefore;return void((G&&c.isObject(G)||Q&&c.isObject(Q))&&(a.change(ie=>{ie.setSelection(E?V:$)}),t.preventDefault(),e.stop()))}if(!p.isCollapsed)return;const O=this._getObjectElementNextToSelection(E);if(O&&c.isObject(O)){if(c.isInline(O)&&I)return;this._setSelectionOverElement(O),t.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,t){const n=this.editor.model,a=n.schema,c=n.document.selection.getSelectedElement();c&&a.isObject(c)&&(t.preventDefault(),e.stop())}_handleDelete(e){const t=this.editor.model.document.selection;if(!this.editor.model.canEditAt(t)||!t.isCollapsed)return;const n=this._getObjectElementNextToSelection(e);return n?(this.editor.model.change(a=>{let c=t.anchor.parent;for(;c.isEmpty;){const p=c;c=p.parent,a.remove(p)}this._setSelectionOverElement(n)}),!0):void 0}_setSelectionOverElement(e){this.editor.model.change(t=>{t.setSelection(t.createRangeOn(e))})}_getObjectElementNextToSelection(e){const t=this.editor.model,n=t.schema,a=t.document.selection,c=t.createSelection(a);if(t.modifySelection(c,{direction:e?"forward":"backward"}),c.isEqual(a))return null;const p=e?c.focus.nodeBefore:c.focus.nodeAfter;return p&&n.isObject(p)?p:null}_clearPreviouslySelectedWidgets(e){for(const t of this._previouslySelected)e.removeClass(Gw,t);this._previouslySelected.clear()}}function zI(s,e){return!!e&&Array.from(s.getAncestors()).includes(e)}class Su extends Ne{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[vu]}static get pluginName(){return"WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const t=e.plugins.get("BalloonToolbar");this.listenTo(t,"show",n=>{(function(a){const c=a.getSelectedElement();return!(!c||!zn(c))})(e.editing.view.document.selection)&&n.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:t,items:n,getRelatedElement:a,balloonClassName:c="ck-toolbar-container"}){if(!n.length)return void j("widget-toolbar-no-items",{toolbarId:e});const p=this.editor,_=p.t,w=new Wp(p.locale);if(w.ariaLabel=t||_("Widget toolbar"),this._toolbarDefinitions.has(e))throw new L("widget-toolbar-duplicated",this,{toolbarId:e});const E={view:w,getRelatedElement:a,balloonClassName:c,itemsConfig:n,initialized:!1};p.ui.addToolbar(w,{isContextual:!0,beforeFocus:()=>{const I=a(p.editing.view.document.selection);I&&this._showToolbar(E,I)},afterBlur:()=>{this._hideToolbar(E)}}),this._toolbarDefinitions.set(e,E)}_updateToolbarsVisibility(){let e=0,t=null,n=null;for(const a of this._toolbarDefinitions.values()){const c=a.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&c)if(this.editor.ui.focusTracker.isFocused){const p=c.getAncestors().length;p>e&&(e=p,t=c,n=a)}else this._isToolbarVisible(a)&&this._hideToolbar(a);else this._isToolbarInBalloon(a)&&this._hideToolbar(a)}n&&this._showToolbar(n,t)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,t){this._isToolbarVisible(e)?n2(this.editor,t):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:i2(this.editor,t),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const n of this._toolbarDefinitions.values())if(this._isToolbarVisible(n)){const a=n.getRelatedElement(this.editor.editing.view.document.selection);n2(this.editor,a)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function n2(s,e){const t=s.plugins.get("ContextualBalloon"),n=i2(s,e);t.updatePosition(n)}function i2(s,e){const t=s.editing.view,n=Wi.defaultPositions;return{target:t.domConverter.mapViewToDom(e),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast,n.viewportStickyNorth]}}class FI extends de(){constructor(e){super(),this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=e,this._referenceCoordinates=null}get originalWidth(){return this._originalWidth}get originalHeight(){return this._originalHeight}get originalWidthPercents(){return this._originalWidthPercents}get aspectRatio(){return this._aspectRatio}begin(e,t,n){const a=new wn(t);this.activeHandlePosition=function(p){const _=["top-left","top-right","bottom-right","bottom-left"];for(const w of _)if(p.classList.contains(VI(w)))return w}(e),this._referenceCoordinates=function(p,_){const w=new wn(p),E=_.split("-"),I={x:E[1]=="right"?w.right:w.left,y:E[0]=="bottom"?w.bottom:w.top};return I.x+=p.ownerDocument.defaultView.scrollX,I.y+=p.ownerDocument.defaultView.scrollY,I}(t,function(p){const _=p.split("-"),w={top:"bottom",bottom:"top",left:"right",right:"left"};return`${w[_[0]]}-${w[_[1]]}`}(this.activeHandlePosition)),this._originalWidth=a.width,this._originalHeight=a.height,this._aspectRatio=a.width/a.height;const c=n.style.width;c&&c.match(/^\d+(\.\d*)?%$/)?this._originalWidthPercents=parseFloat(c):this._originalWidthPercents=function(p,_){const w=p.parentElement;let E=parseFloat(w.ownerDocument.defaultView.getComputedStyle(w).width);const I=5;let O=0,$=w;for(;isNaN(E);){if($=$.parentElement,++O>I)return 0;E=parseFloat(w.ownerDocument.defaultView.getComputedStyle($).width)}return _.width/E*100}(n,a)}update(e){this.proposedWidth=e.width,this.proposedHeight=e.height,this.proposedWidthPercents=e.widthPercents,this.proposedHandleHostWidth=e.handleHostWidth,this.proposedHandleHostHeight=e.handleHostHeight}}function VI(s){return`ck-widget__resizer__handle-${s}`}class UI extends Pt{constructor(){super();const e=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",e.to("_viewPosition",t=>t?`ck-orientation-${t}`:"")],style:{display:e.if("_isVisible","none",t=>!t)}},children:[{text:e.to("_label")}]})}_bindToState(e,t){this.bind("_isVisible").to(t,"proposedWidth",t,"proposedHeight",(n,a)=>n!==null&&a!==null),this.bind("_label").to(t,"proposedHandleHostWidth",t,"proposedHandleHostHeight",t,"proposedWidthPercents",(n,a,c)=>e.unit==="px"?`${n}×${a}`:`${c}%`),this.bind("_viewPosition").to(t,"activeHandlePosition",t,"proposedHandleHostWidth",t,"proposedHandleHostHeight",(n,a,c)=>a<50||c<50?"above-center":n)}_dismiss(){this.unbind(),this._isVisible=!1}}var HI=Object.defineProperty,WI=Object.defineProperties,GI=Object.getOwnPropertyDescriptors,o2=Object.getOwnPropertySymbols,KI=Object.prototype.hasOwnProperty,YI=Object.prototype.propertyIsEnumerable,r2=(s,e,t)=>e in s?HI(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;class s2 extends de(){constructor(e){super(),this._viewResizerWrapper=null,this._options=e,this.set("isEnabled",!0),this.set("isSelected",!1),this.bind("isVisible").to(this,"isEnabled",this,"isSelected",(t,n)=>t&&n),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize"),this.on("commit",t=>{this.state.proposedWidth||this.state.proposedWidthPercents||(this._cleanup(),t.stop())},{priority:"high"})}get state(){return this._state}show(){this._options.editor.editing.view.change(e=>{e.removeClass("ck-hidden",this._viewResizerWrapper)})}hide(){this._options.editor.editing.view.change(e=>{e.addClass("ck-hidden",this._viewResizerWrapper)})}attach(){const e=this,t=this._options.viewElement;this._options.editor.editing.view.change(n=>{const a=n.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},function(c){const p=this.toDomElement(c);return e._appendHandles(p),e._appendSizeUI(p),p});n.insert(n.createPositionAt(t,"end"),a),n.addClass("ck-widget_with-resizer",t),this._viewResizerWrapper=a,this.isVisible||this.hide()}),this.on("change:isVisible",()=>{this.isVisible?(this.show(),this.redraw()):this.hide()})}begin(e){this._state=new FI(this._options),this._sizeView._bindToState(this._options,this.state),this._initialViewWidth=this._options.viewElement.getStyle("width"),this.state.begin(e,this._getHandleHost(),this._getResizeHost())}updateSize(e){const t=this._proposeNewSize(e);this._options.editor.editing.view.change(E=>{const I=this._options.unit||"%",O=(I==="%"?t.widthPercents:t.width)+I;E.setStyle("width",O,this._options.viewElement)});const n=this._getHandleHost(),a=new wn(n),c=Math.round(a.width),p=Math.round(a.height),_=new wn(n);var w;t.width=Math.round(_.width),t.height=Math.round(_.height),this.redraw(a),this.state.update((w=((E,I)=>{for(var O in I||(I={}))KI.call(I,O)&&r2(E,O,I[O]);if(o2)for(var O of o2(I))YI.call(I,O)&&r2(E,O,I[O]);return E})({},t),WI(w,GI({handleHostWidth:c,handleHostHeight:p}))))}commit(){const e=this._options.unit||"%",t=(e==="%"?this.state.proposedWidthPercents:this.state.proposedWidth)+e;this._options.editor.editing.view.change(()=>{this._cleanup(),this._options.onCommit(t)})}cancel(){this._cleanup()}destroy(){this.cancel()}redraw(e){const t=this._domResizerWrapper;if(!((n=t)&&n.ownerDocument&&n.ownerDocument.contains(n)))return;var n;const a=t.parentElement,c=this._getHandleHost(),p=this._viewResizerWrapper,_=[p.getStyle("width"),p.getStyle("height"),p.getStyle("left"),p.getStyle("top")];let w;if(a.isSameNode(c)){const E=e||new wn(c);w=[E.width+"px",E.height+"px",void 0,void 0]}else w=[c.offsetWidth+"px",c.offsetHeight+"px",c.offsetLeft+"px",c.offsetTop+"px"];Fe(_,w)!=="same"&&this._options.editor.editing.view.change(E=>{E.setStyle({width:w[0],height:w[1],left:w[2],top:w[3]},p)})}containsHandle(e){return this._domResizerWrapper.contains(e)}static isResizeHandle(e){return e.classList.contains("ck-widget__resizer__handle")}_cleanup(){this._sizeView._dismiss(),this._options.editor.editing.view.change(e=>{e.setStyle("width",this._initialViewWidth,this._options.viewElement)})}_proposeNewSize(e){const t=this.state,n={x:(a=e).pageX,y:a.pageY};var a;const c=!this._options.isCentered||this._options.isCentered(this),p={x:t._referenceCoordinates.x-(n.x+t.originalWidth),y:n.y-t.originalHeight-t._referenceCoordinates.y};c&&t.activeHandlePosition.endsWith("-right")&&(p.x=n.x-(t._referenceCoordinates.x+t.originalWidth)),c&&(p.x*=2);let _=Math.abs(t.originalWidth+p.x),w=Math.abs(t.originalHeight+p.y);return(_/t.aspectRatio>w?"width":"height")=="width"?w=_/t.aspectRatio:_=w*t.aspectRatio,{width:Math.round(_),height:Math.round(w),widthPercents:Math.min(Math.round(t.originalWidthPercents/t.originalWidth*_*100)/100,100)}}_getResizeHost(){const e=this._domResizerWrapper.parentElement;return this._options.getResizeHost(e)}_getHandleHost(){const e=this._domResizerWrapper.parentElement;return this._options.getHandleHost(e)}get _domResizerWrapper(){return this._options.editor.editing.view.domConverter.mapViewToDom(this._viewResizerWrapper)}_appendHandles(e){const t=["top-left","top-right","bottom-right","bottom-left"];for(const a of t)e.appendChild(new vo({tag:"div",attributes:{class:"ck-widget__resizer__handle "+(n=a,`ck-widget__resizer__handle-${n}`)}}).render());var n}_appendSizeUI(e){this._sizeView=new UI,this._sizeView.render(),e.appendChild(this._sizeView.element)}}var a2=d(8506),qI={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(a2.Z,qI),a2.Z.locals;class dm extends Ne{constructor(){super(...arguments),this._resizers=new Map}static get pluginName(){return"WidgetResize"}init(){const e=this.editor.editing,t=Vt.window.document;this.set("selectedResizer",null),this.set("_activeResizer",null),e.view.addObserver(ou),this._observer=new(yr()),this.listenTo(e.view.document,"mousedown",this._mouseDownListener.bind(this),{priority:"high"}),this._observer.listenTo(t,"mousemove",this._mouseMoveListener.bind(this)),this._observer.listenTo(t,"mouseup",this._mouseUpListener.bind(this)),this._redrawSelectedResizerThrottled=su(()=>this.redrawSelectedResizer(),200),this.editor.ui.on("update",this._redrawSelectedResizerThrottled),this.editor.model.document.on("change",()=>{for(const[a,c]of this._resizers)a.isAttached()||(this._resizers.delete(a),c.destroy())},{priority:"lowest"}),this._observer.listenTo(Vt.window,"resize",this._redrawSelectedResizerThrottled);const n=this.editor.editing.view.document.selection;n.on("change",()=>{const a=n.getSelectedElement(),c=this.getResizerByViewElement(a)||null;c?this.select(c):this.deselect()})}redrawSelectedResizer(){this.selectedResizer&&this.selectedResizer.isVisible&&this.selectedResizer.redraw()}destroy(){super.destroy(),this._observer.stopListening();for(const e of this._resizers.values())e.destroy();this._redrawSelectedResizerThrottled.cancel()}select(e){this.deselect(),this.selectedResizer=e,this.selectedResizer.isSelected=!0}deselect(){this.selectedResizer&&(this.selectedResizer.isSelected=!1),this.selectedResizer=null}attachTo(e){const t=new s2(e),n=this.editor.plugins;if(t.attach(),n.has("WidgetToolbarRepository")){const c=n.get("WidgetToolbarRepository");t.on("begin",()=>{c.forceDisabled("resize")},{priority:"lowest"}),t.on("cancel",()=>{c.clearForceDisabled("resize")},{priority:"highest"}),t.on("commit",()=>{c.clearForceDisabled("resize")},{priority:"highest"})}this._resizers.set(e.viewElement,t);const a=this.editor.editing.view.document.selection.getSelectedElement();return this.getResizerByViewElement(a)==t&&this.select(t),t}getResizerByViewElement(e){return this._resizers.get(e)}_getResizerByHandle(e){for(const t of this._resizers.values())if(t.containsHandle(e))return t}_mouseDownListener(e,t){const n=t.domTarget;s2.isResizeHandle(n)&&(this._activeResizer=this._getResizerByHandle(n)||null,this._activeResizer&&(this._activeResizer.begin(n),e.stop(),t.preventDefault()))}_mouseMoveListener(e,t){this._activeResizer&&this._activeResizer.updateSize(t)}_mouseUpListener(){this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)}}var l2=d(903),ZI={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(l2.Z,ZI),l2.Z.locals;class QI extends Ne{static get pluginName(){return"DragDrop"}static get requires(){return[or,mc]}init(){const e=this.editor,t=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,this._updateDropMarkerThrottled=su(n=>this._updateDropMarker(n),40),this._removeDropMarkerDelayed=Zf(()=>this._removeDropMarker(),40),this._clearDraggableAttributesDelayed=Zf(()=>this._clearDraggableAttributes(),40),e.plugins.has("DragDropExperimental")?this.forceDisabled("DragDropExperimental"):(t.addObserver(om),t.addObserver(ou),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDropMarker(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(n,a,c)=>{c?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(n,a,c)=>{c||this._finalizeDragging(!1)}),g.isAndroid&&this.forceDisabled("noAndroidSupport"))}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._updateDropMarkerThrottled.cancel(),this._removeDropMarkerDelayed.cancel(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,t=e.model,n=t.document,a=e.editing.view,c=a.document;this.listenTo(c,"dragstart",(p,_)=>{const w=n.selection;if(_.target&&_.target.is("editableElement"))return void _.preventDefault();const E=_.target?u2(_.target):null;if(E){const V=e.editing.mapper.toModelElement(E);this._draggedRange=Ro.fromRange(t.createRangeOn(V)),e.plugins.has("WidgetToolbarRepository")&&e.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop")}else if(!c.selection.isCollapsed){const V=c.selection.getSelectedElement();V&&zn(V)||(this._draggedRange=Ro.fromRange(w.getFirstRange()))}if(!this._draggedRange)return void _.preventDefault();this._draggingUid=S();const I=this.isEnabled&&e.model.canEditAt(this._draggedRange);_.dataTransfer.effectAllowed=I?"copyMove":"copy",_.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const O=t.createSelection(this._draggedRange.toRange()),$=e.data.toView(t.getSelectedContent(O));c.fire("clipboardOutput",{dataTransfer:_.dataTransfer,content:$,method:"dragstart"}),I||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(c,"dragend",(p,_)=>{this._finalizeDragging(!_.dataTransfer.isCanceled&&_.dataTransfer.dropEffect=="move")},{priority:"low"}),this.listenTo(c,"dragenter",()=>{this.isEnabled&&a.focus()}),this.listenTo(c,"dragleave",()=>{this._removeDropMarkerDelayed()}),this.listenTo(c,"dragging",(p,_)=>{if(!this.isEnabled)return void(_.dataTransfer.dropEffect="none");this._removeDropMarkerDelayed.cancel();const w=c2(e,_.targetRanges,_.target);e.model.canEditAt(w)?(this._draggedRange||(_.dataTransfer.dropEffect="copy"),g.isGecko||(_.dataTransfer.effectAllowed=="copy"?_.dataTransfer.dropEffect="copy":["all","copyMove"].includes(_.dataTransfer.effectAllowed)&&(_.dataTransfer.dropEffect="move")),w&&this._updateDropMarkerThrottled(w)):_.dataTransfer.dropEffect="none"},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"clipboardInput",(n,a)=>{if(a.method!="drop")return;const c=c2(e,a.targetRanges,a.target);if(this._removeDropMarker(),!c||!e.model.canEditAt(c))return this._finalizeDragging(!1),void n.stop();if(this._draggedRange&&this._draggingUid!=a.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),d2(a.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(c,!0))return this._finalizeDragging(!1),void n.stop();a.targetRanges=[e.editing.mapper.toViewRange(c)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(or);e.on("contentInsertion",(t,n)=>{if(!this.isEnabled||n.method!=="drop")return;const a=n.targetRanges.map(c=>this.editor.editing.mapper.toModelRange(c));this.editor.model.change(c=>c.setSelection(a))},{priority:"high"}),e.on("contentInsertion",(t,n)=>{if(!this.isEnabled||n.method!=="drop")return;const a=d2(n.dataTransfer)=="move",c=!n.resultRange||!n.resultRange.isCollapsed;this._finalizeDragging(c&&a)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,t=e.editing.view,n=t.document;this.listenTo(n,"mousedown",(a,c)=>{if(g.isAndroid||!c)return;this._clearDraggableAttributesDelayed.cancel();let p=u2(c.target);if(g.isBlink&&!p&&!n.selection.isCollapsed){const _=n.selection.getSelectedElement();if(!_||!zn(_)){const w=n.selection.editableElement;w&&!w.isReadOnly&&(p=w)}}p&&(t.change(_=>{_.setAttribute("draggable","true",p)}),this._draggableElement=e.editing.mapper.toModelElement(p))}),this.listenTo(n,"mouseup",()=>{g.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(t=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&t.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_setupDropMarker(){const e=this.editor;e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(t,{writer:n})=>{if(e.model.schema.checkChild(t.markerRange.start,"$text"))return n.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(a){const c=this.toDomElement(a);return c.append("⁠",a.createElement("span"),"⁠"),c})}})}_updateDropMarker(e){const t=this.editor,n=t.model.markers;t.model.change(a=>{n.has("drop-target")?n.get("drop-target").getRange().isEqual(e)||a.updateMarker("drop-target",{range:e}):a.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_removeDropMarker(){const e=this.editor.model;this._removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),e.markers.has("drop-target")&&e.change(t=>{t.removeMarker("drop-target")})}_finalizeDragging(e){const t=this.editor,n=t.model;this._removeDropMarker(),this._clearDraggableAttributes(),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._draggedRange&&(e&&this.isEnabled&&n.deleteContent(n.createSelection(this._draggedRange),{doNotAutoparagraph:!0}),this._draggedRange.detach(),this._draggedRange=null)}}function c2(s,e,t){const n=s.model,a=s.editing.mapper;let c=null;const p=e?e[0].start:null;if(t.is("uiElement")&&(t=t.parent),c=function(E,I){const O=E.model,$=E.editing.mapper;if(zn(I))return O.createRangeOn($.toModelElement(I));if(!I.is("editableElement")){const V=I.findAncestor(G=>zn(G)||G.is("editableElement"));if(zn(V))return O.createRangeOn($.toModelElement(V))}return null}(s,t),c)return c;const _=function(E,I){const O=E.editing.mapper,$=E.editing.view,V=O.toModelElement(I);if(V)return V;const G=$.createPositionBefore(I),Q=O.findMappedViewAncestor(G);return O.toModelElement(Q)}(s,t),w=p?a.toModelPosition(p):null;return w?(c=function(E,I,O){const $=E.model;if(!$.schema.checkChild(O,"$block"))return null;const V=$.createPositionAt(O,0),G=I.path.slice(0,V.path.length),Q=$.createPositionFromPath(I.root,G),ie=Q.nodeAfter;return ie&&$.schema.isObject(ie)?$.createRangeOn(ie):null}(s,w,_),c||(c=n.schema.getNearestSelectionRange(w,g.isGecko?"forward":"backward"),c||function(E,I){const O=E.model;let $=I;for(;$;){if(O.schema.isObject($))return O.createRangeOn($);$=$.parent}return null}(s,w.parent))):function(E,I){const O=E.model,$=O.schema,V=O.createPositionAt(I,0);return $.getNearestSelectionRange(V,"forward")}(s,_)}function d2(s){return g.isGecko?s.dropEffect:["all","copyMove"].includes(s.effectAllowed)?"move":"copy"}function u2(s){if(s.is("editableElement"))return null;if(s.hasClass("ck-widget__selection-handle"))return s.findAncestor(zn);if(zn(s))return s;const e=s.findAncestor(t=>zn(t)||t.is("editableElement"));return zn(e)?e:null}class JI extends Ne{static get pluginName(){return"PastePlainText"}static get requires(){return[or]}init(){const e=this.editor,t=e.model,n=e.editing.view,a=n.document,c=t.document.selection;let p=!1;n.addObserver(om),this.listenTo(a,"keydown",(_,w)=>{p=w.shiftKey}),e.plugins.get(or).on("contentInsertion",(_,w)=>{(p||function(E,I){if(E.childCount>1)return!1;const O=E.getChild(0);return I.isObject(O)?!1:Array.from(O.getAttributeKeys()).length==0}(w.content,t.schema))&&t.change(E=>{const I=Array.from(c.getAttributes()).filter(([$])=>t.schema.getAttributeProperties($).isFormatting);c.isCollapsed||t.deleteContent(c,{doNotAutoparagraph:!0}),I.push(...c.getAttributes());const O=E.createRangeIn(w.content);for(const $ of O.getItems())$.is("$textProxy")&&E.setAttributes(I,$)})})}}class h2 extends Ne{static get pluginName(){return"Clipboard"}static get requires(){return[or,QI,JI]}}class XI extends Nt{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,t=e.document.selection;let n=e.schema.getLimitElement(t);if(t.containsEntireContent(n)||!f2(e.schema,n))do if(n=n.parent,!n)return;while(!f2(e.schema,n));e.change(a=>{a.setSelection(n,"in")})}}function f2(s,e){return s.isLimit(e)&&(s.checkChild(e,"$text")||s.checkChild(e,"paragraph"))}const eM=zd("Ctrl+A");class tM extends Ne{static get pluginName(){return"SelectAllEditing"}init(){const e=this.editor,t=e.editing.view.document;e.commands.add("selectAll",new XI(e)),this.listenTo(t,"keydown",(n,a)=>{La(a)===eM&&(e.execute("selectAll"),a.preventDefault())})}}class nM extends Ne{static get pluginName(){return"SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",t=>{const n=e.commands.get("selectAll"),a=new qt(t),c=t.t;return a.set({label:c("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),a.bind("isEnabled").to(n,"isEnabled"),this.listenTo(a,"execute",()=>{e.execute("selectAll"),e.editing.view.focus()}),a})}}class iM extends Ne{static get requires(){return[tM,nM]}static get pluginName(){return"SelectAll"}}var oM=Object.defineProperty,p2=Object.getOwnPropertySymbols,rM=Object.prototype.hasOwnProperty,sM=Object.prototype.propertyIsEnumerable,m2=(s,e,t)=>e in s?oM(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;class g2 extends Nt{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",(t,n)=>{n[1]=((c,p)=>{for(var _ in p||(p={}))rM.call(p,_)&&m2(c,_,p[_]);if(p2)for(var _ of p2(p))sM.call(p,_)&&m2(c,_,p[_]);return c})({},n[1]);const a=n[1];a.batchType||(a.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(t,n)=>{n[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const t=this.editor.model.document.selection,n={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:n}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,t,n){const a=this.editor.model,c=a.document,p=[],_=e.map(E=>E.getTransformedByOperations(n)),w=_.flat();for(const E of _){const I=E.filter(O=>O.root!=c.graveyard).filter(O=>!lM(O,w));I.length&&(aM(I),p.push(I[0]))}p.length&&a.change(E=>{E.setSelection(p,{backward:t})})}_undo(e,t){const n=this.editor.model,a=n.document;this._createdBatches.add(t);const c=e.operations.slice().filter(p=>p.isDocumentOperation);c.reverse();for(const p of c){const _=p.baseVersion+1,w=Array.from(a.history.getOperations(_)),E=y9([p.getReversed()],w,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let I of E){const O=I.affectedSelectable;O&&!n.canEditAt(O)&&(I=new ri(I.baseVersion)),t.addOperation(I),n.applyOperation(I),a.history.setOperationAsUndone(p,I)}}}}function aM(s){s.sort((e,t)=>e.start.isBefore(t.start)?-1:1);for(let e=1;e<s.length;e++){const t=s[e-1].getJoined(s[e],!0);t&&(e--,s.splice(e,2,t))}}function lM(s,e){return e.some(t=>t!==s&&t.containsRange(s,!0))}class cM extends g2{execute(e=null){const t=e?this._stack.findIndex(c=>c.batch==e):this._stack.length-1,n=this._stack.splice(t,1)[0],a=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(a,()=>{this._undo(n.batch,a);const c=this.editor.model.document.history.getOperations(n.batch.baseVersion);this._restoreSelection(n.selection.ranges,n.selection.isBackward,c)}),this.fire("revert",n.batch,a),this.refresh()}}class dM extends g2{execute(){const e=this._stack.pop(),t=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(t,()=>{const n=e.batch.operations[e.batch.operations.length-1].baseVersion+1,a=this.editor.model.document.history.getOperations(n);this._restoreSelection(e.selection.ranges,e.selection.isBackward,a),this._undo(e.batch,t)}),this.refresh()}}class uM extends Ne{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const e=this.editor;this._undoCommand=new cM(e),this._redoCommand=new dM(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(t,n)=>{const a=n[0];if(!a.isDocumentOperation)return;const c=a.batch,p=this._redoCommand.createdBatches.has(c),_=this._undoCommand.createdBatches.has(c);this._batchRegistry.has(c)||(this._batchRegistry.add(c),c.isUndoable&&(p?this._undoCommand.addBatch(c):_||(this._undoCommand.addBatch(c),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(t,n,a)=>{this._redoCommand.addBatch(a)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo")}}const _2='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',b2='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class hM extends Ne{static get pluginName(){return"UndoUI"}init(){const e=this.editor,t=e.locale,n=e.t,a=t.uiLanguageDirection=="ltr"?_2:b2,c=t.uiLanguageDirection=="ltr"?b2:_2;this._addButton("undo",n("Undo"),"CTRL+Z",a),this._addButton("redo",n("Redo"),"CTRL+Y",c)}_addButton(e,t,n,a){const c=this.editor;c.ui.componentFactory.add(e,p=>{const _=c.commands.get(e),w=new qt(p);return w.set({label:t,icon:a,keystroke:n,tooltip:!0}),w.bind("isEnabled").to(_,"isEnabled"),this.listenTo(w,"execute",()=>{c.execute(e),c.editing.view.focus()}),w})}}class v2 extends Ne{static get requires(){return[uM,hM]}static get pluginName(){return"Undo"}}const um=["left","right","center","justify"];function k2(s){return um.includes(s)}function w2(s,e){return e.contentLanguageDirection=="rtl"?s==="right":s==="left"}function y2(s){const e=s.map(n=>{let a;return a=typeof n=="string"?{name:n}:n,a}).filter(n=>{const a=um.includes(n.name);return a||j("alignment-config-name-not-recognized",{option:n}),a}),t=e.filter(n=>!!n.className).length;if(t&&t<e.length)throw new L("alignment-config-classnames-are-missing",{configuredOptions:s});return e.forEach((n,a,c)=>{const p=c.slice(a+1);if(p.some(_=>_.name==n.name))throw new L("alignment-config-name-already-defined",{option:n,configuredOptions:s});if(n.className&&p.some(_=>_.className==n.className))throw new L("alignment-config-classname-already-defined",{option:n,configuredOptions:s})}),e}const hm="alignment";class fM extends Nt{refresh(){const e=this.editor.locale,t=Hn(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!t&&this._canBeAligned(t),this.isEnabled&&t.hasAttribute("alignment")?this.value=t.getAttribute("alignment"):this.value=e.contentLanguageDirection==="rtl"?"right":"left"}execute(e={}){const t=this.editor,n=t.locale,a=t.model,c=a.document,p=e.value;a.change(_=>{const w=Array.from(c.selection.getSelectedBlocks()).filter(I=>this._canBeAligned(I)),E=w[0].getAttribute("alignment");w2(p,n)||E===p||!p?function(I,O){for(const $ of I)O.removeAttribute(hm,$)}(w,_):function(I,O,$){for(const V of I)O.setAttribute(hm,$,V)}(w,_,p)})}_canBeAligned(e){return this.editor.model.schema.checkAttribute(e,hm)}}class pM extends Ne{static get pluginName(){return"AlignmentEditing"}constructor(e){super(e),e.config.define("alignment",{options:um.map(t=>({name:t}))})}init(){const e=this.editor,t=e.locale,n=e.model.schema,a=y2(e.config.get("alignment.options")).filter(w=>k2(w.name)&&!w2(w.name,t)),c=a.some(w=>!!w.className);n.extend("$block",{allowAttributes:"alignment"}),e.model.schema.setAttributeProperties("alignment",{isFormatting:!0}),c?e.conversion.attributeToAttribute(function(w){const E={};for(const O of w)E[O.name]={key:"class",value:O.className};return{model:{key:"alignment",values:w.map(O=>O.name)},view:E}}(a)):e.conversion.for("downcast").attributeToAttribute(function(w){const E={};for(const{name:O}of w)E[O]={key:"style",value:{"text-align":O}};return{model:{key:"alignment",values:w.map(O=>O.name)},view:E}}(a));const p=function(w){const E=[];for(const{name:I}of w)E.push({view:{key:"style",value:{"text-align":I}},model:{key:"alignment",value:I}});return E}(a);for(const w of p)e.conversion.for("upcast").attributeToAttribute(w);const _=function(w){const E=[];for(const{name:I}of w)E.push({view:{key:"align",value:I},model:{key:"alignment",value:I}});return E}(a);for(const w of _)e.conversion.for("upcast").attributeToAttribute(w);e.commands.add("alignment",new fM(e))}}const Eu=new Map([["left",mn.alignLeft],["right",mn.alignRight],["center",mn.alignCenter],["justify",mn.alignJustify]]);class mM extends Ne{get localizedOptionTitles(){const e=this.editor.t;return{left:e("Align left"),right:e("Align right"),center:e("Align center"),justify:e("Justify")}}static get pluginName(){return"AlignmentUI"}init(){const e=this.editor,t=e.ui.componentFactory,n=e.t,a=y2(e.config.get("alignment.options"));a.map(c=>c.name).filter(k2).forEach(c=>this._addButton(c)),t.add("alignment",c=>{const p=Hi(c);uu(p,()=>a.map(E=>t.create(`alignment:${E.name}`)),{enableActiveItemFocusOnDropdownOpen:!0,isVertical:!0,ariaLabel:n("Text alignment toolbar")}),p.buttonView.set({label:n("Text alignment"),tooltip:!0}),p.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});const _=c.contentLanguageDirection==="rtl"?Eu.get("right"):Eu.get("left"),w=e.commands.get("alignment");return p.buttonView.bind("icon").to(w,"value",E=>Eu.get(E)||_),p.bind("isEnabled").to(w,"isEnabled"),this.listenTo(p,"execute",()=>{e.editing.view.focus()}),p})}_addButton(e){const t=this.editor;t.ui.componentFactory.add(`alignment:${e}`,n=>{const a=t.commands.get("alignment"),c=new qt(n);return c.set({label:this.localizedOptionTitles[e],icon:Eu.get(e),tooltip:!0,isToggleable:!0}),c.bind("isEnabled").to(a),c.bind("isOn").to(a,"value",p=>p===e),this.listenTo(c,"execute",()=>{t.execute("alignment",{value:e}),t.editing.view.focus()}),c})}}class Du extends Nt{constructor(e,t){super(e),this.attributeKey=t}refresh(){const e=this.editor.model,t=e.document;this.value=t.selection.getAttribute(this.attributeKey),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){const t=this.editor.model,n=t.document.selection,a=e.value,c=e.batch,p=_=>{if(n.isCollapsed)a?_.setSelectionAttribute(this.attributeKey,a):_.removeSelectionAttribute(this.attributeKey);else{const w=t.schema.getValidRanges(n.getRanges(),this.attributeKey);for(const E of w)a?_.setAttribute(this.attributeKey,a,E):_.removeAttribute(this.attributeKey,E)}};c?t.enqueueChange(c,_=>{p(_)}):t.change(_=>{p(_)})}}const so="fontSize",ao="fontFamily",rr="fontColor",Er="fontBackgroundColor";function C2(s,e){const t={model:{key:s,values:[]},view:{},upcastAlso:{}};for(const n of e)t.model.values.push(n.model),t.view[n.model]=n.view,n.upcastAlso&&(t.upcastAlso[n.model]=n.upcastAlso);return t}function A2(s){return e=>e.getStyle(s).replace(/\s/g,"")}function x2(s){return(e,{writer:t})=>t.createAttributeElement("span",{style:`${s}:${e}`},{priority:7})}class gM extends Du{constructor(e){super(e,ao)}}function S2(s){return s.map(_M).filter(e=>e!==void 0)}function _M(s){return typeof s=="object"?s:s==="default"?{title:"Default",model:void 0}:typeof s=="string"?function(e){const t=e.replace(/"|'/g,"").split(","),n=t[0],a=t.map(bM).join(", ");return{title:n,model:a,view:{name:"span",styles:{"font-family":a},priority:7}}}(s):void 0}function bM(s){return(s=s.trim()).indexOf(" ")>0&&(s=`'${s}'`),s}class vM extends Ne{static get pluginName(){return"FontFamilyEditing"}constructor(e){super(e),e.config.define(ao,{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!1})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:ao}),e.model.schema.setAttributeProperties(ao,{isFormatting:!0,copyOnEnter:!0});const t=S2(e.config.get("fontFamily.options")).filter(a=>a.model),n=C2(ao,t);e.config.get("fontFamily.supportAllValues")?(this._prepareAnyValueConverters(),this._prepareCompatibilityConverter()):e.conversion.attributeToElement(n),e.commands.add(ao,new gM(e))}_prepareAnyValueConverters(){const e=this.editor;e.conversion.for("downcast").attributeToElement({model:ao,view:(t,{writer:n})=>n.createAttributeElement("span",{style:"font-family:"+t},{priority:7})}),e.conversion.for("upcast").elementToAttribute({model:{key:ao,value:t=>t.getStyle("font-family")},view:{name:"span",styles:{"font-family":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{face:/.*/}},model:{key:ao,value:e=>e.getAttribute("face")}})}}class kM extends Ne{static get pluginName(){return"FontFamilyUI"}init(){const e=this.editor,t=e.t,n=this._getLocalizedOptions(),a=e.commands.get(ao),c=t("Font Family");e.ui.componentFactory.add(ao,p=>{const _=Hi(p);return uc(_,()=>function(w,E){const I=new Oi;for(const O of w){const $={type:"button",model:new fc({commandName:ao,commandParam:O.model,label:O.title,role:"menuitemradio",withText:!0})};$.model.bind("isOn").to(E,"value",V=>V===O.model||!(!V||!O.model)&&V.split(",")[0].replace(/'/g,"").toLowerCase()===O.model.toLowerCase()),O.view&&typeof O.view!="string"&&O.view.styles&&$.model.set("labelStyle",`font-family: ${O.view.styles["font-family"]}`),I.add($)}return I}(n,a),{role:"menu",ariaLabel:c}),_.buttonView.set({label:c,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.03 3h6.149a.75.75 0 1 1 0 1.5h-5.514L11.03 3zm1.27 3h4.879a.75.75 0 1 1 0 1.5h-4.244L12.3 6zm1.27 3h3.609a.75.75 0 1 1 0 1.5h-2.973L13.57 9zm-2.754 2.5L8.038 4.785 5.261 11.5h5.555zm.62 1.5H4.641l-1.666 4.028H1.312l5.789-14h1.875l5.789 14h-1.663L11.436 13z"/></svg>',tooltip:!0}),_.extendTemplate({attributes:{class:"ck-font-family-dropdown"}}),_.bind("isEnabled").to(a),this.listenTo(_,"execute",w=>{e.execute(w.source.commandName,{value:w.source.commandParam}),e.editing.view.focus()}),_})}_getLocalizedOptions(){const e=this.editor,t=e.t;return S2(e.config.get(ao).options).map(n=>(n.title==="Default"&&(n.title=t("Default")),n))}}class wM extends Du{constructor(e){super(e,so)}}function fm(s){return s.map(e=>function(t){if(typeof t=="number"&&(t=String(t)),typeof t=="object"&&(n=t,n.title&&n.model&&n.view))return pm(t);var n;const a=function(c){return typeof c=="string"?E2[c]:E2[c.model]}(t);if(a)return pm(a);if(t==="default")return{model:void 0,title:"Default"};if(!function(c){let p;if(typeof c=="object"){if(!c.model)throw new L("font-size-invalid-definition",null,c);p=parseFloat(c.model)}else p=parseFloat(c);return isNaN(p)}(t))return function(c){return typeof c=="string"&&(c={title:c,model:`${parseFloat(c)}px`}),c.view={name:"span",styles:{"font-size":c.model}},pm(c)}(t)}(e)).filter(e=>e!==void 0)}const E2={get tiny(){return{title:"Tiny",model:"tiny",view:{name:"span",classes:"text-tiny",priority:7}}},get small(){return{title:"Small",model:"small",view:{name:"span",classes:"text-small",priority:7}}},get big(){return{title:"Big",model:"big",view:{name:"span",classes:"text-big",priority:7}}},get huge(){return{title:"Huge",model:"huge",view:{name:"span",classes:"text-huge",priority:7}}}};function pm(s){return s.view&&typeof s.view!="string"&&!s.view.priority&&(s.view.priority=7),s}const D2=["x-small","x-small","small","medium","large","x-large","xx-large","xxx-large"];class yM extends Ne{static get pluginName(){return"FontSizeEditing"}constructor(e){super(e),e.config.define(so,{options:["tiny","small","default","big","huge"],supportAllValues:!1})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:so}),e.model.schema.setAttributeProperties(so,{isFormatting:!0,copyOnEnter:!0});const t=e.config.get("fontSize.supportAllValues"),n=fm(this.editor.config.get("fontSize.options")).filter(c=>c.model),a=C2(so,n);t?(this._prepareAnyValueConverters(a),this._prepareCompatibilityConverter()):e.conversion.attributeToElement(a),e.commands.add(so,new wM(e))}_prepareAnyValueConverters(e){const t=this.editor,n=e.model.values.filter(a=>{return c=String(a),!(pD.test(c)||function(p){return mD.test(p)}(String(a)));var c});if(n.length)throw new L("font-size-invalid-use-of-named-presets",null,{presets:n});t.conversion.for("downcast").attributeToElement({model:so,view:(a,{writer:c})=>{if(a)return c.createAttributeElement("span",{style:"font-size:"+a},{priority:7})}}),t.conversion.for("upcast").elementToAttribute({model:{key:so,value:a=>a.getStyle("font-size")},view:{name:"span",styles:{"font-size":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{size:/^[+-]?\d{1,3}$/}},model:{key:so,value:e=>{const t=e.getAttribute("size"),n=t[0]==="-"||t[0]==="+";let a=parseInt(t,10);n&&(a=3+a);const c=D2.length-1,p=Math.min(Math.max(a,0),c);return D2[p]}}})}}var T2=d(6007),CM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(T2.Z,CM),T2.Z.locals;class AM extends Ne{static get pluginName(){return"FontSizeUI"}init(){const e=this.editor,t=e.t,n=this._getLocalizedOptions(),a=e.commands.get(so),c=t("Font Size");e.ui.componentFactory.add(so,p=>{const _=Hi(p);return uc(_,()=>function(w,E){const I=new Oi;for(const O of w){const $={type:"button",model:new fc({commandName:so,commandParam:O.model,label:O.title,class:"ck-fontsize-option",role:"menuitemradio",withText:!0})};O.view&&typeof O.view!="string"&&(O.view.styles&&$.model.set("labelStyle",`font-size:${O.view.styles["font-size"]}`),O.view.classes&&$.model.set("class",`${$.model.class} ${O.view.classes}`)),$.model.bind("isOn").to(E,"value",V=>V===O.model),I.add($)}return I}(n,a),{role:"menu",ariaLabel:c}),_.buttonView.set({label:c,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13zm7.55 2.279.779-.779.707.707-2.265 2.265-2.193-2.265.707-.707.765.765V4.825c0-.042 0-.083.002-.123l-.77.77-.707-.707L17.207 2.5l2.265 2.265-.707.707-.782-.782c.002.043.003.089.003.135v10.454z"/></svg>',tooltip:!0}),_.extendTemplate({attributes:{class:["ck-font-size-dropdown"]}}),_.bind("isEnabled").to(a),this.listenTo(_,"execute",w=>{e.execute(w.source.commandName,{value:w.source.commandParam}),e.editing.view.focus()}),_})}_getLocalizedOptions(){const e=this.editor,t=e.t,n={Default:t("Default"),Tiny:t("Tiny"),Small:t("Small"),Big:t("Big"),Huge:t("Huge")};return fm(e.config.get(so).options).map(a=>{const c=n[a.title];return c&&c!=a.title&&(a=Object.assign({},a,{title:c})),a})}}class xM extends Du{constructor(e){super(e,rr)}}class SM extends Ne{static get pluginName(){return"FontColorEditing"}constructor(e){super(e),e.config.define(rr,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),e.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{color:/[\s\S]+/}},model:{key:rr,value:A2("color")}}),e.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{color:/^#?\w+$/}},model:{key:rr,value:t=>t.getAttribute("color")}}),e.conversion.for("downcast").attributeToElement({model:rr,view:x2("color")}),e.commands.add(rr,new xM(e)),e.model.schema.extend("$text",{allowAttributes:rr}),e.model.schema.setAttributeProperties(rr,{isFormatting:!0,copyOnEnter:!0})}}class I2 extends Ne{constructor(e,{commandName:t,componentName:n,icon:a,dropdownLabel:c}){super(e),this.commandName=t,this.componentName=n,this.icon=a,this.dropdownLabel=c,this.columns=e.config.get(`${this.componentName}.columns`),this.colorSelectorView=void 0}init(){const e=this.editor,t=e.locale,n=t.t,a=e.commands.get(this.commandName),c=e.config.get(this.componentName),p=function(I){return I.map(WD).filter(O=>!!O)}(c.colors),_=function(I,O){const $=I.t,V={Black:$("Black"),"Dim grey":$("Dim grey"),Grey:$("Grey"),"Light grey":$("Light grey"),White:$("White"),Red:$("Red"),Orange:$("Orange"),Yellow:$("Yellow"),"Light green":$("Light green"),Green:$("Green"),Aquamarine:$("Aquamarine"),Turquoise:$("Turquoise"),"Light blue":$("Light blue"),Blue:$("Blue"),Purple:$("Purple")};return O.map(G=>{const Q=V[G.label];return Q&&Q!=G.label&&(G.label=Q),G})}(t,p),w=c.documentColors,E=c.colorPicker!==!1;e.ui.componentFactory.add(this.componentName,I=>{const O=Hi(I);let $=!1;return this.colorSelectorView=function({dropdownView:V,colors:G,columns:Q,removeButtonLabel:ie,colorPickerLabel:he,documentColorsLabel:ye,documentColorsCount:Oe,colorPickerViewConfig:it}){const Ct=V.locale,Zt=new LT(Ct,{colors:G,columns:Q,removeButtonLabel:ie,colorPickerLabel:he,documentColorsLabel:ye,documentColorsCount:Oe,colorPickerViewConfig:it});return V.colorSelectorView=Zt,V.panelView.children.add(Zt),Zt}({dropdownView:O,colors:_.map(V=>({label:V.label,color:V.model,options:{hasBorder:V.hasBorder}})),columns:this.columns,removeButtonLabel:n("Remove color"),colorPickerLabel:n("Color picker"),documentColorsLabel:w!==0?n("Document colors"):"",documentColorsCount:w===void 0?this.columns:w,colorPickerViewConfig:!!E&&(c.colorPicker||{})}),this.colorSelectorView.bind("selectedColor").to(a,"value"),O.buttonView.set({label:this.dropdownLabel,icon:this.icon,tooltip:!0}),O.extendTemplate({attributes:{class:"ck-color-ui-dropdown"}}),O.bind("isEnabled").to(a),this.colorSelectorView.on("execute",(V,G)=>{O.isOpen&&e.execute(this.commandName,{value:G.value,batch:this._undoStepBatch}),G.source!=="colorPicker"&&e.editing.view.focus(),G.source==="colorPickerSaveButton"&&(O.isOpen=!1)}),this.colorSelectorView.on("colorPicker:show",()=>{this._undoStepBatch=e.model.createBatch()}),this.colorSelectorView.on("colorPicker:cancel",()=>{this._undoStepBatch.operations.length&&(O.isOpen=!1,e.execute("undo",this._undoStepBatch)),e.editing.view.focus()}),O.on("change:isOpen",(V,G,Q)=>{$||($=!0,O.colorSelectorView.appendUI()),Q&&(w!==0&&this.colorSelectorView.updateDocumentColors(e.model,this.componentName),this.colorSelectorView.updateSelectedColors(),this.colorSelectorView.showColorGridsFragment())}),hu(O,()=>O.colorSelectorView.colorGridsFragmentView.staticColorsGrid.items.find(V=>V.isOn)),O})}}class EM extends I2{constructor(e){const t=e.locale.t;super(e,{commandName:rr,componentName:rr,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.4 10.3 10 4.5l-2.4 5.8h4.8zm.5 1.2H7.1L5.7 15H4.2l5-12h1.6l5 12h-1.5L13 11.5zm3.1 7H4a1 1 0 0 1 0-2h12a1 1 0 0 1 0 2z"/></svg>',dropdownLabel:t("Font Color")})}static get pluginName(){return"FontColorUI"}}class DM extends Du{constructor(e){super(e,Er)}}class TM extends Ne{static get pluginName(){return"FontBackgroundColorEditing"}constructor(e){super(e),e.config.define(Er,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),e.data.addStyleProcessorRules(SD),e.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{"background-color":/[\s\S]+/}},model:{key:Er,value:A2("background-color")}}),e.conversion.for("downcast").attributeToElement({model:Er,view:x2("background-color")}),e.commands.add(Er,new DM(e)),e.model.schema.extend("$text",{allowAttributes:Er}),e.model.schema.setAttributeProperties(Er,{isFormatting:!0,copyOnEnter:!0})}}class IM extends I2{constructor(e){const t=e.locale.t;super(e,{commandName:Er,componentName:Er,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M4 2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm8.38 9.262H7.62L10 5.506l2.38 5.756zm.532 1.285L14.34 16h1.426L10.804 4H9.196L4.234 16H5.66l1.428-3.453h5.824z"/></svg>',dropdownLabel:t("Font Background Color")})}static get pluginName(){return"FontBackgroundColorUI"}}class MM extends de(){constructor(){super();const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=t=>{this.loaded=t.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const t=this._reader;return this.total=e.size,new Promise((n,a)=>{t.onload=()=>{const c=t.result;this._data=c,n(c)},t.onerror=()=>{a("error")},t.onabort=()=>{a("aborted")},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}class $o extends Ne{constructor(){super(...arguments),this.loaders=new Oi,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[Yv]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,t)=>t?e/t*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return j("filerepository-no-upload-adapter"),null;const t=new M2(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(t),this._loadersMap.set(e,t),e instanceof Promise&&t.file.then(n=>{this._loadersMap.set(n,t)}).catch(()=>{}),t.on("change:uploaded",()=>{let n=0;for(const a of this.loaders)n+=a.uploaded;this.uploaded=n}),t.on("change:uploadTotal",()=>{let n=0;for(const a of this.loaders)a.uploadTotal&&(n+=a.uploadTotal);this.uploadTotal=n}),t}destroyLoader(e){const t=e instanceof M2?e:this.getLoader(e);t._destroy(),this.loaders.remove(t),this._loadersMap.forEach((n,a)=>{n===t&&this._loadersMap.delete(a)})}_updatePendingAction(){const e=this.editor.plugins.get(Yv);if(this.loaders.length){if(!this._pendingAction){const t=this.editor.t,n=a=>`${t("Upload in progress")} ${parseInt(a)}%.`;this._pendingAction=e.add(n(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",n)}}else e.remove(this._pendingAction),this._pendingAction=null}}class M2 extends de(){constructor(e,t){super(),this.id=S(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=t(this),this._reader=new MM,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(n,a)=>a?n/a*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new L("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if(this.status!=="reading")throw this.status;return this.status="idle",e}).catch(e=>{throw e==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:e)})}upload(){if(this.status!="idle")throw new L("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{throw this.status==="aborted"?"aborted":(this.status="error",e)})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?e=="reading"?this._reader.abort():e=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const t={};return t.promise=new Promise((n,a)=>{t.rejecter=a,t.isFulfilled=!1,e.then(c=>{t.isFulfilled=!0,n(c)}).catch(c=>{t.isFulfilled=!0,a(c)})}),t}}class PM extends Pt{constructor(e){super(e),this.buttonView=new qt(e),this._fileInputView=new OM(e),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class OM extends Pt{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:t.to("acceptedType"),multiple:t.to("allowMultipleFiles")},on:{change:t.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const P2="ckCsrfToken",O2="abcdefghijklmnopqrstuvwxyz0123456789";function BM(){let s=function(n){n=n.toLowerCase();const a=document.cookie.split(";");for(const c of a){const p=c.split("=");if(decodeURIComponent(p[0].trim().toLowerCase())===n)return decodeURIComponent(p[1])}return null}(P2);var e,t;return s&&s.length==40||(s=function(n){let a="";const c=new Uint8Array(n);window.crypto.getRandomValues(c);for(let p=0;p<c.length;p++){const _=O2.charAt(c[p]%O2.length);a+=Math.random()>.5?_.toUpperCase():_}return a}(40),e=P2,t=s,document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+";path=/"),s}class LM{constructor(e,t,n){this.loader=e,this.url=t,this.t=n}upload(){return this.loader.file.then(e=>new Promise((t,n)=>{this._initRequest(),this._initListeners(t,n,e),this._sendRequest(e)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const e=this.xhr=new XMLHttpRequest;e.open("POST",this.url,!0),e.responseType="json"}_initListeners(e,t,n){const a=this.xhr,c=this.loader,p=(0,this.t)("Cannot upload file:")+` ${n.name}.`;a.addEventListener("error",()=>t(p)),a.addEventListener("abort",()=>t()),a.addEventListener("load",()=>{const _=a.response;if(!_||!_.uploaded)return t(_&&_.error&&_.error.message?_.error.message:p);e({default:_.url})}),a.upload&&a.upload.addEventListener("progress",_=>{_.lengthComputable&&(c.uploadTotal=_.total,c.uploaded=_.loaded)})}_sendRequest(e){const t=new FormData;t.append("upload",e),t.append("ckCsrfToken",BM()),this.xhr.send(t)}}function os(s,e,t,n){let a,c=null;typeof n=="function"?a=n:(c=s.commands.get(n),a=()=>{s.execute(n)}),s.model.document.on("change:data",(p,_)=>{if(c&&!c.isEnabled||!e.isEnabled)return;const w=Hn(s.model.document.selection.getRanges());if(!w.isCollapsed||_.isUndo||!_.isLocal)return;const E=Array.from(s.model.document.differ.getChanges()),I=E[0];if(E.length!=1||I.type!=="insert"||I.name!="$text"||I.length!=1)return;const O=I.position.parent;if(O.is("element","codeBlock")||O.is("element","listItem")&&typeof n!="function"&&!["numberedList","bulletedList","todoList"].includes(n)||c&&c.value===!0)return;const $=O.getChild(0),V=s.model.createRangeOn($);if(!V.containsRange(w)&&!w.end.isEqual(V.end))return;const G=t.exec($.data.substr(0,w.end.offset));G&&s.model.enqueueChange(Q=>{const ie=Q.createPositionAt(O,0),he=Q.createPositionAt(O,G[0].length),ye=new Ro(ie,he);if(a({match:G})!==!1){Q.remove(ye);const Oe=s.model.document.selection.getFirstRange(),it=Q.createRangeIn(O);!O.isEmpty||it.isEqual(Oe)||it.containsRange(Oe,!0)||Q.remove(O)}ye.detach(),s.model.enqueueChange(()=>{s.plugins.get("Delete").requestUndoOnBackspace()})})})}function qa(s,e,t,n){let a,c;t instanceof RegExp?a=t:c=t,c=c||(p=>{let _;const w=[],E=[];for(;(_=a.exec(p))!==null&&!(_&&_.length<4);){let{index:I,1:O,2:$,3:V}=_;const G=O+$+V;I+=_[0].length-G.length;const Q=[I,I+O.length],ie=[I+O.length+$.length,I+O.length+$.length+V.length];w.push(Q),w.push(ie),E.push([I+O.length,I+O.length+$.length])}return{remove:w,format:E}}),s.model.document.on("change:data",(p,_)=>{if(_.isUndo||!_.isLocal||!e.isEnabled)return;const w=s.model,E=w.document.selection;if(!E.isCollapsed)return;const I=Array.from(w.document.differ.getChanges()),O=I[0];if(I.length!=1||O.type!=="insert"||O.name!="$text"||O.length!=1)return;const $=E.focus,V=$.parent,{text:G,range:Q}=function(Oe,it){let Ct=Oe.start;return{text:Array.from(Oe.getItems()).reduce(($t,Rn)=>!Rn.is("$text")&&!Rn.is("$textProxy")||Rn.getAttribute("code")?(Ct=it.createPositionAfter(Rn),""):$t+Rn.data,""),range:it.createRange(Ct,Oe.end)}}(w.createRange(w.createPositionAt(V,0),$),w),ie=c(G),he=B2(Q.start,ie.format,w),ye=B2(Q.start,ie.remove,w);he.length&&ye.length&&w.enqueueChange(Oe=>{if(n(Oe,he)!==!1){for(const it of ye.reverse())Oe.remove(it);w.enqueueChange(()=>{s.plugins.get("Delete").requestUndoOnBackspace()})}})})}function B2(s,e,t){return e.filter(n=>n[0]!==void 0&&n[1]!==void 0).map(n=>t.createRange(s.getShiftedBy(n[0]),s.getShiftedBy(n[1])))}function Tu(s,e){return(t,n)=>{if(!s.commands.get(e).isEnabled)return!1;const a=s.model.schema.getValidRanges(n,e);for(const c of a)t.setAttribute(e,!0,c);t.removeSelectionAttribute(e)}}class Iu extends Nt{constructor(e,t){super(e),this.attributeKey=t}refresh(){const e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(e={}){const t=this.editor.model,n=t.document.selection,a=e.forceValue===void 0?!this.value:e.forceValue;t.change(c=>{if(n.isCollapsed)a?c.setSelectionAttribute(this.attributeKey,!0):c.removeSelectionAttribute(this.attributeKey);else{const p=t.schema.getValidRanges(n.getRanges(),this.attributeKey);for(const _ of p)a?c.setAttribute(this.attributeKey,a,_):c.removeAttribute(this.attributeKey,_)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,t=e.schema,n=e.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);for(const a of n.getRanges())for(const c of a.getItems())if(t.checkAttribute(c,this.attributeKey))return c.hasAttribute(this.attributeKey);return!1}}const Za="bold";class RM extends Ne{static get pluginName(){return"BoldEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:Za}),e.model.schema.setAttributeProperties(Za,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Za,view:"strong",upcastAlso:["b",t=>{const n=t.getStyle("font-weight");return n&&(n=="bold"||Number(n)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(Za,new Iu(e,Za)),e.keystrokes.set("CTRL+B",Za)}}const mm="bold";class NM extends Ne{static get pluginName(){return"BoldUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(mm,n=>{const a=e.commands.get(mm),c=new qt(n);return c.set({label:t("Bold"),icon:mn.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),c.bind("isOn","isEnabled").to(a,"value","isEnabled"),this.listenTo(c,"execute",()=>{e.execute(mm),e.editing.view.focus()}),c})}}var L2=d(8603),$M={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(L2.Z,$M),L2.Z.locals;const Qa="italic";class jM extends Ne{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:Qa}),e.model.schema.setAttributeProperties(Qa,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Qa,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(Qa,new Iu(e,Qa)),e.keystrokes.set("CTRL+I",Qa)}}const gm="italic";class zM extends Ne{static get pluginName(){return"ItalicUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(gm,n=>{const a=e.commands.get(gm),c=new qt(n);return c.set({label:t("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),c.bind("isOn","isEnabled").to(a,"value","isEnabled"),this.listenTo(c,"execute",()=>{e.execute(gm),e.editing.view.focus()}),c})}}const gc="strikethrough";class FM extends Ne{static get pluginName(){return"StrikethroughEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:gc}),e.model.schema.setAttributeProperties(gc,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:gc,view:"s",upcastAlso:["del","strike",{styles:{"text-decoration":"line-through"}}]}),e.commands.add(gc,new Iu(e,gc)),e.keystrokes.set("CTRL+SHIFT+X","strikethrough")}}const _m="strikethrough";class VM extends Ne{static get pluginName(){return"StrikethroughUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(_m,n=>{const a=e.commands.get(_m),c=new qt(n);return c.set({label:t("Strikethrough"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 16.4c-.8-.4-1.5-.9-2.2-1.5a.6.6 0 0 1-.2-.5l.3-.6h1c1 1.2 2.1 1.7 3.7 1.7 1 0 1.8-.3 2.3-.6.6-.4.6-1.2.6-1.3.2-1.2-.9-2.1-.9-2.1h2.1c.3.7.4 1.2.4 1.7v.8l-.6 1.2c-.6.8-1.1 1-1.6 1.2a6 6 0 0 1-2.4.6c-1 0-1.8-.3-2.5-.6zM6.8 9 6 8.3c-.4-.5-.5-.8-.5-1.6 0-.7.1-1.3.5-1.8.4-.6 1-1 1.6-1.3a6.3 6.3 0 0 1 4.7 0 4 4 0 0 1 1.7 1l.3.7c0 .1.2.4-.2.7-.4.2-.9.1-1 0a3 3 0 0 0-1.2-1c-.4-.2-1-.3-2-.4-.7 0-1.4.2-2 .6-.8.6-1 .8-1 1.5 0 .8.5 1 1.2 1.5.6.4 1.1.7 1.9 1H6.8z"/><path d="M3 10.5V9h14v1.5z"/></svg>',keystroke:"CTRL+SHIFT+X",tooltip:!0,isToggleable:!0}),c.bind("isOn","isEnabled").to(a,"value","isEnabled"),this.listenTo(c,"execute",()=>{e.execute(_m),e.editing.view.focus()}),c})}}const _c="underline";class UM extends Ne{static get pluginName(){return"UnderlineEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:_c}),e.model.schema.setAttributeProperties(_c,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:_c,view:"u",upcastAlso:{styles:{"text-decoration":"underline"}}}),e.commands.add(_c,new Iu(e,_c)),e.keystrokes.set("CTRL+U","underline")}}const bm="underline";class HM extends Ne{static get pluginName(){return"UnderlineUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add(bm,n=>{const a=e.commands.get(bm),c=new qt(n);return c.set({label:t("Underline"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 18v-1.5h14V18zm2.2-8V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8 1.9 0 3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4z"/></svg>',keystroke:"CTRL+U",tooltip:!0,isToggleable:!0}),c.bind("isOn","isEnabled").to(a,"value","isEnabled"),this.listenTo(c,"execute",()=>{e.execute(bm),e.editing.view.focus()}),c})}}class WM extends Nt{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,n=t.schema,a=t.document.selection,c=Array.from(a.getSelectedBlocks()),p=e.forceValue===void 0?!this.value:e.forceValue;t.change(_=>{if(p){const w=c.filter(E=>Mu(E)||N2(n,E));this._applyQuote(_,w)}else this._removeQuote(_,c.filter(Mu))})}_getValue(){const e=Hn(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!Mu(e))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,n=Hn(e.getSelectedBlocks());return!!n&&N2(t,n)}_removeQuote(e,t){R2(e,t).reverse().forEach(n=>{if(n.start.isAtStart&&n.end.isAtEnd)return void e.unwrap(n.start.parent);if(n.start.isAtStart){const c=e.createPositionBefore(n.start.parent);return void e.move(n,c)}n.end.isAtEnd||e.split(n.end);const a=e.createPositionAfter(n.end.parent);e.move(n,a)})}_applyQuote(e,t){const n=[];R2(e,t).reverse().forEach(a=>{let c=Mu(a.start);c||(c=e.createElement("blockQuote"),e.wrap(a,c)),n.push(c)}),n.reverse().reduce((a,c)=>a.nextSibling==c?(e.merge(e.createPositionAfter(a)),a):c)}}function Mu(s){return s.parent.name=="blockQuote"?s.parent:null}function R2(s,e){let t,n=0;const a=[];for(;n<e.length;){const c=e[n],p=e[n+1];t||(t=s.createPositionBefore(c)),p&&c.nextSibling==p||(a.push(s.createRange(t,s.createPositionAfter(c))),t=null),n++}return a}function N2(s,e){const t=s.checkChild(e.parent,"blockQuote"),n=s.checkChild(["$root","blockQuote"],e);return t&&n}class GM extends Ne{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[Au,xr]}init(){const e=this.editor,t=e.model.schema;e.commands.add("blockQuote",new WM(e)),t.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(p=>{const _=e.model.document.differ.getChanges();for(const w of _)if(w.type=="insert"){const E=w.position.nodeAfter;if(!E)continue;if(E.is("element","blockQuote")&&E.isEmpty)return p.remove(E),!0;if(E.is("element","blockQuote")&&!t.checkChild(w.position,E))return p.unwrap(E),!0;if(E.is("element")){const I=p.createRangeIn(E);for(const O of I.getItems())if(O.is("element","blockQuote")&&!t.checkChild(p.createPositionBefore(O),O))return p.unwrap(O),!0}}else if(w.type=="remove"){const E=w.position.parent;if(E.is("element","blockQuote")&&E.isEmpty)return p.remove(E),!0}return!1});const n=this.editor.editing.view.document,a=e.model.document.selection,c=e.commands.get("blockQuote");this.listenTo(n,"enter",(p,_)=>{!a.isCollapsed||!c.value||a.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),_.preventDefault(),p.stop())},{context:"blockquote"}),this.listenTo(n,"delete",(p,_)=>{if(_.direction!="backward"||!a.isCollapsed||!c.value)return;const w=a.getLastPosition().parent;w.isEmpty&&!w.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),_.preventDefault(),p.stop())},{context:"blockquote"})}}var $2=d(3062),KM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()($2.Z,KM),$2.Z.locals;class YM extends Ne{static get pluginName(){return"BlockQuoteUI"}init(){const e=this.editor,t=e.t;e.ui.componentFactory.add("blockQuote",n=>{const a=e.commands.get("blockQuote"),c=new qt(n);return c.set({label:t("Block quote"),icon:mn.quote,tooltip:!0,isToggleable:!0}),c.bind("isOn","isEnabled").to(a,"value","isEnabled"),this.listenTo(c,"execute",()=>{e.execute("blockQuote"),e.editing.view.focus()}),c})}}class qM extends Ne{static get pluginName(){return"CKBoxUI"}afterInit(){const e=this.editor,t=e.commands.get("ckbox");if(!t)return;const n=e.t;e.ui.componentFactory.add("ckbox",a=>{const c=new qt(a);return c.set({label:n("Open file manager"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),c.bind("isOn","isEnabled").to(t,"value","isEnabled"),c.on("execute",()=>{e.execute("ckbox")}),c})}}function j2(s){const e=[];let t=0;for(const a in s){const c=parseInt(a,10);isNaN(c)||(c>t&&(t=c),e.push(`${s[a]} ${a}w`))}const n=[{srcset:e.join(","),sizes:`(max-width: ${t}px) 100vw, ${t}px`,type:"image/webp"}];return{imageFallbackUrl:s.default,imageSources:n}}class ZM extends Nt{constructor(e){super(e),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return this._wrapper!==null}_checkEnabled(){const e=this.editor.commands.get("insertImage"),t=this.editor.commands.get("link");return!(!e.isEnabled&&!t.isEnabled)}_prepareOptions(){const e=this.editor.config.get("ckbox");return{theme:e.theme,language:e.language,tokenUrl:e.tokenUrl,serviceOrigin:e.serviceOrigin,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:t=>this.fire("ckbox:choose",t)}}}_initListeners(){const e=this.editor,t=e.model,n=!e.config.get("ckbox.ignoreDataId");this.on("ckbox",()=>{this.refresh()},{priority:"low"}),this.on("ckbox:open",()=>{this.isEnabled&&!this.value&&(this._wrapper=yt(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))}),this.on("ckbox:close",()=>{this.value&&(this._wrapper.remove(),this._wrapper=null)}),this.on("ckbox:choose",(a,c)=>{if(!this.isEnabled)return;const p=e.commands.get("insertImage"),_=e.commands.get("link"),w=function({assets:E,isImageAllowed:I,isLinkAllowed:O}){return E.map($=>function(V){const G=V.data.metadata;return G?G.width&&G.height:!1}($)?{id:$.data.id,type:"image",attributes:QM($)}:{id:$.data.id,type:"link",attributes:JM($)}).filter($=>$.type==="image"?I:O)}({assets:c,isImageAllowed:p.isEnabled,isLinkAllowed:_.isEnabled});w.length!==0&&t.change(E=>{for(const I of w){const O=I===w[w.length-1];this._insertAsset(I,O,E),n&&(setTimeout(()=>this._chosenAssets.delete(I),1e3),this._chosenAssets.add(I))}})}),this.listenTo(e,"destroy",()=>{this.fire("ckbox:close"),this._chosenAssets.clear()})}_insertAsset(e,t,n){const a=this.editor.model.document.selection;n.removeSelectionAttribute("linkHref"),e.type==="image"?this._insertImage(e):this._insertLink(e,n),t||n.setSelection(a.getLastPosition())}_insertImage(e){const t=this.editor,{imageFallbackUrl:n,imageSources:a,imageTextAlternative:c}=e.attributes;t.execute("insertImage",{source:{src:n,sources:a,alt:c}})}_insertLink(e,t){const n=this.editor,a=n.model,c=a.document.selection,{linkName:p,linkHref:_}=e.attributes;if(c.isCollapsed){const w=Qo(c.getAttributes()),E=t.createText(p,w),I=a.insertContent(E);t.setSelection(I)}n.execute("link",_)}}function QM(s){const{imageFallbackUrl:e,imageSources:t}=j2(s.data.imageUrls);return{imageFallbackUrl:e,imageSources:t,imageTextAlternative:s.data.metadata.description||""}}function JM(s){return{linkName:s.data.name,linkHref:XM(s)}}function XM(s){const e=new URL(s.data.url);return e.searchParams.set("download","true"),e.toString()}var Gs=(s,e,t)=>new Promise((n,a)=>{var c=w=>{try{_(t.next(w))}catch(E){a(E)}},p=w=>{try{_(t.throw(w))}catch(E){a(E)}},_=w=>w.done?n(w.value):Promise.resolve(w.value).then(c,p);_((t=t.apply(s,e)).next())});class eP extends Ne{static get requires(){return["ImageUploadEditing","ImageUploadProgress",$o,vm]}static get pluginName(){return"CKBoxUploadAdapter"}afterInit(){return Gs(this,null,function*(){const e=this.editor,t=!!e.config.get("ckbox"),n=!!window.CKBox;if(!t&&!n)return;const a=e.plugins.get($o),c=e.plugins.get(vm);a.createUploadAdapter=w=>new tP(w,c.getToken(),e);const p=!e.config.get("ckbox.ignoreDataId"),_=e.plugins.get("ImageUploadEditing");p&&_.on("uploadComplete",(w,{imageElement:E,data:I})=>{e.model.change(O=>{O.setAttribute("ckboxImageId",I.ckboxImageId,E)})})})}}class tP{constructor(e,t,n){this.loader=e,this.token=t,this.editor=n,this.controller=new AbortController,this.serviceOrigin=n.config.get("ckbox.serviceOrigin")}getWorkspaceId(){const e=(0,this.editor.t)("Cannot access default workspace."),t=this.editor.config.get("ckbox.defaultUploadWorkspaceId"),n=function(a,c){const[,p]=a.value.split("."),_=JSON.parse(atob(p)),w=_.auth&&_.auth.ckbox&&_.auth.ckbox.workspaces||[_.aud];return c?(_.auth&&_.auth.ckbox&&_.auth.ckbox.role)=="superadmin"||w.includes(c)?c:null:w[0]}(this.token,t);if(n==null)throw N("ckbox-access-default-workspace-error"),e;return n}getAvailableCategories(e=0){return Gs(this,null,function*(){const t=new URL("categories",this.serviceOrigin);return t.searchParams.set("limit",50 .toString()),t.searchParams.set("offset",e.toString()),t.searchParams.set("workspaceId",this.getWorkspaceId()),this._sendHttpRequest({url:t}).then(n=>Gs(this,null,function*(){if(n.totalCount-(e+50)>0){const a=yield this.getAvailableCategories(e+50);return[...n.items,...a]}return n.items})).catch(()=>{this.controller.signal.throwIfAborted(),N("ckbox-fetch-category-http-error")})})}getCategoryIdForFile(e){return Gs(this,null,function*(){const t=function(p){const _=new RegExp("\\.(?<ext>[^.]+)$");return p.match(_).groups.ext.toLowerCase()}(e.name),n=yield this.getAvailableCategories();if(!n)return null;const a=this.editor.config.get("ckbox.defaultUploadCategories");if(a){const p=Object.keys(a).find(_=>a[_].find(w=>w.toLowerCase()==t));if(p){const _=n.find(w=>w.id===p||w.name===p);return _?_.id:null}}const c=n.find(p=>p.extensions.find(_=>_.toLowerCase()==t));return c?c.id:null})}upload(){return Gs(this,null,function*(){const e=this.editor.t,t=e("Cannot determine a category for the uploaded file."),n=yield this.loader.file,a=yield this.getCategoryIdForFile(n);if(!a)return Promise.reject(t);const c=new URL("assets",this.serviceOrigin),p=new FormData;c.searchParams.set("workspaceId",this.getWorkspaceId()),p.append("categoryId",a),p.append("file",n);const _={method:"POST",url:c,data:p,onUploadProgress:w=>{w.lengthComputable&&(this.loader.uploadTotal=w.total,this.loader.uploaded=w.loaded)}};return this._sendHttpRequest(_).then(w=>Gs(this,null,function*(){const E=j2(w.imageUrls);return{ckboxImageId:w.id,default:E.imageFallbackUrl,sources:E.imageSources}})).catch(()=>{const w=e("Cannot upload file:")+` ${n.name}.`;return Promise.reject(w)})})}abort(){this.controller.abort()}_sendHttpRequest({url:e,method:t="GET",data:n,onUploadProgress:a}){const c=this.controller.signal,p=new XMLHttpRequest;p.open(t,e.toString(),!0),p.setRequestHeader("Authorization",this.token.value),p.setRequestHeader("CKBox-Version","CKEditor 5"),p.responseType="json";const _=()=>{p.abort()};return new Promise((w,E)=>{c.addEventListener("abort",_),p.addEventListener("loadstart",()=>{c.addEventListener("abort",_)}),p.addEventListener("loadend",()=>{c.removeEventListener("abort",_)}),p.addEventListener("error",()=>{E()}),p.addEventListener("abort",()=>{E()}),p.addEventListener("load",()=>Gs(this,null,function*(){const I=p.response;return!I||I.statusCode>=400?E(I&&I.message):w(I)})),a&&p.upload.addEventListener("progress",I=>{a(I)}),p.send(n)})}}class vm extends Ne{static get pluginName(){return"CKBoxEditing"}static get requires(){return["CloudServices","LinkEditing","PictureEditing",eP]}init(){return e=this,t=null,n=function*(){const a=this.editor,c=!!a.config.get("ckbox"),p=!!window.CKBox;if(!c&&!p)return;this._initConfig();const _=a.plugins.get("CloudServicesCore"),w=a.config.get("ckbox.tokenUrl");if(w===a.config.get("cloudServices.tokenUrl")){const E=a.plugins.get("CloudServices");this._token=E.token}else this._token=yield _.createToken(w).init();a.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()),p&&a.commands.add("ckbox",new ZM(a))},new Promise((a,c)=>{var p=E=>{try{w(n.next(E))}catch(I){c(I)}},_=E=>{try{w(n.throw(E))}catch(I){c(I)}},w=E=>E.done?a(E.value):Promise.resolve(E.value).then(p,_);w((n=n.apply(e,t)).next())});var e,t,n}getToken(){return this._token}_initConfig(){const e=this.editor;if(e.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",defaultUploadCategories:null,ignoreDataId:!1,language:e.locale.uiLanguage,theme:"default",tokenUrl:e.config.get("cloudServices.tokenUrl")}),!e.config.get("ckbox.tokenUrl"))throw new L("ckbox-plugin-missing-token-url",this);e.plugins.has("ImageBlockEditing")||e.plugins.has("ImageInlineEditing")||N("ckbox-plugin-image-feature-missing",e)}_initSchema(){const e=this.editor.model.schema;e.extend("$text",{allowAttributes:"ckboxLinkId"}),e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.addAttributeCheck((t,n)=>{if(!t.last.getAttribute("linkHref")&&n==="ckboxLinkId")return!1})}_initConversion(){const e=this.editor;e.conversion.for("downcast").add(t=>{t.on("attribute:ckboxLinkId:imageBlock",(n,a,c)=>{const{writer:p,mapper:_,consumable:w}=c;if(!w.consume(a.item,n.name))return;const E=[..._.toViewElement(a.item).getChildren()].find(I=>I.name==="a");E&&(a.item.hasAttribute("ckboxLinkId")?p.setAttribute("data-ckbox-resource-id",a.item.getAttribute("ckboxLinkId"),E):p.removeAttribute("data-ckbox-resource-id",E))},{priority:"low"}),t.on("attribute:ckboxLinkId",(n,a,c)=>{const{writer:p,mapper:_,consumable:w}=c;if(w.consume(a.item,n.name)){if(a.attributeOldValue){const E=z2(p,a.attributeOldValue);p.unwrap(_.toViewRange(a.range),E)}if(a.attributeNewValue){const E=z2(p,a.attributeNewValue);if(a.item.is("selection")){const I=p.document.selection;p.wrap(I.getFirstRange(),E)}else p.wrap(_.toViewRange(a.range),E)}}},{priority:"low"})}),e.conversion.for("upcast").add(t=>{t.on("element:a",(n,a,c)=>{const{writer:p,consumable:_}=c;if(!a.viewItem.getAttribute("href")||!_.consume(a.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const w=a.viewItem.getAttribute("data-ckbox-resource-id");if(w)if(a.modelRange)for(let E of a.modelRange.getItems())E.is("$textProxy")&&(E=E.textNode),iP(E)&&p.setAttribute("ckboxLinkId",w,E);else{const E=a.modelCursor.nodeBefore||a.modelCursor.parent;p.setAttribute("ckboxLinkId",w,E)}},{priority:"low"})}),e.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),e.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:t=>t.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}})}_initFixers(){const e=this.editor,t=e.model,n=t.document.selection;t.document.registerPostFixer(function(a){return c=>{let p=!1;const _=a.model,w=a.commands.get("ckbox");if(!w)return p;for(const E of _.document.differ.getChanges()){if(E.type!=="insert"&&E.type!=="attribute")continue;const I=E.type==="insert"?new Pe(E.position,E.position.getShiftedBy(E.length)):E.range,O=E.type==="attribute"&&E.attributeKey==="linkHref"&&E.attributeNewValue===null;for(const $ of I.getItems()){if(O&&$.hasAttribute("ckboxLinkId")){c.removeAttribute("ckboxLinkId",$),p=!0;continue}const V=nP($,w._chosenAssets);for(const G of V){const Q=G.type==="image"?"ckboxImageId":"ckboxLinkId";G.id!==$.getAttribute(Q)&&(c.setAttribute(Q,G.id,$),p=!0)}}}return p}}(e)),t.document.registerPostFixer(function(a){return c=>!(a.hasAttribute("linkHref")||!a.hasAttribute("ckboxLinkId"))&&(c.removeSelectionAttribute("ckboxLinkId"),!0)}(n))}}function nP(s,e){const t=s.is("element","imageInline")||s.is("element","imageBlock"),n=s.hasAttribute("linkHref");return[...e].filter(a=>a.type==="image"&&t?a.attributes.imageFallbackUrl===s.getAttribute("src"):a.type==="link"&&n?a.attributes.linkHref===s.getAttribute("linkHref"):void 0)}function z2(s,e){const t=s.createAttributeElement("a",{"data-ckbox-resource-id":e},{priority:5});return s.setCustomProperty("link",!0,t),t}function iP(s){return!!s.is("$text")||!(!s.is("element","imageInline")&&!s.is("element","imageBlock"))}class oP extends Ne{static get pluginName(){return"CKFinderUI"}init(){const e=this.editor,t=e.ui.componentFactory,n=e.t;t.add("ckfinder",a=>{const c=e.commands.get("ckfinder"),p=new qt(a);return p.set({label:n("Insert image or file"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),p.bind("isEnabled").to(c),p.on("execute",()=>{e.execute("ckfinder"),e.editing.view.focus()}),p})}}class rP extends Nt{constructor(e){super(e),this.affectsData=!1,this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const e=this.editor.commands.get("insertImage"),t=this.editor.commands.get("link");this.isEnabled=e.isEnabled||t.isEnabled}execute(){const e=this.editor,t=this.editor.config.get("ckfinder.openerMethod")||"modal";if(t!="popup"&&t!="modal")throw new L("ckfinder-unknown-openermethod",e);const n=this.editor.config.get("ckfinder.options")||{};n.chooseFiles=!0;const a=n.onInit;n.language||(n.language=e.locale.uiLanguage),n.onInit=c=>{a&&a(c),c.on("files:choose",p=>{const _=p.data.files.toArray(),w=_.filter(O=>!O.isImage()),E=_.filter(O=>O.isImage());for(const O of w)e.execute("link",O.getUrl());const I=[];for(const O of E){const $=O.getUrl();I.push($||c.request("file:getProxyUrl",{file:O}))}I.length&&F2(e,I)}),c.on("file:choose:resizedImage",p=>{const _=p.data.resizedUrl;if(_)F2(e,[_]);else{const w=e.plugins.get("Notification"),E=e.locale.t;w.showWarning(E("Could not obtain resized image URL."),{title:E("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[t](n)}}function F2(s,e){if(s.commands.get("insertImage").isEnabled)s.execute("insertImage",{source:e});else{const t=s.plugins.get("Notification"),n=s.locale.t;t.showWarning(n("Could not insert image at the current position."),{title:n("Inserting image failed"),namespace:"ckfinder"})}}class sP extends Ne{static get pluginName(){return"CKFinderEditing"}static get requires(){return[im,"LinkEditing"]}init(){const e=this.editor;if(!e.plugins.has("ImageBlockEditing")&&!e.plugins.has("ImageInlineEditing"))throw new L("ckfinder-missing-image-plugin",e);e.commands.add("ckfinder",new rP(e))}}class aP extends Ne{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",$o]}init(){const e=this.editor,t=e.plugins.get("CloudServices"),n=t.token,a=t.uploadUrl;if(!n)return;const c=e.plugins.get("CloudServicesCore");this._uploadGateway=c.createUploadGateway(n,a),e.plugins.get($o).createUploadAdapter=p=>new lP(this._uploadGateway,p)}}class lP{constructor(e,t){this.uploadGateway=e,this.loader=t}upload(){return this.loader.file.then(e=>(this.fileUploader=this.uploadGateway.upload(e),this.fileUploader.on("progress",(t,n)=>{this.loader.uploadTotal=n.total,this.loader.uploaded=n.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class cP extends Nt{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,t=Hn(e.document.selection.getSelectedBlocks());this.value=!!t&&t.is("element","paragraph"),this.isEnabled=!!t&&V2(t,e.schema)}execute(e={}){const t=this.editor.model,n=t.document,a=e.selection||n.selection;t.canEditAt(a)&&t.change(c=>{const p=a.getSelectedBlocks();for(const _ of p)!_.is("element","paragraph")&&V2(_,t.schema)&&c.rename(_,"paragraph")})}}function V2(s,e){return e.checkChild(s.parent,"paragraph")&&!e.isObject(s)}class dP extends Nt{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}execute(e){const t=this.editor.model,n=e.attributes;let a=e.position;t.canEditAt(a)&&t.change(c=>{const p=c.createElement("paragraph"),_=t.schema.findAllowedParent(a,p);if(!_)return;if(n&&t.schema.setAllowedAttributes(p,n,c),a.path.length<2)return t.insertContent(p,a),void c.setSelection(p,"in");const w=a.parent,E=w.isEmpty,I=a.isAtEnd&&!w.isEmpty,O=a.isAtStart&&!w.isEmpty,$=t.schema.checkChild(w,p);E||I?a=c.createPositionAfter(w):O?a=c.createPositionBefore(w):$||(a=c.split(a,_).position),t.insertContent(p,a),c.setSelection(p,"in")})}}const U2=class extends Ne{static get pluginName(){return"Paragraph"}init(){const s=this.editor,e=s.model;s.commands.add("paragraph",new cP(s)),s.commands.add("insertParagraph",new dP(s)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),s.conversion.elementToElement({model:"paragraph",view:"p"}),s.conversion.for("upcast").elementToElement({model:(t,{writer:n})=>U2.paragraphLikeElements.has(t.name)?t.isEmpty?null:n.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}};let km=U2;km.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class uP extends Nt{constructor(e,t){super(e),this.modelElements=t}refresh(){const e=Hn(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(t=>H2(e,t,this.editor.model.schema))}execute(e){const t=this.editor.model,n=t.document,a=e.value;t.change(c=>{const p=Array.from(n.selection.getSelectedBlocks()).filter(_=>H2(_,a,t.schema));for(const _ of p)_.is("element",a)||c.rename(_,a)})}}function H2(s,e,t){return t.checkChild(s.parent,e)&&!t.isObject(s)}const W2="paragraph";class hP extends Ne{static get pluginName(){return"HeadingEditing"}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[km]}init(){const e=this.editor,t=e.config.get("heading.options"),n=[];for(const a of t)a.model!=="paragraph"&&(e.model.schema.register(a.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(a),n.push(a.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new uP(e,n))}afterInit(){const e=this.editor,t=e.commands.get("enter"),n=e.config.get("heading.options");t&&this.listenTo(t,"afterExecute",(a,c)=>{const p=e.model.document.selection.getFirstPosition().parent;n.some(_=>p.is("element",_.model))&&!p.is("element",W2)&&p.childCount===0&&c.writer.rename(p,W2)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:M.low+1})}}var G2=d(8733),fP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(G2.Z,fP),G2.Z.locals;class pP extends Ne{static get pluginName(){return"HeadingUI"}init(){const e=this.editor,t=e.t,n=function(p){const _=p.t,w={Paragraph:_("Paragraph"),"Heading 1":_("Heading 1"),"Heading 2":_("Heading 2"),"Heading 3":_("Heading 3"),"Heading 4":_("Heading 4"),"Heading 5":_("Heading 5"),"Heading 6":_("Heading 6")};return p.config.get("heading.options").map(E=>{const I=w[E.title];return I&&I!=E.title&&(E.title=I),E})}(e),a=t("Choose heading"),c=t("Heading");e.ui.componentFactory.add("heading",p=>{const _={},w=new Oi,E=e.commands.get("heading"),I=e.commands.get("paragraph"),O=[E];for(const V of n){const G={type:"button",model:new fc({label:V.title,class:V.class,role:"menuitemradio",withText:!0})};V.model==="paragraph"?(G.model.bind("isOn").to(I,"value"),G.model.set("commandName","paragraph"),O.push(I)):(G.model.bind("isOn").to(E,"value",Q=>Q===V.model),G.model.set({commandName:"heading",commandValue:V.model})),w.add(G),_[V.model]=V.title}const $=Hi(p);return uc($,w,{ariaLabel:c,role:"menu"}),$.buttonView.set({ariaLabel:c,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:c}),$.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),$.bind("isEnabled").toMany(O,"isEnabled",(...V)=>V.some(G=>G)),$.buttonView.bind("label").to(E,"value",I,"value",(V,G)=>{const Q=V||G&&"paragraph";return typeof Q=="boolean"?a:_[Q]?_[Q]:a}),this.listenTo($,"execute",V=>{const{commandName:G,commandValue:Q}=V.source;e.execute(G,Q?{value:Q}:void 0),e.editing.view.focus()}),$})}}function K2(s){return s.createContainerElement("figure",{class:"image"},[s.createEmptyElement("img"),s.createSlot("children")])}function Y2(s,e){const t=s.plugins.get("ImageUtils"),n=s.plugins.has("ImageInlineEditing")&&s.plugins.has("ImageBlockEditing");return c=>t.isInlineImageView(c)?n&&(c.getStyle("display")=="block"||c.findAncestor(t.isBlockImageView)?"imageBlock":"imageInline")!==e?null:a(c):null;function a(c){const p={name:!0};return c.hasAttribute("src")&&(p.attributes=["src"]),p}}function wm(s,e){const t=Hn(e.getSelectedBlocks());return!t||s.isObject(t)||t.isEmpty&&t.name!="listItem"?"imageBlock":"imageInline"}var mP=Object.defineProperty,q2=Object.getOwnPropertySymbols,gP=Object.prototype.hasOwnProperty,_P=Object.prototype.propertyIsEnumerable,Z2=(s,e,t)=>e in s?mP(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,Q2=(s,e)=>{for(var t in e||(e={}))gP.call(e,t)&&Z2(s,t,e[t]);if(q2)for(var t of q2(e))_P.call(e,t)&&Z2(s,t,e[t]);return s};class ko extends Ne{static get pluginName(){return"ImageUtils"}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},t=null,n=null){const a=this.editor,c=a.model,p=c.document.selection;n=J2(a,t||p,n),e=Q2(Q2({},Object.fromEntries(p.getAttributes())),e);for(const _ in e)c.schema.checkAttribute(n,_)||delete e[_];return c.change(_=>{const w=_.createElement(n,e);return c.insertObject(w,t,null,{setSelection:"on",findOptimalPosition:t||n=="imageInline"?void 0:"auto"}),w.parent?w:null})}getClosestSelectedImageWidget(e){const t=e.getFirstPosition();if(!t)return null;const n=e.getSelectedElement();if(n&&this.isImageWidget(n))return n;let a=t.parent;for(;a;){if(a.is("element")&&this.isImageWidget(a))return a;a=a.parent}return null}getClosestSelectedImageElement(e){const t=e.getSelectedElement();return this.isImage(t)?t:e.getFirstPosition().findAncestor("imageBlock")}isImageAllowed(){const e=this.editor.model.document.selection;return function(t,n){if(J2(t,n,null)=="imageBlock"){const c=function(p,_){const w=qw(p,_),E=w.start.parent;return E.isEmpty&&!E.is("element","$root")?E.parent:E}(n,t.model);if(t.model.schema.checkChild(c,"imageBlock"))return!0}else if(t.model.schema.checkChild(n.focus,"imageInline"))return!0;return!1}(this.editor,e)&&function(t){return[...t.focus.getAncestors()].every(n=>!n.is("element","imageBlock"))}(e)}toImageWidget(e,t,n){return t.setCustomProperty("image",!0,e),cm(e,t,{label:()=>{const a=this.findViewImgElement(e).getAttribute("alt");return a?`${a} ${n}`:n}})}isImageWidget(e){return!!e.getCustomProperty("image")&&zn(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const t=this.editor.editing.view;for(const{item:n}of t.createRangeIn(e))if(this.isInlineImageView(n))return n}}function J2(s,e,t){const n=s.model.schema,a=s.config.get("image.insert.type");return s.plugins.has("ImageBlockEditing")?s.plugins.has("ImageInlineEditing")?t||(a==="inline"?"imageInline":a==="block"?"imageBlock":e.is("selection")?wm(n,e):n.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class bP extends Nt{refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled&&e.hasAttribute("alt")?this.value=e.getAttribute("alt"):this.value=!1}execute(e){const t=this.editor,n=t.plugins.get("ImageUtils"),a=t.model,c=n.getClosestSelectedImageElement(a.document.selection);a.change(p=>{p.setAttribute("alt",e.newValue,c)})}}class vP extends Ne{static get requires(){return[ko]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new bP(this.editor))}}var X2=d(1905),kP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(X2.Z,kP),X2.Z.locals;var ey=d(6764),wP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(ey.Z,wP),ey.Z.locals;class yP extends Pt{constructor(e){super(e);const t=this.locale.t;this.focusTracker=new Ai,this.keystrokes=new Fi,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(t("Save"),mn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(t("Cancel"),mn.cancel,"ck-button-cancel","cancel"),this._focusables=new ir,this._focusCycler=new ts({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),Np({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,t,n,a){const c=new qt(this.locale);return c.set({label:e,icon:t,tooltip:!0}),c.extendTemplate({attributes:{class:n}}),a&&c.delegate("execute").to(this,a),c}_createLabeledInputView(){const e=this.locale.t,t=new dc(this.locale,fu);return t.label=e("Text alternative"),t}}function ty(s){const e=s.editing.view,t=Wi.defaultPositions,n=s.plugins.get("ImageUtils");return{target:e.domConverter.mapViewToDom(n.getClosestSelectedImageWidget(e.document.selection)),positions:[t.northArrowSouth,t.northArrowSouthWest,t.northArrowSouthEast,t.southArrowNorth,t.southArrowNorthWest,t.southArrowNorthEast,t.viewportStickyNorth]}}class CP extends Ne{static get requires(){return[vu]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const e=this.editor,t=e.t;e.ui.componentFactory.add("imageTextAlternative",n=>{const a=e.commands.get("imageTextAlternative"),c=new qt(n);return c.set({label:t("Change image text alternative"),icon:mn.lowVision,tooltip:!0}),c.bind("isEnabled").to(a,"isEnabled"),c.bind("isOn").to(a,"value",p=>!!p),this.listenTo(c,"execute",()=>{this._showForm()}),c})}_createForm(){const e=this.editor,t=e.editing.view.document,n=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(Rp(yP))(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(a,c)=>{this._hideForm(!0),c()}),this.listenTo(e.ui,"update",()=>{n.getClosestSelectedImageWidget(t.selection)?this._isVisible&&function(a){const c=a.plugins.get("ContextualBalloon");if(a.plugins.get("ImageUtils").getClosestSelectedImageWidget(a.editing.view.document.selection)){const p=ty(a);c.updatePosition(p)}}(e):this._hideForm(!0)}),Lp({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const e=this.editor,t=e.commands.get("imageTextAlternative"),n=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:ty(e)}),n.fieldView.value=n.fieldView.element.value=t.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class ny extends Ne{static get requires(){return[vP,CP]}static get pluginName(){return"ImageTextAlternative"}}function iy(s,e){const t=(n,a,c)=>{if(!c.consumable.consume(a.item,n.name))return;const p=c.writer,_=c.mapper.toViewElement(a.item),w=s.findViewImgElement(_);if(a.attributeNewValue===null){const E=a.attributeOldValue;E&&E.data&&(p.removeAttribute("srcset",w),p.removeAttribute("sizes",w),E.width&&p.removeAttribute("width",w))}else{const E=a.attributeNewValue;E&&E.data&&(p.setAttribute("srcset",E.data,w),p.setAttribute("sizes","100vw",w),E.width&&p.setAttribute("width",E.width,w))}};return n=>{n.on(`attribute:srcset:${e}`,t)}}function Pu(s,e,t){const n=(a,c,p)=>{if(!p.consumable.consume(c.item,a.name))return;const _=p.writer,w=p.mapper.toViewElement(c.item),E=s.findViewImgElement(w);_.setAttribute(c.attributeKey,c.attributeNewValue||"",E)};return a=>{a.on(`attribute:${t}:${e}`,n)}}class oy extends er{observe(e){this.listenTo(e,"load",(t,n)=>{const a=n.target;this.checkShouldIgnoreEventFromTarget(a)||a.tagName=="IMG"&&this._fireEvents(n)},{useCapture:!0})}stopObserving(e){this.stopListening(e)}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}var AP=Object.defineProperty,ry=Object.getOwnPropertySymbols,xP=Object.prototype.hasOwnProperty,SP=Object.prototype.propertyIsEnumerable,sy=(s,e,t)=>e in s?AP(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,Ou=(s,e)=>{for(var t in e||(e={}))xP.call(e,t)&&sy(s,t,e[t]);if(ry)for(var t of ry(e))SP.call(e,t)&&sy(s,t,e[t]);return s};class EP extends Nt{constructor(e){super(e);const t=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||t==="block"&&j("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||t==="inline"&&j("image-inline-plugin-required")}refresh(){const e=this.editor.plugins.get("ImageUtils");this.isEnabled=e.isImageAllowed()}execute(e){const t=ui(e.source),n=this.editor.model.document.selection,a=this.editor.plugins.get("ImageUtils"),c=Object.fromEntries(n.getAttributes());t.forEach((p,_)=>{const w=n.getSelectedElement();if(typeof p=="string"&&(p={src:p}),_&&w&&a.isImage(w)){const E=this.editor.model.createPositionAfter(w);a.insertImage(Ou(Ou({},p),c),E)}else a.insertImage(Ou(Ou({},p),c))})}}class DP extends Nt{refresh(){const e=this.editor.plugins.get("ImageUtils"),t=this.editor.model.document.selection.getSelectedElement();this.isEnabled=e.isImage(t),this.value=this.isEnabled?t.getAttribute("src"):null}execute(e){const t=this.editor.model.document.selection.getSelectedElement();this.editor.model.change(n=>{n.setAttribute("src",e.source,t),n.removeAttribute("srcset",t),n.removeAttribute("sizes",t)})}}class ym extends Ne{static get requires(){return[ko]}static get pluginName(){return"ImageEditing"}init(){const e=this.editor,t=e.conversion;e.editing.view.addObserver(oy),t.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:c=>{const p={data:c.getAttribute("srcset")};return c.hasAttribute("width")&&(p.width=c.getAttribute("width")),p}}});const n=new EP(e),a=new DP(e);e.commands.add("insertImage",n),e.commands.add("replaceImageSource",a),e.commands.add("imageInsert",n)}}class ay extends Nt{constructor(e,t){super(e),this._modelElementName=t}refresh(){const e=this.editor.plugins.get("ImageUtils"),t=e.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=e.isInlineImage(t):this.isEnabled=e.isBlockImage(t)}execute(){const e=this.editor,t=this.editor.model,n=e.plugins.get("ImageUtils"),a=n.getClosestSelectedImageElement(t.document.selection),c=Object.fromEntries(a.getAttributes());return c.src||c.uploadId?t.change(p=>{const _=Array.from(t.markers).filter(I=>I.getRange().containsItem(a)),w=n.insertImage(c,t.createSelection(a,"on"),this._modelElementName);if(!w)return null;const E=p.createRangeOn(w);for(const I of _){const O=I.getRange(),$=O.root.rootName!="$graveyard"?O.getJoined(E,!0):E;p.updateMarker(I,{range:$})}return{oldElement:a,newElement:w}}):null}}class ly extends Ne{static get requires(){return[ym,ko,or]}static get pluginName(){return"ImageBlockEditing"}init(){const e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new ay(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,n=e.conversion,a=e.plugins.get("ImageUtils");n.for("dataDowncast").elementToStructure({model:"imageBlock",view:(c,{writer:p})=>K2(p)}),n.for("editingDowncast").elementToStructure({model:"imageBlock",view:(c,{writer:p})=>a.toImageWidget(K2(p),p,t("image widget"))}),n.for("downcast").add(Pu(a,"imageBlock","src")).add(Pu(a,"imageBlock","alt")).add(iy(a,"imageBlock")),n.for("upcast").elementToElement({view:Y2(e,"imageBlock"),model:(c,{writer:p})=>p.createElement("imageBlock",c.hasAttribute("src")?{src:c.getAttribute("src")}:void 0)}).add(function(c){const p=(_,w,E)=>{if(!E.consumable.test(w.viewItem,{name:!0,classes:"image"}))return;const I=c.findViewImgElement(w.viewItem);if(!I||!E.consumable.test(I,{name:!0}))return;E.consumable.consume(w.viewItem,{name:!0,classes:"image"});const O=Hn(E.convertItem(I,w.modelCursor).modelRange.getItems());O?(E.convertChildren(w.viewItem,O),E.updateConversionResult(O,w)):E.consumable.revert(w.viewItem,{name:!0,classes:"image"})};return _=>{_.on("element:figure",p)}}(a))}_setupClipboardIntegration(){const e=this.editor,t=e.model,n=e.editing.view,a=e.plugins.get("ImageUtils"),c=e.plugins.get("ClipboardPipeline");this.listenTo(c,"inputTransformation",(p,_)=>{const w=Array.from(_.content.getChildren());let E;if(!w.every(a.isInlineImageView))return;E=_.targetRanges?e.editing.mapper.toModelRange(_.targetRanges[0]):t.document.selection.getFirstRange();const I=t.createSelection(E);if(wm(t.schema,I)==="imageBlock"){const O=new es(n.document),$=w.map(V=>O.createElement("figure",{class:"image"},V));_.content=O.createDocumentFragment($)}})}}var cy=d(3508),TP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(cy.Z,TP),cy.Z.locals;class IP extends Ne{static get requires(){return[ly,mc,ny]}static get pluginName(){return"ImageBlock"}}class MP extends Ne{static get requires(){return[ym,ko,or]}static get pluginName(){return"ImageInlineEditing"}init(){const e=this.editor,t=e.model.schema;t.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),t.addChildCheck((n,a)=>{if(n.endsWith("caption")&&a.name==="imageInline")return!1}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new ay(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,n=e.conversion,a=e.plugins.get("ImageUtils");n.for("dataDowncast").elementToElement({model:"imageInline",view:(c,{writer:p})=>p.createEmptyElement("img")}),n.for("editingDowncast").elementToStructure({model:"imageInline",view:(c,{writer:p})=>a.toImageWidget(function(_){return _.createContainerElement("span",{class:"image-inline"},_.createEmptyElement("img"))}(p),p,t("image widget"))}),n.for("downcast").add(Pu(a,"imageInline","src")).add(Pu(a,"imageInline","alt")).add(iy(a,"imageInline")),n.for("upcast").elementToElement({view:Y2(e,"imageInline"),model:(c,{writer:p})=>p.createElement("imageInline",c.hasAttribute("src")?{src:c.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const e=this.editor,t=e.model,n=e.editing.view,a=e.plugins.get("ImageUtils"),c=e.plugins.get("ClipboardPipeline");this.listenTo(c,"inputTransformation",(p,_)=>{const w=Array.from(_.content.getChildren());let E;if(!w.every(a.isBlockImageView))return;E=_.targetRanges?e.editing.mapper.toModelRange(_.targetRanges[0]):t.document.selection.getFirstRange();const I=t.createSelection(E);if(wm(t.schema,I)==="imageInline"){const O=new es(n.document),$=w.map(V=>V.childCount===1?(Array.from(V.getAttributes()).forEach(G=>O.setAttribute(...G,a.findViewImgElement(V))),V.getChild(0)):V);_.content=O.createDocumentFragment($)}})}}class PP extends Ne{static get requires(){return[MP,mc,ny]}static get pluginName(){return"ImageInline"}}class dy extends Ne{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[ko]}getCaptionFromImageModelElement(e){for(const t of e.getChildren())if(t&&t.is("element","caption"))return t;return null}getCaptionFromModelSelection(e){const t=this.editor.plugins.get("ImageUtils"),n=e.getFirstPosition().findAncestor("caption");return n&&t.isBlockImage(n.parent)?n:null}matchImageCaptionViewElement(e){const t=this.editor.plugins.get("ImageUtils");return e.name=="figcaption"&&t.isBlockImageView(e.parent)?{name:!0}:null}}class OP extends Nt{refresh(){const e=this.editor,t=e.plugins.get("ImageCaptionUtils"),n=e.plugins.get("ImageUtils");if(!e.plugins.has(ly))return this.isEnabled=!1,void(this.value=!1);const a=e.model.document.selection,c=a.getSelectedElement();if(!c){const p=t.getCaptionFromModelSelection(a);return this.isEnabled=!!p,void(this.value=!!p)}this.isEnabled=n.isImage(c),this.isEnabled?this.value=!!t.getCaptionFromImageModelElement(c):this.value=!1}execute(e={}){const{focusCaptionOnShow:t}=e;this.editor.model.change(n=>{this.value?this._hideImageCaption(n):this._showImageCaption(n,t)})}_showImageCaption(e,t){const n=this.editor.model.document.selection,a=this.editor.plugins.get("ImageCaptionEditing"),c=this.editor.plugins.get("ImageUtils");let p=n.getSelectedElement();const _=a._getSavedCaption(p);c.isInlineImage(p)&&(this.editor.execute("imageTypeBlock"),p=n.getSelectedElement());const w=_||e.createElement("caption");e.append(w,p),t&&e.setSelection(w,"in")}_hideImageCaption(e){const t=this.editor,n=t.model.document.selection,a=t.plugins.get("ImageCaptionEditing"),c=t.plugins.get("ImageCaptionUtils");let p,_=n.getSelectedElement();_?p=c.getCaptionFromImageModelElement(_):(p=c.getCaptionFromModelSelection(n),_=p.parent),a._saveCaption(_,p),e.setSelection(_,"on"),e.remove(p)}}class BP extends Ne{constructor(e){super(e),this._savedCaptionsMap=new WeakMap}static get requires(){return[ko,dy]}static get pluginName(){return"ImageCaptionEditing"}init(){const e=this.editor,t=e.model.schema;t.isRegistered("caption")?t.extend("caption",{allowIn:"imageBlock"}):t.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new OP(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const e=this.editor,t=e.editing.view,n=e.plugins.get("ImageUtils"),a=e.plugins.get("ImageCaptionUtils"),c=e.t;e.conversion.for("upcast").elementToElement({view:p=>a.matchImageCaptionViewElement(p),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(p,{writer:_})=>n.isBlockImage(p.parent)?_.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(p,{writer:_})=>{if(!n.isBlockImage(p.parent))return null;const w=_.createEditableElement("figcaption");_.setCustomProperty("imageCaption",!0,w),w.placeholder=c("Enter image caption"),G_({view:t,element:w,keepOnFocus:!0});const E=p.parent.getAttribute("alt");return Yw(w,_,{label:E?c("Caption for image: %0",[E]):c("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const e=this.editor,t=e.plugins.get("ImageUtils"),n=e.plugins.get("ImageCaptionUtils"),a=e.commands.get("imageTypeInline"),c=e.commands.get("imageTypeBlock"),p=_=>{if(!_.return)return;const{oldElement:w,newElement:E}=_.return;if(!w)return;if(t.isBlockImage(w)){const O=n.getCaptionFromImageModelElement(w);if(O)return void this._saveCaption(E,O)}const I=this._getSavedCaption(w);I&&this._saveCaption(E,I)};a&&this.listenTo(a,"execute",p,{priority:"low"}),c&&this.listenTo(c,"execute",p,{priority:"low"})}_getSavedCaption(e){const t=this._savedCaptionsMap.get(e);return t?pn.fromJSON(t):null}_saveCaption(e,t){this._savedCaptionsMap.set(e,t.toJSON())}_registerCaptionReconversion(){const e=this.editor,t=e.model,n=e.plugins.get("ImageUtils"),a=e.plugins.get("ImageCaptionUtils");t.document.on("change:data",()=>{const c=t.document.differ.getChanges();for(const p of c){if(p.attributeKey!=="alt")continue;const _=p.range.start.nodeAfter;if(n.isBlockImage(_)){const w=a.getCaptionFromImageModelElement(_);if(!w)return;e.editing.reconvertItem(w)}}})}}class LP extends Ne{static get requires(){return[dy]}static get pluginName(){return"ImageCaptionUI"}init(){const e=this.editor,t=e.editing.view,n=e.plugins.get("ImageCaptionUtils"),a=e.t;e.ui.componentFactory.add("toggleImageCaption",c=>{const p=e.commands.get("toggleImageCaption"),_=new qt(c);return _.set({icon:mn.caption,tooltip:!0,isToggleable:!0}),_.bind("isOn","isEnabled").to(p,"value","isEnabled"),_.bind("label").to(p,"value",w=>a(w?"Toggle caption off":"Toggle caption on")),this.listenTo(_,"execute",()=>{e.execute("toggleImageCaption",{focusCaptionOnShow:!0});const w=n.getCaptionFromModelSelection(e.model.document.selection);if(w){const E=e.editing.mapper.toViewElement(w);t.scrollToTheSelection(),t.change(I=>{I.addClass("image__caption_highlighted",E)})}e.editing.view.focus()}),_})}}var uy=d(2640),RP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(uy.Z,RP),uy.Z.locals;function hy(s){const e=s.map(t=>t.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}function NP(s){return new Promise((e,t)=>{const n=s.getAttribute("src");fetch(n).then(a=>a.blob()).then(a=>{const c=fy(a,n),p=c.replace("image/",""),_=new File([a],`image.${p}`,{type:c});e(_)}).catch(a=>a&&a.name==="TypeError"?function(c){return function(p){return new Promise((_,w)=>{const E=Vt.document.createElement("img");E.addEventListener("load",()=>{const I=Vt.document.createElement("canvas");I.width=E.width,I.height=E.height,I.getContext("2d").drawImage(E,0,0),I.toBlob(O=>O?_(O):w())}),E.addEventListener("error",()=>w()),E.src=p})}(c).then(p=>{const _=fy(p,c),w=_.replace("image/","");return new File([p],`image.${w}`,{type:_})})}(n).then(e).catch(t):t(a))})}function fy(s,e){return s.type?s.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class $P extends Ne{static get pluginName(){return"ImageUploadUI"}init(){const e=this.editor,t=e.t,n=a=>{const c=new PM(a),p=e.commands.get("uploadImage"),_=e.config.get("image.upload.types"),w=hy(_);return c.set({acceptedType:_.map(E=>`image/${E}`).join(","),allowMultipleFiles:!0}),c.buttonView.set({label:t("Insert image"),icon:mn.image,tooltip:!0}),c.buttonView.bind("isEnabled").to(p),c.on("done",(E,I)=>{const O=Array.from(I).filter($=>w.test($.type));O.length&&(e.execute("uploadImage",{file:O}),e.editing.view.focus())}),c};e.ui.componentFactory.add("uploadImage",n),e.ui.componentFactory.add("imageUpload",n)}}var py=d(3689),jP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(py.Z,jP),py.Z.locals;var my=d(4036),zP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(my.Z,zP),my.Z.locals;var gy=d(3773),FP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(gy.Z,FP),gy.Z.locals;class VP extends Ne{constructor(e){super(e),this.uploadStatusChange=(t,n,a)=>{const c=this.editor,p=n.item,_=p.getAttribute("uploadId");if(!a.consumable.consume(n.item,t.name))return;const w=c.plugins.get("ImageUtils"),E=c.plugins.get($o),I=_?n.attributeNewValue:null,O=this.placeholder,$=c.editing.mapper.toViewElement(p),V=a.writer;if(I=="reading")return _y($,V),void by(w,O,$,V);if(I=="uploading"){const G=E.loaders.get(_);return _y($,V),void(G?(vy($,V),function(Q,ie,he,ye){const Oe=function(it){const Ct=it.createUIElement("div",{class:"ck-progress-bar"});return it.setCustomProperty("progressBar",!0,Ct),Ct}(ie);ie.insert(ie.createPositionAt(Q,"end"),Oe),he.on("change:uploadedPercent",(it,Ct,Zt)=>{ye.change($t=>{$t.setStyle("width",Zt+"%",Oe)})})}($,V,G,c.editing.view),function(Q,ie,he,ye){if(ye.data){const Oe=Q.findViewImgElement(ie);he.setAttribute("src",ye.data,Oe)}}(w,$,V,G)):by(w,O,$,V))}I=="complete"&&E.loaders.get(_)&&function(G,Q,ie){const he=Q.createUIElement("div",{class:"ck-image-upload-complete-icon"});Q.insert(Q.createPositionAt(G,"end"),he),setTimeout(()=>{ie.change(ye=>ye.remove(ye.createRangeOn(he)))},3e3)}($,V,c.editing.view),function(G,Q){wy(G,Q,"progressBar")}($,V),vy($,V),function(G,Q){Q.removeClass("ck-appear",G)}($,V)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}static get pluginName(){return"ImageUploadProgress"}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function _y(s,e){s.hasClass("ck-appear")||e.addClass("ck-appear",s)}function by(s,e,t,n){t.hasClass("ck-image-upload-placeholder")||n.addClass("ck-image-upload-placeholder",t);const a=s.findViewImgElement(t);a.getAttribute("src")!==e&&n.setAttribute("src",e,a),ky(t,"placeholder")||n.insert(n.createPositionAfter(a),function(c){const p=c.createUIElement("div",{class:"ck-upload-placeholder-loader"});return c.setCustomProperty("placeholder",!0,p),p}(n))}function vy(s,e){s.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",s),wy(s,e,"placeholder")}function ky(s,e){for(const t of s.getChildren())if(t.getCustomProperty(e))return t}function wy(s,e,t){const n=ky(s,t);n&&e.remove(e.createRangeOn(n))}var UP=Object.defineProperty,HP=Object.defineProperties,WP=Object.getOwnPropertyDescriptors,yy=Object.getOwnPropertySymbols,GP=Object.prototype.hasOwnProperty,KP=Object.prototype.propertyIsEnumerable,Cy=(s,e,t)=>e in s?UP(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;class YP extends Nt{refresh(){const e=this.editor,t=e.plugins.get("ImageUtils"),n=e.model.document.selection.getSelectedElement();this.isEnabled=t.isImageAllowed()||t.isImage(n)}execute(e){const t=ui(e.file),n=this.editor.model.document.selection,a=this.editor.plugins.get("ImageUtils"),c=Object.fromEntries(n.getAttributes());t.forEach((p,_)=>{const w=n.getSelectedElement();if(_&&w&&a.isImage(w)){const E=this.editor.model.createPositionAfter(w);this._uploadImage(p,c,E)}else this._uploadImage(p,c)})}_uploadImage(e,t,n){const a=this.editor,c=a.plugins.get($o).createLoader(e),p=a.plugins.get("ImageUtils");var _,w;c&&p.insertImage((_=((E,I)=>{for(var O in I||(I={}))GP.call(I,O)&&Cy(E,O,I[O]);if(yy)for(var O of yy(I))KP.call(I,O)&&Cy(E,O,I[O]);return E})({},t),w={uploadId:c.id},HP(_,WP(w))),n)}}class qP extends Ne{constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}static get requires(){return[$o,im,or,ko]}static get pluginName(){return"ImageUploadEditing"}init(){const e=this.editor,t=e.model.document,n=e.conversion,a=e.plugins.get($o),c=e.plugins.get("ImageUtils"),p=e.plugins.get("ClipboardPipeline"),_=hy(e.config.get("image.upload.types")),w=new YP(e);e.commands.add("uploadImage",w),e.commands.add("imageUpload",w),n.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(e.editing.view.document,"clipboardInput",(E,I)=>{if(O=I.dataTransfer,Array.from(O.types).includes("text/html")&&O.getData("text/html")!=="")return;var O;const $=Array.from(I.dataTransfer.files).filter(V=>!!V&&_.test(V.type));$.length&&(E.stop(),e.model.change(V=>{I.targetRanges&&V.setSelection(I.targetRanges.map(G=>e.editing.mapper.toModelRange(G))),e.model.enqueueChange(()=>{e.execute("uploadImage",{file:$})})}))}),this.listenTo(p,"inputTransformation",(E,I)=>{const O=Array.from(e.editing.view.createRangeIn(I.content)).map(V=>V.item).filter(V=>function(G,Q){return!(!G.isInlineImageView(Q)||!Q.getAttribute("src")||!Q.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!Q.getAttribute("src").match(/^blob:/g))}(c,V)&&!V.getAttribute("uploadProcessed")).map(V=>({promise:NP(V),imageElement:V}));if(!O.length)return;const $=new es(e.editing.view.document);for(const V of O){$.setAttribute("uploadProcessed",!0,V.imageElement);const G=a.createLoader(V.promise);G&&($.setAttribute("src","",V.imageElement),$.setAttribute("uploadId",G.id,V.imageElement))}}),e.editing.view.document.on("dragover",(E,I)=>{I.preventDefault()}),t.on("change",()=>{const E=t.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),I=new Set;for(const O of E)if(O.type=="insert"&&O.name!="$text"){const $=O.position.nodeAfter,V=O.position.root.rootName=="$graveyard";for(const G of ZP(e,$)){const Q=G.getAttribute("uploadId");if(!Q)continue;const ie=a.loaders.get(Q);ie&&(V?I.has(Q)||ie.abort():(I.add(Q),this._uploadImageElements.set(Q,G),ie.status=="idle"&&this._readAndUpload(ie)))}}}),this.on("uploadComplete",(E,{imageElement:I,data:O})=>{const $=O.urls?O.urls:O;this.editor.model.change(V=>{V.setAttribute("src",$.default,I),this._parseAndSetSrcsetAttributeOnImage($,I,V)})},{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(e){const t=this.editor,n=t.model,a=t.locale.t,c=t.plugins.get($o),p=t.plugins.get(im),_=t.plugins.get("ImageUtils"),w=this._uploadImageElements;return n.enqueueChange({isUndoable:!1},I=>{I.setAttribute("uploadStatus","reading",w.get(e.id))}),e.read().then(()=>{const I=e.upload(),O=w.get(e.id);if(g.isSafari){const $=t.editing.mapper.toViewElement(O),V=_.findViewImgElement($);t.editing.view.once("render",()=>{if(!V.parent)return;const G=t.editing.view.domConverter.mapViewToDom(V.parent);if(!G)return;const Q=G.style.display;G.style.display="none",G._ckHack=G.offsetHeight,G.style.display=Q})}return n.enqueueChange({isUndoable:!1},$=>{$.setAttribute("uploadStatus","uploading",O)}),I}).then(I=>{n.enqueueChange({isUndoable:!1},O=>{const $=w.get(e.id);O.setAttribute("uploadStatus","complete",$),this.fire("uploadComplete",{data:I,imageElement:$})}),E()}).catch(I=>{if(e.status!=="error"&&e.status!=="aborted")throw I;e.status=="error"&&I&&p.showWarning(I,{title:a("Upload failed"),namespace:"upload"}),n.enqueueChange({isUndoable:!1},O=>{O.remove(w.get(e.id))}),E()});function E(){n.enqueueChange({isUndoable:!1},I=>{const O=w.get(e.id);I.removeAttribute("uploadId",O),I.removeAttribute("uploadStatus",O),w.delete(e.id)}),c.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,t,n){let a=0;const c=Object.keys(e).filter(p=>{const _=parseInt(p,10);if(!isNaN(_))return a=Math.max(a,_),!0}).map(p=>`${e[p]} ${p}w`).join(", ");c!=""&&n.setAttribute("srcset",{data:c,width:a},t)}}function ZP(s,e){const t=s.plugins.get("ImageUtils");return Array.from(s.model.createRangeOn(e)).filter(n=>t.isImage(n.item)).map(n=>n.item)}var Ay=d(1568),QP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(Ay.Z,QP),Ay.Z.locals;var xy=d(3535),JP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(xy.Z,JP),xy.Z.locals;class XP extends Nt{refresh(){const e=this.editor,t=e.plugins.get("ImageUtils").getClosestSelectedImageElement(e.model.document.selection);this.isEnabled=!!t,t&&t.hasAttribute("width")?this.value={width:t.getAttribute("width"),height:null}:this.value=null}execute(e){const t=this.editor,n=t.model,a=t.plugins.get("ImageUtils").getClosestSelectedImageElement(n.document.selection);this.value={width:e.width,height:null},a&&n.change(c=>{c.setAttribute("width",e.width,a)})}}class Sy extends Ne{static get requires(){return[ko]}static get pluginName(){return"ImageResizeEditing"}constructor(e){super(e),e.config.define("image",{resizeUnit:"%",resizeOptions:[{name:"resizeImage:original",value:null,icon:"original"},{name:"resizeImage:25",value:"25",icon:"small"},{name:"resizeImage:50",value:"50",icon:"medium"},{name:"resizeImage:75",value:"75",icon:"large"}]})}init(){const e=this.editor,t=new XP(e);this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline"),e.commands.add("resizeImage",t),e.commands.add("imageResize",t)}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:"width"}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:"width"})}_registerConverters(e){const t=this.editor;t.conversion.for("downcast").add(n=>n.on(`attribute:width:${e}`,(a,c,p)=>{if(!p.consumable.consume(c.item,a.name))return;const _=p.writer,w=p.mapper.toViewElement(c.item);c.attributeNewValue!==null?(_.setStyle("width",c.attributeNewValue,w),_.addClass("image_resized",w)):(_.removeStyle("width",w),_.removeClass("image_resized",w))})),t.conversion.for("upcast").attributeToAttribute({view:{name:e==="imageBlock"?"figure":"img",styles:{width:/.+/}},model:{key:"width",value:n=>n.getStyle("width")}})}}const Cm={small:mn.objectSizeSmall,medium:mn.objectSizeMedium,large:mn.objectSizeLarge,original:mn.objectSizeFull};class eO extends Ne{constructor(e){super(e),this._resizeUnit=e.config.get("image.resizeUnit")}static get requires(){return[Sy]}static get pluginName(){return"ImageResizeButtons"}init(){const e=this.editor,t=e.config.get("image.resizeOptions"),n=e.commands.get("resizeImage");this.bind("isEnabled").to(n);for(const a of t)this._registerImageResizeButton(a);this._registerImageResizeDropdown(t)}_registerImageResizeButton(e){const t=this.editor,{name:n,value:a,icon:c}=e,p=a?a+this._resizeUnit:null;t.ui.componentFactory.add(n,_=>{const w=new qt(_),E=t.commands.get("resizeImage"),I=this._getOptionLabelValue(e,!0);if(!Cm[c])throw new L("imageresizebuttons-missing-icon",t,e);return w.set({label:I,icon:Cm[c],tooltip:I,isToggleable:!0}),w.bind("isEnabled").to(this),w.bind("isOn").to(E,"value",Ey(p)),this.listenTo(w,"execute",()=>{t.execute("resizeImage",{width:p})}),w})}_registerImageResizeDropdown(e){const t=this.editor,n=t.t,a=e.find(p=>!p.value),c=p=>{const _=t.commands.get("resizeImage"),w=Hi(p,Lk),E=w.buttonView,I=n("Resize image");return E.set({tooltip:I,commandValue:a.value,icon:Cm.medium,isToggleable:!0,label:this._getOptionLabelValue(a),withText:!0,class:"ck-resize-image-button",ariaLabel:I,ariaLabelledBy:void 0}),E.bind("label").to(_,"value",O=>O&&O.width?O.width:this._getOptionLabelValue(a)),w.bind("isEnabled").to(this),uc(w,()=>this._getResizeDropdownListItemDefinitions(e,_),{ariaLabel:n("Image resize list"),role:"menu"}),this.listenTo(w,"execute",O=>{t.execute(O.source.commandName,{width:O.source.commandValue}),t.editing.view.focus()}),w};t.ui.componentFactory.add("resizeImage",c),t.ui.componentFactory.add("imageResize",c)}_getOptionLabelValue(e,t=!1){const n=this.editor.t;return e.label?e.label:t?e.value?n("Resize image to %0",e.value+this._resizeUnit):n("Resize image to the original size"):e.value?e.value+this._resizeUnit:n("Original")}_getResizeDropdownListItemDefinitions(e,t){const n=new Oi;return e.map(a=>{const c=a.value?a.value+this._resizeUnit:null,p={type:"button",model:new fc({commandName:"resizeImage",commandValue:c,label:this._getOptionLabelValue(a),role:"menuitemradio",withText:!0,icon:null})};p.model.bind("isOn").to(t,"value",Ey(c)),n.add(p)}),n}}function Ey(s){return e=>s===null&&e===s||e!==null&&e.width===s}const tO=/(image|image-inline)/,Am="image_resized";class nO extends Ne{static get requires(){return[dm]}static get pluginName(){return"ImageResizeHandles"}init(){const e=this.editor.commands.get("resizeImage");this.bind("isEnabled").to(e),this._setupResizerCreator()}_setupResizerCreator(){const e=this.editor,t=e.editing.view;t.addObserver(oy),this.listenTo(t.document,"imageLoaded",(n,a)=>{if(!a.target.matches("figure.image.ck-widget > img,figure.image.ck-widget > picture > img,figure.image.ck-widget > a > img,figure.image.ck-widget > a > picture > img,span.image-inline.ck-widget > img,span.image-inline.ck-widget > picture > img"))return;const c=e.editing.view.domConverter,p=c.domToView(a.target).findAncestor({classes:tO});let _=this.editor.plugins.get(dm).getResizerByViewElement(p);if(_)return void _.redraw();const w=e.editing.mapper,E=w.toModelElement(p);_=e.plugins.get(dm).attachTo({unit:e.config.get("image.resizeUnit"),modelElement:E,viewElement:p,editor:e,getHandleHost:I=>I.querySelector("img"),getResizeHost:()=>c.mapViewToDom(w.toViewElement(E.parent)),isCentered(){const I=E.getAttribute("imageStyle");return!I||I=="block"||I=="alignCenter"},onCommit(I){t.change(O=>{O.removeClass(Am,p)}),e.execute("resizeImage",{width:I})}}),_.on("updateSize",()=>{p.hasClass(Am)||t.change(I=>{I.addClass(Am,p)})}),_.bind("isEnabled").to(this)})}}var Dy=d(6270),iO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(Dy.Z,iO),Dy.Z.locals;class oO extends Nt{constructor(e,t){super(e),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(t.map(n=>{if(n.isDefault)for(const a of n.modelElements)this._defaultStyles[a]=n.name;return[n.name,n]}))}refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled?e.hasAttribute("imageStyle")?this.value=e.getAttribute("imageStyle"):this.value=this._defaultStyles[e.name]:this.value=!1}execute(e={}){const t=this.editor,n=t.model,a=t.plugins.get("ImageUtils");n.change(c=>{const p=e.value;let _=a.getClosestSelectedImageElement(n.document.selection);p&&this.shouldConvertImageType(p,_)&&(this.editor.execute(a.isBlockImage(_)?"imageTypeInline":"imageTypeBlock"),_=a.getClosestSelectedImageElement(n.document.selection)),!p||this._styles.get(p).isDefault?c.removeAttribute("imageStyle",_):c.setAttribute("imageStyle",p,_)})}shouldConvertImageType(e,t){return!this._styles.get(e).modelElements.includes(t.name)}}var rO=Object.defineProperty,Ty=Object.getOwnPropertySymbols,sO=Object.prototype.hasOwnProperty,aO=Object.prototype.propertyIsEnumerable,Iy=(s,e,t)=>e in s?rO(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,My=(s,e)=>{for(var t in e||(e={}))sO.call(e,t)&&Iy(s,t,e[t]);if(Ty)for(var t of Ty(e))aO.call(e,t)&&Iy(s,t,e[t]);return s};const{objectFullWidth:lO,objectInline:Py,objectLeft:Oy,objectRight:xm,objectCenter:Sm,objectBlockLeft:By,objectBlockRight:Ly}=mn,Bu={get inline(){return{name:"inline",title:"In line",icon:Py,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:Oy,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:By,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:Sm,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:xm,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:Ly,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:Sm,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:xm,modelElements:["imageBlock"],className:"image-style-side"}}},Ry={full:lO,left:By,right:Ly,center:Sm,inlineLeft:Oy,inlineRight:xm,inline:Py},Ny=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function $y(s){j("image-style-configuration-definition-invalid",s)}const Em={normalizeStyles:function(s){return(s.configuredStyles.options||[]).map(e=>function(t){return t=typeof t=="string"?Bu[t]?My({},Bu[t]):{name:t}:function(n,a){const c=My({},a);for(const p in n)Object.prototype.hasOwnProperty.call(a,p)||(c[p]=n[p]);return c}(Bu[t.name],t),typeof t.icon=="string"&&(t.icon=Ry[t.icon]||t.icon),t}(e)).filter(e=>function(t,{isBlockPluginLoaded:n,isInlinePluginLoaded:a}){const{modelElements:c,name:p}=t;if(!(c&&c.length&&p))return $y({style:t}),!1;{const _=[n?"imageBlock":null,a?"imageInline":null];if(!c.some(w=>_.includes(w)))return j("image-style-missing-dependency",{style:t,missingPlugins:c.map(w=>w==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(e,s))},getDefaultStylesConfiguration:function(s,e){return s&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:s?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(s){return s.has("ImageBlockEditing")&&s.has("ImageInlineEditing")?[...Ny]:[]},warnInvalidStyle:$y,DEFAULT_OPTIONS:Bu,DEFAULT_ICONS:Ry,DEFAULT_DROPDOWN_DEFINITIONS:Ny};function jy(s,e){for(const t of e)if(t.name===s)return t}class zy extends Ne{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[ko]}init(){const{normalizeStyles:e,getDefaultStylesConfiguration:t}=Em,n=this.editor,a=n.plugins.has("ImageBlockEditing"),c=n.plugins.has("ImageInlineEditing");n.config.define("image.styles",t(a,c)),this.normalizedStyles=e({configuredStyles:n.config.get("image.styles"),isBlockPluginLoaded:a,isInlinePluginLoaded:c}),this._setupConversion(a,c),this._setupPostFixer(),n.commands.add("imageStyle",new oO(n,this.normalizedStyles))}_setupConversion(e,t){const n=this.editor,a=n.model.schema,c=(p=this.normalizedStyles,(w,E,I)=>{if(!I.consumable.consume(E.item,w.name))return;const O=jy(E.attributeNewValue,p),$=jy(E.attributeOldValue,p),V=I.mapper.toViewElement(E.item),G=I.writer;$&&G.removeClass($.className,V),O&&G.addClass(O.className,V)});var p;const _=function(w){const E={imageInline:w.filter(I=>!I.isDefault&&I.modelElements.includes("imageInline")),imageBlock:w.filter(I=>!I.isDefault&&I.modelElements.includes("imageBlock"))};return(I,O,$)=>{if(!O.modelRange)return;const V=O.viewItem,G=Hn(O.modelRange.getItems());if(G&&$.schema.checkAttribute(G,"imageStyle"))for(const Q of E[G.name])$.consumable.consume(V,{classes:Q.className})&&$.writer.setAttribute("imageStyle",Q.name,G)}}(this.normalizedStyles);n.editing.downcastDispatcher.on("attribute:imageStyle",c),n.data.downcastDispatcher.on("attribute:imageStyle",c),e&&(a.extend("imageBlock",{allowAttributes:"imageStyle"}),n.data.upcastDispatcher.on("element:figure",_,{priority:"low"})),t&&(a.extend("imageInline",{allowAttributes:"imageStyle"}),n.data.upcastDispatcher.on("element:img",_,{priority:"low"}))}_setupPostFixer(){const e=this.editor,t=e.model.document,n=e.plugins.get(ko),a=new Map(this.normalizedStyles.map(c=>[c.name,c]));t.registerPostFixer(c=>{let p=!1;for(const _ of t.differ.getChanges())if(_.type=="insert"||_.type=="attribute"&&_.attributeKey=="imageStyle"){let w=_.type=="insert"?_.position.nodeAfter:_.range.start.nodeAfter;if(w&&w.is("element","paragraph")&&w.childCount>0&&(w=w.getChild(0)),!n.isImage(w))continue;const E=w.getAttribute("imageStyle");if(!E)continue;const I=a.get(E);I&&I.modelElements.includes(w.name)||(c.removeAttribute("imageStyle",w),p=!0)}return p})}}var Fy=d(5083),cO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(Fy.Z,cO),Fy.Z.locals;class dO extends Ne{static get requires(){return[zy]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins,t=this.editor.config.get("image.toolbar")||[],n=Vy(e.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const c of n)this._createButton(c);const a=Vy([...t.filter(te),...Em.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const c of a)this._createDropdown(c,n)}_createDropdown(e,t){const n=this.editor.ui.componentFactory;n.add(e.name,a=>{let c;const{defaultItem:p,items:_,title:w}=e,E=_.filter(V=>t.find(({name:G})=>Uy(G)===V)).map(V=>{const G=n.create(V);return V===p&&(c=G),G});_.length!==E.length&&Em.warnInvalidStyle({dropdown:e});const I=Hi(a,du),O=I.buttonView,$=O.arrowView;return uu(I,E,{enableActiveItemFocusOnDropdownOpen:!0}),O.set({label:Hy(w,c.label),class:null,tooltip:!0}),$.unbind("label"),$.set({label:w}),O.bind("icon").toMany(E,"isOn",(...V)=>{const G=V.findIndex(Ns);return G<0?c.icon:E[G].icon}),O.bind("label").toMany(E,"isOn",(...V)=>{const G=V.findIndex(Ns);return Hy(w,G<0?c.label:E[G].label)}),O.bind("isOn").toMany(E,"isOn",(...V)=>V.some(Ns)),O.bind("class").toMany(E,"isOn",(...V)=>V.some(Ns)?"ck-splitbutton_flatten":void 0),O.on("execute",()=>{E.some(({isOn:V})=>V)?I.isOpen=!I.isOpen:c.fire("execute")}),I.bind("isEnabled").toMany(E,"isEnabled",(...V)=>V.some(Ns)),this.listenTo(I,"execute",()=>{this.editor.editing.view.focus()}),I})}_createButton(e){const t=e.name;this.editor.ui.componentFactory.add(Uy(t),n=>{const a=this.editor.commands.get("imageStyle"),c=new qt(n);return c.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),c.bind("isEnabled").to(a,"isEnabled"),c.bind("isOn").to(a,"value",p=>p===t),c.on("execute",this._executeCommand.bind(this,t)),c})}_executeCommand(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}function Vy(s,e){for(const t of s)e[t.title]&&(t.title=e[t.title]);return s}function Uy(s){return`imageStyle:${s}`}function Hy(s,e){return(s?s+": ":"")+e}class uO extends Ne{static get pluginName(){return"IndentEditing"}init(){const e=this.editor;e.commands.add("indent",new V_(e)),e.commands.add("outdent",new V_(e))}}const Wy='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',Gy='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class hO extends Ne{static get pluginName(){return"IndentUI"}init(){const e=this.editor,t=e.locale,n=e.t,a=t.uiLanguageDirection=="ltr"?Wy:Gy,c=t.uiLanguageDirection=="ltr"?Gy:Wy;this._defineButton("indent",n("Increase indent"),a),this._defineButton("outdent",n("Decrease indent"),c)}_defineButton(e,t,n){const a=this.editor;a.ui.componentFactory.add(e,c=>{const p=a.commands.get(e),_=new qt(c);return _.set({label:t,icon:n,tooltip:!0}),_.bind("isEnabled").to(p,"isEnabled"),this.listenTo(_,"execute",()=>{a.execute(e),a.editing.view.focus()}),_})}}class Lu extends Nt{constructor(e,t){super(e),this._indentBehavior=t}refresh(){const e=this.editor.model,t=Hn(e.document.selection.getSelectedBlocks());t&&e.schema.checkAttribute(t,"blockIndent")?this.isEnabled=this._indentBehavior.checkEnabled(t.getAttribute("blockIndent")):this.isEnabled=!1}execute(){const e=this.editor.model,t=function(n){const a=n.document.selection,c=n.schema;return Array.from(a.getSelectedBlocks()).filter(p=>c.checkAttribute(p,"blockIndent"))}(e);e.change(n=>{for(const a of t){const c=a.getAttribute("blockIndent"),p=this._indentBehavior.getNextIndent(c);p?n.setAttribute("blockIndent",p,a):n.removeAttribute("blockIndent",a)}})}}class Ky{constructor(e){this.isForward=e.direction==="forward",this.offset=e.offset,this.unit=e.unit}checkEnabled(e){const t=parseFloat(e||"0");return this.isForward||t>0}getNextIndent(e){const t=parseFloat(e||"0");if(!(!e||e.endsWith(this.unit)))return this.isForward?this.offset+this.unit:void 0;const n=t+(this.isForward?this.offset:-this.offset);return n>0?n+this.unit:void 0}}class Yy{constructor(e){this.isForward=e.direction==="forward",this.classes=e.classes}checkEnabled(e){const t=this.classes.indexOf(e);return this.isForward?t<this.classes.length-1:t>=0}getNextIndent(e){const t=this.classes.indexOf(e),n=this.isForward?1:-1;return this.classes[t+n]}}const fO=["paragraph","heading1","heading2","heading3","heading4","heading5","heading6"];class pO{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(t=>this._definitions.add(t)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(t,n,a)=>{if(!a.consumable.test(n.item,"attribute:linkHref")||!n.item.is("selection")&&!a.schema.isInline(n.item))return;const c=a.writer,p=c.document.selection;for(const _ of this._definitions){const w=c.createAttributeElement("a",_.attributes,{priority:5});_.classes&&c.addClass(_.classes,w);for(const E in _.styles)c.setStyle(E,_.styles[E],w);c.setCustomProperty("link",!0,w),_.callback(n.attributeNewValue)?n.item.is("selection")?c.wrap(p.getFirstRange(),w):c.wrap(a.mapper.toViewRange(n.range),w):c.unwrap(a.mapper.toViewRange(n.range),w)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(t,n,{writer:a,mapper:c})=>{const p=c.toViewElement(n.item),_=Array.from(p.getChildren()).find(w=>w.is("element","a"));for(const w of this._definitions){const E=Qo(w.attributes);if(w.callback(n.attributeNewValue)){for(const[I,O]of E)I==="class"?a.addClass(O,_):a.setAttribute(I,O,_);w.classes&&a.addClass(w.classes,_);for(const I in w.styles)a.setStyle(I,w.styles[I],_)}else{for(const[I,O]of E)I==="class"?a.removeClass(O,_):a.removeAttribute(I,_);w.classes&&a.removeClass(w.classes,_);for(const I in w.styles)a.removeStyle(I,_)}}})}}}const mO=function(s,e,t){var n=s.length;return t=t===void 0?n:t,!e&&t>=n?s:X_(s,e,t)};var gO=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const qy=function(s){return gO.test(s)},_O=function(s){return s.split("")};var Zy="\\ud800-\\udfff",bO="["+Zy+"]",Dm="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Tm="\\ud83c[\\udffb-\\udfff]",Qy="[^"+Zy+"]",Jy="(?:\\ud83c[\\udde6-\\uddff]){2}",Xy="[\\ud800-\\udbff][\\udc00-\\udfff]",eC="(?:"+Dm+"|"+Tm+")?",tC="[\\ufe0e\\ufe0f]?",vO=tC+eC+("(?:\\u200d(?:"+[Qy,Jy,Xy].join("|")+")"+tC+eC+")*"),kO="(?:"+[Qy+Dm+"?",Dm,Jy,Xy,bO].join("|")+")",wO=RegExp(Tm+"(?="+Tm+")|"+kO+vO,"g");const yO=function(s){return s.match(wO)||[]},CO=function(s){return qy(s)?yO(s):_O(s)},AO=function(s){return function(e){e=np(e);var t=qy(e)?CO(e):void 0,n=t?t[0]:e.charAt(0),a=t?mO(t,1).join(""):e.slice(1);return n[s]()+a}}("toUpperCase"),xO=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,SO=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,EO=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,DO=/^((\w+:(\/{2,})?)|(\W))/i,Im="Ctrl+K";function nC(s,{writer:e}){const t=e.createAttributeElement("a",{href:s},{priority:5});return e.setCustomProperty("link",!0,t),t}function iC(s){const e=String(s);return function(t){return!!t.replace(xO,"").match(SO)}(e)?e:"#"}function Mm(s,e){return!!s&&e.checkAttribute(s.name,"linkHref")}function Pm(s,e){const t=(n=s,EO.test(n)?"mailto:":e);var n;const a=!!t&&!oC(s);return s&&a?t+s:s}function oC(s){return DO.test(s)}function rC(s){window.open(s,"_blank","noopener")}class TO extends Nt{constructor(){super(...arguments),this.manualDecorators=new Oi,this.automaticDecorators=new pO}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,t=e.document.selection,n=t.getSelectedElement()||Hn(t.getSelectedBlocks());Mm(n,e.schema)?(this.value=n.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(n,"linkHref")):(this.value=t.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref"));for(const a of this.manualDecorators)a.value=this._getDecoratorStateFromModel(a.id)}execute(e,t={}){const n=this.editor.model,a=n.document.selection,c=[],p=[];for(const _ in t)t[_]?c.push(_):p.push(_);n.change(_=>{if(a.isCollapsed){const w=a.getFirstPosition();if(a.hasAttribute("linkHref")){const E=sC(a);let I=Ya(w,"linkHref",a.getAttribute("linkHref"),n);a.getAttribute("linkHref")===E&&(I=this._updateLinkContent(n,_,I,e)),_.setAttribute("linkHref",e,I),c.forEach(O=>{_.setAttribute(O,!0,I)}),p.forEach(O=>{_.removeAttribute(O,I)}),_.setSelection(_.createPositionAfter(I.end.nodeBefore))}else if(e!==""){const E=Qo(a.getAttributes());E.set("linkHref",e),c.forEach(O=>{E.set(O,!0)});const{end:I}=n.insertContent(_.createText(e,E),w);_.setSelection(I)}["linkHref",...c,...p].forEach(E=>{_.removeSelectionAttribute(E)})}else{const w=n.schema.getValidRanges(a.getRanges(),"linkHref"),E=[];for(const O of a.getSelectedBlocks())n.schema.checkAttribute(O,"linkHref")&&E.push(_.createRangeOn(O));const I=E.slice();for(const O of w)this._isRangeToUpdate(O,E)&&I.push(O);for(const O of I){let $=O;if(I.length===1){const V=sC(a);a.getAttribute("linkHref")===V&&($=this._updateLinkContent(n,_,O,e),_.setSelection(_.createSelection($)))}_.setAttribute("linkHref",e,$),c.forEach(V=>{_.setAttribute(V,!0,$)}),p.forEach(V=>{_.removeAttribute(V,$)})}}})}_getDecoratorStateFromModel(e){const t=this.editor.model,n=t.document.selection,a=n.getSelectedElement();return Mm(a,t.schema)?a.getAttribute(e):n.getAttribute(e)}_isRangeToUpdate(e,t){for(const n of t)if(n.containsRange(e))return!1;return!0}_updateLinkContent(e,t,n,a){const c=t.createText(a,{linkHref:a});return e.insertContent(c,n)}}function sC(s){if(s.isCollapsed){const e=s.getFirstPosition();return e.textNode&&e.textNode.data}{const e=Array.from(s.getFirstRange().getItems());if(e.length>1)return null;const t=e[0];return t.is("$text")||t.is("$textProxy")?t.data:null}}class IO extends Nt{refresh(){const e=this.editor.model,t=e.document.selection,n=t.getSelectedElement();Mm(n,e.schema)?this.isEnabled=e.schema.checkAttribute(n,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref")}execute(){const e=this.editor,t=this.editor.model,n=t.document.selection,a=e.commands.get("link");t.change(c=>{const p=n.isCollapsed?[Ya(n.getFirstPosition(),"linkHref",n.getAttribute("linkHref"),t)]:t.schema.getValidRanges(n.getRanges(),"linkHref");for(const _ of p)if(c.removeAttribute("linkHref",_),a)for(const w of a.manualDecorators)c.removeAttribute(w.id,_)})}}class MO extends de(){constructor({id:e,label:t,attributes:n,classes:a,styles:c,defaultValue:p}){super(),this.id=e,this.set("value",void 0),this.defaultValue=p,this.label=t,this.attributes=n,this.classes=a,this.styles=c}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var aC=d(9773),PO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(aC.Z,PO),aC.Z.locals;var OO=Object.defineProperty,lC=Object.getOwnPropertySymbols,BO=Object.prototype.hasOwnProperty,LO=Object.prototype.propertyIsEnumerable,cC=(s,e,t)=>e in s?OO(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,RO=(s,e)=>{for(var t in e||(e={}))BO.call(e,t)&&cC(s,t,e[t]);if(lC)for(var t of lC(e))LO.call(e,t)&&cC(s,t,e[t]);return s};const dC="automatic",NO=/^(https?:)?\/\//;class $O extends Ne{static get pluginName(){return"LinkEditing"}static get requires(){return[Nw,Iw,or]}constructor(e){super(e),e.config.define("link",{addTargetToExternalLinks:!1})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:nC}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(n,a)=>nC(iC(n),a)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:n=>n.getAttribute("href")}}),e.commands.add("link",new TO(e)),e.commands.add("unlink",new IO(e));const t=function(n,a){const c={"Open in a new tab":n("Open in a new tab"),Downloadable:n("Downloadable")};return a.forEach(p=>("label"in p&&c[p.label]&&(p.label=c[p.label]),p)),a}(e.t,function(n){const a=[];if(n)for(const[c,p]of Object.entries(n)){const _=Object.assign({},p,{id:`link${AO(c)}`});a.push(_)}return a}(e.config.get("link.decorators")));this._enableAutomaticDecorators(t.filter(n=>n.mode===dC)),this._enableManualDecorators(t.filter(n=>n.mode==="manual")),e.plugins.get(Nw).registerAttribute("linkHref"),function(n,a,c,p){const _=n.editing.view,w=new Set;_.document.registerPostFixer(E=>{const I=n.model.document.selection;let O=!1;if(I.hasAttribute(a)){const $=Ya(I.getFirstPosition(),a,I.getAttribute(a),n.model),V=n.editing.mapper.toViewRange($);for(const G of V.getItems())G.is("element",c)&&!G.hasClass(p)&&(E.addClass(p,G),w.add(G),O=!0)}return O}),n.conversion.for("editingDowncast").add(E=>{function I(){_.change(O=>{for(const $ of w.values())O.removeClass(p,$),w.delete($)})}E.on("insert",I,{priority:"highest"}),E.on("remove",I,{priority:"highest"}),E.on("attribute",I,{priority:"highest"}),E.on("selection",I,{priority:"highest"})})}(e,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink(),this._enableClipboardIntegration()}_enableAutomaticDecorators(e){const t=this.editor,n=t.commands.get("link").automaticDecorators;t.config.get("link.addTargetToExternalLinks")&&n.add({id:"linkIsExternal",mode:dC,callback:a=>!!a&&NO.test(a),attributes:{target:"_blank",rel:"noopener noreferrer"}}),n.add(e),n.length&&t.conversion.for("downcast").add(n.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const t=this.editor,n=t.commands.get("link").manualDecorators;e.forEach(a=>{t.model.schema.extend("$text",{allowAttributes:a.id});const c=new MO(a);n.add(c),t.conversion.for("downcast").attributeToElement({model:c.id,view:(p,{writer:_,schema:w},{item:E})=>{if((E.is("selection")||w.isInline(E))&&p){const I=_.createAttributeElement("a",c.attributes,{priority:5});c.classes&&_.addClass(c.classes,I);for(const O in c.styles)_.setStyle(O,c.styles[O],I);return _.setCustomProperty("link",!0,I),I}}}),t.conversion.for("upcast").elementToAttribute({view:RO({name:"a"},c._createPattern()),model:{key:c.id}})})}_enableLinkOpen(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",(n,a)=>{if(!(g.isMac?a.domEvent.metaKey:a.domEvent.ctrlKey))return;let c=a.domTarget;if(c.tagName.toLowerCase()!="a"&&(c=c.closest("a")),!c)return;const p=c.getAttribute("href");p&&(n.stop(),a.preventDefault(),rC(p))},{context:"$capture"}),this.listenTo(t,"keydown",(n,a)=>{const c=e.commands.get("link").value;c&&a.keyCode===nn.enter&&a.altKey&&(n.stop(),rC(c))})}_enableInsertContentSelectionAttributesFixer(){const e=this.editor.model,t=e.document.selection;this.listenTo(e,"insertContent",()=>{const n=t.anchor.nodeBefore,a=t.anchor.nodeAfter;t.hasAttribute("linkHref")&&n&&n.hasAttribute("linkHref")&&(a&&a.hasAttribute("linkHref")||e.change(c=>{Om(c,Bm(e.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const e=this.editor,t=e.model;e.editing.view.addObserver(ou);let n=!1;this.listenTo(e.editing.view.document,"mousedown",()=>{n=!0}),this.listenTo(e.editing.view.document,"selectionChange",()=>{if(!n)return;n=!1;const a=t.document.selection;if(!a.isCollapsed||!a.hasAttribute("linkHref"))return;const c=a.getFirstPosition(),p=Ya(c,"linkHref",a.getAttribute("linkHref"),t);(c.isTouching(p.start)||c.isTouching(p.end))&&t.change(_=>{Om(_,Bm(t.schema))})})}_enableTypingOverLink(){const e=this.editor,t=e.editing.view;let n=null,a=!1;this.listenTo(t.document,"delete",()=>{a=!0},{priority:"high"}),this.listenTo(e.model,"deleteContent",()=>{const c=e.model.document.selection;c.isCollapsed||(a?a=!1:uC(e)&&function(p){const _=p.document.selection,w=_.getFirstPosition(),E=_.getLastPosition(),I=w.nodeAfter;if(!I||!I.is("$text")||!I.hasAttribute("linkHref"))return!1;const O=E.textNode||E.nodeBefore;return I===O?!0:Ya(w,"linkHref",I.getAttribute("linkHref"),p).containsRange(p.createRange(w,E),!0)}(e.model)&&(n=c.getAttributes()))},{priority:"high"}),this.listenTo(e.model,"insertContent",(c,[p])=>{a=!1,uC(e)&&n&&(e.model.change(_=>{for(const[w,E]of n)_.setAttribute(w,E,p)}),n=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const e=this.editor,t=e.model,n=t.document.selection,a=e.editing.view;let c=!1,p=!1;this.listenTo(a.document,"delete",(_,w)=>{p=w.direction==="backward"},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{c=!1;const _=n.getFirstPosition(),w=n.getAttribute("linkHref");if(!w)return;const E=Ya(_,"linkHref",w,t);c=E.containsPosition(_)||E.end.isEqual(_)},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{p&&(p=!1,c||e.model.enqueueChange(_=>{Om(_,Bm(t.schema))}))},{priority:"low"})}_enableClipboardIntegration(){const e=this.editor,t=e.model,n=this.editor.config.get("link.defaultProtocol");n&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",(a,c)=>{t.change(p=>{const _=p.createRangeIn(c.content);for(const w of _.getItems())if(w.hasAttribute("linkHref")){const E=Pm(w.getAttribute("linkHref"),n);p.setAttribute("linkHref",E,w)}})})}}function Om(s,e){s.removeSelectionAttribute("linkHref");for(const t of e)s.removeSelectionAttribute(t)}function uC(s){return s.model.change(e=>e.batch).isTyping}function Bm(s){return s.getDefinition("$text").allowAttributes.filter(e=>e.startsWith("link"))}var hC=d(7754),jO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(hC.Z,jO),hC.Z.locals;class zO extends Pt{constructor(e,t){super(e),this.focusTracker=new Ai,this.keystrokes=new Fi,this._focusables=new ir;const n=e.t;this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(n("Save"),mn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(n("Cancel"),mn.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(t),this.children=this._createFormChildren(t.manualDecorators),this._focusCycler=new ts({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const a=["ck","ck-link-form","ck-responsive-form"];t.manualDecorators.length&&a.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:a,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,t)=>(e[t.name]=t.isOn,e),{})}render(){super.render(),Np({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const e=this.locale.t,t=new dc(this.locale,fu);return t.label=e("Link URL"),t}_createButton(e,t,n,a){const c=new qt(this.locale);return c.set({label:e,icon:t,tooltip:!0}),c.extendTemplate({attributes:{class:n}}),a&&c.delegate("execute").to(this,a),c}_createManualDecoratorSwitches(e){const t=this.createCollection();for(const n of e.manualDecorators){const a=new cc(this.locale);a.set({name:n.id,label:n.label,withText:!0}),a.bind("isOn").toMany([n,e],"value",(c,p)=>p===void 0&&c===void 0?!!n.defaultValue:!!c),a.on("execute",()=>{n.set("value",!a.isOn)}),t.add(a)}return t}_createFormChildren(e){const t=this.createCollection();if(t.add(this.urlInputView),e.length){const n=new Pt;n.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(a=>({tag:"li",children:[a],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),t.add(n)}return t.add(this.saveButtonView),t.add(this.cancelButtonView),t}}var fC=d(2347),FO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(fC.Z,FO),fC.Z.locals;class VO extends Pt{constructor(e){super(e),this.focusTracker=new Ai,this.keystrokes=new Fi,this._focusables=new ir;const t=e.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(t("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(t("Edit link"),mn.pencil,"edit"),this.set("href",void 0),this._focusCycler=new ts({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,t,n){const a=new qt(this.locale);return a.set({label:e,icon:t,tooltip:!0}),a.delegate("execute").to(this,n),a}_createPreviewButton(){const e=new qt(this.locale),t=this.bindTemplate,n=this.t;return e.set({withText:!0,tooltip:n("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:t.to("href",a=>a&&iC(a)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",a=>a||n("This link has no URL")),e.bind("isEnabled").to(this,"href",a=>!!a),e.template.tag="a",e.template.eventListeners={},e}}const sr="link-ui";class UO extends Ne{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[vu]}static get pluginName(){return"LinkUI"}init(){const e=this.editor;e.editing.view.addObserver(rD),this._balloon=e.plugins.get(vu),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:sr,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:sr,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,t=new VO(e.locale),n=e.commands.get("link"),a=e.commands.get("unlink");return t.bind("href").to(n,"value"),t.editButtonView.bind("isEnabled").to(n),t.unlinkButtonView.bind("isEnabled").to(a),this.listenTo(t,"edit",()=>{this._addFormView()}),this.listenTo(t,"unlink",()=>{e.execute("unlink"),this._hideUI()}),t.keystrokes.set("Esc",(c,p)=>{this._hideUI(),p()}),t.keystrokes.set(Im,(c,p)=>{this._addFormView(),p()}),t}_createFormView(){const e=this.editor,t=e.commands.get("link"),n=e.config.get("link.defaultProtocol"),a=new(Rp(zO))(e.locale,t);return a.urlInputView.fieldView.bind("value").to(t,"value"),a.urlInputView.bind("isEnabled").to(t,"isEnabled"),a.saveButtonView.bind("isEnabled").to(t),this.listenTo(a,"submit",()=>{const{value:c}=a.urlInputView.fieldView.element,p=Pm(c,n);e.execute("link",p,a.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(a,"cancel",()=>{this._closeFormView()}),a.keystrokes.set("Esc",(c,p)=>{this._closeFormView(),p()}),a}_createToolbarLinkButton(){const e=this.editor,t=e.commands.get("link"),n=e.t;e.ui.componentFactory.add("link",a=>{const c=new qt(a);return c.isEnabled=!0,c.label=n("Link"),c.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',c.keystroke=Im,c.tooltip=!0,c.isToggleable=!0,c.bind("isEnabled").to(t,"isEnabled"),c.bind("isOn").to(t,"value",p=>!!p),this.listenTo(c,"execute",()=>this._showUI(!0)),c})}_enableBalloonActivators(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(Im,(n,a)=>{a(),e.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,t)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),t())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,t)=>{this._isUIVisible&&(this._hideUI(),t())}),Lp({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const e=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=e.value||""}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),e.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,t=e.editing.view.document;let n=this._getSelectedLinkElement(),a=p();const c=()=>{const _=this._getSelectedLinkElement(),w=p();n&&!_||!n&&w!==a?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),n=_,a=w};function p(){return t.selection.focus.getAncestors().reverse().find(_=>_.is("element"))}this.listenTo(e.ui,"update",c),this.listenTo(this._balloon,"change:visibleView",c)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,t=this.editor.model,n=e.document;let a;if(t.markers.has(sr)){const c=Array.from(this.editor.editing.mapper.markerNameToElements(sr)),p=e.createRange(e.createPositionBefore(c[0]),e.createPositionAfter(c[c.length-1]));a=e.domConverter.viewRangeToDom(p)}else a=()=>{const c=this._getSelectedLinkElement();return c?e.domConverter.mapViewToDom(c):e.domConverter.viewRangeToDom(n.selection.getFirstRange())};return{target:a}}_getSelectedLinkElement(){const e=this.editor.editing.view,t=e.document.selection,n=t.getSelectedElement();if(t.isCollapsed||n&&zn(n))return Lm(t.getFirstPosition());{const a=t.getFirstRange().getTrimmed(),c=Lm(a.start),p=Lm(a.end);return c&&c==p&&e.createRangeIn(c).getTrimmed().isEqual(a)?c:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(t=>{const n=e.document.selection.getFirstRange();if(e.markers.has(sr))t.updateMarker(sr,{range:n});else if(n.start.isAtEnd){const a=n.start.getLastMatchingPosition(({item:c})=>!e.schema.isContent(c),{boundaries:n});t.addMarker(sr,{usingOperation:!1,affectsData:!1,range:t.createRange(a,n.end)})}else t.addMarker(sr,{usingOperation:!1,affectsData:!1,range:n})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(sr)&&e.change(t=>{t.removeMarker(sr)})}}function Lm(s){return s.getAncestors().find(e=>{return(t=e).is("attributeElement")&&!!t.getCustomProperty("link");var t})||null}const HO=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class WO extends Ne{static get requires(){return[xr]}static get pluginName(){return"AutoLink"}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const e=this.editor,t=new Rw(e.model,n=>{if(!function(c){return c.length>4&&c[c.length-1]===" "&&c[c.length-2]!==" "}(n))return;const a=pC(n.substr(0,n.length-1));return a?{url:a}:void 0});t.on("matched:data",(n,a)=>{const{batch:c,range:p,url:_}=a;if(!c.isTyping)return;const w=p.end.getShiftedBy(-1),E=w.getShiftedBy(-_.length),I=e.model.createRange(E,w);this._applyAutoLink(_,I)}),t.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,t=e.model,n=e.commands.get("enter");n&&n.on("execute",()=>{const a=t.document.selection.getFirstPosition();if(!a.parent.previousSibling)return;const c=t.createRangeIn(a.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(c)})}_enableShiftEnterHandling(){const e=this.editor,t=e.model,n=e.commands.get("shiftEnter");n&&n.on("execute",()=>{const a=t.document.selection.getFirstPosition(),c=t.createRange(t.createPositionAt(a.parent,0),a.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(c)})}_checkAndApplyAutoLinkOnRange(e){const t=this.editor.model,{text:n,range:a}=Lw(e,t),c=pC(n);if(c){const p=t.createRange(a.end.getShiftedBy(-c.length),a.end);this._applyAutoLink(c,p)}}_applyAutoLink(e,t){const n=this.editor.model,a=Pm(e,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(c,p){return p.schema.checkAttributeInSelection(p.createSelection(c),"linkHref")}(t,n)&&oC(a)&&!function(c){const p=c.start.nodeAfter;return!!p&&p.hasAttribute("linkHref")}(t)&&this._persistAutoLink(a,t)}_persistAutoLink(e,t){const n=this.editor.model,a=this.editor.plugins.get("Delete");n.enqueueChange(c=>{c.setAttribute("linkHref",e,t),n.enqueueChange(()=>{a.requestUndoOnBackspace()})})}}function pC(s){const e=HO.exec(s);return e?e[2]:null}var mC=d(111),GO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(mC.Z,GO),mC.Z.locals;var gC=d(5730),KO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(gC.Z,KO),gC.Z.locals;var _C=d(4564),YO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(_C.Z,YO),_C.Z.locals;function qO(s,e){const t=e.mapper,n=e.writer,a=s.getAttribute("listType")=="numbered"?"ol":"ul",c=function(_){const w=_.createContainerElement("li");return w.getFillerOffset=JO,w}(n),p=n.createContainerElement(a,null);return n.insert(n.createPositionAt(p,0),c),t.bindElements(s,c),c}function bC(s,e,t,n){const a=e.parent,c=t.mapper,p=t.writer;let _=c.toViewPosition(n.createPositionBefore(s));const w=Ja(s.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:s.getAttribute("listIndent")}),E=s.previousSibling;if(w&&w.getAttribute("listIndent")==s.getAttribute("listIndent")){const I=c.toViewElement(w);_=p.breakContainer(p.createPositionAfter(I))}else if(E&&E.name=="listItem"){_=c.toViewPosition(n.createPositionAt(E,"end"));const I=c.findMappedViewAncestor(_),O=function($){for(const V of $.getChildren())if(V.name=="ul"||V.name=="ol")return V;return null}(I);_=O?p.createPositionBefore(O):p.createPositionAt(I,"end")}else _=c.toViewPosition(n.createPositionBefore(s));if(_=vC(_),p.insert(_,a),E&&E.name=="listItem"){const I=c.toViewElement(E),O=p.createRange(p.createPositionAt(I,0),_).getWalker({ignoreElementEnd:!0});for(const $ of O)if($.item.is("element","li")){const V=p.breakContainer(p.createPositionBefore($.item)),G=$.item.parent,Q=p.createPositionAt(e,"end");wo(p,Q.nodeBefore,Q.nodeAfter),p.move(p.createRangeOn(G),Q),O._position=V}}else{const I=a.nextSibling;if(I&&(I.is("element","ul")||I.is("element","ol"))){let O=null;for(const $ of I.getChildren()){const V=c.toModelElement($);if(!(V&&V.getAttribute("listIndent")>s.getAttribute("listIndent")))break;O=$}O&&(p.breakContainer(p.createPositionAfter(O)),p.move(p.createRangeOn(O.parent),p.createPositionAt(e,"end")))}}wo(p,a,a.nextSibling),wo(p,a.previousSibling,a)}function wo(s,e,t){return!e||!t||e.name!="ul"&&e.name!="ol"||e.name!=t.name||e.getAttribute("class")!==t.getAttribute("class")?null:s.mergeContainers(s.createPositionAfter(e))}function vC(s){return s.getLastMatchingPosition(e=>e.item.is("uiElement"))}function Ja(s,e){const t=!!e.sameIndent,n=!!e.smallerIndent,a=e.listIndent;let c=s;for(;c&&c.name=="listItem";){const p=c.getAttribute("listIndent");if(t&&a==p||n&&a>p)return c;c=e.direction==="forward"?c.nextSibling:c.previousSibling}return null}function kC(s,e,t,n){s.ui.componentFactory.add(e,a=>{const c=s.commands.get(e),p=new qt(a);return p.set({label:t,icon:n,tooltip:!0,isToggleable:!0}),p.bind("isOn","isEnabled").to(c,"value","isEnabled"),p.on("execute",()=>{s.execute(e),s.editing.view.focus()}),p})}function Ru(s,e){const t=[],n=s.parent,a={ignoreElementEnd:!1,startPosition:s,shallow:!0,direction:e},c=n.getAttribute("listIndent"),p=[...new tr(a)].filter(_=>_.item.is("element")).map(_=>_.item);for(const _ of p){if(!_.is("element","listItem")||_.getAttribute("listIndent")<c)break;if(!(_.getAttribute("listIndent")>c)){if(_.getAttribute("listType")!==n.getAttribute("listType")||_.getAttribute("listStyle")!==n.getAttribute("listStyle")||_.getAttribute("listReversed")!==n.getAttribute("listReversed")||_.getAttribute("listStart")!==n.getAttribute("listStart"))break;e==="backward"?t.unshift(_):t.push(_)}}return t}function Nu(s){let e=[...s.document.selection.getSelectedBlocks()].filter(t=>t.is("element","listItem")).map(t=>{const n=s.change(a=>a.createPositionAt(t,0));return[...Ru(n,"backward"),...Ru(n,"forward")]}).flat();return e=[...new Set(e)],e}const ZO=["disc","circle","square"],QO=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function wC(s){return ZO.includes(s)?"bulleted":QO.includes(s)?"numbered":null}function JO(){const s=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||s?0:ob.call(this)}const yC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',CC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>';class XO extends Ne{static get pluginName(){return"ListUI"}init(){const e=this.editor.t;kC(this.editor,"numberedList",e("Numbered List"),yC),kC(this.editor,"bulletedList",e("Bulleted List"),CC)}}const eB=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:s,typeAttribute:e,listType:t}of eB);var AC=d(4721),tB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(AC.Z,tB),AC.Z.locals;class nB extends Pt{constructor(e,t){super(e);const n=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),t&&this.children.addMany(t),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",n.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:n.if("isCollapsed","hidden"),"aria-labelledby":n.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}_createButtonView(){const e=new qt(this.locale),t=e.bindTemplate;return e.set({withText:!0,icon:Up}),e.extendTemplate({attributes:{"aria-expanded":t.to("isOn",n=>String(n))}}),e.bind("label").to(this),e.bind("isOn").to(this,"isCollapsed",n=>!n),e.on("execute",()=>{this.isCollapsed=!this.isCollapsed}),e}}var xC=d(6082),iB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(xC.Z,iB),xC.Z.locals;class oB extends Pt{constructor(e,{enabledProperties:t,styleButtonViews:n,styleGridAriaLabel:a}){super(e),this.stylesView=null,this.additionalPropertiesCollapsibleView=null,this.startIndexFieldView=null,this.reversedSwitchButtonView=null,this.focusTracker=new Ai,this.keystrokes=new Fi,this.focusables=new ir;const c=["ck","ck-list-properties"];this.children=this.createCollection(),this.focusCycler=new ts({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),t.styles?(this.stylesView=this._createStylesView(n,a),this.children.add(this.stylesView)):c.push("ck-list-properties_without-styles"),(t.startIndex||t.reversed)&&(this._addNumberedListPropertyViews(t),c.push("ck-list-properties_with-numbered-properties")),this.setTemplate({tag:"div",attributes:{class:c},children:this.children})}render(){if(super.render(),this.stylesView){this.focusables.add(this.stylesView),this.focusTracker.add(this.stylesView.element),(this.startIndexFieldView||this.reversedSwitchButtonView)&&(this.focusables.add(this.children.last.buttonView),this.focusTracker.add(this.children.last.buttonView.element));for(const e of this.stylesView.children)this.stylesView.focusTracker.add(e.element);$p({keystrokeHandler:this.stylesView.keystrokes,focusTracker:this.stylesView.focusTracker,gridItems:this.stylesView.children,numberOfColumns:()=>Vt.window.getComputedStyle(this.stylesView.element).getPropertyValue("grid-template-columns").split(" ").length,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}if(this.startIndexFieldView){this.focusables.add(this.startIndexFieldView),this.focusTracker.add(this.startIndexFieldView.element);const e=t=>t.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}this.reversedSwitchButtonView&&(this.focusables.add(this.reversedSwitchButtonView),this.focusTracker.add(this.reversedSwitchButtonView.element)),this.keystrokes.listenTo(this.element)}focus(){this.focusCycler.focusFirst()}focusLast(){this.focusCycler.focusLast()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createStylesView(e,t){const n=new Pt(this.locale);return n.children=n.createCollection(),n.children.addMany(e),n.setTemplate({tag:"div",attributes:{"aria-label":t,class:["ck","ck-list-styles-list"]},children:n.children}),n.children.delegate("execute").to(this),n.focus=function(){this.children.first.focus()},n.focusTracker=new Ai,n.keystrokes=new Fi,n.render(),n.keystrokes.listenTo(n.element),n}_addNumberedListPropertyViews(e){const t=this.locale.t,n=[];e.startIndex&&(this.startIndexFieldView=this._createStartIndexField(),n.push(this.startIndexFieldView)),e.reversed&&(this.reversedSwitchButtonView=this._createReversedSwitchButton(),n.push(this.reversedSwitchButtonView)),e.styles?(this.additionalPropertiesCollapsibleView=new nB(this.locale,n),this.additionalPropertiesCollapsibleView.set({label:t("List properties"),isCollapsed:!0}),this.additionalPropertiesCollapsibleView.buttonView.bind("isEnabled").toMany(n,"isEnabled",(...a)=>a.some(c=>c)),this.additionalPropertiesCollapsibleView.buttonView.on("change:isEnabled",(a,c,p)=>{p||(this.additionalPropertiesCollapsibleView.isCollapsed=!0)}),this.children.add(this.additionalPropertiesCollapsibleView)):this.children.addMany(n)}_createStartIndexField(){const e=this.locale.t,t=new dc(this.locale,hT);return t.set({label:e("Start at"),class:"ck-numbered-list-properties__start-index"}),t.fieldView.set({min:0,step:1,value:1,inputMode:"numeric"}),t.fieldView.on("input",()=>{const n=t.fieldView.element,a=n.valueAsNumber;Number.isNaN(a)||(n.checkValidity()?this.fire("listStart",{startIndex:a}):t.errorText=e("Start index must be greater than 0."))}),t}_createReversedSwitchButton(){const e=this.locale.t,t=new cc(this.locale);return t.set({withText:!0,label:e("Reversed order"),class:"ck-numbered-list-properties__reversed-order"}),t.delegate("execute").to(this,"listReversed"),t}}var SC=d(2417),rB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(SC.Z,rB),SC.Z.locals;class sB extends Ne{static get pluginName(){return"ListPropertiesUI"}init(){const e=this.editor,t=e.locale.t,n=e.config.get("list.properties");n.styles&&e.ui.componentFactory.add("bulletedList",EC({editor:e,parentCommandName:"bulletedList",buttonLabel:t("Bulleted List"),buttonIcon:CC,styleGridAriaLabel:t("Bulleted list styles toolbar"),styleDefinitions:[{label:t("Toggle the disc list style"),tooltip:t("Disc"),type:"disc",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0-9a3 3 0 1 1 0 6 3 3 0 0 1 0-6z"/></svg>'},{label:t("Toggle the circle list style"),tooltip:t("Circle"),type:"circle",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11 27a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-10a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"/></svg>'},{label:t("Toggle the square list style"),tooltip:t("Square"),type:"square",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M14 27v6H8v-6h6zm0-9v6H8v-6h6zm0-9v6H8V9h6z"/></svg>'}]})),(n.styles||n.startIndex||n.reversed)&&e.ui.componentFactory.add("numberedList",EC({editor:e,parentCommandName:"numberedList",buttonLabel:t("Numbered List"),buttonIcon:yC,styleGridAriaLabel:t("Numbered list styles toolbar"),styleDefinitions:[{label:t("Toggle the decimal list style"),tooltip:t("Decimal"),type:"decimal",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M10.29 15V8.531H9.286c-.14.393-.4.736-.778 1.03-.378.295-.728.495-1.05.6v1.121a4.257 4.257 0 0 0 1.595-.936V15h1.235zm3.343 0v-1.235h-1.235V15h1.235zM11.3 24v-1.147H8.848c.064-.111.148-.226.252-.343.104-.117.351-.354.74-.712.39-.357.66-.631.81-.821.225-.288.39-.562.494-.824.104-.263.156-.539.156-.829 0-.51-.182-.936-.545-1.279-.363-.342-.863-.514-1.499-.514-.58 0-1.063.148-1.45.444-.387.296-.617.784-.69 1.463l1.23.124c.024-.36.112-.619.264-.774.153-.155.358-.233.616-.233.26 0 .465.074.613.222.148.148.222.36.222.635 0 .25-.085.501-.255.756-.126.185-.468.536-1.024 1.055-.692.641-1.155 1.156-1.389 1.544-.234.389-.375.8-.422 1.233H11.3zm2.333 0v-1.235h-1.235V24h1.235zM9.204 34.11c.615 0 1.129-.2 1.542-.598.413-.398.62-.88.62-1.446 0-.39-.11-.722-.332-.997a1.5 1.5 0 0 0-.886-.532c.619-.337.928-.788.928-1.353 0-.399-.151-.756-.453-1.073-.366-.386-.852-.58-1.459-.58a2.25 2.25 0 0 0-.96.2 1.617 1.617 0 0 0-.668.55c-.16.232-.28.544-.358.933l1.138.194c.032-.282.123-.495.272-.642.15-.146.33-.22.54-.22.215 0 .386.065.515.194s.193.302.193.518c0 .255-.087.46-.263.613-.176.154-.43.227-.765.218l-.136 1.006c.22-.061.409-.092.567-.092.24 0 .444.09.61.272.168.182.251.428.251.739 0 .328-.087.589-.261.782a.833.833 0 0 1-.644.29.841.841 0 0 1-.607-.242c-.167-.16-.27-.394-.307-.698l-1.196.145c.062.542.285.98.668 1.316.384.335.868.503 1.45.503zm4.43-.11v-1.235h-1.236V34h1.235z"/></svg>'},{label:t("Toggle the decimal with leading zero list style"),tooltip:t("Decimal with leading zero"),type:"decimal-leading-zero",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M5.714 15.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm6.078.914V8.531H10.79c-.14.393-.4.736-.778 1.03-.378.295-.728.495-1.05.6v1.121a4.257 4.257 0 0 0 1.595-.936V15h1.235zm3.344 0v-1.235h-1.235V15h1.235zm-9.422 9.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm7.088.914v-1.147H10.35c.065-.111.149-.226.253-.343.104-.117.35-.354.74-.712.39-.357.66-.631.81-.821.225-.288.39-.562.493-.824.104-.263.156-.539.156-.829 0-.51-.181-.936-.544-1.279-.364-.342-.863-.514-1.499-.514-.58 0-1.063.148-1.45.444-.387.296-.617.784-.69 1.463l1.23.124c.024-.36.112-.619.264-.774.152-.155.357-.233.615-.233.261 0 .465.074.613.222.148.148.222.36.222.635 0 .25-.085.501-.255.756-.126.185-.467.536-1.024 1.055-.691.641-1.154 1.156-1.388 1.544-.235.389-.375.8-.422 1.233h4.328zm2.334 0v-1.235h-1.235V24h1.235zM5.714 34.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm4.992 1.024c.616 0 1.13-.2 1.543-.598.413-.398.62-.88.62-1.446 0-.39-.111-.722-.332-.997a1.5 1.5 0 0 0-.886-.532c.618-.337.927-.788.927-1.353 0-.399-.15-.756-.452-1.073-.366-.386-.853-.58-1.46-.58a2.25 2.25 0 0 0-.96.2 1.617 1.617 0 0 0-.667.55c-.16.232-.28.544-.359.933l1.139.194c.032-.282.123-.495.272-.642.15-.146.33-.22.54-.22.214 0 .386.065.515.194s.193.302.193.518c0 .255-.088.46-.264.613-.175.154-.43.227-.764.218l-.136 1.006c.22-.061.408-.092.566-.092.24 0 .444.09.611.272.167.182.25.428.25.739 0 .328-.086.589-.26.782a.833.833 0 0 1-.644.29.841.841 0 0 1-.607-.242c-.167-.16-.27-.394-.308-.698l-1.195.145c.062.542.284.98.668 1.316.384.335.867.503 1.45.503zm4.43-.11v-1.235h-1.235V34h1.235z"/></svg>'},{label:t("Toggle the lower–roman list style"),tooltip:t("Lower–roman"),type:"lower-roman",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11.88 8.7V7.558h-1.234V8.7h1.234zm0 5.3V9.333h-1.234V14h1.234zm2.5 0v-1.235h-1.234V14h1.235zm-4.75 4.7v-1.142H8.395V18.7H9.63zm0 5.3v-4.667H8.395V24H9.63zm2.5-5.3v-1.142h-1.234V18.7h1.235zm0 5.3v-4.667h-1.234V24h1.235zm2.501 0v-1.235h-1.235V24h1.235zM7.38 28.7v-1.142H6.145V28.7H7.38zm0 5.3v-4.667H6.145V34H7.38zm2.5-5.3v-1.142H8.646V28.7H9.88zm0 5.3v-4.667H8.646V34H9.88zm2.5-5.3v-1.142h-1.234V28.7h1.235zm0 5.3v-4.667h-1.234V34h1.235zm2.501 0v-1.235h-1.235V34h1.235z"/></svg>'},{label:t("Toggle the upper–roman list style"),tooltip:t("Upper-roman"),type:"upper-roman",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11.916 15V8.558h-1.301V15h1.3zm2.465 0v-1.235h-1.235V15h1.235zM9.665 25v-6.442h-1.3V25h1.3zm2.5 0v-6.442h-1.3V25h1.3zm2.466 0v-1.235h-1.235V25h1.235zm-7.216 9v-6.442h-1.3V34h1.3zm2.5 0v-6.442h-1.3V34h1.3zm2.501 0v-6.442h-1.3V34h1.3zm2.465 0v-1.235h-1.235V34h1.235z"/></svg>'},{label:t("Toggle the lower–latin list style"),tooltip:t("Lower-latin"),type:"lower-latin",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M9.62 14.105c.272 0 .528-.05.768-.153s.466-.257.677-.462c.009.024.023.072.044.145.047.161.086.283.119.365h1.221a2.649 2.649 0 0 1-.222-.626c-.04-.195-.059-.498-.059-.908l.013-1.441c0-.536-.055-.905-.165-1.105-.11-.201-.3-.367-.569-.497-.27-.13-.68-.195-1.23-.195-.607 0-1.064.108-1.371.325-.308.217-.525.55-.65 1.002l1.12.202c.076-.217.176-.369.299-.455.123-.086.294-.13.514-.13.325 0 .546.05.663.152.118.101.176.27.176.508v.123c-.222.093-.622.194-1.2.303-.427.082-.755.178-.982.288-.227.11-.403.268-.53.474a1.327 1.327 0 0 0-.188.706c0 .398.138.728.415.988.277.261.656.391 1.136.391zm.368-.87a.675.675 0 0 1-.492-.189.606.606 0 0 1-.193-.448c0-.176.08-.32.241-.435.106-.07.33-.142.673-.215a7.19 7.19 0 0 0 .751-.19v.247c0 .296-.016.496-.048.602a.773.773 0 0 1-.295.409 1.07 1.07 0 0 1-.637.22zm4.645.765v-1.235h-1.235V14h1.235zM10.2 25.105c.542 0 1.003-.215 1.382-.646.38-.43.57-1.044.57-1.84 0-.771-.187-1.362-.559-1.774a1.82 1.82 0 0 0-1.41-.617c-.522 0-.973.216-1.354.65v-2.32H7.594V25h1.147v-.686a1.9 1.9 0 0 0 .67.592c.26.133.523.2.79.2zm-.299-.975c-.354 0-.638-.164-.852-.492-.153-.232-.229-.59-.229-1.073 0-.468.098-.818.295-1.048a.93.93 0 0 1 .738-.345c.302 0 .55.118.743.354.193.236.29.62.29 1.154 0 .5-.096.868-.288 1.1-.192.233-.424.35-.697.35zm4.478.87v-1.235h-1.234V25h1.234zm-4.017 9.105c.6 0 1.08-.142 1.437-.426.357-.284.599-.704.725-1.261l-1.213-.207c-.061.326-.167.555-.316.688a.832.832 0 0 1-.576.2.916.916 0 0 1-.75-.343c-.185-.228-.278-.62-.278-1.173 0-.498.091-.853.274-1.066.183-.212.429-.318.736-.318.232 0 .42.061.565.184.145.123.238.306.28.55l1.216-.22c-.146-.501-.387-.874-.722-1.119-.336-.244-.788-.366-1.356-.366-.695 0-1.245.214-1.653.643-.407.43-.61 1.03-.61 1.8 0 .762.202 1.358.608 1.788.406.431.95.646 1.633.646zM14.633 34v-1.235h-1.235V34h1.235z"/></svg>'},{label:t("Toggle the upper–latin list style"),tooltip:t("Upper-latin"),type:"upper-latin",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="m7.88 15 .532-1.463h2.575L11.549 15h1.415l-2.58-6.442H9.01L6.5 15h1.38zm2.69-2.549H8.811l.87-2.39.887 2.39zM14.88 15v-1.235h-1.234V15h1.234zM9.352 25c.83-.006 1.352-.02 1.569-.044.346-.038.636-.14.872-.305.236-.166.422-.387.558-.664.137-.277.205-.562.205-.855 0-.372-.106-.695-.317-.97-.21-.276-.512-.471-.905-.585a1.51 1.51 0 0 0 .661-.567 1.5 1.5 0 0 0 .244-.83c0-.28-.066-.53-.197-.754a1.654 1.654 0 0 0-.495-.539 1.676 1.676 0 0 0-.672-.266c-.25-.042-.63-.063-1.14-.063H7.158V25h2.193zm.142-3.88H8.46v-1.49h.747c.612 0 .983.007 1.112.022.217.026.38.102.49.226.11.125.165.287.165.486a.68.68 0 0 1-.192.503.86.86 0 0 1-.525.23 11.47 11.47 0 0 1-.944.023h.18zm.17 2.795H8.46v-1.723h1.05c.592 0 .977.03 1.154.092.177.062.313.16.406.295a.84.84 0 0 1 .14.492c0 .228-.06.41-.181.547a.806.806 0 0 1-.473.257c-.126.026-.423.04-.892.04zM14.88 25v-1.235h-1.234V25h1.234zm-5.018 9.11c.691 0 1.262-.17 1.711-.512.45-.341.772-.864.965-1.567l-1.261-.4c-.109.472-.287.818-.536 1.037-.25.22-.547.33-.892.33-.47 0-.85-.173-1.143-.519-.293-.345-.44-.925-.44-1.74 0-.767.15-1.322.447-1.665.297-.343.684-.514 1.162-.514.346 0 .64.096.881.29.242.193.4.457.477.79l1.288-.307c-.147-.516-.367-.911-.66-1.187-.492-.465-1.132-.698-1.92-.698-.902 0-1.63.296-2.184.89-.554.593-.83 1.426-.83 2.498 0 1.014.275 1.813.825 2.397.551.585 1.254.877 2.11.877zM14.88 34v-1.235h-1.234V34h1.234z"/></svg>'}]}))}}function EC({editor:s,parentCommandName:e,buttonLabel:t,buttonIcon:n,styleGridAriaLabel:a,styleDefinitions:c}){const p=s.commands.get(e);return _=>{const w=Hi(_,du),E=w.buttonView;return w.bind("isEnabled").to(p),w.class="ck-list-styles-dropdown",E.on("execute",()=>{s.execute(e),s.editing.view.focus()}),E.set({label:t,icon:n,tooltip:!0,isToggleable:!0}),E.bind("isOn").to(p,"value",I=>!!I),w.once("change:isOpen",()=>{const I=function({editor:O,dropdownView:$,parentCommandName:V,styleDefinitions:G,styleGridAriaLabel:Q}){const ie=O.locale,he=O.config.get("list.properties");let ye=null;if(V!="numberedList"&&(he.startIndex=!1,he.reversed=!1),he.styles){const it=O.commands.get("listStyle"),Ct=function({editor:$t,listStyleCommand:Rn,parentCommandName:Kn}){const rs=$t.locale,yo=$t.commands.get(Kn);return({label:Ki,type:Yi,icon:jo,tooltip:Dr})=>{const Zs=new qt(rs);return Zs.set({label:Ki,icon:jo,tooltip:Dr}),Rn.on("change:value",()=>{Zs.isOn=Rn.value===Yi}),Zs.on("execute",()=>{yo.value?Rn.value!==Yi?$t.execute("listStyle",{type:Yi}):$t.execute("listStyle",{type:Rn.defaultType}):$t.model.change(()=>{$t.execute("listStyle",{type:Yi})})}),Zs}}({editor:O,parentCommandName:V,listStyleCommand:it}),Zt=typeof it.isStyleTypeSupported=="function"?$t=>it.isStyleTypeSupported($t.type):()=>!0;ye=G.filter(Zt).map(Ct)}const Oe=new oB(ie,{styleGridAriaLabel:Q,enabledProperties:he,styleButtonViews:ye});if(he.styles&&hu($,()=>Oe.stylesView.children.find(it=>it.isOn)),he.startIndex){const it=O.commands.get("listStart");Oe.startIndexFieldView.bind("isEnabled").to(it),Oe.startIndexFieldView.fieldView.bind("value").to(it),Oe.on("listStart",(Ct,Zt)=>O.execute("listStart",Zt))}if(he.reversed){const it=O.commands.get("listReversed");Oe.reversedSwitchButtonView.bind("isEnabled").to(it),Oe.reversedSwitchButtonView.bind("isOn").to(it,"value",Ct=>!!Ct),Oe.on("listReversed",()=>{const Ct=it.value;O.execute("listReversed",{reversed:!Ct})})}return Oe.delegate("execute").to($),Oe}({editor:s,dropdownView:w,parentCommandName:e,styleGridAriaLabel:a,styleDefinitions:c});w.panelView.children.add(I)}),w.on("execute",()=>{s.editing.view.focus()}),w}}class DC extends Nt{constructor(e,t){super(e),this._indentBy=t=="forward"?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,t=e.document;let n=Array.from(t.selection.getSelectedBlocks());e.change(a=>{const c=n[n.length-1];let p=c.nextSibling;for(;p&&p.name=="listItem"&&p.getAttribute("listIndent")>c.getAttribute("listIndent");)n.push(p),p=p.nextSibling;this._indentBy<0&&(n=n.reverse());for(const _ of n){const w=_.getAttribute("listIndent")+this._indentBy;w<0?a.rename(_,"paragraph"):a.setAttribute("listIndent",w,_)}this.fire("_executeCleanup",n)})}_checkEnabled(){const e=Hn(this.editor.model.document.selection.getSelectedBlocks());if(!e||!e.is("element","listItem"))return!1;if(this._indentBy>0){const t=e.getAttribute("listIndent"),n=e.getAttribute("listType");let a=e.previousSibling;for(;a&&a.is("element","listItem")&&a.getAttribute("listIndent")>=t;){if(a.getAttribute("listIndent")==t)return a.getAttribute("listType")==n;a=a.previousSibling}return!1}return!0}}class TC extends Nt{constructor(e,t){super(e),this.type=t}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const t=this.editor.model,n=t.document,a=Array.from(n.selection.getSelectedBlocks()).filter(p=>MC(p,t.schema)),c=e.forceValue!==void 0?!e.forceValue:this.value;t.change(p=>{if(c){let _=a[a.length-1].nextSibling,w=Number.POSITIVE_INFINITY,E=[];for(;_&&_.name=="listItem"&&_.getAttribute("listIndent")!==0;){const I=_.getAttribute("listIndent");I<w&&(w=I);const O=I-w;E.push({element:_,listIndent:O}),_=_.nextSibling}E=E.reverse();for(const I of E)p.setAttribute("listIndent",I.listIndent,I.element)}if(!c){let _=Number.POSITIVE_INFINITY;for(const w of a)w.is("element","listItem")&&w.getAttribute("listIndent")<_&&(_=w.getAttribute("listIndent"));_=_===0?1:_,IC(a,!0,_),IC(a,!1,_)}for(const _ of a.reverse())c&&_.name=="listItem"?p.rename(_,"paragraph"):c||_.name=="listItem"?c||_.name!="listItem"||_.getAttribute("listType")==this.type||p.setAttribute("listType",this.type,_):(p.setAttributes({listType:this.type,listIndent:0},_),p.rename(_,"listItem"));this.fire("_executeCleanup",a)})}_getValue(){const e=Hn(this.editor.model.document.selection.getSelectedBlocks());return!!e&&e.is("element","listItem")&&e.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,n=Hn(e.getSelectedBlocks());return!!n&&MC(n,t)}}function IC(s,e,t){const n=e?s[0]:s[s.length-1];if(n.is("element","listItem")){let a=n[e?"previousSibling":"nextSibling"],c=n.getAttribute("listIndent");for(;a&&a.is("element","listItem")&&a.getAttribute("listIndent")>=t;)c>a.getAttribute("listIndent")&&(c=a.getAttribute("listIndent")),a.getAttribute("listIndent")==c&&s[e?"unshift":"push"](a),a=a[e?"previousSibling":"nextSibling"]}}function MC(s,e){return e.checkChild(s.parent,"listItem")&&!e.isObject(s)}class aB extends Ne{static get pluginName(){return"ListUtils"}getListTypeFromListStyleType(e){return wC(e)}getSelectedListItems(e){return Nu(e)}getSiblingNodes(e,t){return Ru(e,t)}}function PC(s){return(e,t,n)=>{const a=n.consumable;if(!a.test(t.item,"insert")||!a.test(t.item,"attribute:listType")||!a.test(t.item,"attribute:listIndent"))return;a.consume(t.item,"insert"),a.consume(t.item,"attribute:listType"),a.consume(t.item,"attribute:listIndent");const c=t.item;bC(c,qO(c,n),n,s)}}const lB=(s,e,t)=>{if(!t.consumable.test(e.item,s.name))return;const n=t.mapper.toViewElement(e.item),a=t.writer;a.breakContainer(a.createPositionBefore(n)),a.breakContainer(a.createPositionAfter(n));const c=n.parent,p=e.attributeNewValue=="numbered"?"ol":"ul";a.rename(p,c)},cB=(s,e,t)=>{t.consumable.consume(e.item,s.name);const n=t.mapper.toViewElement(e.item).parent,a=t.writer;wo(a,n,n.nextSibling),wo(a,n.previousSibling,n)},OC=(s,e,t)=>{if(t.consumable.test(e.item,s.name)&&e.item.name!="listItem"){let n=t.mapper.toViewPosition(e.range.start);const a=t.writer,c=[];for(;(n.parent.name=="ul"||n.parent.name=="ol")&&(n=a.breakContainer(n),n.parent.name=="li");){const p=n,_=a.createPositionAt(n.parent,"end");if(!p.isEqual(_)){const w=a.remove(a.createRange(p,_));c.push(w)}n=a.createPositionAfter(n.parent)}if(c.length>0){for(let p=0;p<c.length;p++){const _=n.nodeBefore;if(n=a.insert(n,c[p]).end,p>0){const w=wo(a,_,_.nextSibling);w&&w.parent==_&&n.offset--}}wo(a,n.nodeBefore,n.nodeAfter)}}},dB=(s,e,t)=>{const n=t.mapper.toViewPosition(e.position),a=n.nodeBefore,c=n.nodeAfter;wo(t.writer,a,c)},uB=(s,e,t)=>{if(t.consumable.consume(e.viewItem,{name:!0})){const n=t.writer,a=n.createElement("listItem"),c=function(w){let E=0,I=w.parent;for(;I;){if(I.is("element","li"))E++;else{const O=I.previousSibling;O&&O.is("element","li")&&E++}I=I.parent}return E}(e.viewItem);n.setAttribute("listIndent",c,a);const p=e.viewItem.parent&&e.viewItem.parent.name=="ol"?"numbered":"bulleted";if(n.setAttribute("listType",p,a),!t.safeInsert(a,e.modelCursor))return;const _=function(w,E,I){const{writer:O,schema:$}=I;let V=O.createPositionAfter(w);for(const G of E)if(G.name=="ul"||G.name=="ol")V=I.convertItem(G,V).modelCursor;else{const Q=I.convertItem(G,O.createPositionAt(w,"end")),ie=Q.modelRange.start.nodeAfter;ie&&ie.is("element")&&!$.checkChild(w,ie.name)&&(w=Q.modelCursor.parent.is("element","listItem")?Q.modelCursor.parent:pB(Q.modelCursor),V=O.createPositionAfter(w))}return V}(a,e.viewItem.getChildren(),t);e.modelRange=n.createRange(e.modelCursor,_),t.updateConversionResult(a,e)}},BC=(s,e,t)=>{if(t.consumable.test(e.viewItem,{name:!0})){const n=Array.from(e.viewItem.getChildren());for(const a of n)!(a.is("element","li")||Xa(a))&&a._remove()}},hB=(s,e,t)=>{if(t.consumable.test(e.viewItem,{name:!0})){if(e.viewItem.childCount===0)return;const n=[...e.viewItem.getChildren()];let a=!1;for(const c of n)a&&!Xa(c)&&c._remove(),Xa(c)&&(a=!0)}};function LC(s){return(e,t)=>{if(t.isPhantom)return;const n=t.modelPosition.nodeBefore;if(n&&n.is("element","listItem")){const a=t.mapper.toViewElement(n),c=a.getAncestors().find(Xa),p=s.createPositionAt(a,0).getWalker();for(const _ of p){if(_.type=="elementStart"&&_.item.is("element","li")){t.viewPosition=_.previousPosition;break}if(_.type=="elementEnd"&&_.item==c){t.viewPosition=_.nextPosition;break}}}}}const fB=function(s,[e,t]){const n=this;let a,c=e.is("documentFragment")?e.getChild(0):e;if(a=t?n.createSelection(t):n.document.selection,c&&c.is("element","listItem")){const p=a.getFirstPosition();let _=null;if(p.parent.is("element","listItem")?_=p.parent:p.nodeBefore&&p.nodeBefore.is("element","listItem")&&(_=p.nodeBefore),_){const w=_.getAttribute("listIndent");if(w>0)for(;c&&c.is("element","listItem");)c._setAttribute("listIndent",c.getAttribute("listIndent")+w),c=c.nextSibling}}};function pB(s){const e=new tr({startPosition:s});let t;do t=e.next();while(!t.value.item.is("element","listItem"));return t.value.item}function RC(s,e,t,n,a,c){const p=Ja(e.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:s}),_=a.mapper,w=a.writer,E=p?p.getAttribute("listIndent"):null;let I;if(p)if(E==s){const O=_.toViewElement(p).parent;I=w.createPositionAfter(O)}else{const O=c.createPositionAt(p,"end");I=_.toViewPosition(O)}else I=t;I=vC(I);for(const O of[...n.getChildren()])Xa(O)&&(I=w.move(w.createRangeOn(O),I).end,wo(w,O,O.nextSibling),wo(w,O.previousSibling,O))}function Xa(s){return s.is("element","ol")||s.is("element","ul")}class NC extends Ne{static get pluginName(){return"ListEditing"}static get requires(){return[Au,xr,aB]}init(){const e=this.editor;e.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const t=e.data,n=e.editing;var a;e.model.document.registerPostFixer(p=>function(_,w){const E=_.document.differ.getChanges(),I=new Map;let O=!1;for(const Q of E)if(Q.type=="insert"&&Q.name=="listItem")$(Q.position);else if(Q.type=="insert"&&Q.name!="listItem"){if(Q.name!="$text"){const ie=Q.position.nodeAfter;ie.hasAttribute("listIndent")&&(w.removeAttribute("listIndent",ie),O=!0),ie.hasAttribute("listType")&&(w.removeAttribute("listType",ie),O=!0),ie.hasAttribute("listStyle")&&(w.removeAttribute("listStyle",ie),O=!0),ie.hasAttribute("listReversed")&&(w.removeAttribute("listReversed",ie),O=!0),ie.hasAttribute("listStart")&&(w.removeAttribute("listStart",ie),O=!0);for(const he of Array.from(_.createRangeIn(ie)).filter(ye=>ye.item.is("element","listItem")))$(he.previousPosition)}$(Q.position.getShiftedBy(Q.length))}else Q.type=="remove"&&Q.name=="listItem"?$(Q.position):(Q.type=="attribute"&&Q.attributeKey=="listIndent"||Q.type=="attribute"&&Q.attributeKey=="listType")&&$(Q.range.start);for(const Q of I.values())V(Q),G(Q);return O;function $(Q){const ie=Q.nodeBefore;if(ie&&ie.is("element","listItem")){let he=ie;if(I.has(he))return;for(let ye=he.previousSibling;ye&&ye.is("element","listItem");ye=he.previousSibling)if(he=ye,I.has(he))return;I.set(ie,he)}else{const he=Q.nodeAfter;he&&he.is("element","listItem")&&I.set(he,he)}}function V(Q){let ie=0,he=null;for(;Q&&Q.is("element","listItem");){const ye=Q.getAttribute("listIndent");if(ye>ie){let Oe;he===null?(he=ye-ie,Oe=ie):(he>ye&&(he=ye),Oe=ye-he),w.setAttribute("listIndent",Oe,Q),O=!0}else he=null,ie=Q.getAttribute("listIndent")+1;Q=Q.nextSibling}}function G(Q){let ie=[],he=null;for(;Q&&Q.is("element","listItem");){const ye=Q.getAttribute("listIndent");if(he&&he.getAttribute("listIndent")>ye&&(ie=ie.slice(0,ye+1)),ye!=0)if(ie[ye]){const Oe=ie[ye];Q.getAttribute("listType")!=Oe&&(w.setAttribute("listType",Oe,Q),O=!0)}else ie[ye]=Q.getAttribute("listType");he=Q,Q=Q.nextSibling}}}(e.model,p)),n.mapper.registerViewToModelLength("li",Rm),t.mapper.registerViewToModelLength("li",Rm),n.mapper.on("modelToViewPosition",LC(n.view)),n.mapper.on("viewToModelPosition",(a=e.model,(p,_)=>{const w=_.viewPosition,E=w.parent,I=_.mapper;if(E.name=="ul"||E.name=="ol"){if(w.isAtEnd){const O=I.toModelElement(w.nodeBefore),$=I.getModelLength(w.nodeBefore);_.modelPosition=a.createPositionBefore(O).getShiftedBy($)}else{const O=I.toModelElement(w.nodeAfter);_.modelPosition=a.createPositionBefore(O)}p.stop()}else if(E.name=="li"&&w.nodeBefore&&(w.nodeBefore.name=="ul"||w.nodeBefore.name=="ol")){const O=I.toModelElement(E);let $=1,V=w.nodeBefore;for(;V&&Xa(V);)$+=I.getModelLength(V),V=V.previousSibling;_.modelPosition=a.createPositionBefore(O).getShiftedBy($),p.stop()}})),t.mapper.on("modelToViewPosition",LC(n.view)),e.conversion.for("editingDowncast").add(p=>{p.on("insert",OC,{priority:"high"}),p.on("insert:listItem",PC(e.model)),p.on("attribute:listType:listItem",lB,{priority:"high"}),p.on("attribute:listType:listItem",cB,{priority:"low"}),p.on("attribute:listIndent:listItem",function(_){return(w,E,I)=>{if(!I.consumable.consume(E.item,"attribute:listIndent"))return;const O=I.mapper.toViewElement(E.item),$=I.writer;$.breakContainer($.createPositionBefore(O)),$.breakContainer($.createPositionAfter(O));const V=O.parent,G=V.previousSibling,Q=$.createRangeOn(V);$.remove(Q),G&&G.nextSibling&&wo($,G,G.nextSibling),RC(E.attributeOldValue+1,E.range.start,Q.start,O,I,_),bC(E.item,O,I,_);for(const ie of E.item.getChildren())I.consumable.consume(ie,"insert")}}(e.model)),p.on("remove:listItem",function(_){return(w,E,I)=>{const O=I.mapper.toViewPosition(E.position).getLastMatchingPosition(he=>!he.item.is("element","li")).nodeAfter,$=I.writer;$.breakContainer($.createPositionBefore(O)),$.breakContainer($.createPositionAfter(O));const V=O.parent,G=V.previousSibling,Q=$.createRangeOn(V),ie=$.remove(Q);G&&G.nextSibling&&wo($,G,G.nextSibling),RC(I.mapper.toModelElement(O).getAttribute("listIndent")+1,E.position,Q.start,O,I,_);for(const he of $.createRangeIn(ie).getItems())I.mapper.unbindViewElement(he);w.stop()}}(e.model)),p.on("remove",dB,{priority:"low"})}),e.conversion.for("dataDowncast").add(p=>{p.on("insert",OC,{priority:"high"}),p.on("insert:listItem",PC(e.model))}),e.conversion.for("upcast").add(p=>{p.on("element:ul",BC,{priority:"high"}),p.on("element:ol",BC,{priority:"high"}),p.on("element:li",hB,{priority:"high"}),p.on("element:li",uB)}),e.model.on("insertContent",fB,{priority:"high"}),e.commands.add("numberedList",new TC(e,"numbered")),e.commands.add("bulletedList",new TC(e,"bulleted")),e.commands.add("indentList",new DC(e,"forward")),e.commands.add("outdentList",new DC(e,"backward"));const c=n.view.document;this.listenTo(c,"enter",(p,_)=>{const w=this.editor.model.document,E=w.selection.getLastPosition().parent;w.selection.isCollapsed&&E.name=="listItem"&&E.isEmpty&&(this.editor.execute("outdentList"),_.preventDefault(),p.stop())},{context:"li"}),this.listenTo(c,"delete",(p,_)=>{if(_.direction!=="backward")return;const w=this.editor.model.document.selection;if(!w.isCollapsed)return;const E=w.getFirstPosition();if(!E.isAtStart)return;const I=E.parent;I.name==="listItem"&&(I.previousSibling&&I.previousSibling.name==="listItem"||(this.editor.execute("outdentList"),_.preventDefault(),p.stop()))},{context:"li"}),this.listenTo(e.editing.view.document,"tab",(p,_)=>{const w=_.shiftKey?"outdentList":"indentList";this.editor.commands.get(w).isEnabled&&(e.execute(w),_.stopPropagation(),_.preventDefault(),p.stop())},{context:"li"})}afterInit(){const e=this.editor.commands,t=e.get("indent"),n=e.get("outdent");t&&t.registerChildCommand(e.get("indentList")),n&&n.registerChildCommand(e.get("outdentList"))}}function Rm(s){let e=1;for(const t of s.getChildren())if(t.name=="ul"||t.name=="ol")for(const n of t.getChildren())e+=Rm(n);return e}class mB extends Nt{constructor(e,t){super(e),this.defaultType=t}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){this._tryToConvertItemsToList(e);const t=this.editor.model,n=Nu(t);n.length&&t.change(a=>{for(const c of n)a.setAttribute("listStyle",e.type||this.defaultType,c)})}_getValue(){const e=this.editor.model.document.selection.getFirstPosition().parent;return e&&e.is("element","listItem")?e.getAttribute("listStyle"):null}_checkEnabled(){const e=this.editor,t=e.commands.get("numberedList"),n=e.commands.get("bulletedList");return t.isEnabled||n.isEnabled}_tryToConvertItemsToList(e){if(!e.type)return;const t=wC(e.type);if(!t)return;const n=this.editor,a=`${t}List`;n.commands.get(a).value||n.execute(a)}}class gB extends Nt{refresh(){const e=this._getValue();this.value=e,this.isEnabled=e!=null}execute(e={}){const t=this.editor.model,n=Nu(t).filter(a=>a.getAttribute("listType")=="numbered");t.change(a=>{for(const c of n)a.setAttribute("listReversed",!!e.reversed,c)})}_getValue(){const e=this.editor.model.document.selection.getFirstPosition().parent;return e&&e.is("element","listItem")&&e.getAttribute("listType")=="numbered"?e.getAttribute("listReversed"):null}}class _B extends Nt{refresh(){const e=this._getValue();this.value=e,this.isEnabled=e!=null}execute({startIndex:e=1}={}){const t=this.editor.model,n=Nu(t).filter(a=>a.getAttribute("listType")=="numbered");t.change(a=>{for(const c of n)a.setAttribute("listStart",e>=0?e:1,c)})}_getValue(){const e=this.editor.model.document.selection.getFirstPosition().parent;return e&&e.is("element","listItem")&&e.getAttribute("listType")=="numbered"?e.getAttribute("listStart"):null}}const $u="default";class bB extends Ne{static get requires(){return[NC]}static get pluginName(){return"ListPropertiesEditing"}constructor(e){super(e),e.config.define("list",{properties:{styles:!0,startIndex:!1,reversed:!1}})}init(){const e=this.editor,t=e.model,n=function(c){const p=[];return c.styles&&p.push({attributeName:"listStyle",defaultValue:$u,addCommand(_){_.commands.add("listStyle",new mB(_,$u))},appliesToListItem:()=>!0,setAttributeOnDowncast(_,w,E){w&&w!==$u?_.setStyle("list-style-type",w,E):_.removeStyle("list-style-type",E)},getAttributeOnUpcast:_=>_.getStyle("list-style-type")||$u}),c.reversed&&p.push({attributeName:"listReversed",defaultValue:!1,addCommand(_){_.commands.add("listReversed",new gB(_))},appliesToListItem:_=>_.getAttribute("listType")=="numbered",setAttributeOnDowncast(_,w,E){w?_.setAttribute("reversed","reversed",E):_.removeAttribute("reversed",E)},getAttributeOnUpcast:_=>_.hasAttribute("reversed")}),c.startIndex&&p.push({attributeName:"listStart",defaultValue:1,addCommand(_){_.commands.add("listStart",new _B(_))},appliesToListItem:_=>_.getAttribute("listType")=="numbered",setAttributeOnDowncast(_,w,E){w==0||w>1?_.setAttribute("start",w,E):_.removeAttribute("start",E)},getAttributeOnUpcast(_){const w=_.getAttribute("start");return w>=0?w:1}}),p}(e.config.get("list.properties"));t.schema.extend("listItem",{allowAttributes:n.map(c=>c.attributeName)});for(const c of n)c.addCommand(e);var a;this.listenTo(e.commands.get("indentList"),"_executeCleanup",function(c,p){return(_,w)=>{const E=w[0],I=E.getAttribute("listIndent"),O=w.filter(V=>V.getAttribute("listIndent")===I);let $=null;E.previousSibling.getAttribute("listIndent")+1!==I&&($=Ja(E.previousSibling,{sameIndent:!0,direction:"backward",listIndent:I})),c.model.change(V=>{for(const G of O)for(const Q of p)if(Q.appliesToListItem(G)){const ie=$==null?Q.defaultValue:$.getAttribute(Q.attributeName);V.setAttribute(Q.attributeName,ie,G)}})}}(e,n)),this.listenTo(e.commands.get("outdentList"),"_executeCleanup",function(c,p){return(_,w)=>{if(!(w=w.reverse().filter($=>$.is("element","listItem"))).length)return;const E=w[0].getAttribute("listIndent"),I=w[0].getAttribute("listType");let O=w[0].previousSibling;if(O.is("element","listItem"))for(;O.getAttribute("listIndent")!==E;)O=O.previousSibling;else O=null;O||(O=w[w.length-1].nextSibling),O&&O.is("element","listItem")&&O.getAttribute("listType")===I&&c.model.change($=>{const V=w.filter(G=>G.getAttribute("listIndent")===E);for(const G of V)for(const Q of p)if(Q.appliesToListItem(G)){const ie=Q.attributeName,he=O.getAttribute(ie);$.setAttribute(ie,he,G)}})}}(e,n)),this.listenTo(e.commands.get("bulletedList"),"_executeCleanup",$C(e)),this.listenTo(e.commands.get("numberedList"),"_executeCleanup",$C(e)),t.document.registerPostFixer(function(c,p){return _=>{let w=!1;const E=jC(c.model.document.differ.getChanges()).filter(O=>O.getAttribute("listType")!=="todo");if(!E.length)return w;let I=E[E.length-1].nextSibling;if((!I||!I.is("element","listItem"))&&(I=E[0].previousSibling,I)){const O=E[0].getAttribute("listIndent");for(;I.is("element","listItem")&&I.getAttribute("listIndent")!==O&&(I=I.previousSibling,I););}for(const O of p){const $=O.attributeName;for(const V of E)if(O.appliesToListItem(V))if(V.hasAttribute($)){const G=V.previousSibling;kB(G,V,O.attributeName)&&(_.setAttribute($,G.getAttribute($),V),w=!0)}else vB(I,V,O)?_.setAttribute($,I.getAttribute($),V):_.setAttribute($,O.defaultValue,V),w=!0;else _.removeAttribute($,V)}return w}}(e,n)),e.conversion.for("upcast").add((a=n,c=>{c.on("element:li",(p,_,w)=>{if(!_.modelRange)return;const E=_.viewItem.parent,I=_.modelRange.start.nodeAfter||_.modelRange.end.nodeBefore;for(const O of a)if(O.appliesToListItem(I)){const $=O.getAttributeOnUpcast(E);w.writer.setAttribute(O.attributeName,$,I)}},{priority:"low"})})),e.conversion.for("downcast").add(function(c){return _=>{for(const w of c)_.on(`attribute:${w.attributeName}:listItem`,(E,I,O)=>{const $=O.writer,V=I.item,G=Ja(V.previousSibling,{sameIndent:!0,listIndent:V.getAttribute("listIndent"),direction:"backward"}),Q=O.mapper.toViewElement(V);p(V,G)||$.breakContainer($.createPositionBefore(Q)),w.setAttributeOnDowncast($,I.attributeNewValue,Q.parent)},{priority:"low"})};function p(_,w){return w&&_.getAttribute("listType")===w.getAttribute("listType")&&_.getAttribute("listIndent")===w.getAttribute("listIndent")&&_.getAttribute("listStyle")===w.getAttribute("listStyle")&&_.getAttribute("listReversed")===w.getAttribute("listReversed")&&_.getAttribute("listStart")===w.getAttribute("listStart")}}(n)),this._mergeListAttributesWhileMergingLists(n)}afterInit(){const e=this.editor;e.commands.get("todoList")&&e.model.document.registerPostFixer(function(t){return n=>{const a=jC(t.model.document.differ.getChanges()).filter(c=>c.getAttribute("listType")==="todo"&&(c.hasAttribute("listStyle")||c.hasAttribute("listReversed")||c.hasAttribute("listStart")));if(!a.length)return!1;for(const c of a)n.removeAttribute("listStyle",c),n.removeAttribute("listReversed",c),n.removeAttribute("listStart",c);return!0}}(e))}_mergeListAttributesWhileMergingLists(e){const t=this.editor.model;let n;this.listenTo(t,"deleteContent",(a,[c])=>{const p=c.getFirstPosition(),_=c.getLastPosition();if(p.parent===_.parent||!p.parent.is("element","listItem"))return;const w=_.parent.nextSibling;if(!w||!w.is("element","listItem"))return;const E=Ja(p.parent,{sameIndent:!0,listIndent:w.getAttribute("listIndent")});E&&E.getAttribute("listType")===w.getAttribute("listType")&&(n=E)},{priority:"high"}),this.listenTo(t,"deleteContent",()=>{n&&(t.change(a=>{const c=Ja(n.nextSibling,{sameIndent:!0,listIndent:n.getAttribute("listIndent"),direction:"forward"});if(!c)return void(n=null);const p=[c,...Ru(a.createPositionAt(c,0),"forward")];for(const _ of p)for(const w of e)if(w.appliesToListItem(_)){const E=w.attributeName,I=n.getAttribute(E);a.setAttribute(E,I,_)}}),n=null)},{priority:"low"})}}function vB(s,e,t){if(!s)return!1;const n=s.getAttribute(t.attributeName);return!!n&&n!=t.defaultValue&&s.getAttribute("listType")===e.getAttribute("listType")}function kB(s,e,t){if(!s||!s.is("element","listItem")||e.getAttribute("listType")!==s.getAttribute("listType"))return!1;const n=s.getAttribute("listIndent");if(n<1||n!==e.getAttribute("listIndent"))return!1;const a=s.getAttribute(t);return!(!a||a===e.getAttribute(t))}function $C(s){return(e,t)=>{t=t.filter(n=>n.is("element","listItem")),s.model.change(n=>{for(const a of t)n.removeAttribute("listStyle",a)})}}function jC(s){const e=[];for(const t of s){const n=wB(t);n&&n.is("element","listItem")&&e.push(n)}return e}function wB(s){return s.type==="attribute"?s.range.start.nodeAfter:s.type==="insert"?s.position.nodeAfter:null}zd("Ctrl+Enter");var zC=d(1199),yB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(zC.Z,yB),zC.Z.locals;function FC(s,e){const t=(n,a,c)=>{if(!c.consumable.consume(a.item,n.name))return;const p=a.attributeNewValue,_=c.writer,w=c.mapper.toViewElement(a.item),E=[...w.getChildren()].find(O=>O.getCustomProperty("media-content"));_.remove(E);const I=s.getMediaViewElement(_,p,e);_.insert(_.createPositionAt(w,0),I)};return n=>{n.on("attribute:url:media",t)}}function VC(s,e,t,n){return s.createContainerElement("figure",{class:"media"},[e.getMediaViewElement(s,t,n),s.createSlot()])}function UC(s){const e=s.getSelectedElement();return e&&e.is("element","media")?e:null}function HC(s,e,t,n){s.change(a=>{const c=a.createElement("media",{url:e});s.insertObject(c,t,null,{setSelection:"on",findOptimalPosition:n?"auto":void 0})})}class CB extends Nt{refresh(){const e=this.editor.model,t=e.document.selection,n=UC(t);this.value=n?n.getAttribute("url"):void 0,this.isEnabled=function(a){const c=a.getSelectedElement();return!!c&&c.name==="media"}(t)||function(a,c){let _=qw(a,c).start.parent;return _.isEmpty&&!c.schema.isLimit(_)&&(_=_.parent),c.schema.checkChild(_,"media")}(t,e)}execute(e){const t=this.editor.model,n=t.document.selection,a=UC(n);a?t.change(c=>{c.setAttribute("url",e,a)}):HC(t,e,n,!0)}}class AB{constructor(e,t){const n=t.providers,a=t.extraProviders||[],c=new Set(t.removeProviders),p=n.concat(a).filter(_=>{const w=_.name;return w?!c.has(w):(j("media-embed-no-provider-name",{provider:_}),!1)});this.locale=e,this.providerDefinitions=p}hasMedia(e){return!!this._getMedia(e)}getMediaViewElement(e,t,n){return this._getMedia(t).getViewElement(e,n)}_getMedia(e){if(!e)return new WC(this.locale);e=e.trim();for(const t of this.providerDefinitions){const n=t.html,a=ui(t.url);for(const c of a){const p=this._getUrlMatches(e,c);if(p)return new WC(this.locale,e,p,n)}}return null}_getUrlMatches(e,t){let n=e.match(t);if(n)return n;let a=e.replace(/^https?:\/\//,"");return n=a.match(t),n||(a=a.replace(/^www\./,""),n=a.match(t),n||null)}}class WC{constructor(e,t,n,a){this.url=this._getValidUrl(t),this._locale=e,this._match=n,this._previewRenderer=a}getViewElement(e,t){const n={};let a;if(t.renderForEditingView||t.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(n["data-oembed-url"]=this.url),t.renderForEditingView&&(n.class="ck-media__wrapper");const c=this._getPreviewHtml(t);a=e.createRawElement("div",n,(p,_)=>{_.setContentOf(p,c)})}else this.url&&(n.url=this.url),a=e.createEmptyElement(t.elementName,n);return e.setCustomProperty("media-content",!0,a),a}_getPreviewHtml(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const e=new Ha,t=this._locale.t;return e.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',e.viewBox="0 0 64 42",new vo({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":t("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(e){return e?e.match(/^https?/)?e:"https://"+e:null}}var GC=d(7442),xB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(GC.Z,xB),GC.Z.locals;class ju extends Ne{constructor(e){super(e),e.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:t=>{const n=t[1],a=t[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${n}${a?`?start=${a}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:t=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${t[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new AB(e.locale,e.config.get("mediaEmbed"))}static get pluginName(){return"MediaEmbedEditing"}init(){const e=this.editor,t=e.model.schema,n=e.t,a=e.conversion,c=e.config.get("mediaEmbed.previewsInData"),p=e.config.get("mediaEmbed.elementName"),_=this.registry;e.commands.add("mediaEmbed",new CB(e)),t.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),a.for("dataDowncast").elementToStructure({model:"media",view:(w,{writer:E})=>{const I=w.getAttribute("url");return VC(E,_,I,{elementName:p,renderMediaPreview:!!I&&c})}}),a.for("dataDowncast").add(FC(_,{elementName:p,renderMediaPreview:c})),a.for("editingDowncast").elementToStructure({model:"media",view:(w,{writer:E})=>{const I=w.getAttribute("url");return function(O,$,V){return $.setCustomProperty("media",!0,O),cm(O,$,{label:V})}(VC(E,_,I,{elementName:p,renderForEditingView:!0}),E,n("media widget"))}}),a.for("editingDowncast").add(FC(_,{elementName:p,renderForEditingView:!0})),a.for("upcast").elementToElement({view:w=>["oembed",p].includes(w.name)&&w.getAttribute("url")?{name:!0}:null,model:(w,{writer:E})=>{const I=w.getAttribute("url");return _.hasMedia(I)?E.createElement("media",{url:I}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(w,{writer:E})=>{const I=w.getAttribute("data-oembed-url");return _.hasMedia(I)?E.createElement("media",{url:I}):null}}).add(w=>{w.on("element:figure",(E,I,O)=>{if(!O.consumable.consume(I.viewItem,{name:!0,classes:"media"}))return;const{modelRange:$,modelCursor:V}=O.convertChildren(I.viewItem,I.modelCursor);I.modelRange=$,I.modelCursor=V,Hn($.getItems())||O.consumable.revert(I.viewItem,{name:!0,classes:"media"})})})}}const SB=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class EB extends Ne{constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}static get requires(){return[h2,xr,v2]}static get pluginName(){return"AutoMediaEmbed"}init(){const e=this.editor,t=e.model.document,n=e.plugins.get("ClipboardPipeline");this.listenTo(n,"inputTransformation",()=>{const a=t.selection.getFirstRange(),c=_i.fromPosition(a.start);c.stickiness="toPrevious";const p=_i.fromPosition(a.end);p.stickiness="toNext",t.once("change:data",()=>{this._embedMediaBetweenPositions(c,p),c.detach(),p.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(Vt.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(e,t){const n=this.editor,a=n.plugins.get(ju).registry,c=new Ro(e,t),p=c.getWalker({ignoreElementEnd:!0});let _="";for(const w of p)w.item.is("$textProxy")&&(_+=w.item.data);if(_=_.trim(),!_.match(SB)||!a.hasMedia(_))return void c.detach();n.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=_i.fromPosition(e),this._timeoutId=Vt.window.setTimeout(()=>{n.model.change(w=>{this._timeoutId=null,w.remove(c),c.detach();let E=null;this._positionToInsert.root.rootName!=="$graveyard"&&(E=this._positionToInsert),HC(n.model,_,E,!1),this._positionToInsert.detach(),this._positionToInsert=null}),n.plugins.get(xr).requestUndoOnBackspace()},100)):c.detach()}}var KC=d(9292),DB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(KC.Z,DB),KC.Z.locals;class TB extends Pt{constructor(e,t){super(t);const n=t.t;this.focusTracker=new Ai,this.keystrokes=new Fi,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(n("Save"),mn.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",a=>!!a),this.cancelButtonView=this._createButton(n("Cancel"),mn.cancel,"ck-button-cancel","cancel"),this._focusables=new ir,this._focusCycler=new ts({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=e,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),Np({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element);const e=t=>t.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(e){this.urlInputView.fieldView.element.value=e.trim()}isValid(){this.resetFormStatus();for(const e of this._validators){const t=e(this);if(t)return this.urlInputView.errorText=t,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const e=this.locale.t,t=new dc(this.locale,fu),n=t.fieldView;return this._urlInputViewInfoDefault=e("Paste the media URL in the input."),this._urlInputViewInfoTip=e("Tip: Paste the URL into the content to embed faster."),t.label=e("Media URL"),t.infoText=this._urlInputViewInfoDefault,n.on("input",()=>{t.infoText=n.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=n.element.value.trim()}),t}_createButton(e,t,n,a){const c=new qt(this.locale);return c.set({label:e,icon:t,tooltip:!0}),c.extendTemplate({attributes:{class:n}}),a&&c.delegate("execute").to(this,a),c}}class IB extends Ne{static get requires(){return[ju]}static get pluginName(){return"MediaEmbedUI"}init(){const e=this.editor,t=e.commands.get("mediaEmbed");e.ui.componentFactory.add("mediaEmbed",n=>{const a=Hi(n);return this._setUpDropdown(a,t),a})}_setUpDropdown(e,t){const n=this.editor,a=n.t,c=e.buttonView,p=n.plugins.get(ju).registry;e.once("change:isOpen",()=>{const _=new(Rp(TB))(function(w,E){return[I=>{if(!I.url.length)return w("The URL must not be empty.")},I=>{if(!E.hasMedia(I.url))return w("This media URL is not supported.")}]}(n.t,p),n.locale);e.panelView.children.add(_),c.on("open",()=>{_.disableCssTransitions(),_.url=t.value||"",_.urlInputView.fieldView.select(),_.enableCssTransitions()},{priority:"low"}),e.on("submit",()=>{_.isValid()&&(n.execute("mediaEmbed",_.url),n.editing.view.focus())}),e.on("change:isOpen",()=>_.resetFormStatus()),e.on("cancel",()=>{n.editing.view.focus()}),_.delegate("submit","cancel").to(e),_.urlInputView.fieldView.bind("value").to(t,"value"),_.urlInputView.bind("isEnabled").to(t,"isEnabled")}),e.bind("isEnabled").to(t),c.set({label:a("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',tooltip:!0})}}var YC=d(4652),MB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(YC.Z,MB),YC.Z.locals;function PB(s,e){if(!s.childCount)return;const t=new es(s.document),n=function(p,_){const w=_.createRangeIn(p),E=new Oo({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),I=[];for(const O of w)if(O.type==="elementStart"&&E.match(O.item)){const $=BB(O.item);I.push({element:O.item,id:$.id,order:$.order,indent:$.indent})}return I}(s,t);if(!n.length)return;let a=null,c=1;n.forEach((p,_)=>{const w=function(G,Q){if(!G)return!0;if(G.id!==Q.id)return Q.indent-G.indent!=1;const ie=Q.element.previousSibling;if(!ie)return!0;return he=ie,!(he.is("element","ol")||he.is("element","ul"));var he}(n[_-1],p),E=w?null:n[_-1],I=($=p,(O=E)?$.indent-O.indent:$.indent-1);var O,$;if(w&&(a=null,c=1),!a||I!==0){const G=function(Q,ie){const he=new RegExp(`@list l${Q.id}:level${Q.indent}\\s*({[^}]*)`,"gi"),ye=/mso-level-number-format:([^;]{0,100});/gi,Oe=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,it=he.exec(ie);let Ct="decimal",Zt="ol",$t=null;if(it&&it[1]){const Rn=ye.exec(it[1]);if(Rn&&Rn[1]&&(Ct=Rn[1].trim(),Zt=Ct!=="bullet"&&Ct!=="image"?"ol":"ul"),Ct==="bullet"){const Kn=function(rs){const yo=function(Yi){if(Yi.getChild(0).is("$text"))return null;for(const jo of Yi.getChildren()){if(!jo.is("element","span"))continue;const Dr=jo.getChild(0);if(Dr)return Dr.is("$text")?Dr:Dr.getChild(0)}return null}(rs);if(!yo)return null;const Ki=yo._data;return Ki==="o"?"circle":Ki==="·"?"disc":Ki==="§"?"square":null}(Q.element);Kn&&(Ct=Kn)}else{const Kn=Oe.exec(it[1]);Kn&&Kn[1]&&($t=parseInt(Kn[1]))}}return{type:Zt,startIndex:$t,style:OB(Ct)}}(p,e);if(a){if(p.indent>c){const Q=a.getChild(a.childCount-1),ie=Q.getChild(Q.childCount-1);a=qC(G,ie,t),c+=1}else if(p.indent<c){const Q=c-p.indent;a=function(ie,he){const ye=ie.getAncestors({parentFirst:!0});let Oe=null,it=0;for(const Ct of ye)if((Ct.is("element","ul")||Ct.is("element","ol"))&&it++,it===he){Oe=Ct;break}return Oe}(a,Q),c=p.indent}}else a=qC(G,p.element,t);p.indent<=c&&(a.is("element",G.type)||(a=t.rename(G.type,a)))}const V=function(G,Q){return function(ie,he){const ye=new Oo({name:"span",styles:{"mso-list":"Ignore"}}),Oe=he.createRangeIn(ie);for(const it of Oe)it.type==="elementStart"&&ye.match(it.item)&&he.remove(it.item)}(G,Q),Q.removeStyle("text-indent",G),Q.rename("li",G)}(p.element,t);t.appendChild(V,a)})}function OB(s){if(s.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(s){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return s;default:return null}}function qC(s,e,t){const n=e.parent,a=t.createElement(s.type),c=n.getChildIndex(e)+1;return t.insertChild(c,a,n),s.style&&t.setStyle("list-style-type",s.style,a),s.startIndex&&s.startIndex>1&&t.setAttribute("start",s.startIndex,a),a}function BB(s){const e={},t=s.getStyle("mso-list");if(t){const n=t.match(/(^|\s{1,100})l(\d+)/i),a=t.match(/\s{0,100}lfo(\d+)/i),c=t.match(/\s{0,100}level(\d+)/i);n&&a&&c&&(e.id=n[2],e.order=a[1],e.indent=parseInt(c[1]))}return e}function LB(s,e){if(!s.childCount)return;const t=new es(s.document),n=function(c,p){const _=p.createRangeIn(c),w=new Oo({name:/v:(.+)/}),E=[];for(const I of _){if(I.type!="elementStart")continue;const O=I.item,$=O.previousSibling,V=$&&$.is("element")?$.name:null;w.match(O)&&O.getAttribute("o:gfxdata")&&V!=="v:shapetype"&&E.push(I.item.getAttribute("id"))}return E}(s,t);(function(c,p,_){const w=_.createRangeIn(p),E=new Oo({name:"img"}),I=[];for(const O of w)if(O.item.is("element")&&E.match(O.item)){const $=O.item,V=$.getAttribute("v:shapes")?$.getAttribute("v:shapes").split(" "):[];V.length&&V.every(G=>c.indexOf(G)>-1)?I.push($):$.getAttribute("src")||I.push($)}for(const O of I)_.remove(O)})(n,s,t),function(c,p,_){const w=_.createRangeIn(p),E=[];for(const $ of w)if($.type=="elementStart"&&$.item.is("element","v:shape")){const V=$.item.getAttribute("id");if(c.includes(V))continue;I($.item.parent.getChildren(),V)||E.push($.item)}for(const $ of E){const V={src:O($)};$.hasAttribute("alt")&&(V.alt=$.getAttribute("alt"));const G=_.createElement("img",V);_.insertChild($.index+1,G,$.parent)}function I($,V){for(const G of $)if(G.is("element")&&(G.name=="img"&&G.getAttribute("v:shapes")==V||I(G.getChildren(),V)))return!0;return!1}function O($){for(const V of $.getChildren())if(V.is("element")&&V.getAttribute("src"))return V.getAttribute("src")}}(n,s,t),function(c,p){const _=p.createRangeIn(c),w=new Oo({name:/v:(.+)/}),E=[];for(const I of _)I.type=="elementStart"&&w.match(I.item)&&E.push(I.item);for(const I of E)p.remove(I)}(s,t);const a=function(c,p){const _=p.createRangeIn(c),w=new Oo({name:"img"}),E=[];for(const I of _)I.item.is("element")&&w.match(I.item)&&I.item.getAttribute("src").startsWith("file://")&&E.push(I.item);return E}(s,t);a.length&&function(c,p,_){if(c.length===p.length)for(let w=0;w<c.length;w++){const E=`data:${p[w].type};base64,${RB(p[w].hex)}`;_.setAttribute("src",E,c[w])}}(a,function(c){if(!c)return[];const p=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,_=new RegExp("(?:("+p.source+"))([\\da-fA-F\\s]+)\\}","g"),w=c.match(_),E=[];if(w)for(const I of w){let O=!1;I.includes("\\pngblip")?O="image/png":I.includes("\\jpegblip")&&(O="image/jpeg"),O&&E.push({hex:I.replace(p,"").replace(/[^\da-fA-F]/g,""),type:O})}return E}(e),t)}function RB(s){return btoa(s.match(/\w{2}/g).map(e=>String.fromCharCode(parseInt(e,16))).join(""))}const NB=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,$B=/xmlns:o="urn:schemas-microsoft-com/i;class jB{constructor(e){this.document=e}isActive(e){return NB.test(e)||$B.test(e)}execute(e){const{body:t,stylesString:n}=e._parsedData;PB(t,n),LB(t,e.dataTransfer.getData("text/rtf")),function(a){const c=new es(a.document);for(const p of a.getChildren()){if(!p.is("element"))continue;if(p.is("element","table")){c.setAttribute("align","left",p);continue}const _=p.getAttribute("align"),w=p.getChild(0);p.name==="div"&&_&&w&&w.is("element","table")&&c.setAttribute("align",_==="center"?"none":_,w)}}(t),e.content=t}}function ZC(s,e,t,{blockElements:n,inlineObjectElements:a}){let c=t.createPositionAt(s,e=="forward"?"after":"before");return c=c.getLastMatchingPosition(({item:p})=>p.is("element")&&!n.includes(p.name)&&!a.includes(p.name),{direction:e}),e=="forward"?c.nodeAfter:c.nodeBefore}function QC(s,e){return!!s&&s.is("element")&&e.includes(s.name)}const zB=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class FB{constructor(e){this.document=e}isActive(e){return zB.test(e)}execute(e){const t=new es(this.document),{body:n}=e._parsedData;(function(a,c){for(const p of a.getChildren())if(p.is("element","b")&&p.getStyle("font-weight")==="normal"){const _=a.getChildIndex(p);c.remove(p),c.insertChild(_,p.getChildren(),a)}})(n,t),function(a,c){for(const p of c.createRangeIn(a)){const _=p.item;if(_.is("element","li")){const w=_.getChild(0);w&&w.is("element","p")&&c.unwrapElement(w)}}}(n,t),function(a,c){const p=new Kd(c.document.stylesProcessor),_=new Zd(p,{renderingMode:"data"}),w=_.blockElements,E=_.inlineObjectElements,I=[];for(const O of c.createRangeIn(a)){const $=O.item;if($.is("element","br")){const V=ZC($,"forward",c,{blockElements:w,inlineObjectElements:E}),G=ZC($,"backward",c,{blockElements:w,inlineObjectElements:E}),Q=QC(V,w);(QC(G,w)||Q)&&I.push($)}}for(const O of I)O.hasClass("Apple-interchange-newline")?c.remove(O):c.replace(O,c.createElement("p"))}(n,t),e.content=n}}const VB=/<google-sheets-html-origin/i;class UB{constructor(e){this.document=e}isActive(e){return VB.test(e)}execute(e){const t=new es(this.document),{body:n}=e._parsedData;(function(a,c){for(const p of a.getChildren())if(p.is("element","google-sheets-html-origin")){const _=a.getChildIndex(p);c.remove(p),c.insertChild(_,p.getChildren(),a)}})(n,t),function(a,c){for(const p of a.getChildren())p.is("element","table")&&p.hasAttribute("xmlns")&&c.removeAttribute("xmlns",p)}(n,t),function(a,c){for(const p of a.getChildren())p.is("element","table")&&p.getStyle("width")==="0px"&&c.removeStyle("width",p)}(n,t),function(a,c){for(const p of Array.from(a.getChildren()))p.is("element","style")&&c.remove(p)}(n,t),e.content=n}}function JC(s){return s.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,t)=>t.length===1?" ":Array(t.length+1).join("  ").substr(0,t.length))}function HB(s,e){const t=new DOMParser,n=function(w){return JC(JC(w)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g," </").replace(/ <o:p><\/o:p>/g," <o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(w){const E="</body>",I="</html>",O=w.indexOf(E);if(O<0)return w;const $=w.indexOf(I,O+E.length);return w.substring(0,O+E.length)+($>=0?w.substring($):"")}(s=s.replace(/<!--\[if gte vml 1]>/g,""))),a=t.parseFromString(n,"text/html");(function(w){w.querySelectorAll("span[style*=spacerun]").forEach(E=>{const I=E,O=I.innerText.length||0;I.innerText=Array(O+1).join("  ").substr(0,O)})})(a);const c=a.body.innerHTML,p=function(w,E){const I=new Kd(E),O=new Zd(I,{renderingMode:"data"}),$=w.createDocumentFragment(),V=w.body.childNodes;for(;V.length>0;)$.appendChild(V[0]);return O.domToView($,{skipComments:!0})}(a,e),_=function(w){const E=[],I=[],O=Array.from(w.getElementsByTagName("style"));for(const $ of O)$.sheet&&$.sheet.cssRules&&$.sheet.cssRules.length&&(E.push($.sheet),I.push($.innerHTML));return{styles:E,stylesString:I.join(" ")}}(a);return{body:p,bodyString:c,styles:_.styles,stylesString:_.stylesString}}function Gn(s,e,t,n,a=1){e!=null&&a!=null&&e>a?n.setAttribute(s,e,t):n.removeAttribute(s,t)}function Ks(s,e,t={}){const n=s.createElement("tableCell",t);return s.insertElement("paragraph",n),s.insert(n,e),n}function Nm(s,e){const t=e.parent.parent,n=parseInt(t.getAttribute("headingColumns")||"0"),{column:a}=s.getCellLocation(e);return!!n&&a<n}function WB(){return s=>{s.on("element:table",(e,t,n)=>{const a=t.viewItem;if(!n.consumable.test(a,{name:!0}))return;const{rows:c,headingRows:p,headingColumns:_}=function(I){let O,$=0;const V=[],G=[];let Q;for(const ie of Array.from(I.getChildren())){if(ie.name!=="tbody"&&ie.name!=="thead"&&ie.name!=="tfoot")continue;ie.name!=="thead"||Q||(Q=ie);const he=Array.from(ie.getChildren()).filter(ye=>ye.is("element","tr"));for(const ye of he)if(Q&&ie===Q||ie.name==="tbody"&&Array.from(ye.getChildren()).length&&Array.from(ye.getChildren()).every(Oe=>Oe.is("element","th")))$++,V.push(ye);else{G.push(ye);const Oe=GB(ye);(!O||Oe<O)&&(O=Oe)}}return{headingRows:$,headingColumns:O||0,rows:[...V,...G]}}(a),w={};_&&(w.headingColumns=_),p&&(w.headingRows=p);const E=n.writer.createElement("table",w);if(n.safeInsert(E,t.modelCursor)){if(n.consumable.consume(a,{name:!0}),c.forEach(I=>n.convertItem(I,n.writer.createPositionAt(E,"end"))),n.convertChildren(a,n.writer.createPositionAt(E,"end")),E.isEmpty){const I=n.writer.createElement("tableRow");n.writer.insert(I,n.writer.createPositionAt(E,"end")),Ks(n.writer,n.writer.createPositionAt(I,"end"))}n.updateConversionResult(E,t)}})}}function XC(s){return e=>{e.on(`element:${s}`,(t,n,{writer:a})=>{if(!n.modelRange)return;const c=n.modelRange.start.nodeAfter,p=a.createPositionAt(c,0);if(n.viewItem.isEmpty)return void a.insertElement("paragraph",p);const _=Array.from(c.getChildren());if(_.every(w=>w.is("element","$marker"))){const w=a.createElement("paragraph");a.insert(w,a.createPositionAt(c,0));for(const E of _)a.move(a.createRangeOn(E),a.createPositionAt(w,"end"))}},{priority:"low"})}}function GB(s){let e=0,t=0;const n=Array.from(s.getChildren()).filter(a=>a.name==="th"||a.name==="td");for(;t<n.length&&n[t].name==="th";){const a=n[t];e+=parseInt(a.getAttribute("colspan")||"1"),t++}return e}class gn{constructor(e,t={}){this._table=e,this._startRow=t.row!==void 0?t.row:t.startRow||0,this._endRow=t.row!==void 0?t.row:t.endRow,this._startColumn=t.column!==void 0?t.column:t.startColumn||0,this._endColumn=t.column!==void 0?t.column:t.endColumn,this._includeAllSlots=!!t.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){const e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow())return{done:!0,value:void 0};if(!e.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let t=null;const n=this._getSpanned();if(n)this._includeAllSlots&&!this._shouldSkipSlot()&&(t=this._formatOutValue(n.cell,n.row,n.column));else{const a=e.getChild(this._cellIndex);if(!a)return this._advanceToNextRow();const c=parseInt(a.getAttribute("colspan")||"1"),p=parseInt(a.getAttribute("rowspan")||"1");(c>1||p>1)&&this._recordSpans(a,p,c),this._shouldSkipSlot()||(t=this._formatOutValue(a)),this._nextCellAtColumn=this._column+c}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,t||this.next()}skipRow(e){this._skipRows.add(e)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(e,t=this._row,n=this._column){return{done:!1,value:new KB(this,e,t,n)}}_shouldSkipSlot(){const e=this._skipRows.has(this._row),t=this._row<this._startRow,n=this._column<this._startColumn,a=this._endColumn!==void 0&&this._column>this._endColumn;return e||t||n||a}_getSpanned(){const e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}_recordSpans(e,t,n){const a={cell:e,row:this._row,column:this._column};for(let c=this._row;c<this._row+t;c++)for(let p=this._column;p<this._column+n;p++)c==this._row&&p==this._column||this._markSpannedCell(c,p,a)}_markSpannedCell(e,t,n){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(t,n)}}class KB{constructor(e,t,n,a){this.cell=t,this.row=e._row,this.column=e._column,this.cellAnchorRow=n,this.cellAnchorColumn=a,this._cellIndex=e._cellIndex,this._rowIndex=e._rowIndex,this._table=e._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function eA(s,e){return(t,{writer:n})=>{const a=t.getAttribute("headingRows")||0,c=n.createContainerElement("table",null,[]),p=n.createContainerElement("figure",{class:"table"},c);a>0&&n.insert(n.createPositionAt(c,"end"),n.createContainerElement("thead",null,n.createSlot(_=>_.is("element","tableRow")&&_.index<a))),a<s.getRows(t)&&n.insert(n.createPositionAt(c,"end"),n.createContainerElement("tbody",null,n.createSlot(_=>_.is("element","tableRow")&&_.index>=a)));for(const{positionOffset:_,filter:w}of e.additionalSlots)n.insert(n.createPositionAt(c,_),n.createSlot(w));return n.insert(n.createPositionAt(c,"after"),n.createSlot(_=>!_.is("element","tableRow")&&!e.additionalSlots.some(({filter:w})=>w(_)))),e.asWidget?function(_,w){return w.setCustomProperty("table",!0,_),cm(_,w,{hasSelectionHandle:!0})}(p,n):p}}function tA(s={}){return(e,{writer:t})=>{const n=e.parent,a=n.parent,c=a.getChildIndex(n),p=new gn(a,{row:c}),_=a.getAttribute("headingRows")||0,w=a.getAttribute("headingColumns")||0;let E=null;for(const I of p)if(I.cell==e){const O=I.row<_||I.column<w?"th":"td";E=s.asWidget?Yw(t.createEditableElement(O),t):t.createContainerElement(O);break}return E}}function nA(s={}){return(e,{writer:t})=>{if(!e.parent.is("element","tableCell")||!iA(e))return null;if(s.asWidget)return t.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const n=t.createContainerElement("p");return t.setCustomProperty("dataPipeline:transparentRendering",!0,n),n}}}function iA(s){return s.parent.childCount==1&&!!s.getAttributeKeys().next().done}class YB extends Nt{refresh(){const e=this.editor.model,t=e.document.selection,n=e.schema;this.isEnabled=function(a,c){const p=a.getFirstPosition().parent,_=p===p.root?p:p.parent;return c.checkChild(_,"table")}(t,n)}execute(e={}){const t=this.editor,n=t.model,a=t.plugins.get("TableUtils"),c=t.config.get("table.defaultHeadings.rows"),p=t.config.get("table.defaultHeadings.columns");e.headingRows===void 0&&c&&(e.headingRows=c),e.headingColumns===void 0&&p&&(e.headingColumns=p),n.change(_=>{const w=a.createTable(_,e);n.insertObject(w,null,null,{findOptimalPosition:"auto"}),_.setSelection(_.createPositionAt(w.getNodeByPath([0,0,0]),0))})}}class oA extends Nt{constructor(e,t={}){super(e),this.order=t.order||"below"}refresh(){const e=this.editor.model.document.selection,t=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=t}execute(){const e=this.editor,t=e.model.document.selection,n=e.plugins.get("TableUtils"),a=this.order==="above",c=n.getSelectionAffectedTableCells(t),p=n.getRowIndexes(c),_=a?p.first:p.last,w=c[0].findAncestor("table");n.insertRows(w,{at:a?_:_+1,copyStructureFromAbove:!a})}}class rA extends Nt{constructor(e,t={}){super(e),this.order=t.order||"right"}refresh(){const e=this.editor.model.document.selection,t=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=t}execute(){const e=this.editor,t=e.model.document.selection,n=e.plugins.get("TableUtils"),a=this.order==="left",c=n.getSelectionAffectedTableCells(t),p=n.getColumnIndexes(c),_=a?p.first:p.last,w=c[0].findAncestor("table");n.insertColumns(w,{columns:1,at:a?_:_+1})}}class sA extends Nt{constructor(e,t={}){super(e),this.direction=t.direction||"horizontally"}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length===1}execute(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?e.splitCellHorizontally(t,2):e.splitCellVertically(t,2)}}function aA(s,e,t){const{startRow:n,startColumn:a,endRow:c,endColumn:p}=e,_=t.createElement("table"),w=c-n+1;for(let I=0;I<w;I++)t.insertElement("tableRow",_,"end");const E=[...new gn(s,{startRow:n,endRow:c,startColumn:a,endColumn:p,includeAllSlots:!0})];for(const{row:I,column:O,cell:$,isAnchor:V,cellAnchorRow:G,cellAnchorColumn:Q}of E){const ie=I-n,he=_.getChild(ie);if(V){const ye=t.cloneElement($);t.append(ye,he),hA(ye,I,O,c,p,t)}else(G<n||Q<a)&&Ks(t,t.createPositionAt(he,"end"))}return function(I,O,$,V,G){const Q=parseInt(O.getAttribute("headingRows")||"0");Q>0&&Gn("headingRows",Q-$,I,G,0);const ie=parseInt(O.getAttribute("headingColumns")||"0");ie>0&&Gn("headingColumns",ie-V,I,G,0)}(_,s,n,a,t),_}function lA(s,e,t=0){const n=[],a=new gn(s,{startRow:t,endRow:e-1});for(const c of a){const{row:p,cellHeight:_}=c;p<e&&e<=p+_-1&&n.push(c)}return n}function cA(s,e,t){const n=s.parent,a=n.parent,c=n.index,p=e-c,_={},w=parseInt(s.getAttribute("rowspan"))-p;w>1&&(_.rowspan=w);const E=parseInt(s.getAttribute("colspan")||"1");E>1&&(_.colspan=E);const I=c+p,O=[...new gn(a,{startRow:c,endRow:I,includeAllSlots:!0})];let $,V=null;for(const G of O){const{row:Q,column:ie,cell:he}=G;he===s&&$===void 0&&($=ie),$!==void 0&&$===ie&&Q===I&&(V=Ks(t,G.getPositionBefore(),_))}return Gn("rowspan",p,s,t),V}function dA(s,e){const t=[],n=new gn(s);for(const a of n){const{column:c,cellWidth:p}=a;c<e&&e<=c+p-1&&t.push(a)}return t}function uA(s,e,t,n){const a=t-e,c={},p=parseInt(s.getAttribute("colspan"))-a;p>1&&(c.colspan=p);const _=parseInt(s.getAttribute("rowspan")||"1");_>1&&(c.rowspan=_);const w=Ks(n,n.createPositionAfter(s),c);return Gn("colspan",a,s,n),w}function hA(s,e,t,n,a,c){const p=parseInt(s.getAttribute("colspan")||"1"),_=parseInt(s.getAttribute("rowspan")||"1");t+p-1>a&&Gn("colspan",a-t+1,s,c,1),e+_-1>n&&Gn("rowspan",n-e+1,s,c,1)}function $m(s,e){const t=e.getColumns(s),n=new Array(t).fill(0);for(const{column:c}of new gn(s))n[c]++;const a=n.reduce((c,p,_)=>p?c:[...c,_],[]);if(a.length>0){const c=a[a.length-1];return e.removeColumns(s,{at:c}),!0}return!1}function jm(s,e){const t=[],n=e.getRows(s);for(let a=0;a<n;a++)s.getChild(a).isEmpty&&t.push(a);if(t.length>0){const a=t[t.length-1];return e.removeRows(s,{at:a}),!0}return!1}function zm(s,e){$m(s,e)||jm(s,e)}function fA(s,e){const t=Array.from(new gn(s,{startColumn:e.firstColumn,endColumn:e.lastColumn,row:e.lastRow}));if(t.every(({cellHeight:a})=>a===1))return e.lastRow;const n=t[0].cellHeight-1;return e.lastRow+n}function pA(s,e){const t=Array.from(new gn(s,{startRow:e.firstRow,endRow:e.lastRow,column:e.lastColumn}));if(t.every(({cellWidth:a})=>a===1))return e.lastColumn;const n=t[0].cellWidth-1;return e.lastColumn+n}class zu extends Nt{constructor(e,t){super(e),this.direction=t.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,t=e.document,n=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(t.selection)[0],a=this.value,c=this.direction;e.change(p=>{const _=c=="right"||c=="down",w=_?n:a,E=_?a:n,I=E.parent;(function(Q,ie,he){mA(Q)||(mA(ie)&&he.remove(he.createRangeIn(ie)),he.move(he.createRangeIn(Q),he.createPositionAt(ie,"end"))),he.remove(Q)})(E,w,p);const O=this.isHorizontal?"colspan":"rowspan",$=parseInt(n.getAttribute(O)||"1"),V=parseInt(a.getAttribute(O)||"1");p.setAttribute(O,$+V,w),p.setSelection(p.createRangeIn(w));const G=this.editor.plugins.get("TableUtils");zm(I.findAncestor("table"),G)})}_getMergeableCell(){const e=this.editor.model.document,t=this.editor.plugins.get("TableUtils"),n=t.getTableCellsContainingSelection(e.selection)[0];if(!n)return;const a=this.isHorizontal?function(_,w,E){const I=_.parent,O=I.parent,$=w=="right"?_.nextSibling:_.previousSibling,V=(O.getAttribute("headingColumns")||0)>0;if(!$)return;const G=w=="right"?_:$,Q=w=="right"?$:_,{column:ie}=E.getCellLocation(G),{column:he}=E.getCellLocation(Q),ye=parseInt(G.getAttribute("colspan")||"1"),Oe=Nm(E,G),it=Nm(E,Q);if(!(V&&Oe!=it))return ie+ye===he?$:void 0}(n,this.direction,t):function(_,w,E){const I=_.parent,O=I.parent,$=O.getChildIndex(I);if(w=="down"&&$===E.getRows(O)-1||w=="up"&&$===0)return null;const V=parseInt(_.getAttribute("rowspan")||"1"),G=O.getAttribute("headingRows")||0,Q=w=="down"&&$+V===G,ie=w=="up"&&$===G;if(G&&(Q||ie))return null;const he=parseInt(_.getAttribute("rowspan")||"1"),ye=w=="down"?$+he:$,Oe=[...new gn(O,{endRow:ye})],it=Oe.find($t=>$t.cell===_),Ct=it.column,Zt=Oe.find(({row:$t,cellHeight:Rn,column:Kn})=>Kn===Ct&&(w=="down"?$t===ye:ye===$t+Rn));return Zt&&Zt.cell?Zt.cell:null}(n,this.direction,t);if(!a)return;const c=this.isHorizontal?"rowspan":"colspan",p=parseInt(n.getAttribute(c)||"1");return parseInt(a.getAttribute(c)||"1")===p?a:void 0}}function mA(s){const e=s.getChild(0);return s.childCount==1&&e.is("element","paragraph")&&e.isEmpty}class qB extends Nt{refresh(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),n=t[0];if(n){const a=n.findAncestor("table"),c=e.getRows(a)-1,p=e.getRowIndexes(t),_=p.first===0&&p.last===c;this.isEnabled=!_}else this.isEnabled=!1}execute(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),n=t.getSelectionAffectedTableCells(e.document.selection),a=t.getRowIndexes(n),c=n[0],p=c.findAncestor("table"),_=t.getCellLocation(c).column;e.change(w=>{const E=a.last-a.first+1;t.removeRows(p,{at:a.first,rows:E});const I=function(O,$,V,G){const Q=O.getChild(Math.min($,G-1));let ie=Q.getChild(0),he=0;for(const ye of Q.getChildren()){if(he>V)return ie;ie=ye,he+=parseInt(ye.getAttribute("colspan")||"1")}return ie}(p,a.first,_,t.getRows(p));w.setSelection(w.createPositionAt(I,0))})}}class ZB extends Nt{refresh(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),n=t[0];if(n){const a=n.findAncestor("table"),c=e.getColumns(a),{first:p,last:_}=e.getColumnIndexes(t);this.isEnabled=_-p<c-1}else this.isEnabled=!1}execute(){const e=this.editor.plugins.get("TableUtils"),[t,n]=function(w,E){const I=E.getSelectionAffectedTableCells(w),O=I[0],$=I.pop(),V=[O,$];return O.isBefore($)?V:V.reverse()}(this.editor.model.document.selection,e),a=t.parent.parent,c=[...new gn(a)],p={first:c.find(w=>w.cell===t).column,last:c.find(w=>w.cell===n).column},_=function(w,E,I,O){return parseInt(I.getAttribute("colspan")||"1")>1?I:E.previousSibling||I.nextSibling?I.nextSibling||E.previousSibling:O.first?w.reverse().find(({column:V})=>V<O.first).cell:w.reverse().find(({column:V})=>V>O.last).cell}(c,t,n,p);this.editor.model.change(w=>{const E=p.last-p.first+1;e.removeColumns(a,{at:p.first,columns:E}),w.setSelection(w.createPositionAt(_,0))})}}class QB extends Nt{refresh(){const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,n=e.getSelectionAffectedTableCells(t.document.selection),a=n.length>0;this.isEnabled=a,this.value=a&&n.every(c=>this._isInHeading(c,c.parent.parent))}execute(e={}){if(e.forceValue===this.value)return;const t=this.editor.plugins.get("TableUtils"),n=this.editor.model,a=t.getSelectionAffectedTableCells(n.document.selection),c=a[0].findAncestor("table"),{first:p,last:_}=t.getRowIndexes(a),w=this.value?p:_+1,E=c.getAttribute("headingRows")||0;n.change(I=>{if(w){const O=lA(c,w,w>E?E:0);for(const{cell:$}of O)cA($,w,I)}Gn("headingRows",w,c,I,0)})}_isInHeading(e,t){const n=parseInt(t.getAttribute("headingRows")||"0");return!!n&&e.parent.index<n}}class JB extends Nt{refresh(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),n=t.getSelectionAffectedTableCells(e.document.selection),a=n.length>0;this.isEnabled=a,this.value=a&&n.every(c=>Nm(t,c))}execute(e={}){if(e.forceValue===this.value)return;const t=this.editor.plugins.get("TableUtils"),n=this.editor.model,a=t.getSelectionAffectedTableCells(n.document.selection),c=a[0].findAncestor("table"),{first:p,last:_}=t.getColumnIndexes(a),w=this.value?p:_+1;n.change(E=>{if(w){const I=dA(c,w);for(const{cell:O,column:$}of I)uA(O,$,w,E)}Gn("headingColumns",w,c,E,0)})}}class xi extends Ne{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(e){const t=e.parent,n=t.parent,a=n.getChildIndex(t),c=new gn(n,{row:a});for(const{cell:p,row:_,column:w}of c)if(p===e)return{row:_,column:w}}createTable(e,t){const n=e.createElement("table"),a=t.rows||2,c=t.columns||2;return Fm(e,n,0,a,c),t.headingRows&&Gn("headingRows",Math.min(t.headingRows,a),n,e,0),t.headingColumns&&Gn("headingColumns",Math.min(t.headingColumns,c),n,e,0),n}insertRows(e,t={}){const n=this.editor.model,a=t.at||0,c=t.rows||1,p=t.copyStructureFromAbove!==void 0,_=t.copyStructureFromAbove?a-1:a,w=this.getRows(e),E=this.getColumns(e);if(a>w)throw new L("tableutils-insertrows-insert-out-of-range",this,{options:t});n.change(I=>{const O=e.getAttribute("headingRows")||0;if(O>a&&Gn("headingRows",O+c,e,I,0),!p&&(a===0||a===w))return void Fm(I,e,a,c,E);const $=p?Math.max(a,_):a,V=new gn(e,{endRow:$}),G=new Array(E).fill(1);for(const{row:Q,column:ie,cellHeight:he,cellWidth:ye,cell:Oe}of V){const it=Q+he-1,Ct=Q<=_&&_<=it;Q<a&&a<=it?(I.setAttribute("rowspan",he+c,Oe),G[ie]=-ye):p&&Ct&&(G[ie]=ye)}for(let Q=0;Q<c;Q++){const ie=I.createElement("tableRow");I.insert(ie,e,a);for(let he=0;he<G.length;he++){const ye=G[he],Oe=I.createPositionAt(ie,"end");ye>0&&Ks(I,Oe,ye>1?{colspan:ye}:void 0),he+=Math.abs(ye)-1}}})}insertColumns(e,t={}){const n=this.editor.model,a=t.at||0,c=t.columns||1;n.change(p=>{const _=e.getAttribute("headingColumns");a<_&&p.setAttribute("headingColumns",_+c,e);const w=this.getColumns(e);if(a===0||w===a){for(const I of e.getChildren())I.is("element","tableRow")&&el(c,p,p.createPositionAt(I,a?"end":0));return}const E=new gn(e,{column:a,includeAllSlots:!0});for(const I of E){const{row:O,cell:$,cellAnchorColumn:V,cellAnchorRow:G,cellWidth:Q,cellHeight:ie}=I;if(V<a){p.setAttribute("colspan",Q+c,$);const he=G+ie-1;for(let ye=O;ye<=he;ye++)E.skipRow(ye)}else el(c,p,I.getPositionBefore())}})}removeRows(e,t){const n=this.editor.model,a=t.rows||1,c=this.getRows(e),p=t.at,_=p+a-1;if(_>c-1)throw new L("tableutils-removerows-row-index-out-of-range",this,{table:e,options:t});n.change(w=>{const E={first:p,last:_},{cellsToMove:I,cellsToTrim:O}=function($,{first:V,last:G}){const Q=new Map,ie=[];for(const{row:he,column:ye,cellHeight:Oe,cell:it}of new gn($,{endRow:G})){const Ct=he+Oe-1;if(he>=V&&he<=G&&Ct>G){const Zt=Oe-(G-he+1);Q.set(ye,{cell:it,rowspan:Zt})}if(he<V&&Ct>=V){let Zt;Zt=Ct>=G?G-V+1:Ct-V+1,ie.push({cell:it,rowspan:Oe-Zt})}}return{cellsToMove:Q,cellsToTrim:ie}}(e,E);I.size&&function($,V,G,Q){const ie=new gn($,{includeAllSlots:!0,row:V}),he=[...ie],ye=$.getChild(V);let Oe;for(const{column:it,cell:Ct,isAnchor:Zt}of he)if(G.has(it)){const{cell:$t,rowspan:Rn}=G.get(it),Kn=Oe?Q.createPositionAfter(Oe):Q.createPositionAt(ye,0);Q.move(Q.createRangeOn($t),Kn),Gn("rowspan",Rn,$t,Q),Oe=$t}else Zt&&(Oe=Ct)}(e,_+1,I,w);for(let $=_;$>=p;$--)w.remove(e.getChild($));for(const{rowspan:$,cell:V}of O)Gn("rowspan",$,V,w);(function($,{first:V,last:G},Q){const ie=$.getAttribute("headingRows")||0;V<ie&&Gn("headingRows",G<ie?ie-(G-V+1):V,$,Q,0)})(e,E,w),$m(e,this)||jm(e,this)})}removeColumns(e,t){const n=this.editor.model,a=t.at,c=t.columns||1,p=t.at+c-1;n.change(_=>{(function(w,E,I){const O=w.getAttribute("headingColumns")||0;if(O&&E.first<O){const $=Math.min(O-1,E.last)-E.first+1;I.setAttribute("headingColumns",O-$,w)}})(e,{first:a,last:p},_);for(let w=p;w>=a;w--)for(const{cell:E,column:I,cellWidth:O}of[...new gn(e)])I<=w&&O>1&&I+O>w?Gn("colspan",O-1,E,_):I===w&&_.remove(E);jm(e,this)||$m(e,this)})}splitCellVertically(e,t=2){const n=this.editor.model,a=e.parent.parent,c=parseInt(e.getAttribute("rowspan")||"1"),p=parseInt(e.getAttribute("colspan")||"1");n.change(_=>{if(p>1){const{newCellsSpan:w,updatedSpan:E}=gA(p,t);Gn("colspan",E,e,_);const I={};w>1&&(I.colspan=w),c>1&&(I.rowspan=c),el(p>t?t-1:p-1,_,_.createPositionAfter(e),I)}if(p<t){const w=t-p,E=[...new gn(a)],{column:I}=E.find(({cell:G})=>G===e),O=E.filter(({cell:G,cellWidth:Q,column:ie})=>G!==e&&ie===I||ie<I&&ie+Q>I);for(const{cell:G,cellWidth:Q}of O)_.setAttribute("colspan",Q+w,G);const $={};c>1&&($.rowspan=c),el(w,_,_.createPositionAfter(e),$);const V=a.getAttribute("headingColumns")||0;V>I&&Gn("headingColumns",V+w,a,_)}})}splitCellHorizontally(e,t=2){const n=this.editor.model,a=e.parent,c=a.parent,p=c.getChildIndex(a),_=parseInt(e.getAttribute("rowspan")||"1"),w=parseInt(e.getAttribute("colspan")||"1");n.change(E=>{if(_>1){const I=[...new gn(c,{startRow:p,endRow:p+_-1,includeAllSlots:!0})],{newCellsSpan:O,updatedSpan:$}=gA(_,t);Gn("rowspan",$,e,E);const{column:V}=I.find(({cell:Q})=>Q===e),G={};O>1&&(G.rowspan=O),w>1&&(G.colspan=w);for(const Q of I){const{column:ie,row:he}=Q;he>=p+$&&ie===V&&(he+p+$)%O==0&&el(1,E,Q.getPositionBefore(),G)}}if(_<t){const I=t-_,O=[...new gn(c,{startRow:0,endRow:p})];for(const{cell:G,cellHeight:Q,row:ie}of O)if(G!==e&&ie+Q>p){const he=Q+I;E.setAttribute("rowspan",he,G)}const $={};w>1&&($.colspan=w),Fm(E,c,p+1,I,1,$);const V=c.getAttribute("headingRows")||0;V>p&&Gn("headingRows",V+I,c,E)}})}getColumns(e){return[...e.getChild(0).getChildren()].reduce((t,n)=>t+parseInt(n.getAttribute("colspan")||"1"),0)}getRows(e){return Array.from(e.getChildren()).reduce((t,n)=>n.is("element","tableRow")?t+1:t,0)}createTableWalker(e,t={}){return new gn(e,t)}getSelectedTableCells(e){const t=[];for(const n of this.sortRanges(e.getRanges())){const a=n.getContainedElement();a&&a.is("element","tableCell")&&t.push(a)}return t}getTableCellsContainingSelection(e){const t=[];for(const n of e.getRanges()){const a=n.start.findAncestor("tableCell");a&&t.push(a)}return t}getSelectionAffectedTableCells(e){const t=this.getSelectedTableCells(e);return t.length?t:this.getTableCellsContainingSelection(e)}getRowIndexes(e){const t=e.map(n=>n.parent.index);return this._getFirstLastIndexesObject(t)}getColumnIndexes(e){const t=e[0].findAncestor("table"),n=[...new gn(t)].filter(a=>e.includes(a.cell)).map(a=>a.column);return this._getFirstLastIndexesObject(n)}isSelectionRectangular(e){if(e.length<2||!this._areCellInTheSameTableSection(e))return!1;const t=new Set,n=new Set;let a=0;for(const p of e){const{row:_,column:w}=this.getCellLocation(p),E=parseInt(p.getAttribute("rowspan"))||1,I=parseInt(p.getAttribute("colspan"))||1;t.add(_),n.add(w),E>1&&t.add(_+E-1),I>1&&n.add(w+I-1),a+=E*I}return function(p,_){const w=Array.from(p.values()),E=Array.from(_.values()),I=Math.max(...w),O=Math.min(...w),$=Math.max(...E),V=Math.min(...E);return(I-O+1)*($-V+1)}(t,n)==a}sortRanges(e){return Array.from(e).sort(XB)}_getFirstLastIndexesObject(e){const t=e.sort((n,a)=>n-a);return{first:t[0],last:t[t.length-1]}}_areCellInTheSameTableSection(e){const t=e[0].findAncestor("table"),n=this.getRowIndexes(e),a=parseInt(t.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(n,a))return!1;const c=this.getColumnIndexes(e),p=parseInt(t.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(c,p)}_areIndexesInSameSection({first:e,last:t},n){return e<n==t<n}}function Fm(s,e,t,n,a,c={}){for(let p=0;p<n;p++){const _=s.createElement("tableRow");s.insert(_,e,t),el(a,s,s.createPositionAt(_,"end"),c)}}function el(s,e,t,n={}){for(let a=0;a<s;a++)Ks(e,t,n)}function gA(s,e){if(s<e)return{newCellsSpan:1,updatedSpan:1};const t=Math.floor(s/e);return{newCellsSpan:t,updatedSpan:s-t*e+t}}function XB(s,e){const t=s.start,n=e.start;return t.isBefore(n)?-1:1}class eL extends Nt{refresh(){const e=this.editor.plugins.get(xi),t=e.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=e.isSelectionRectangular(t)}execute(){const e=this.editor.model,t=this.editor.plugins.get(xi);e.change(n=>{const a=t.getSelectedTableCells(e.document.selection),c=a.shift(),{mergeWidth:p,mergeHeight:_}=function(w,E,I){let O=0,$=0;for(const he of E){const{row:ye,column:Oe}=I.getCellLocation(he);O=bA(he,Oe,O,"colspan"),$=bA(he,ye,$,"rowspan")}const{row:V,column:G}=I.getCellLocation(w),Q=O-G,ie=$-V;return{mergeWidth:Q,mergeHeight:ie}}(c,a,t);Gn("colspan",p,c,n),Gn("rowspan",_,c,n);for(const w of a)tL(w,c,n);zm(c.findAncestor("table"),t),n.setSelection(c,"in")})}}function tL(s,e,t){_A(s)||(_A(e)&&t.remove(t.createRangeIn(e)),t.move(t.createRangeIn(s),t.createPositionAt(e,"end"))),t.remove(s)}function _A(s){const e=s.getChild(0);return s.childCount==1&&e.is("element","paragraph")&&e.isEmpty}function bA(s,e,t,n){const a=parseInt(s.getAttribute(n)||"1");return Math.max(t,e+a)}class nL extends Nt{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),n=t.getSelectionAffectedTableCells(e.document.selection),a=t.getRowIndexes(n),c=n[0].findAncestor("table"),p=[];for(let _=a.first;_<=a.last;_++)for(const w of c.getChild(_).getChildren())p.push(e.createRangeOn(w));e.change(_=>{_.setSelection(p)})}}class iL extends Nt{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,n=e.getSelectionAffectedTableCells(t.document.selection),a=n[0],c=n.pop(),p=a.findAncestor("table"),_=e.getCellLocation(a),w=e.getCellLocation(c),E=Math.min(_.column,w.column),I=Math.max(_.column,w.column),O=[];for(const $ of new gn(p,{startColumn:E,endColumn:I}))O.push(t.createRangeOn($.cell));t.change($=>{$.setSelection(O)})}}function oL(s){s.document.registerPostFixer(e=>function(t,n){const a=n.document.differ.getChanges();let c=!1;const p=new Set;for(const _ of a){let w=null;_.type=="insert"&&_.name=="table"&&(w=_.position.nodeAfter),_.type!="insert"&&_.type!="remove"||_.name!="tableRow"&&_.name!="tableCell"||(w=_.position.findAncestor("table")),aL(_)&&(w=_.range.start.findAncestor("table")),w&&!p.has(w)&&(c=rL(w,t)||c,c=sL(w,t)||c,p.add(w))}return c}(e,s))}function rL(s,e){let t=!1;const n=function(a){const c=parseInt(a.getAttribute("headingRows")||"0"),p=Array.from(a.getChildren()).reduce((w,E)=>E.is("element","tableRow")?w+1:w,0),_=[];for(const{row:w,cell:E,cellHeight:I}of new gn(a)){if(I<2)continue;const O=w<c?c:p;if(w+I>O){const $=O-w;_.push({cell:E,rowspan:$})}}return _}(s);if(n.length){t=!0;for(const a of n)Gn("rowspan",a.rowspan,a.cell,e,1)}return t}function sL(s,e){let t=!1;const n=function(_){const w=new Array(_.childCount).fill(0);for(const{rowIndex:E}of new gn(_,{includeAllSlots:!0}))w[E]++;return w}(s),a=[];for(const[_,w]of n.entries())!w&&s.getChild(_).is("element","tableRow")&&a.push(_);if(a.length){t=!0;for(const _ of a.reverse())e.remove(s.getChild(_)),n.splice(_,1)}const c=n.filter((_,w)=>s.getChild(w).is("element","tableRow")),p=c[0];if(!c.every(_=>_===p)){const _=c.reduce((w,E)=>E>w?E:w,0);for(const[w,E]of c.entries()){const I=_-E;if(I){for(let O=0;O<I;O++)Ks(e,e.createPositionAt(s.getChild(w),"end"));t=!0}}}return t}function aL(s){if(s.type!=="attribute")return!1;const e=s.attributeKey;return e==="headingRows"||e==="colspan"||e==="rowspan"}function lL(s){s.document.registerPostFixer(e=>function(t,n){const a=n.document.differ.getChanges();let c=!1;for(const p of a)p.type=="insert"&&p.name=="table"&&(c=cL(p.position.nodeAfter,t)||c),p.type=="insert"&&p.name=="tableRow"&&(c=vA(p.position.nodeAfter,t)||c),p.type=="insert"&&p.name=="tableCell"&&(c=Vm(p.position.nodeAfter,t)||c),p.type!="remove"&&p.type!="insert"||!dL(p)||(c=Vm(p.position.parent,t)||c);return c}(e,s))}function cL(s,e){let t=!1;for(const n of s.getChildren())n.is("element","tableRow")&&(t=vA(n,e)||t);return t}function vA(s,e){let t=!1;for(const n of s.getChildren())t=Vm(n,e)||t;return t}function Vm(s,e){if(s.childCount==0)return e.insertElement("paragraph",s),!0;const t=Array.from(s.getChildren()).filter(n=>n.is("$text"));for(const n of t)e.wrap(e.createRangeOn(n),"paragraph");return!!t.length}function dL(s){return!!s.position.parent.is("element","tableCell")&&(s.type=="insert"&&s.name=="$text"||s.type=="remove")}function uL(s,e){if(!s.is("element","paragraph"))return!1;const t=e.toViewElement(s);return!!t&&iA(s)!==t.is("element","span")}var kA=d(3881),hL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(kA.Z,hL),kA.Z.locals;class fL extends Ne{constructor(e){super(e),this._additionalSlots=[]}static get pluginName(){return"TableEditing"}static get requires(){return[xi]}init(){const e=this.editor,t=e.model,n=t.schema,a=e.conversion,c=e.plugins.get(xi);n.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),n.register("tableRow",{allowIn:"table",isLimit:!0}),n.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),a.for("upcast").add(p=>{p.on("element:figure",(_,w,E)=>{if(!E.consumable.test(w.viewItem,{name:!0,classes:"table"}))return;const I=function($){for(const V of $.getChildren())if(V.is("element","table"))return V}(w.viewItem);if(!I||!E.consumable.test(I,{name:!0}))return;E.consumable.consume(w.viewItem,{name:!0,classes:"table"});const O=Hn(E.convertItem(I,w.modelCursor).modelRange.getItems());O?(E.convertChildren(w.viewItem,E.writer.createPositionAt(O,"end")),E.updateConversionResult(O,w)):E.consumable.revert(w.viewItem,{name:!0,classes:"table"})})}),a.for("upcast").add(WB()),a.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:eA(c,{asWidget:!0,additionalSlots:this._additionalSlots})}),a.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:eA(c,{additionalSlots:this._additionalSlots})}),a.for("upcast").elementToElement({model:"tableRow",view:"tr"}),a.for("upcast").add(p=>{p.on("element:tr",(_,w)=>{w.viewItem.isEmpty&&w.modelCursor.index==0&&_.stop()},{priority:"high"})}),a.for("downcast").elementToElement({model:"tableRow",view:(p,{writer:_})=>p.isEmpty?_.createEmptyElement("tr"):_.createContainerElement("tr")}),a.for("upcast").elementToElement({model:"tableCell",view:"td"}),a.for("upcast").elementToElement({model:"tableCell",view:"th"}),a.for("upcast").add(XC("td")),a.for("upcast").add(XC("th")),a.for("editingDowncast").elementToElement({model:"tableCell",view:tA({asWidget:!0})}),a.for("dataDowncast").elementToElement({model:"tableCell",view:tA()}),a.for("editingDowncast").elementToElement({model:"paragraph",view:nA({asWidget:!0}),converterPriority:"high"}),a.for("dataDowncast").elementToElement({model:"paragraph",view:nA(),converterPriority:"high"}),a.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),a.for("upcast").attributeToAttribute({model:{key:"colspan",value:wA("colspan")},view:"colspan"}),a.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),a.for("upcast").attributeToAttribute({model:{key:"rowspan",value:wA("rowspan")},view:"rowspan"}),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new YB(e)),e.commands.add("insertTableRowAbove",new oA(e,{order:"above"})),e.commands.add("insertTableRowBelow",new oA(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new rA(e,{order:"left"})),e.commands.add("insertTableColumnRight",new rA(e,{order:"right"})),e.commands.add("removeTableRow",new qB(e)),e.commands.add("removeTableColumn",new ZB(e)),e.commands.add("splitTableCellVertically",new sA(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new sA(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new eL(e)),e.commands.add("mergeTableCellRight",new zu(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new zu(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new zu(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new zu(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new JB(e)),e.commands.add("setTableRowHeader",new QB(e)),e.commands.add("selectTableRow",new nL(e)),e.commands.add("selectTableColumn",new iL(e)),oL(t),lL(t),this.listenTo(t.document,"change:data",()=>{(function(p,_){const w=p.document.differ;for(const E of w.getChanges()){let I,O=!1;if(E.type=="attribute"){const Q=E.range.start.nodeAfter;if(!Q||!Q.is("element","table")||E.attributeKey!="headingRows"&&E.attributeKey!="headingColumns")continue;I=Q,O=E.attributeKey=="headingRows"}else E.name!="tableRow"&&E.name!="tableCell"||(I=E.position.findAncestor("table"),O=E.name=="tableRow");if(!I)continue;const $=I.getAttribute("headingRows")||0,V=I.getAttribute("headingColumns")||0,G=new gn(I);for(const Q of G){const ie=Q.row<$||Q.column<V?"th":"td",he=_.mapper.toViewElement(Q.cell);he&&he.is("element")&&he.name!=ie&&_.reconvertItem(O?Q.cell.parent:Q.cell)}}})(t,e.editing),function(p,_){const w=p.document.differ,E=new Set;for(const I of w.getChanges()){const O=I.type=="attribute"?I.range.start.parent:I.position.parent;O.is("element","tableCell")&&E.add(O)}for(const I of E.values()){const O=Array.from(I.getChildren()).filter($=>uL($,_.mapper));for(const $ of O)_.reconvertItem($)}}(t,e.editing)})}registerAdditionalSlot(e){this._additionalSlots.push(e)}}function wA(s){return e=>{const t=parseInt(e.getAttribute(s));return Number.isNaN(t)||t<=0?null:t}}var yA=d(1613),pL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(yA.Z,pL),yA.Z.locals;class mL extends Pt{constructor(e){super(e);const t=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new Fi,this.focusTracker=new Ai,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(n,a)=>`${a} × ${n}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":t.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:t.to("label")}]}],on:{mousedown:t.to(n=>{n.preventDefault()}),click:t.to(()=>{this.fire("execute")})}}),this.on("boxover",(n,a)=>{const{row:c,column:p}=a.target.dataset;this.items.get(10*(parseInt(c,10)-1)+(parseInt(p,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(n,a,c)=>{if(!c)return;const{row:p,column:_}=c.dataset;this.set({rows:parseInt(p),columns:parseInt(_)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),$p({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const e of this.items)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element)}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const e=this.rows,t=this.columns;this.items.map((n,a)=>{const c=Math.floor(a/10)<e&&a%10<t;n.set("isOn",c)})}_createGridButton(e,t,n,a){const c=new qt(e);return c.set({label:a,class:"ck-insert-table-dropdown-grid-box"}),c.extendTemplate({attributes:{"data-row":t,"data-column":n}}),c}_createGridCollection(){const e=[];for(let t=0;t<100;t++){const n=Math.floor(t/10),a=t%10,c=`${n+1} × ${a+1}`;e.push(this._createGridButton(this.locale,n+1,a+1,c))}return this.createCollection(e)}}class gL extends Ne{static get pluginName(){return"TableUI"}init(){const e=this.editor,t=this.editor.t,n=e.locale.contentLanguageDirection==="ltr";e.ui.componentFactory.add("insertTable",a=>{const c=e.commands.get("insertTable"),p=Hi(a);let _;return p.bind("isEnabled").to(c),p.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:t("Insert table"),tooltip:!0}),p.on("change:isOpen",()=>{_||(_=new mL(a),p.panelView.children.add(_),_.delegate("execute").to(p),p.on("execute",()=>{e.execute("insertTable",{rows:_.rows,columns:_.columns}),e.editing.view.focus()}))}),p}),e.ui.componentFactory.add("tableColumn",a=>{const c=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:t("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:n?"insertTableColumnLeft":"insertTableColumnRight",label:t("Insert column left")}},{type:"button",model:{commandName:n?"insertTableColumnRight":"insertTableColumnLeft",label:t("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:t("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:t("Select column")}}];return this._prepareDropdown(t("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',c,a)}),e.ui.componentFactory.add("tableRow",a=>{const c=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:t("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:t("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:t("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:t("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:t("Select row")}}];return this._prepareDropdown(t("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',c,a)}),e.ui.componentFactory.add("mergeTableCells",a=>{const c=[{type:"button",model:{commandName:"mergeTableCellUp",label:t("Merge cell up")}},{type:"button",model:{commandName:n?"mergeTableCellRight":"mergeTableCellLeft",label:t("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:t("Merge cell down")}},{type:"button",model:{commandName:n?"mergeTableCellLeft":"mergeTableCellRight",label:t("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:t("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:t("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(t("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',c,a)})}_prepareDropdown(e,t,n,a){const c=this.editor,p=Hi(a),_=this._fillDropdownWithListOptions(p,n);return p.buttonView.set({label:e,icon:t,tooltip:!0}),p.bind("isEnabled").toMany(_,"isEnabled",(...w)=>w.some(E=>E)),this.listenTo(p,"execute",w=>{c.execute(w.source.commandName),w.source instanceof cc||c.editing.view.focus()}),p}_prepareMergeSplitButtonDropdown(e,t,n,a){const c=this.editor,p=Hi(a,du),_="mergeTableCells",w=c.commands.get(_),E=this._fillDropdownWithListOptions(p,n);return p.buttonView.set({label:e,icon:t,tooltip:!0,isEnabled:!0}),p.bind("isEnabled").toMany([w,...E],"isEnabled",(...I)=>I.some(O=>O)),this.listenTo(p.buttonView,"execute",()=>{c.execute(_),c.editing.view.focus()}),this.listenTo(p,"execute",I=>{c.execute(I.source.commandName),c.editing.view.focus()}),p}_fillDropdownWithListOptions(e,t){const n=this.editor,a=[],c=new Oi;for(const p of t)_L(p,n,a,c);return uc(e,c),a}}function _L(s,e,t,n){if(s.type==="button"||s.type==="switchbutton"){const a=s.model=new fc(s.model),{commandName:c,bindIsOn:p}=s.model,_=e.commands.get(c);t.push(_),a.set({commandName:c}),a.bind("isEnabled").to(_),p&&a.bind("isOn").to(_,"value"),a.set({withText:!0})}n.add(s)}var CA=d(6945),bL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(CA.Z,bL),CA.Z.locals;class Ys extends Ne{static get pluginName(){return"TableSelection"}static get requires(){return[xi,xi]}init(){const e=this.editor,t=e.model,n=e.editing.view;this.listenTo(t,"deleteContent",(a,c)=>this._handleDeleteContent(a,c),{priority:"high"}),this.listenTo(n.document,"insertText",(a,c)=>this._handleInsertTextEvent(a,c),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const e=this.editor.plugins.get(xi),t=this.editor.model.document.selection,n=e.getSelectedTableCells(t);return n.length==0?null:n}getSelectionAsFragment(){const e=this.editor.plugins.get(xi),t=this.getSelectedTableCells();return t?this.editor.model.change(n=>{const a=n.createDocumentFragment(),{first:c,last:p}=e.getColumnIndexes(t),{first:_,last:w}=e.getRowIndexes(t),E=t[0].findAncestor("table");let I=w,O=p;if(e.isSelectionRectangular(t)){const V={firstColumn:c,lastColumn:p,firstRow:_,lastRow:w};I=fA(E,V),O=pA(E,V)}const $=aA(E,{startRow:_,startColumn:c,endRow:I,endColumn:O},n);return n.insert($,a,0),a}):null}setCellSelection(e,t){const n=this._getCellsToSelect(e,t);this.editor.model.change(a=>{a.setSelection(n.cells.map(c=>a.createRangeOn(c)),{backward:n.backward})})}getFocusCell(){const e=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return e&&e.is("element","tableCell")?e:null}getAnchorCell(){const e=Hn(this.editor.model.document.selection.getRanges()).getContainedElement();return e&&e.is("element","tableCell")?e:null}_defineSelectionConverter(){const e=this.editor,t=new Set;e.conversion.for("editingDowncast").add(n=>n.on("selection",(a,c,p)=>{const _=p.writer;(function(I){for(const O of t)I.removeClass("ck-editor__editable_selected",O);t.clear()})(_);const w=this.getSelectedTableCells();if(!w)return;for(const I of w){const O=p.mapper.toViewElement(I);_.addClass("ck-editor__editable_selected",O),t.add(O)}const E=p.mapper.toViewElement(w[w.length-1]);_.setSelection(E,0)},{priority:"lowest"}))}_enablePluginDisabling(){const e=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const t=this.getSelectedTableCells();if(!t)return;e.model.change(n=>{const a=n.createPositionAt(t[0],0),c=e.model.schema.getNearestSelectionRange(a);n.setSelection(c)})}})}_handleDeleteContent(e,t){const n=this.editor.plugins.get(xi),a=t[0],c=t[1],p=this.editor.model,_=!c||c.direction=="backward",w=n.getSelectedTableCells(a);w.length&&(e.stop(),p.change(E=>{const I=w[_?w.length-1:0];p.change($=>{for(const V of w)p.deleteContent($.createSelection(V,"in"))});const O=p.schema.getNearestSelectionRange(E.createPositionAt(I,0));a.is("documentSelection")?E.setSelection(O):a.setTo(O)}))}_handleInsertTextEvent(e,t){const n=this.editor,a=this.getSelectedTableCells();if(!a)return;const c=n.editing.view,p=n.editing.mapper,_=a.map(w=>c.createRangeOn(p.toViewElement(w)));t.selection=c.createSelection(_)}_getCellsToSelect(e,t){const n=this.editor.plugins.get("TableUtils"),a=n.getCellLocation(e),c=n.getCellLocation(t),p=Math.min(a.row,c.row),_=Math.max(a.row,c.row),w=Math.min(a.column,c.column),E=Math.max(a.column,c.column),I=new Array(_-p+1).fill(null).map(()=>[]),O={startRow:p,endRow:_,startColumn:w,endColumn:E};for(const{row:G,cell:Q}of new gn(e.findAncestor("table"),O))I[G-p].push(Q);const $=c.row<a.row,V=c.column<a.column;return $&&I.reverse(),V&&I.forEach(G=>G.reverse()),{cells:I.flat(),backward:$||V}}}class vL extends Ne{static get pluginName(){return"TableClipboard"}static get requires(){return[Ys,xi]}init(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"copy",(n,a)=>this._onCopyCut(n,a)),this.listenTo(t,"cut",(n,a)=>this._onCopyCut(n,a)),this.listenTo(e.model,"insertContent",(n,[a,c])=>this._onInsertContent(n,a,c),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(e,t){const n=this.editor.plugins.get(Ys);if(!n.getSelectedTableCells()||e.name=="cut"&&!this.editor.model.canEditAt(this.editor.model.document.selection))return;t.preventDefault(),e.stop();const a=this.editor.data,c=this.editor.editing.view.document,p=a.toView(n.getSelectionAsFragment());c.fire("clipboardOutput",{dataTransfer:t.dataTransfer,content:p,method:e.name})}_onInsertContent(e,t,n){if(n&&!n.is("documentSelection"))return;const a=this.editor.model,c=this.editor.plugins.get(xi);let p=this.getTableIfOnlyTableInContent(t,a);if(!p)return;const _=c.getSelectionAffectedTableCells(a.document.selection);_.length?(e.stop(),a.change(w=>{const E={width:c.getColumns(p),height:c.getRows(p)},I=function(ie,he,ye,Oe){const it=ie[0].findAncestor("table"),Ct=Oe.getColumnIndexes(ie),Zt=Oe.getRowIndexes(ie),$t={firstColumn:Ct.first,lastColumn:Ct.last,firstRow:Zt.first,lastRow:Zt.last},Rn=ie.length===1;return Rn&&($t.lastRow+=he.height-1,$t.lastColumn+=he.width-1,function(Kn,rs,yo,Ki){const Yi=Ki.getColumns(Kn),jo=Ki.getRows(Kn);yo>Yi&&Ki.insertColumns(Kn,{at:Yi,columns:yo-Yi}),rs>jo&&Ki.insertRows(Kn,{at:jo,rows:rs-jo})}(it,$t.lastRow+1,$t.lastColumn+1,Oe)),Rn||!Oe.isSelectionRectangular(ie)?function(Kn,rs,yo){const{firstRow:Ki,lastRow:Yi,firstColumn:jo,lastColumn:Dr}=rs,Zs={first:Ki,last:Yi},FA={first:jo,last:Dr};Hm(Kn,jo,Zs,yo),Hm(Kn,Dr+1,Zs,yo),Um(Kn,Ki,FA,yo),Um(Kn,Yi+1,FA,yo,Ki)}(it,$t,ye):($t.lastRow=fA(it,$t),$t.lastColumn=pA(it,$t)),$t}(_,E,w,c),O=I.lastRow-I.firstRow+1,$=I.lastColumn-I.firstColumn+1,V={startRow:0,startColumn:0,endRow:Math.min(O,E.height)-1,endColumn:Math.min($,E.width)-1};p=aA(p,V,w);const G=_[0].findAncestor("table"),Q=this._replaceSelectedCellsWithPasted(p,E,G,I,w);if(this.editor.plugins.get("TableSelection").isEnabled){const ie=c.sortRanges(Q.map(he=>w.createRangeOn(he)));w.setSelection(ie)}else w.setSelection(Q[0],0)})):zm(p,c)}_replaceSelectedCellsWithPasted(e,t,n,a,c){const{width:p,height:_}=t,w=function(ie,he,ye){const Oe=new Array(ye).fill(null).map(()=>new Array(he).fill(null));for(const{column:it,row:Ct,cell:Zt}of new gn(ie))Oe[Ct][it]=Zt;return Oe}(e,p,_),E=[...new gn(n,{startRow:a.firstRow,endRow:a.lastRow,startColumn:a.firstColumn,endColumn:a.lastColumn,includeAllSlots:!0})],I=[];let O;for(const ie of E){const{row:he,column:ye}=ie;ye===a.firstColumn&&(O=ie.getPositionBefore());const Oe=he-a.firstRow,it=ye-a.firstColumn,Ct=w[Oe%_][it%p],Zt=Ct?c.cloneElement(Ct):null,$t=this._replaceTableSlotCell(ie,Zt,O,c);$t&&(hA($t,he,ye,a.lastRow,a.lastColumn,c),I.push($t),O=c.createPositionAfter($t))}const $=parseInt(n.getAttribute("headingRows")||"0"),V=parseInt(n.getAttribute("headingColumns")||"0"),G=a.firstRow<$&&$<=a.lastRow,Q=a.firstColumn<V&&V<=a.lastColumn;if(G){const ie=Um(n,$,{first:a.firstColumn,last:a.lastColumn},c,a.firstRow);I.push(...ie)}if(Q){const ie=Hm(n,V,{first:a.firstRow,last:a.lastRow},c);I.push(...ie)}return I}_replaceTableSlotCell(e,t,n,a){const{cell:c,isAnchor:p}=e;return p&&a.remove(c),t?(a.insert(t,n),t):null}getTableIfOnlyTableInContent(e,t){if(!e.is("documentFragment")&&!e.is("element"))return null;if(e.is("element","table"))return e;if(e.childCount==1&&e.getChild(0).is("element","table"))return e.getChild(0);const n=t.createRangeIn(e);for(const a of n.getItems())if(a.is("element","table")){const c=t.createRange(n.start,t.createPositionBefore(a));if(t.hasContent(c,{ignoreWhitespaces:!0}))return null;const p=t.createRange(t.createPositionAfter(a),n.end);return t.hasContent(p,{ignoreWhitespaces:!0})?null:a}return null}}function Um(s,e,t,n,a=0){if(!(e<1))return lA(s,e,a).filter(({column:c,cellWidth:p})=>AA(c,p,t)).map(({cell:c})=>cA(c,e,n))}function Hm(s,e,t,n){if(!(e<1))return dA(s,e).filter(({row:a,cellHeight:c})=>AA(a,c,t)).map(({cell:a,column:c})=>uA(a,c,e,n))}function AA(s,e,t){const n=s+e-1,{first:a,last:c}=t;return s>=a&&s<=c||s<a&&n>=a}class kL extends Ne{static get pluginName(){return"TableKeyboard"}static get requires(){return[Ys,xi]}init(){const e=this.editor.editing.view.document;this.listenTo(e,"arrowKey",(...t)=>this._onArrowKey(...t),{context:"table"}),this.listenTo(e,"tab",(...t)=>this._handleTabOnSelectedTable(...t),{context:"figure"}),this.listenTo(e,"tab",(...t)=>this._handleTab(...t),{context:["th","td"]})}_handleTabOnSelectedTable(e,t){const n=this.editor,a=n.model.document.selection.getSelectedElement();a&&a.is("element","table")&&(t.preventDefault(),t.stopPropagation(),e.stop(),n.model.change(c=>{c.setSelection(c.createRangeIn(a.getChild(0).getChild(0)))}))}_handleTab(e,t){const n=this.editor,a=this.editor.plugins.get(xi),c=this.editor.plugins.get("TableSelection"),p=n.model.document.selection,_=!t.shiftKey;let w=a.getTableCellsContainingSelection(p)[0];if(w||(w=c.getFocusCell()),!w)return;t.preventDefault(),t.stopPropagation(),e.stop();const E=w.parent,I=E.parent,O=I.getChildIndex(E),$=E.getChildIndex(w),V=$===0;if(!_&&V&&O===0)return void n.model.change(he=>{he.setSelection(he.createRangeOn(I))});const G=$===E.childCount-1,Q=O===a.getRows(I)-1;if(_&&Q&&G&&(n.execute("insertTableRowBelow"),O===a.getRows(I)-1))return void n.model.change(he=>{he.setSelection(he.createRangeOn(I))});let ie;if(_&&G)ie=I.getChild(O+1).getChild(0);else if(!_&&V){const he=I.getChild(O-1);ie=he.getChild(he.childCount-1)}else ie=E.getChild($+(_?1:-1));n.model.change(he=>{he.setSelection(he.createRangeIn(ie))})}_onArrowKey(e,t){const n=this.editor,a=qf(t.keyCode,n.locale.contentLanguageDirection);this._handleArrowKeys(a,t.shiftKey)&&(t.preventDefault(),t.stopPropagation(),e.stop())}_handleArrowKeys(e,t){const n=this.editor.plugins.get(xi),a=this.editor.plugins.get("TableSelection"),c=this.editor.model,p=c.document.selection,_=["right","down"].includes(e),w=n.getSelectedTableCells(p);if(w.length){let I;return I=t?a.getFocusCell():_?w[w.length-1]:w[0],this._navigateFromCellInDirection(I,e,t),!0}const E=p.focus.findAncestor("tableCell");if(!E)return!1;if(!p.isCollapsed)if(t){if(p.isBackward==_&&!p.containsEntireContent(E))return!1}else{const I=p.getSelectedElement();if(!I||!c.schema.isObject(I))return!1}return!!this._isSelectionAtCellEdge(p,E,_)&&(this._navigateFromCellInDirection(E,e,t),!0)}_isSelectionAtCellEdge(e,t,n){const a=this.editor.model,c=this.editor.model.schema,p=n?e.getLastPosition():e.getFirstPosition();if(!c.getLimitElement(p).is("element","tableCell"))return a.createPositionAt(t,n?"end":0).isTouching(p);const _=a.createSelection(p);return a.modifySelection(_,{direction:n?"forward":"backward"}),p.isEqual(_.focus)}_navigateFromCellInDirection(e,t,n=!1){const a=this.editor.model,c=e.findAncestor("table"),p=[...new gn(c,{includeAllSlots:!0})],{row:_,column:w}=p[p.length-1],E=p.find(({cell:Q})=>Q==e);let{row:I,column:O}=E;switch(t){case"left":O--;break;case"up":I--;break;case"right":O+=E.cellWidth;break;case"down":I+=E.cellHeight}if(I<0||I>_||O<0&&I<=0||O>w&&I>=_)return void a.change(Q=>{Q.setSelection(Q.createRangeOn(c))});O<0?(O=n?0:w,I--):O>w&&(O=n?w:0,I++);const $=p.find(Q=>Q.row==I&&Q.column==O).cell,V=["right","down"].includes(t),G=this.editor.plugins.get("TableSelection");if(n&&G.isEnabled){const Q=G.getAnchorCell()||e;G.setCellSelection(Q,$)}else{const Q=a.createPositionAt($,V?0:"end");a.change(ie=>{ie.setSelection(Q)})}}}class wL extends Qr{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(e){this.fire(e.type,e)}}class yL extends Ne{static get pluginName(){return"TableMouse"}static get requires(){return[Ys,xi]}init(){this.editor.editing.view.addObserver(wL),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const e=this.editor,t=e.plugins.get(xi);let n=!1;const a=e.plugins.get(Ys);this.listenTo(e.editing.view.document,"mousedown",(c,p)=>{const _=e.model.document.selection;if(!this.isEnabled||!a.isEnabled||!p.domEvent.shiftKey)return;const w=a.getAnchorCell()||t.getTableCellsContainingSelection(_)[0];if(!w)return;const E=this._getModelTableCellFromDomEvent(p);E&&xA(w,E)&&(n=!0,a.setCellSelection(w,E),p.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{n=!1}),this.listenTo(e.editing.view.document,"selectionChange",c=>{n&&c.stop()},{priority:"highest"})}_enableMouseDragSelection(){const e=this.editor;let t,n,a=!1,c=!1;const p=e.plugins.get(Ys);this.listenTo(e.editing.view.document,"mousedown",(_,w)=>{this.isEnabled&&p.isEnabled&&(w.domEvent.shiftKey||w.domEvent.ctrlKey||w.domEvent.altKey||(t=this._getModelTableCellFromDomEvent(w)))}),this.listenTo(e.editing.view.document,"mousemove",(_,w)=>{if(!w.domEvent.buttons||!t)return;const E=this._getModelTableCellFromDomEvent(w);E&&xA(t,E)&&(n=E,a||n==t||(a=!0)),a&&(c=!0,p.setCellSelection(t,n),w.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{a=!1,c=!1,t=null,n=null}),this.listenTo(e.editing.view.document,"selectionChange",_=>{c&&_.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(e){const t=e.target,n=this.editor.editing.view.createPositionAt(t,0);return this.editor.editing.mapper.toModelPosition(n).parent.findAncestor("tableCell",{includeSelf:!0})}}function xA(s,e){return s.parent.parent==e.parent.parent}var SA=d(6306),CL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(SA.Z,CL),SA.Z.locals;function AL(s){const e=s.getSelectedElement();return e&&EA(e)?e:null}function xL(s){const e=s.getFirstPosition();if(!e)return null;let t=e.parent;for(;t;){if(t.is("element")&&EA(t))return t;t=t.parent}return null}function EA(s){return!!s.getCustomProperty("table")&&zn(s)}var DA=d(7368),SL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(DA.Z,SL),DA.Z.locals;var TA=d(9247),EL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(TA.Z,EL),TA.Z.locals;var IA=d(4070),DL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(IA.Z,DL),IA.Z.locals;var MA=d(6237),TL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(MA.Z,TL),MA.Z.locals;var PA=d(5087),IL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(PA.Z,IL),PA.Z.locals;const qs=Wi.defaultPositions;qs.northArrowSouth,qs.northArrowSouthWest,qs.northArrowSouthEast,qs.southArrowNorth,qs.southArrowNorthWest,qs.southArrowNorthEast,qs.viewportStickyNorth;var OA=d(7341),ML={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(OA.Z,ML),OA.Z.locals;var BA=d(2128),PL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(BA.Z,PL),BA.Z.locals;var LA=d(4101),OL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};pt()(LA.Z,OL),LA.Z.locals;var BL=Object.defineProperty,RA=Object.getOwnPropertySymbols,LL=Object.prototype.hasOwnProperty,RL=Object.prototype.propertyIsEnumerable,NA=(s,e,t)=>e in s?BL(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,$A=(s,e)=>{for(var t in e||(e={}))LL.call(e,t)&&NA(s,t,e[t]);if(RA)for(var t of RA(e))RL.call(e,t)&&NA(s,t,e[t]);return s};const NL={autoRefresh:!0},jA=36e5;class Wm extends de(){constructor(e,t={}){if(super(),!e)throw new L("token-missing-token-url",this);t.initValue&&this._validateTokenValue(t.initValue),this.set("value",t.initValue),this._refresh=typeof e=="function"?e:()=>{return n=e,new Promise((a,c)=>{const p=new XMLHttpRequest;p.open("GET",n),p.addEventListener("load",()=>{const _=p.status,w=p.response;return _<200||_>299?c(new L("token-cannot-download-new-token",null)):a(w)}),p.addEventListener("error",()=>c(new Error("Network Error"))),p.addEventListener("abort",()=>c(new Error("Abort"))),p.send()});var n},this._options=$A($A({},NL),t)}init(){return new Promise((e,t)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),e(this)):this.refreshToken().then(e).catch(t)})}refreshToken(){return this._refresh().then(e=>(this._validateTokenValue(e),this.set("value",e),this._options.autoRefresh&&this._registerRefreshTokenTimeout(),this))}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(e){const t=typeof e=="string",n=!/^".*"$/.test(e),a=t&&e.split(".").length===3;if(!n||!a)throw new L("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const e=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},e)}_getTokenRefreshTimeoutTime(){try{const[,e]=this.value.split("."),{exp:t}=JSON.parse(atob(e));return t?Math.floor((1e3*t-Date.now())/2):jA}catch{return jA}}static create(e,t={}){return new Wm(e,t).init()}}const Gm=/^data:(\S*?);base64,/;class $L extends J(){constructor(e,t,n){if(super(),!e)throw new L("fileuploader-missing-file",null);if(!t)throw new L("fileuploader-missing-token",null);if(!n)throw new L("fileuploader-missing-api-address",null);this.file=function(a){if(typeof a!="string")return!1;const c=a.match(Gm);return!(!c||!c.length)}(e)?function(a,c=512){try{const p=a.match(Gm)[1],_=atob(a.replace(Gm,"")),w=[];for(let E=0;E<_.length;E+=c){const I=_.slice(E,E+c),O=new Array(I.length);for(let $=0;$<I.length;$++)O[$]=I.charCodeAt($);w.push(new Uint8Array(O))}return new Blob(w,{type:p})}catch{throw new L("fileuploader-decoding-image-data-error",null)}}(e):e,this._token=t,this._apiAddress=n}onProgress(e){return this.on("progress",(t,n)=>e(n)),this}onError(e){return this.once("error",(t,n)=>e(n)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}_attachXHRListeners(){const e=this.xhr,t=n=>()=>this.fire("error",n);e.addEventListener("error",t("Network Error")),e.addEventListener("abort",t("Abort")),e.upload&&e.upload.addEventListener("progress",n=>{n.lengthComputable&&this.fire("progress",{total:n.total,uploaded:n.loaded})}),e.addEventListener("load",()=>{const n=e.status,a=e.response;if(n<200||n>299)return this.fire("error",a.message||a.error)})}_sendRequest(){const e=new FormData,t=this.xhr;return e.append("file",this.file),new Promise((n,a)=>{t.addEventListener("load",()=>{const c=t.status,p=t.response;return c<200||c>299?p.message?a(new L("fileuploader-uploading-data-failed",this,{message:p.message})):a(p.error):n(p)}),t.addEventListener("error",()=>a(new Error("Network Error"))),t.addEventListener("abort",()=>a(new Error("Abort"))),t.send(e)})}}class jL{constructor(e,t){if(!e)throw new L("uploadgateway-missing-token",null);if(!t)throw new L("uploadgateway-missing-api-address",null);this._token=e,this._apiAddress=t}upload(e){return new $L(e,this._token,this._apiAddress)}}class zL extends Fd{static get pluginName(){return"CloudServicesCore"}createToken(e,t){return new Wm(e,t)}createUploadGateway(e,t){return new jL(e,t)}}var zA=(s,e,t)=>new Promise((n,a)=>{var c=w=>{try{_(t.next(w))}catch(E){a(E)}},p=w=>{try{_(t.throw(w))}catch(E){a(E)}},_=w=>w.done?n(w.value):Promise.resolve(w.value).then(c,p);_((t=t.apply(s,e)).next())});class Km extends ku{}Km.builtinPlugins=[class extends Ne{static get requires(){return[h2,Au,iM,EI,_I,v2]}static get pluginName(){return"Essentials"}},class extends Ne{static get requires(){return[pM,mM]}static get pluginName(){return"Alignment"}},class extends Ne{static get requires(){return[yM,AM]}static get pluginName(){return"FontSize"}normalizeSizeOptions(s){return fm(s)}},class extends Ne{static get requires(){return[vM,kM]}static get pluginName(){return"FontFamily"}},class extends Ne{static get requires(){return[SM,EM]}static get pluginName(){return"FontColor"}},class extends Ne{static get requires(){return[TM,IM]}static get pluginName(){return"FontBackgroundColor"}},class extends Ne{static get requires(){return[$o]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const s=this.editor.config.get("ckfinder.uploadUrl");s&&(this.editor.plugins.get($o).createUploadAdapter=e=>new LM(e,s,this.editor.t))}},class extends Ne{static get requires(){return[xr]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const s=this.editor.commands;s.get("bulletedList")&&os(this.editor,this,/^[*-]\s$/,"bulletedList"),s.get("numberedList")&&os(this.editor,this,/^1[.|)]\s$/,"numberedList"),s.get("todoList")&&os(this.editor,this,/^\[\s?\]\s$/,"todoList"),s.get("checkTodoList")&&os(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const s=this.editor.commands;if(s.get("bold")){const e=Tu(this.editor,"bold");qa(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,e),qa(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,e)}if(s.get("italic")){const e=Tu(this.editor,"italic");qa(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,e),qa(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,e)}if(s.get("code")){const e=Tu(this.editor,"code");qa(this.editor,this,/(`)([^`]+)(`)$/g,e)}if(s.get("strikethrough")){const e=Tu(this.editor,"strikethrough");qa(this.editor,this,/(~~)([^~]+)(~~)$/g,e)}}_addHeadingAutoformats(){const s=this.editor.commands.get("heading");s&&s.modelElements.filter(e=>e.match(/^heading[1-6]$/)).forEach(e=>{const t=e[7],n=new RegExp(`^(#{${t}})\\s$`);os(this.editor,this,n,()=>{if(!s.isEnabled||s.value===e)return!1;this.editor.execute("heading",{value:e})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&os(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const s=this.editor,e=s.model.document.selection;s.commands.get("codeBlock")&&os(s,this,/^```$/,()=>{if(e.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&os(this.editor,this,/^---$/,"horizontalLine")}},class extends Ne{static get requires(){return[RM,NM]}static get pluginName(){return"Bold"}},class extends Ne{static get requires(){return[jM,zM]}static get pluginName(){return"Italic"}},class extends Ne{static get requires(){return[FM,VM]}static get pluginName(){return"Strikethrough"}},class extends Ne{static get requires(){return[UM,HM]}static get pluginName(){return"Underline"}},class extends Ne{static get requires(){return[GM,YM]}static get pluginName(){return"BlockQuote"}},class extends Ne{static get pluginName(){return"CKBox"}static get requires(){return[vm,qM]}},class extends Ne{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",sP,oP]}},class extends Fd{constructor(){super(...arguments),this.token=null,this._tokens=new Map}static get pluginName(){return"CloudServices"}static get requires(){return[zL]}init(){return zA(this,null,function*(){const s=this.context.config.get("cloudServices")||{};for(const[t,n]of Object.entries(s))this[t]=n;if(!this.tokenUrl)return void(this.token=null);const e=this.context.plugins.get("CloudServicesCore");this.token=yield e.createToken(this.tokenUrl).init(),this._tokens.set(this.tokenUrl,this.token)})}registerTokenUrl(s){return zA(this,null,function*(){if(this._tokens.has(s))return this.getTokenFor(s);const e=this.context.plugins.get("CloudServicesCore"),t=yield e.createToken(s).init();return this._tokens.set(s,t),t})}getTokenFor(s){const e=this._tokens.get(s);if(!e)throw new L("cloudservices-token-not-registered",this);return e}destroy(){super.destroy();for(const s of this._tokens.values())s.destroy()}},class extends Ne{static get pluginName(){return"EasyImage"}static get requires(){return[aP,"ImageUpload"]}init(){const s=this.editor;s.plugins.has("ImageBlockEditing")||s.plugins.has("ImageInlineEditing")||j("easy-image-image-feature-missing",s)}},class extends Ne{static get requires(){return[hP,pP]}static get pluginName(){return"Heading"}},class extends Ne{static get requires(){return[IP,PP]}static get pluginName(){return"Image"}},class extends Ne{static get requires(){return[BP,LP]}static get pluginName(){return"ImageCaption"}},class extends Ne{static get requires(){return[Sy,nO,eO]}static get pluginName(){return"ImageResize"}},class extends Ne{static get requires(){return[zy,dO]}static get pluginName(){return"ImageStyle"}},class extends Ne{static get requires(){return[Su,ko]}static get pluginName(){return"ImageToolbar"}afterInit(){const s=this.editor,e=s.t,t=s.plugins.get(Su),n=s.plugins.get("ImageUtils");var a;t.register("image",{ariaLabel:e("Image toolbar"),items:(a=s.config.get("image.toolbar")||[],a.map(c=>te(c)?c.name:c)),getRelatedElement:c=>n.getClosestSelectedImageWidget(c)})}},class extends Ne{static get pluginName(){return"ImageUpload"}static get requires(){return[qP,$P,VP]}},class extends Ne{static get pluginName(){return"Indent"}static get requires(){return[uO,hO]}},class extends Ne{constructor(s){super(s),s.config.define("indentBlock",{offset:40,unit:"px"})}static get pluginName(){return"IndentBlock"}init(){const s=this.editor,e=s.config.get("indentBlock");e.classes&&e.classes.length?(this._setupConversionUsingClasses(e.classes),s.commands.add("indentBlock",new Lu(s,new Yy({direction:"forward",classes:e.classes}))),s.commands.add("outdentBlock",new Lu(s,new Yy({direction:"backward",classes:e.classes})))):(s.data.addStyleProcessorRules(ED),this._setupConversionUsingOffset(),s.commands.add("indentBlock",new Lu(s,new Ky({direction:"forward",offset:e.offset,unit:e.unit}))),s.commands.add("outdentBlock",new Lu(s,new Ky({direction:"backward",offset:e.offset,unit:e.unit}))))}afterInit(){const s=this.editor,e=s.model.schema,t=s.commands.get("indent"),n=s.commands.get("outdent"),a=s.config.get("heading.options");(a&&a.map(c=>c.model)||fO).forEach(c=>{e.isRegistered(c)&&e.extend(c,{allowAttributes:"blockIndent"})}),e.setAttributeProperties("blockIndent",{isFormatting:!0}),t.registerChildCommand(s.commands.get("indentBlock")),n.registerChildCommand(s.commands.get("outdentBlock"))}_setupConversionUsingOffset(){const s=this.editor.conversion,e=this.editor.locale.contentLanguageDirection==="rtl"?"margin-right":"margin-left";s.for("upcast").attributeToAttribute({view:{styles:{[e]:/[\s\S]+/}},model:{key:"blockIndent",value:t=>t.getStyle(e)}}),s.for("downcast").attributeToAttribute({model:"blockIndent",view:t=>({key:"style",value:{[e]:t}})})}_setupConversionUsingClasses(s){const e={model:{key:"blockIndent",values:[]},view:{}};for(const t of s)e.model.values.push(t),e.view[t]={key:"class",value:[t]};this.editor.conversion.attributeToAttribute(e)}},class extends Ne{static get requires(){return[$O,UO,WO]}static get pluginName(){return"Link"}},class extends Ne{static get requires(){return[NC,XO]}static get pluginName(){return"List"}},class extends Ne{static get requires(){return[bB,sB]}static get pluginName(){return"ListProperties"}},class extends Ne{static get requires(){return[ju,IB,EB,mc]}static get pluginName(){return"MediaEmbed"}},km,class extends Ne{static get pluginName(){return"PasteFromOffice"}static get requires(){return[or]}init(){const s=this.editor,e=s.plugins.get("ClipboardPipeline"),t=s.editing.view.document,n=[];n.push(new jB(t)),n.push(new FB(t)),n.push(new UB(t)),e.on("inputTransformation",(a,c)=>{if(c._isTransformedWithPasteFromOffice||s.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const p=c.dataTransfer.getData("text/html"),_=n.find(w=>w.isActive(p));_&&(c._parsedData||(c._parsedData=HB(p,t.stylesProcessor)),_.execute(c),c._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends Ne{static get requires(){return[ym,ko]}static get pluginName(){return"PictureEditing"}afterInit(){const s=this.editor;s.plugins.has("ImageBlockEditing")&&s.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),s.plugins.has("ImageInlineEditing")&&s.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const s=this.editor,e=s.conversion,t=s.plugins.get("ImageUtils");e.for("upcast").add(function(n){const a=["srcset","media","type","sizes"],c=(p,_,w)=>{const E=_.viewItem;if(!w.consumable.test(E,{name:!0}))return;const I=new Map;for(const V of E.getChildren())if(V.is("element","source")){const G={};for(const Q of a)V.hasAttribute(Q)&&w.consumable.test(V,{attributes:Q})&&(G[Q]=V.getAttribute(Q));Object.keys(G).length&&I.set(V,G)}const O=n.findViewImgElement(E);if(!O)return;let $=_.modelCursor.parent;if(!$.is("element","imageBlock")){const V=w.convertItem(O,_.modelCursor);_.modelRange=V.modelRange,_.modelCursor=V.modelCursor,$=Hn(V.modelRange.getItems())}w.consumable.consume(E,{name:!0});for(const[V,G]of I)w.consumable.consume(V,{attributes:Object.keys(G)});I.size&&w.writer.setAttribute("sources",Array.from(I.values()),$),w.convertChildren(E,$)};return p=>{p.on("element:picture",c)}}(t)),e.for("downcast").add(function(n){const a=(c,p,_)=>{if(!_.consumable.consume(p.item,c.name))return;const w=_.writer,E=_.mapper.toViewElement(p.item),I=n.findViewImgElement(E),O=p.attributeNewValue;if(O&&O.length){const $=w.createContainerElement("picture",null,O.map(Q=>w.createEmptyElement("source",Q))),V=[];let G=I.parent;for(;G&&G.is("attributeElement");){const Q=G.parent;w.unwrap(w.createRangeOn(I),G),V.unshift(G),G=Q}w.insert(w.createPositionBefore(I),$),w.move(w.createRangeOn(I),w.createPositionAt($,"end"));for(const Q of V)w.wrap(w.createRangeOn($),Q)}else if(I.parent.is("element","picture")){const $=I.parent;w.move(w.createRangeOn(I),w.createPositionBefore($)),w.remove($)}};return c=>{c.on("attribute:sources:imageBlock",a),c.on("attribute:sources:imageInline",a)}}(t))}_setupImageUploadEditingIntegration(){const s=this.editor;if(!s.plugins.has("ImageUploadEditing"))return;const e=s.plugins.get("ImageUploadEditing");this.listenTo(e,"uploadComplete",(t,{imageElement:n,data:a})=>{const c=a.sources;c&&s.model.change(p=>{p.setAttributes({sources:c},n)})})}},class extends Ne{static get requires(){return[fL,gL,Ys,yL,kL,vL,mc]}static get pluginName(){return"Table"}},class extends Ne{static get requires(){return[Su]}static get pluginName(){return"TableToolbar"}afterInit(){const s=this.editor,e=s.t,t=s.plugins.get(Su),n=s.config.get("table.contentToolbar"),a=s.config.get("table.tableToolbar");n&&t.register("tableContent",{ariaLabel:e("Table toolbar"),items:n,getRelatedElement:xL}),a&&t.register("table",{ariaLabel:e("Table toolbar"),items:a,getRelatedElement:AL})}},class extends Ne{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(s){super(s),s.config.define("typing",{transformations:{include:kI}})}init(){const s=this.editor.model.document.selection;s.on("change:range",()=>{this.isEnabled=!s.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const s=this.editor,e=s.model,t=s.plugins.get("Delete"),n=function(c){const p=c.extra||[],_=c.remove||[],w=E=>!_.includes(E);return function(E){const I=new Set;for(const O of E)if(typeof O=="string"&&zw[O])for(const $ of zw[O])I.add($);else I.add(O);return Array.from(I)}(c.include.concat(p).filter(w)).filter(w).map(E=>typeof E=="string"&&jw[E]?jw[E]:E).filter(E=>typeof E=="object").map(E=>({from:wI(E.from),to:yI(E.to)}))}(s.config.get("typing.transformations")),a=new Rw(s.model,c=>{for(const p of n)if(p.from.test(c))return{normalizedTransformation:p}});a.on("matched:data",(c,p)=>{if(!p.batch.isTyping)return;const{from:_,to:w}=p.normalizedTransformation,E=_.exec(p.text),I=w(E.slice(1)),O=p.range;let $=E.index;e.enqueueChange(V=>{for(let G=1;G<E.length;G++){const Q=E[G],ie=I[G-1];if(ie==null){$+=Q.length;continue}const he=O.start.getShiftedBy($),ye=e.createRange(he,he.getShiftedBy(Q.length)),Oe=CI(he);e.insertContent(V.createText(ie,Oe),ye),$+=ie.length}e.enqueueChange(()=>{t.requestUndoOnBackspace()})})}),a.bind("isEnabled").to(this)}}],Km.defaultConfig={toolbar:{items:["undo","redo","|","heading","|","fontfamily","fontsize","fontColor","fontBackgroundColor","|","bold","italic","underline","strikethrough","|","link","uploadImage","insertTable","blockQuote","mediaEmbed","|","alignment","|","bulletedList","numberedList","outdent","indent"]},image:{resizeUnit:"px",toolbar:["imageStyle:inline","imageStyle:wrapText","imageStyle:breakText","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},list:{properties:{styles:!0,startIndex:!0,reversed:!0}},language:"en"}})(),m=m.default})())})(Lh,Lh.exports);var Kie=Lh.exports;const g1=r1(Kie);const Yie=i=>(Kt("data-v-e74ccfcb"),i=i(),Yt(),i),qie={class:"flex-row flex assign align-items-center pointer","data-bs-toggle":"dropdown","data-bs-offset":"0,2"},Zie={class:"me-2"},Qie=["src"],Jie={class:"flex-column flex ms-2"},Xie={class:"text-start color-main text-truncate"},eoe=Yie(()=>b("div",{class:"color-light text-start fs-8 text-truncate"},"负责人",-1)),toe={class:"dropdown-menu jiBox shadow",style:{"overflow-y":"auto","overflow-x":"hidden"}},noe={style:{"max-height":"234px","overflow-y":"auto","overflow-x":"hidden"}},ioe={__name:"assign",props:{user:Object,project:String,task:String},emits:["loadTask"],setup(i,{emit:r}){const l=i,{proxy:o}=Ke();at();let d=tt(),m=Ve({team:d.params.team,users:[]});Ue(()=>{m.team=d.params.team,u()});let u=()=>{o.post(o.urls.project_members.format(m.team,l.project)).then(function(f){m.users=f.data})},h=f=>{if(l.user.uuid!==f){let g={uuid:f};o.post(o.urls.task_change_assign.format(m.team,l.task),g).then(function(y){y.data.code===200&&(o.bus.emit("alertSuccess","更新成功"),r("loadTask"))}).catch(function(y){o.bus.emit("alertDanger",y.response.data.error)})}};return(f,g)=>(F(),U(xe,null,[b("div",qie,[b("div",Zie,[b("img",{src:i.user.avatar,style:{height:"30px",width:"30px","border-radius":"30px"}},null,8,Qie)]),b("div",Jie,[b("div",Xie,_e(i.user.name),1),eoe])]),b("div",toe,[ue(Pn,{class:"px-2 pb-2",placeholder:"搜索工作项负责人"}),b("div",noe,[(F(!0),U(xe,null,Xe(P(m).users,y=>(F(),U("div",{class:"mt-2",key:y.uuid},[ue(_r,{onSubmit:P(h),class:"px-2 py-1 status-item",user:y,selected:y.uuid===i.user.uuid,hasEmail:!0},null,8,["onSubmit","user","selected"])]))),128))])])],64))}},ooe=Tt(ioe,[["__scopeId","data-v-e74ccfcb"]]);const _1=i=>(Kt("data-v-cb264892"),i=i(),Yt(),i),roe={class:"flex-row flex assign align-items-center pointer","data-bs-toggle":"dropdown","data-bs-offset":"0,2"},soe=_1(()=>b("div",{style:{flex:"0 0 28px",color:"#17C4BB"}},[b("i",{class:"bi bi-arrow-right-circle-fill fs-c11"})],-1)),aoe={class:"flex-column flex ms-2"},loe={class:"text-start color-main text-truncate"},coe=_1(()=>b("div",{class:"color-light text-start fs-8 text-truncate"},"当前状态",-1)),doe={class:"dropdown-menu jiBox shadow",style:{"overflow-y":"auto","overflow-x":"hidden"}},uoe={style:{"max-height":"234px","overflow-y":"auto","overflow-x":"hidden"}},hoe=_1(()=>b("div",{class:"pb-2 px-2 border-bottom mb-1"},"选择步骤更改状态",-1)),foe=["onClick"],poe={__name:"status",props:{status:Object,project:String,issue_type:String,task_uuid:String},emits:["loadTask"],setup(i,{emit:r}){const l=i,{proxy:o}=Ke();at();let d=tt(),m=Ve({team:d.params.team,statuses:[]});Ue(()=>{u()});let u=()=>{o.post(o.urls.project_issue_type_next_status_list.format(m.team,l.project,l.issue_type,l.status.uuid)).then(function(f){m.statuses=f.data})},h=f=>{let g={status:f};o.post(o.urls.task_change_status.format(m.team,l.task_uuid),g).then(function(y){y.data.code===200&&(o.bus.emit("alertSuccess","更新成功"),r("loadTask"))}).catch(function(y){o.bus.emit("alertDanger",y.response.data.error)})};return Bt(()=>l.status,(f,g)=>{f.uuid!==g.uuid&&u()}),(f,g)=>(F(),U(xe,null,[b("div",roe,[soe,b("div",aoe,[b("div",loe,_e(i.status.name),1),coe])]),b("div",doe,[b("div",uoe,[hoe,(F(!0),U(xe,null,Xe(P(m).statuses,y=>(F(),U("div",{key:y.uuid},[b("div",{onClick:k=>P(h)(y.uuid),class:"status-item"},_e(y.name),9,foe)]))),128))])])],64))}},moe=Tt(poe,[["__scopeId","data-v-cb264892"]]);const Sd=i=>(Kt("data-v-a1a9cc6c"),i=i(),Yt(),i),goe={class:"flex-row flex assign align-items-center pointer","data-bs-toggle":"dropdown","data-bs-offset":"0,2"},_oe=Sd(()=>b("div",{style:{flex:"0 0 28px",color:"#DAA520"}},[b("i",{class:"bi bi-star-fill fs-c11"})],-1)),boe={class:"flex-column flex ms-2"},voe={class:"text-start color-main text-truncate"},koe=Sd(()=>b("div",{class:"color-light text-start fs-8 text-truncate"},"优先级",-1)),woe={class:"dropdown-menu jiBox shadow",style:{"overflow-y":"auto","overflow-x":"hidden"}},yoe={style:{"max-height":"234px","overflow-y":"auto","overflow-x":"hidden"}},Coe=Sd(()=>b("div",{class:"pb-2 px-2 border-bottom"},"更改优先级",-1)),Aoe=["onClick"],xoe={style:{flex:"0 0 auto"}},Soe={key:0,class:"flex-row flex flex-fill align-items-center"},Eoe=Sd(()=>b("div",{style:{flex:"1","min-width":"50px"}},null,-1)),Doe=Sd(()=>b("div",{class:"flex-row flex align-items-center"},[b("i",{class:"bi bi-check"})],-1)),Toe=[Eoe,Doe],Ioe={__name:"priority",props:{project:String,priority:Object,task_uuid:String},emits:["loadTask"],setup(i,{emit:r}){const l=i,{proxy:o}=Ke();at();let d=tt(),m=Ve({team:d.params.team,options:[]});Ue(()=>{u()});let u=()=>{o.get(o.urls.task_priority_options.format(m.team)).then(function(f){m.options=f.data})},h=f=>{let g={priority:f};o.post(o.urls.task_change_priority.format(m.team,l.task_uuid),g).then(function(y){y.data.code===200&&(o.bus.emit("alertSuccess","更新成功"),r("loadTask"))}).catch(function(y){o.bus.emit("alertDanger",y.response.data.error)})};return(f,g)=>(F(),U(xe,null,[b("div",goe,[_oe,b("div",boe,[b("div",voe,_e(i.priority.value),1),koe])]),b("div",woe,[b("div",yoe,[Coe,(F(!0),U(xe,null,Xe(P(m).options,y=>(F(),U("div",{key:y.uuid},[b("div",{onClick:k=>P(h)(y.uuid),class:je([{selected:i.priority.uuid===y.uuid},"flex-row flex align-items-center status-item"])},[b("div",xoe,_e(y.value),1),i.priority.uuid===y.uuid?(F(),U("div",Soe,Toe)):ve("",!0)],10,Aoe)]))),128))])])],64))}},Moe=Tt(Ioe,[["__scopeId","data-v-a1a9cc6c"]]);const gi=i=>(Kt("data-v-4d1dc9bf"),i=i(),Yt(),i),Poe={class:"flex flex-column fields h-100 overflow-auto"},Ooe={class:"flex flex-column flex-fill p-3",style:{overflow:"auto"}},Boe={class:"flex-row flex w-100"},Loe={class:"flex-fill"},Roe=gi(()=>b("div",{class:"three-dots-class flex-column flex align-items-end justify-content-center","data-bs-toggle":"dropdown","data-bs-offset":"0,2"},[b("i",{class:"bi bi-three-dots"})],-1)),Noe={class:"dropdown-menu ps-4"},$oe=gi(()=>b("i",{class:"bi bi-trash"},null,-1)),joe={class:"mt-1"},zoe={class:"flex-row flex"},Foe=["title"],Voe={class:"mt-3"},Uoe={class:"flex-row flex ps-2"},Hoe={style:{flex:"1","text-align":"center"}},Woe={style:{flex:"1","text-align":"center"}},Goe={style:{flex:"1","text-align":"center"}},Koe=gi(()=>b("div",{class:"mt-3"},[b("div",{class:"flex-row flex"},[b("div",{style:{flex:"1",padding:"0 5px 0 0"}}," 描述（富文本编辑） "),b("div",{style:{padding:"0 5px 0 0",flex:"0 0 auto",cursor:"pointer",color:"#17C4BB"},class:"outline-none","data-bs-toggle":"modal","data-bs-target":"#showTaskBody"}," 放大浏览 ")])],-1)),Yoe=["innerHTML"],qoe={class:"modal fade",id:"showTaskBody","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","data-bs-focus":"false","aria-hidden":"true"},Zoe={class:"modal-dialog modal-xl modal-dialog-scrollable"},Qoe={class:"modal-content h-100"},Joe={class:"modal-header"},Xoe={class:"modal-title flex-fill text-truncate summary",id:"staticBackdropLabel"},ere={class:"flex-row flex align-items-center"},tre=gi(()=>b("i",{class:"bi bi-pencil-square"},null,-1)),nre=gi(()=>b("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),ire={class:"modal-body flex-column flex flex-fill"},ore={key:0,class:"ck-content"},rre=["innerHTML"],sre={key:1,class:"flex-column flex flex-fill",style:{height:"100%",margin:"-1rem"}},are=gi(()=>b("div",{id:"taskToolBar",style:{"border-bottom":"1px solid #f8f8f8"}},null,-1)),lre={id:"taskDescContainer",class:"flex-column flex flex-fill overflow-auto"},cre={key:0,class:"modal-footer"},dre=gi(()=>b("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"取消",-1)),ure={class:"field-type-group border-bottom mt-3 pb-3 option"},hre={class:"flex-row flex my-1"},fre=gi(()=>b("div",{class:"field-cell"},"截止日期",-1)),pre={class:"field-cell-value header field-edit"},mre={class:"flex-row flex my-1"},gre=gi(()=>b("div",{class:"field-cell"},"所属版本",-1)),_re={key:0},bre={key:1,class:"none"},vre=["onClick"],kre={style:{color:"#909090"}},wre={class:"field-cell"},yre=["onClick"],Cre={key:0},Are={key:1},xre={key:2,class:"none"},Sre=["onClick"],Ere={style:{color:"#909090"}},Dre={class:"field-type-group-last mt-3 option"},Tre={class:"flex-row flex my-1"},Ire=gi(()=>b("div",{class:"field-cell"},"所属项目",-1)),Mre={class:"text-truncate field-cell-value header"},Pre={class:"flex-row flex my-1"},Ore=gi(()=>b("div",{class:"field-cell"},"工作项类型",-1)),Bre={class:"field-cell-value header"},Lre={class:"flex-row flex my-1"},Rre=gi(()=>b("div",{class:"field-cell"},"创建者",-1)),Nre={class:"field-cell-value header"},$re={class:"flex-row flex my-1"},jre=gi(()=>b("div",{class:"field-cell"},"创建时间",-1)),zre={class:"field-cell-value header"},Fre={class:"flex-row flex my-1"},Vre=gi(()=>b("div",{class:"field-cell"},"更新时间",-1)),Ure={class:"field-cell-value header"},Hre={style:{flex:"0 0 auto","border-top":"1px solid #e8e8e8",height:"40px"},class:"flex-row flex align-items-center p-2"},Wre={class:"watchers flex-row flex",style:{flex:"1"}},Gre=gi(()=>b("div",{style:{flex:"0 0 auto",color:"inherit"}},[b("i",{class:"bi bi-eye-slash"})],-1)),Kre=gi(()=>b("div",{style:{flex:"0 0 auto","margin-left":"5px",color:"inherit"}}," 取消关注 ",-1)),Yre=[Gre,Kre],qre=gi(()=>b("div",{style:{flex:"0 0 auto",color:"inherit"}},[b("i",{class:"bi bi-eyeglasses"})],-1)),Zre=gi(()=>b("div",{style:{flex:"0 0 auto","margin-left":"5px",color:"inherit"}}," 关注 ",-1)),Qre=[qre,Zre],Jre={__name:"fields",props:{task:Object,issue_type:String},emits:["reloadTaskList"],setup(i,{emit:r}){const l=i,{proxy:o}=Ke();let d=at(),m=tt(),u=et(null),h=Ve({team:m.params.team,project:m.params.project,com:m.params.com,visible:!1,optionValue:"",options:[],selectField:"",deadlineChanged:!1,oldSummary:"",editor:g1,isDisplay:!0,editDescModel:"",watched:!1,issue_type:l.issue_type}),f=Ve({uuid:"version",value:"",number_value:""});Bt(()=>l.task,H=>{h.editDescModel=H.desc,h.oldSummary=l.task.summary,k(),z()});let g=null;Ue(()=>{h.deadlineChanged=!1,h.editDescModel=l.task.desc,h.oldSummary=l.task.summary,document.getElementById("showTaskBody").addEventListener("show.bs.modal",function(Y){h.isDisplay=!0}),g=new bootstrap.Modal(document.getElementById("showTaskBody"),{keyboard:!1}),k(),z()});let y=H=>{let Y=document.querySelector("#taskToolBar"),oe=document.querySelector("#taskDescContainer");Y.hasChildNodes()&&(Y.innerHTML=""),oe.hasChildNodes()&&(oe.innerHTML=""),Y.appendChild(H.ui.view.toolbar.element),oe.appendChild(H.ui.getEditableElement())},k=()=>{l.task.deadline?u.value=new Date(l.task.deadline):u.value=null},v=()=>{h.team=m.params.team,o.post(o.urls.watchers_update.format(h.team,h.project,l.task.uuid,"add")).then(function(H){H.data.code===200&&(o.bus.emit("alertSuccess","更新成功"),r("reloadTaskList",l.task.uuid))}).catch(function(H){o.bus.emit("alertDanger",H.response.data.error)})},A=()=>{h.team=m.params.team,o.post(o.urls.watchers_update.format(h.team,h.project,l.task.uuid,"cancel")).then(function(H){H.data.code===200&&(o.bus.emit("alertSuccess","更新成功"),r("reloadTaskList",l.task.uuid))}).catch(function(H){o.bus.emit("alertDanger",H.response.data.error)})},T=H=>{h.options=[],h.selectField=H,h.visible=!0,document.addEventListener("click",D,!1),o.get(o.urls.field_option_value_list.format(h.team,h.project,h.issue_type,H),{}).then(function(Y){h.options=Y.data})},x=H=>{h.options=[],h.selectField=H,h.visible=!0,document.addEventListener("click",D,!1),o.get(o.urls.versions_get.format(h.team,h.project),{}).then(function(Y){h.options=Y.data})},C=()=>{h.visible=!1,document.removeEventListener("click",D,!1)},D=H=>{o.$refs[Z.value]?Array.isArray(o.$refs[Z.value])?o.$refs[Z.value][0].contains(H.target)||C():o.$refs[Z.value].contains(H.target)||C():C()},S=(H,Y)=>{h.visible=!1;let oe={task:l.task.uuid,field:H,option:Y};o.post(o.urls.field_option_update.format(h.team,h.project,h.issue_type),oe).then(function(me){me.data.code===200&&(o.bus.emit("alertSuccess","更新成功"),r("reloadTaskList",l.task.uuid))}).catch(function(me){o.bus.emit("alertDanger",me.response.data.error)})},M=H=>{h.visible=!1;let Y={version:H,which_field:"version"};o.post(o.urls.task_update.format(h.team,h.project,l.task.uuid),Y).then(function(oe){oe.data.code===200&&(o.bus.emit("alertSuccess","更新成功"),r("reloadTaskList",l.task.uuid))}).catch(function(oe){o.bus.emit("alertDanger",oe.response.data.error)})},B=()=>{if(u.value){let H={deadline:u.value.getTime(),which_field:"deadline"};o.post(o.urls.task_update.format(h.team,h.project,l.task.uuid),H).then(function(Y){Y.data.code===200&&(o.$refs.datepicker.closeMenu(),o.bus.emit("alertSuccess","更新成功"),r("reloadTaskList",l.task.uuid))}).catch(function(Y){o.bus.emit("alertDanger",Y.response.data.error)})}},R=()=>{if(l.task.summary&&h.oldSummary!==l.task.summary){let H={summary:l.task.summary,which_field:"summary"};o.post(o.urls.task_update.format(h.team,h.project,l.task.uuid),H).then(function(Y){Y.data.code===200&&(h.oldSummary=l.task.summary,o.bus.emit("alertSuccess","更新成功"),r("reloadTaskList",l.task.uuid))}).catch(function(Y){o.bus.emit("alertDanger",Y.response.data.error)})}},L=()=>{if(h.editDescModel){let H={desc:h.editDescModel,which_field:"desc"};o.post(o.urls.task_update.format(h.team,h.project,l.task.uuid),H).then(function(Y){Y.data.code===200&&(g.hide(),o.bus.emit("alertSuccess","更新成功"),r("reloadTaskList",l.task.uuid))}).catch(function(Y){o.bus.emit("alertDanger",Y.response.data.error)})}},j=()=>{h.isDisplay=!1},N=()=>{l.task.uuid&&o.post(o.urls.task_delete.format(h.team,h.project,l.task.uuid)).then(function(H){H.data.code===200&&(o.bus.emit("alertSuccess","删除成功"),d.push({name:"Component",params:{team:h.team,project:h.project,com:h.com}}),r("reloadTaskList"))}).catch(function(H){o.bus.emit("alertDanger",H.response.data.error)})},z=()=>{h.watched=!1;let H=Go();if(l.task.watchers)for(let Y=0;Y<l.task.watchers.length;Y++)l.task.watchers[Y].uuid===H&&(h.watched=!0)},Z=Ge(()=>"permBody"+h.selectField);const K=Ge(()=>({toolbar:{items:["undo","redo","heading","fontFamily","fontSize","fontColor","fontBackgroundColor","|","bold","italic","underline","strikethrough","|","alignment","numberedList","bulletedList","outdent","indent","|","link","blockquote","uploadImage","insertTable"]},cloudServices:{tokenUrl:o.utils.refreshToken,uploadUrl:o.urls.team_upload.format(h.team)}}));return(H,Y)=>{const oe=Ht("ckeditor"),me=Ht("VueDatePicker");return F(),U("div",Poe,[b("div",Ooe,[b("div",Boe,[b("div",Loe,"#"+_e(i.task.number),1),Roe,b("ul",Noe,[b("li",{class:"pointer",onClick:Y[0]||(Y[0]=(...re)=>P(N)&&P(N)(...re))},[$oe,rt(" 删除 ")])])]),b("div",joe,[b("div",zoe,[ct(b("input",{class:"form-control text-truncate pointer border-white fs-5",title:i.task.summary,"onUpdate:modelValue":Y[1]||(Y[1]=re=>i.task.summary=re),onBlur:Y[2]||(Y[2]=(...re)=>P(R)&&P(R)(...re))},null,40,Foe),[[gt,i.task.summary]])])]),b("div",Voe,[b("div",Uoe,[b("div",Hoe,[ue(ooe,{user:i.task.assign,project:i.task.project.uuid,task:i.task.uuid,onLoadTask:Y[3]||(Y[3]=re=>H.$emit("reloadTaskList",i.task.uuid))},null,8,["user","project","task"])]),b("div",Woe,[ue(moe,{status:i.task.task_status,project:i.task.project.uuid,issue_type:i.task.issue_type.uuid,task_uuid:i.task.uuid,onLoadTask:Y[4]||(Y[4]=re=>H.$emit("reloadTaskList",i.task.uuid))},null,8,["status","project","issue_type","task_uuid"])]),b("div",Goe,[ue(Moe,{project:i.task.project.uuid,priority:i.task.priority,task_uuid:i.task.uuid,onLoadTask:Y[5]||(Y[5]=re=>H.$emit("reloadTaskList",i.task.uuid))},null,8,["project","priority","task_uuid"])])])]),Koe,b("div",{class:"ck-content border px-3 py-2 mt-1",style:{"overflow-y":"auto","min-height":"145px","max-height":"145px"},innerHTML:i.task.desc},null,8,Yoe),b("div",qoe,[b("div",Zoe,[b("div",Qoe,[b("div",Joe,[b("h5",Xoe,_e(i.task.summary),1),b("div",ere,[P(h).isDisplay?(F(),U("div",{key:0,class:"flex-fill me-4 pe-4 pointer edit-desc",style:{"border-right":"1px solid #cccccc"},onClick:Y[6]||(Y[6]=(...re)=>P(j)&&P(j)(...re))},[tre,rt(" 编辑 ")])):ve("",!0),nre])]),b("div",ire,[P(h).isDisplay?(F(),U("div",ore,[b("div",{innerHTML:i.task.desc},null,8,rre)])):(F(),U("div",sre,[are,b("div",lre,[ue(oe,{editor:P(h).editor,onReady:P(y),modelValue:P(h).editDescModel,"onUpdate:modelValue":Y[7]||(Y[7]=re=>P(h).editDescModel=re),config:K.value},null,8,["editor","onReady","modelValue","config"])])]))]),P(h).isDisplay?ve("",!0):(F(),U("div",cre,[dre,b("button",{type:"button",class:"btn btn-primary",onClick:Y[8]||(Y[8]=(...re)=>P(L)&&P(L)(...re))},"确定")]))])])]),b("div",ure,[b("div",hre,[fre,b("div",pre,[ue(me,{ref:"datepicker",modelValue:P(u),"onUpdate:modelValue":[Y[9]||(Y[9]=re=>hn(u)?u.value=re:u=re),P(B)],placeholder:"未设置",clearable:!1,"enable-time-picker":!1,"auto-apply":"","close-on-auto-apply":!1,position:"right"},null,8,["modelValue","onUpdate:modelValue"])])]),b("div",mre,[gre,b("div",{ref:"permBody"+P(f).uuid,class:je(["field-cell-value header field-edit",{active:P(h).visible&&P(h).selectField===P(f).uuid}])},[b("div",{onClick:Y[10]||(Y[10]=re=>P(x)(P(f).uuid)),class:"flex-row flex align-items-center",style:{flex:"1"}},[i.task.version?(F(),U("div",_re,_e(i.task.version),1)):(F(),U("div",bre,"未设置"))]),b("div",{style:{position:"absolute"},class:je(["field-edit",{open:P(h).visible&&P(h).selectField===P(f).uuid}])},[(F(!0),U(xe,null,Xe(P(h).options,re=>(F(),U("div",{class:"option-item flex-row flex align-items-center",key:re.uuid,onClick:W=>P(M)(re.uuid)},[b("div",kre,_e(re.value),1)],8,vre))),128))],2)],2)]),(F(!0),U(xe,null,Xe(i.task.field_values,re=>(F(),U("div",{class:"flex-row flex my-1",key:re.uuid},[b("div",wre,_e(re.name),1),b("div",{ref_for:!0,ref:"permBody"+re.uuid,class:je(["field-cell-value header field-edit",{active:P(h).visible&&P(h).selectField===re.uuid}])},[b("div",{onClick:W=>P(T)(re.uuid),class:"flex-row flex align-items-center",style:{flex:"1"}},[re.value?(F(),U("div",Cre,_e(re.value),1)):re.number_value?(F(),U("div",Are,_e(re.number_value),1)):(F(),U("div",xre,"未设置"))],8,yre),b("div",{style:{position:"absolute",overflow:"hidden"},class:je(["field-edit",{open:P(h).visible&&P(h).selectField===re.uuid}])},[(F(!0),U(xe,null,Xe(P(h).options,W=>(F(),U("div",{class:"option-item flex-row flex align-items-center",key:W.uuid,onClick:J=>P(S)(re.uuid,W.uuid)},[b("div",Ere,_e(W.value),1)],8,Sre))),128))],2)],2)]))),128))]),bt(H.$slots,"workField",{},void 0,!0),b("div",Dre,[b("div",Tre,[Ire,b("div",Mre,_e(i.task.project.name),1)]),b("div",Pre,[Ore,b("div",Bre,_e(i.task.issue_type.name),1)]),b("div",Lre,[Rre,b("div",Nre,[ue(Dl,{user:i.task.owner},null,8,["user"])])]),b("div",$re,[jre,b("div",zre,_e(H.filters.formatDate(i.task.create_time)),1)]),b("div",Fre,[Vre,b("div",Ure,_e(H.filters.formatDate(i.task.server_update_stamp/1e3)),1)])])]),b("div",Hre,[b("div",Wre,[(F(!0),U(xe,null,Xe(i.task.watchers,re=>(F(),lt(Dl,{user:re,key:re.uuid,includeName:!1},null,8,["user"]))),128))]),P(h).watched?(F(),U("div",{key:0,style:{flex:"0 0 auto",cursor:"pointer"},class:"flex-row flex align-items-center color-hover",onClick:Y[11]||(Y[11]=(...re)=>P(A)&&P(A)(...re))},Yre)):(F(),U("div",{key:1,style:{flex:"0 0 auto",cursor:"pointer"},class:"flex-row flex align-items-center color-hover",onClick:Y[12]||(Y[12]=(...re)=>P(v)&&P(v)(...re))},Qre))])])}}},Xre=Tt(Jre,[["__scopeId","data-v-4d1dc9bf"]]);const Ss=i=>(Kt("data-v-05c7e032"),i=i(),Yt(),i),ese={class:"modal fade",id:"addTask","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","data-bs-focus":"false","aria-hidden":"true"},tse={class:"modal-dialog modal-xl modal-dialog-scrollable"},nse={class:"modal-content h-100"},ise={class:"modal-header"},ose={class:"modal-title",id:"staticBackdropLabel"},rse=Ss(()=>b("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),sse={class:"flex-column flex modal-body"},ase={class:"flex-column flex"},lse=Ss(()=>b("label",{class:"control-label fs-c8"},"标题",-1)),cse={class:"mt-2"},dse={class:"flex-row flex align-items-center mt-3"},use={class:"flex-column flex w-50"},hse=Ss(()=>b("label",{class:"control-label fs-c8"},"负责人",-1)),fse={class:"mt-2"},pse=["value"],mse=Ss(()=>b("div",{style:{width:"1.5rem"}},null,-1)),gse={class:"flex-column flex w-50"},_se=Ss(()=>b("label",{class:"control-label fs-c8"},"优先级",-1)),bse={class:"mt-2"},vse=["value"],kse=Ss(()=>b("div",{class:"mt-3 fs-c8"}," 描述（富文本编辑） ",-1)),wse={class:"flex-column flex flex-fill mt-3",style:{height:"0"}},yse=Ss(()=>b("div",{id:"addTaskToolBar"},null,-1)),Cse={id:"addTaskContainer",class:"flex-column flex flex-fill overflow-auto"},Ase={class:"modal-footer"},xse=Ss(()=>b("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"取消",-1)),Sse={__name:"add",props:{title:String,issue_type:String},emits:["reloadTaskList"],setup(i,{emit:r}){const l=i,{proxy:o}=Ke();at();let d=tt(),m=Ve({team:d.params.team,project:d.params.project,com:d.params.com,name:"",desc:"",projectSelect:"",issueTypeSelect:"",assignSelect:"",prioritySelect:"",projects:[],issue_types:[],assigns:[],priorities:[],editor:g1}),u=null;Ue(()=>{u=new bootstrap.Modal(document.getElementById("addTask"),{keyboard:!1}),document.getElementById("addTask").addEventListener("shown.bs.modal",function(){g(),y()})});let h=v=>{let A=document.querySelector("#addTaskToolBar"),T=document.querySelector("#addTaskContainer");A.hasChildNodes()&&(A.innerHTML=""),T.hasChildNodes()&&(T.innerHTML=""),A.appendChild(v.ui.view.toolbar.element),T.appendChild(v.ui.getEditableElement())},f=()=>{let v={summary:m.name,desc:m.desc,priority:m.prioritySelect,assign:m.assignSelect,project:m.project,issue_type:l.issue_type};o.post(o.urls.tasks_add.format(m.team,m.project,m.project),v).then(function(A){u.hide(),r("reloadTaskList",A.data.uuid)}).catch(function(A){o.bus.emit("alertDanger",A.response.data.error)})},g=()=>{o.post(o.urls.project_members.format(m.team,m.project)).then(function(v){m.assigns=v.data,m.assignSelect=m.assigns[0].uuid})},y=()=>{o.post(o.urls.issue_type_priority.format(m.team)).then(function(v){let A=v.data.options;if(A&&A.length>0)for(let T=0;T<A.length;T++)A[T].default_selected&&(m.prioritySelect=A[T].uuid),m.priorities.push({value:A[T].uuid,text:A[T].value})})};const k=Ge(()=>({toolbar:{items:["undo","redo","heading","fontFamily","fontSize","fontColor","fontBackgroundColor","|","bold","italic","underline","strikethrough","|","alignment","numberedList","bulletedList","outdent","indent","|","link","blockquote","uploadImage","insertTable"]},cloudServices:{tokenUrl:o.utils.refreshToken,uploadUrl:o.urls.team_upload.format(m.team)}}));return(v,A)=>{const T=Ht("ckeditor");return F(),U(xe,null,[ue(ci,{title:i.title,plus:!0,"data-bs-toggle":"modal","data-bs-target":"#addTask"},null,8,["title"]),b("div",ese,[b("div",tse,[b("div",nse,[b("div",ise,[b("h5",ose,_e(i.title),1),rse]),b("div",sse,[b("div",ase,[lse,b("div",cse,[ct(b("input",{type:"text","onUpdate:modelValue":A[0]||(A[0]=x=>P(m).name=x),name:"name",class:"form-control"},null,512),[[gt,P(m).name]])])]),b("div",dse,[b("div",use,[hse,b("div",fse,[ct(b("select",{"onUpdate:modelValue":A[1]||(A[1]=x=>P(m).assignSelect=x),class:"form-select"},[(F(!0),U(xe,null,Xe(P(m).assigns,x=>(F(),U("option",{value:x.uuid,key:x.uuid},[ue(_r,{user:x,hasEmail:!0},null,8,["user"])],8,pse))),128))],512),[[ba,P(m).assignSelect]])])]),mse,b("div",gse,[_se,b("div",bse,[ct(b("select",{"onUpdate:modelValue":A[2]||(A[2]=x=>P(m).prioritySelect=x),class:"form-select"},[(F(!0),U(xe,null,Xe(P(m).priorities,x=>(F(),U("option",{value:x.value,key:x.value},_e(x.text),9,vse))),128))],512),[[ba,P(m).prioritySelect]])])])]),kse,b("div",wse,[yse,b("div",Cse,[ue(T,{editor:P(m).editor,onReady:P(h),modelValue:P(m).desc,"onUpdate:modelValue":A[3]||(A[3]=x=>P(m).desc=x),config:k.value},null,8,["editor","onReady","modelValue","config"])])])]),b("div",Ase,[xse,b("button",{type:"button",class:"btn btn-primary",onClick:A[4]||(A[4]=(...x)=>P(f)&&P(f)(...x))},"确定")])])])])],64)}}},Ese=Tt(Sse,[["__scopeId","data-v-05c7e032"]]);const P6=i=>(Kt("data-v-e2b2f759"),i=i(),Yt(),i),Dse={class:"flex-column flex flex-fill px-4 pb-4"},Tse={class:"flex-row flex py-2"},Ise={class:"flex-row flex justify-content-center align-items-center ps-4"},Mse=["onClick"],Pse=P6(()=>b("div",{style:{flex:"1",display:"inline-block"}},null,-1)),Ose={style:{flex:"0 0 auto","flex-direction":"column","align-items":"center",display:"flex"}},Bse={style:{width:"100%","text-align":"right",flex:"1","align-items":"center",display:"flex"}},Lse={style:{flex:"1",display:"inline-block"}},Rse={class:"flex-column flex flex-fill h-100 border bg-white"},Nse={class:"flex-row flex flex-fill",style:{height:"0"}},$se={class:"flex-column flex-fill overflow-auto border-end containerBox bg-white task-list-wd"},jse={class:"flex flex-column flex-fill h-100",style:{"background-color":"#ffffff"}},zse={class:"flex flex-column flex-fill pb-2",style:{"background-color":"#ffffff"}},Fse={key:0,class:"flex-row flex flex-fill overflow-auto",style:{"background-color":"#ffffff"}},Vse={id:"task-list",class:"w-100",style:{"background-color":"#ffffff"}},Use=["onClick"],Hse={style:{"margin-left":"10px"},class:"flex-row flex align-items-center"},Wse={class:"status bg-thin ms-2"},Gse={class:"flex-fill text-truncate",style:{"margin-left":"10px",width:"0"}},Kse={style:{flex:"0 0 auto","margin-right":"10px","margin-left":"5px","background-color":"rgb(239, 239, 239)","border-radius":"4px !important",padding:"0px 6px",height:"20px"},class:"flex-row flex align-items-center"},Yse=P6(()=>b("div",{style:{flex:"0 0 auto"}},[b("svg",{t:"1623897554814",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4488",width:"12",height:"12"},[b("path",{d:"M64 128a128 128 0 0 1 128-128h64a128 128 0 0 1 128 128v64a128 128 0 0 1-121.6 127.872V425.6h409.6a166.4 166.4 0 0 1 166.4 166.4v112.128A128 128 0 0 1 960 832v64a128 128 0 0 1-128 128h-64a128 128 0 0 1-128-128v-64a128 128 0 0 1 121.6-127.872V592a89.6 89.6 0 0 0-89.6-89.6H262.4v201.728A128 128 0 0 1 384 832v64a128 128 0 0 1-128 128H192a128 128 0 0 1-128-128v-64a128 128 0 0 1 121.6-127.872V319.872A128 128 0 0 1 64 192V128z m128-51.2a51.2 51.2 0 0 0-51.2 51.2v64a51.2 51.2 0 0 0 51.2 51.2h64a51.2 51.2 0 0 0 51.2-51.2V128a51.2 51.2 0 0 0-51.2-51.2H192z m0 704a51.2 51.2 0 0 0-51.2 51.2v64a51.2 51.2 0 0 0 51.2 51.2h64a51.2 51.2 0 0 0 51.2-51.2v-64a51.2 51.2 0 0 0-51.2-51.2H192z m576 0a51.2 51.2 0 0 0-51.2 51.2v64a51.2 51.2 0 0 0 51.2 51.2h64a51.2 51.2 0 0 0 51.2-51.2v-64a51.2 51.2 0 0 0-51.2-51.2h-64z","p-id":"4489",fill:"#515151"})])],-1)),qse={style:{flex:"0 0 auto","margin-left":"5px","font-size":"12px"}},Zse={style:{flex:"0 0 auto"}},Qse={key:1,class:"flex flex-fill"},Jse={class:"flex-column flex flex-fill align-items-center justify-content-center"},Xse=Po('<div data-v-e2b2f759><svg width="64" height="41" viewBox="0 0 64 41" data-v-e2b2f759><g transform="translate(0 1)" fill="none" fill-rule="evenodd" data-v-e2b2f759><ellipse class="ant-empty-img-simple-ellipse" fill="#F5F5F5" cx="32" cy="33" rx="32" ry="7" data-v-e2b2f759></ellipse><g class="ant-empty-img-simple-g" fill-rule="nonzero" stroke="#D9D9D9" data-v-e2b2f759><path d="M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z" data-v-e2b2f759></path><path d="M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z" fill="#FAFAFA" class="ant-empty-img-simple-path" data-v-e2b2f759></path></g></g></svg></div>',1),eae={style:{color:"#c0c0c0","font-weight":"200"},class:"mt-1"},tae={key:0,class:"layout-bg",style:{flex:"0 0 15px"}},nae={key:1,class:"border-start task-detail-wd"},iae={__name:"com00123",props:{comName:String,issue_type:String},setup(i){const r=i,{proxy:l}=Ke();let o=at(),d=tt();const m=Gie();let u=Ve({curIndex:0,cur:[1,2,3],team:"",project:"",com:"",tabTitle:[{name:"全部{0}",cat:[1,2,3]},{name:"未开始",cat:[1]},{name:"进行中",cat:[2]},{name:"已完成",cat:[3]}],task:{},tasks:[],selectedUUID:"",task_completed:!1,tasks_completed:!1,has_task:m.has,search:"",curSearch:"",owner:"",assign:"",number:Number.MAX_SAFE_INTEGER,reload:!0,loading:!1});Ca(()=>{u.team=d.params.team,u.project=d.params.project,u.com=d.params.com,u.task=d.params.task,g(u.task)}),Ue(()=>{let C=document.querySelector(".containerBox");C.onscroll=()=>{let D=C.scrollHeight,S=C.scrollTop,M=C.clientHeight;D-M-S<=5&&u.loading===!1&&(u.loading=!0,u.number>0&&y())}});let h=C=>{C!==u.curSearch&&(u.search=C,u.curSearch=C,g())},f=()=>{u.tasks=[],u.reload=!1},g=C=>{u.number=Number.MAX_SAFE_INTEGER,u.reload=!0;let D=l.urls.task_first_get.format(u.team,u.project,r.issue_type),S={category:u.cur,owner:u.owner,assign:u.assign,summary:u.search};l.post(D,S).then(function(M){let B=C||M.data.uuid;B?(y(),k(B)):(u.has_task=!1,m.$patch({has:!1}),u.tasks_completed=!0,u.task_completed=!0)})},y=C=>{C&&!u.has_task&&(u.tasks_completed=!1,u.task_completed=!1,g());let D=l.urls.tasks.format(u.team,u.project,r.issue_type),S={category:u.cur,owner:u.owner,assign:u.assign,summary:u.search,number:u.number};l.post(D,S).then(function(M){if(u.reload&&f(),M.data){let B=[];for(let R=0;R<M.data.length;R++)B.push(M.data[R]),u.number=M.data[R].number;u.tasks.push(...B)}else u.number=0;u.tasks_completed=!0,u.loading=!1})},k=C=>{C!==u.selectedUUID&&(u.selectedUUID=C),(d.name!=="Task"||d.params.task!==C)&&o.push({name:"Task",params:{team:u.team,project:u.project,com:u.com,task:C}}),v(C)},v=C=>{let D=l.urls.task_get.format(u.team,C);l.get(D).then(function(S){u.task=S.data,u.has_task=!0,m.$patch({has:!0}),u.task_completed=!0})},A=(C,D)=>{u.curIndex=C,u.cur=D,g()},T=Ge(()=>"新增{0}".format(r.comName)),x=Ge(()=>"搜索{0}".format(r.comName));return(C,D)=>(F(),U("div",Dse,[b("div",Tse,[ue(Ese,{title:P(T),issue_type:i.issue_type,onReloadTaskList:P(g)},null,8,["title","issue_type","onReloadTaskList"]),b("div",Ise,[(F(!0),U(xe,null,Xe(P(u).tabTitle,(S,M)=>(F(),U("div",{class:je(["justify-content-center align-items-center tab-title pointer py-2 px-3",{active:P(u).curIndex==M}]),onClick:B=>P(A)(M,S.cat),key:M},_e(S.name.format(i.comName)),11,Mse))),128))]),Pse,b("div",Ose,[b("div",Bse,[b("div",Lse,[ue(Pn,{placeholder:P(x),onSearch:P(h)},null,8,["placeholder","onSearch"])])])])]),b("div",Rse,[b("div",Nse,[b("div",$se,[b("div",jse,[b("div",zse,[P(u).has_task?(F(),U("div",Fse,[b("div",Vse,[(F(!0),U(xe,null,Xe(P(u).tasks,S=>(F(),U("div",{key:S.uuid,class:"flex-row flex flex-fill",onClick:M=>P(k)(S.uuid)},[b("div",{class:je([{active:P(u).selectedUUID===S.uuid},"flex-row flex task-item"]),style:{"border-bottom":"1px solid #f1f1f1",flex:"1"}},[b("div",Hse,[ue(kf,{color:S.priority.color,name:S.priority.value,bgColor:S.priority.background_color},null,8,["color","name","bgColor"]),b("div",Wse,_e(S.assign.name),1)]),b("div",Gse,_e(S.summary),1),b("div",Kse,[Yse,b("div",qse,_e(S.related_task_count[0])+"/"+_e(S.related_task_count[1]),1)]),b("div",Zse,[ue(Sa,{name:S.task_status.name,color:S.task_status.category.toString()},null,8,["name","color"])])],2)],8,Use))),128))])])):(F(),U("div",Qse,[b("div",Jse,[Xse,b("div",eae," 暂无"+_e(i.comName),1)])]))])])]),P(u).has_task?(F(),U("div",tae)):ve("",!0),P(u).has_task?(F(),U("div",nae,[P(u).task_completed?(F(),lt(Xre,{key:0,task:P(u).task,issue_type:i.issue_type,onReloadTaskList:P(g)},{workField:qe(()=>[bt(C.$slots,"workField",{},void 0,!0)]),_:3},8,["task","issue_type","onReloadTaskList"])):ve("",!0)])):ve("",!0)])])]))}},b1=Tt(iae,[["__scopeId","data-v-e2b2f759"]]),oae={class:"field-type-group border-bottom mt-3 pb-3 option"},rae=b("div",{class:"flex-row flex my-1"},[b("div",{class:"field-cell"},"关联任务"),b("div",{class:"field-cell-value header justify-content-end"},[b("div",{class:"flex-row flex"},[b("div",{style:{flex:"1"}}),b("div",{style:{color:"#303030",height:"1.5rem"},class:"flex-row flex align-items-center pointer","data-bs-toggle":"modal","data-bs-target":"#addLinkTasks"},[b("i",{class:"bi bi-link",style:{"font-size":"1.5rem"}})])])])],-1),sae={class:"flex-row flex my-1"},aae={key:0,class:"flex-row flex",style:{"-webkit-flex":"1",flex:"1",position:"relative"}},lae={style:{overflow:"auto",flex:"1",display:"flex",height:"100%"}},cae={id:"linked-task-list",class:"flex-column flex flex-fill"},dae=["onMouseover"],uae=["onClick"],hae=b("i",{class:"bi bi-x-lg"},null,-1),fae=[hae],pae={key:1},mae={class:"modal fade",id:"addLinkTasks","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},gae={class:"modal-dialog modal-lg modal-dialog-scrollable"},_ae={class:"modal-content"},bae=b("div",{class:"modal-header"},[b("h5",{class:"modal-title",id:"staticBackdropLabel"},"关联任务"),b("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),vae={class:"modal-body"},kae={style:{flex:"0 0 auto",padding:"0 10px"}},wae=b("label",{class:"col-md-12 control-label"},"任务标题",-1),yae={class:"col-md-12 mt-2"},Cae=b("div",null,"输入任务标题包含的关键字",-1),Aae={style:{flex:"1"},class:"mt-3"},xae={key:0,class:"flex-row flex",style:{"-webkit-flex":"1",flex:"1",position:"relative"}},Sae={style:{overflow:"auto",flex:"1",display:"flex",height:"100%"}},Eae={id:"task-list",style:{"flex-direction":"column",flex:"1",display:"flex",overflow:"auto"}},Dae={class:"flex-row flex",style:{"border-bottom":"1px solid #f8f8f8",flex:"1",padding:"10px 10px 10px 7px"}},Tae={style:{flex:"0 0 auto"},class:"flex-row flex align-items-center justify-content-center"},Iae={key:0,type:"checkbox",style:{width:"14px",height:"14px"},disabled:"",checked:""},Mae=["onUpdate:modelValue"],Pae={style:{flex:"0 0 auto","margin-left":"10px"},class:"flex-row flex"},Oae={style:{flex:"0 0 auto","margin-left":"5px","background-color":"#efefef","border-radius":"4px!important",padding:"0 6px 0 6px",height:"20px"}},Bae={class:"flex-fill text-truncate",style:{"margin-left":"10px",width:"0"}},Lae={style:{flex:"0 0 auto"}},Rae={class:"modal-footer"},Nae=b("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"取消",-1),$ae={__name:"com00001",props:{comName:String,issue_type:String},setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ve({team:"",project:"",summary:"",task:"",tasks:[],linkedTasks:[],addingTasks:[],delUUID:"",number:Number.MAX_SAFE_INTEGER});Bt(()=>l.params.task,y=>{o.team=l.params.team,o.project=l.params.project,o.task=l.params.task,o.task&&u()});let d=null;Ue(()=>{o.team=l.params.team,o.project=l.params.project,o.task=l.params.task,o.task&&u(),d=new bootstrap.Modal(document.getElementById("addLinkTasks"),{keyboard:!1}),document.getElementById("addLinkTasks").addEventListener("shown.bs.modal",function(){o.addingTasks.length=0,m()})});let m=y=>{let k=r.urls.link_tasks.format(o.team,o.project);r.post(k,{issueType_name:"任务",summary:o.summary,number:o.number}).then(function(v){o.tasks=v.data})},u=()=>{let y=r.urls.linked_tasks.format(o.team,o.task);r.get(y).then(function(k){o.linkedTasks=k.data})},h=y=>{if(o.linkedTasks){for(let k=0;k<o.linkedTasks.length;k++)if(o.linkedTasks[k].uuid===y)return!0}return!1},f=()=>{if(o.tasks)for(let k=0;k<o.tasks.length;k++){let v=o.tasks[k];if(v.sel){let A={uuid:v.uuid,issue_type:v.issue_type.uuid};o.addingTasks.push(A)}}let y=o.addingTasks;r.post(r.urls.linked_tasks_add.format(o.team,o.task),y).then(function(k){k.data.code===200&&(d.hide(),u(),r.bus.emit("alertSuccess","更新成功"))}).catch(function(k){r.bus.emit("alertDanger",k.response.data.error)})},g=y=>{r.post(r.urls.linked_tasks_del.format(o.team,o.task,y)).then(function(k){k.data.code===200&&(u(),r.bus.emit("alertSuccess","更新成功"))}).catch(function(k){r.bus.emit("alertDanger",k.response.data.error)})};return(y,k)=>(F(),U(xe,null,[ue(b1,{comName:i.comName,issue_type:i.issue_type,ref:"com"},{workField:qe(()=>[b("div",oae,[rae,b("div",sae,[P(o).linkedTasks&&P(o).linkedTasks.length>0?(F(),U("div",aae,[b("div",lae,[b("div",cae,[(F(!0),U(xe,null,Xe(P(o).linkedTasks,v=>(F(),U("div",{key:v.uuid,class:"flex-row flex flex-fill task-item align-items-center hover"},[b("div",{class:"flex-row flex flex-fill related-task align-items-center",style:{flex:"1",padding:"5px 0"},onMouseover:A=>{P(o).delUUID=v.uuid},onMouseleave:k[0]||(k[0]=A=>{P(o).delUUID=""})},[b("div",{class:je(["flex-fill text-truncate",{"text-decoration-line-through":v.task_status.category===3}]),style:{width:"0"}}," #"+_e(v.number)+" "+_e(v.summary),3),v.uuid===P(o).delUUID?(F(),U("div",{key:0,style:{flex:"0 0 20px","margin-left":"5px"},onClick:A=>P(g)(v.uuid),class:"flex-row flex align-items-center pointer text-hover"},fae,8,uae)):ve("",!0)],40,dae)]))),128))])])])):(F(),U("div",pae,"暂无关联"))])])]),_:1},8,["comName","issue_type"]),b("div",mae,[b("div",gae,[b("div",_ae,[bae,b("div",vae,[b("div",kae,[wae,b("div",yae,[ct(b("input",{type:"text","onUpdate:modelValue":k[1]||(k[1]=v=>P(o).summary=v),onBlur:k[2]||(k[2]=(...v)=>P(m)&&P(m)(...v)),onKeyup:k[3]||(k[3]=St((...v)=>P(m)&&P(m)(...v),["enter"])),name:"name",class:"form-control"},null,544),[[gt,P(o).summary]])]),Cae]),b("div",Aae,[P(o).tasks&&P(o).tasks.length>0?(F(),U("div",xae,[b("div",Sae,[b("div",Eae,[(F(!0),U(xe,null,Xe(P(o).tasks,v=>(F(),U("div",{key:v.uuid,class:"flex-row flex task-item"},[b("div",Dae,[b("div",Tae,[P(h)(v.uuid)?(F(),U("input",Iae)):ct((F(),U("input",{key:1,type:"checkbox","onUpdate:modelValue":A=>v.sel=A,style:{width:"14px",height:"14px"}},null,8,Mae)),[[xa,v.sel]])]),b("div",Pae,[ue(kf,{color:v.priority.color,name:v.priority.value,bgColor:v.priority.background_color},null,8,["color","name","bgColor"]),b("div",Oae,_e(v.assign.name),1)]),b("div",Bae,_e(v.summary),1),b("div",Lae,[ue(Sa,{name:v.task_status.name,color:v.task_status.category.toString()},null,8,["name","color"])])])]))),128))])])])):ve("",!0)])]),b("div",Rae,[Nae,b("button",{type:"button",class:"btn btn-primary",onClick:k[4]||(k[4]=(...v)=>P(f)&&P(f)(...v))},"确定")])])])])],64))}},jae={__name:"com00002",props:{comName:String,issue_type:String},setup(i){return(r,l)=>(F(),lt(b1,{comName:i.comName,issue_type:i.issue_type},{workField:qe(()=>[]),_:1},8,["comName","issue_type"]))}},zae={class:"field-type-group border-bottom mt-3 pb-3 option"},Fae=b("div",{class:"flex-row flex my-1"},[b("div",{class:"field-cell"},"关联需求")],-1),Vae={class:"flex-row my-1 flex"},Uae={key:0,class:"flex-row flex",style:{"-webkit-flex":"1",flex:"1",position:"relative"}},Hae={style:{overflow:"auto",flex:"1",display:"flex",height:"100%"}},Wae={id:"linked-task-list",class:"flex-column flex flex-fill"},Gae={class:"flex-row flex",style:{flex:"1",padding:"5px 0"}},Kae={key:1},Yae={__name:"com00003",props:{comName:String,issue_type:String},setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ve({team:l.params.team,project:l.params.project,task:l.params.task,tasks:[],linkedTasks:[]});Ue(()=>{o.task=l.params.task,o.task&&d()}),Bt(()=>l.params.task,m=>{o.task=l.params.task,o.task&&d()});let d=()=>{let m=r.urls.linked_source_tasks.format(o.team,o.task);r.get(m).then(function(u){o.linkedTasks=u.data})};return(m,u)=>(F(),lt(b1,{comName:i.comName,issue_type:i.issue_type},{workField:qe(()=>[b("div",zae,[Fae,b("div",Vae,[P(o).linkedTasks&&P(o).linkedTasks.length>0?(F(),U("div",Uae,[b("div",Hae,[b("div",Wae,[(F(!0),U(xe,null,Xe(P(o).linkedTasks,h=>(F(),U("div",{key:h.uuid,class:"flex-row flex flex-fill task-item align-items-center"},[b("div",Gae,[b("div",{class:je(["flex-fill text-truncate",{"text-decoration-line-through":h.task_status.category===3}]),style:{width:"0"}}," #"+_e(h.number)+" "+_e(h.summary),3)])]))),128))])])])):(F(),U("div",Kae,"暂无关联"))])])]),_:1},8,["comName","issue_type"]))}},qae={class:"modal fade",id:"addRoleMember","data-bs-backdrop":"static",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Zae={class:"modal-dialog modal-lg modal-dialog-scrollable"},Qae={class:"modal-content"},Jae=b("div",{class:"modal-header"},[b("h5",{class:"modal-title",id:"exampleModalLabel"},"邀请新用户"),b("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Xae={class:"modal-body"},ele={style:{flex:"1",height:"100%"},class:"flex-row flex align-items-center"},tle=b("div",{style:{flex:"1",display:"flex"}}," 选择成员加入到角色： 项目成员 ",-1),nle={style:{flex:"0 0 300px"}},ile={class:"table mt-4"},ole={class:"table table-hover border"},rle=b("thead",{class:"table-light"},[b("tr",null,[b("th",{style:{width:"50px"}},[b("div",{class:"flex-row flex align-items-center"},[b("input",{type:"checkbox",style:{width:"18px",height:"18px"}})])]),b("th",null,"用户名"),b("th",null,"邮箱"),b("th",{class:"col-2"},"所属部门"),b("th",{class:"col-2"},"用户组")])],-1),sle={style:{"vertical-align":"middle"}},ale={class:"flex-row flex align-items-center"},lle={key:0,type:"checkbox",style:{width:"18px",height:"18px"},disabled:"",checked:""},cle=["onUpdate:modelValue"],dle=b("td",null," 无 ",-1),ule=b("td",null," 无 ",-1),hle={class:"modal-footer"},fle=b("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"取消",-1),ple={__name:"add_member",props:{curMember:Array,role:String},emits:["loadRoleMembers"],setup(i,{emit:r}){const l=i,{proxy:o}=Ke();at();let d=tt(),m=Ve({team:d.params.team,project:d.params.project,name:"",items:[],members:[]}),u=null;Ue(()=>{g(),u=new bootstrap.Modal(document.getElementById("addRoleMember"),{keyboard:!1})});let h=()=>{f()},f=()=>{y()},g=()=>{o.get(o.urls.team_member_list.format(m.team)).then(function(v){if(m.items=v.data,m.items)for(let A=0;A<m.items.length;A++)m.items[A].sel=!1})},y=()=>{if(m.items){m.members=[];for(let A=0;A<m.items.length;A++){let T=m.items[A];T.sel&&m.members.push(T.uuid)}}let v=m.members;o.post(o.urls.project_member_add.format(m.team,m.project),v).then(function(A){A.data.code===200&&(u.hide(),r("loadRoleMembers"))}).catch(function(A){o.bus.emit("alertDanger",A.response.data.error)})},k=v=>{if(l.curMember){for(let A=0;A<l.curMember.length;A++)if(l.curMember[A].uuid===v)return!0}return!1};return(v,A)=>(F(),U(xe,null,[ue(ci,{title:"添加成员","data-bs-toggle":"modal","data-bs-target":"#addRoleMember"}),b("div",qae,[b("div",Zae,[b("div",Qae,[Jae,b("div",Xae,[b("form",{ref:"form",onSubmit:A[0]||(A[0]=mi((...T)=>P(f)&&P(f)(...T),["stop","prevent"]))},[b("div",ele,[tle,b("div",nle,[ue(Pn,{placeholder:"输入用户名，邮箱"})])])],544),b("div",ile,[b("table",ole,[rle,b("tbody",null,[(F(!0),U(xe,null,Xe(P(m).items,T=>(F(),U("tr",{key:T.uuid},[b("td",sle,[b("div",ale,[P(k)(T.uuid)?(F(),U("input",lle)):ct((F(),U("input",{key:1,type:"checkbox","onUpdate:modelValue":x=>T.sel=x,style:{width:"18px",height:"18px"}},null,8,cle)),[[xa,T.sel]])])]),b("td",null,[ue(_r,{user:T},null,8,["user"])]),b("td",null,_e(T.email),1),dle,ule]))),128))])])])]),b("div",hle,[fle,b("button",{type:"button",class:"btn btn-primary",onClick:A[1]||(A[1]=(...T)=>P(h)&&P(h)(...T))},"确定")])])])])],64))}};const v1=i=>(Kt("data-v-fa09a800"),i=i(),Yt(),i),mle={class:"flex-column flex flex-fill border bg-white shadow-sm"},gle=v1(()=>b("div",{class:"border-bottom p-3 fs-4"},"成员",-1)),_le={class:"flex-row flex align-items-center",style:{flex:"0 0 auto",margin:"10px 20px"}},ble={class:"flex-fill"},vle={class:"flex-row flex members border-top i-table",style:{flex:"1"}},kle={style:{flex:"1",margin:"-1px 0 0 0"}},wle={class:"table table-hover"},yle=v1(()=>b("thead",{class:"table-light"},[b("tr",null,[b("th",{scope:"col",class:"col-4"},"用户名"),b("th",{scope:"col",class:"col-3"},"邮箱"),b("th",{scope:"col",class:"col-3"},"手机"),b("th",{scope:"col",class:"col-1"},"操作")])],-1)),Cle=["data-bs-target"],Ale=v1(()=>b("i",{class:"bi bi-x-lg fs-c8"},null,-1)),xle=[Ale],Sle={__name:"com00004",setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ve({team:l.params.team,project:l.params.project,items:[],roles:[],fields:[{key:"user",label:"用户名"},{key:"email",label:"邮箱"},{key:"role",label:"角色"},{key:"op",label:"操作",w:"80px"}],selectedRole:""});Ue(()=>{d()});let d=()=>{o.roles=[],r.post(r.urls.project_members.format(o.team,o.project)).then(function(u){o.items=u.data})},m=u=>{r.post(r.urls.project_member_delete.format(o.team,o.project),[u]).then(function(h){h.data.code===200&&(d(),r.bus.emit("alertSuccess","删除成功"))}).catch(function(h){r.bus.emit("alertDanger",h.response.data.error)})};return(u,h)=>(F(),U("div",mle,[gle,b("div",_le,[b("div",ble,[ue(Pn,{placeholder:"搜索成员"})]),b("div",null,[ue(ple,{role:P(o).selectedRole,curMember:P(o).items,onLoadRoleMembers:P(d)},null,8,["role","curMember","onLoadRoleMembers"])])]),b("div",vle,[b("div",kle,[b("table",wle,[yle,b("tbody",null,[(F(!0),U(xe,null,Xe(P(o).items,f=>(F(),U("tr",{key:f.uuid},[b("td",null,[ue(Dl,{user:f},null,8,["user"])]),b("td",null,_e(f.email),1),b("td",null,_e(f.phone),1),b("td",null,[b("div",{class:"member-delete-x","data-bs-toggle":"modal","data-bs-target":"#delProjectMemberModal"+f.uuid},xle,8,Cle),ue(qo,{desc:"确定是否删除项目成员？",param:f.uuid,onSubmit:P(m),id:"delProjectMemberModal"+f.uuid},null,8,["param","onSubmit","id"])])]))),128))])])])])]))}},Ele=Tt(Sle,[["__scopeId","data-v-fa09a800"]]);const O6=i=>(Kt("data-v-17cbbf18"),i=i(),Yt(),i),Dle={class:"app-main-content border bg-white flex-column flex flex-fill shadow-sm",style:{"min-height":"100%"}},Tle=O6(()=>b("div",{class:"border-bottom p-3 fs-4"},"报表",-1)),Ile={class:"flex-row flex flex-fill report"},Mle={class:"border-end inner-sidebar-wd"},Ple={class:"flex flex-column flex-fill",style:{width:"0"}},Ole={class:"flex flex-row justify-content-center align-items-center border-bottom",style:{"line-height":"48px"}},Ble=["onClick"],Lle=O6(()=>b("div",{class:"flex flex-fill m-4"},[b("div",{class:"flex flex-column flex-fill",style:{"max-height":"98%","min-width":"60%"}},[b("canvas",{id:"taskReportChart"})])],-1)),Rle={__name:"com00005",setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ve({team:l.params.team,project:l.params.project,taskType:"",cur:0,tabTitle:["一个月","三个月","六个月","一整年"],chartData:{labels:[],datasets:[{label:"新增",barPercentage:.6,fill:!1,tension:.1,borderColor:"rgba(54, 162, 235, 0.5)"},{label:"完成",barPercentage:.6,fill:!1,tension:.1,borderColor:"rgba(255, 206, 86, 0.5)"}]}}),d={type:"line",data:null,options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{stacked:!1},y:{beginAtZero:!0,stacked:!1}}}},m=null;Ue(()=>{u(o.taskType),m=new Chart(document.getElementById("taskReportChart"),d)});let u=f=>{o.taskType=f;let g=30;switch(o.cur){case 0:g=30;break;case 1:g=92;break;case 2:g=183;break;case 3:g=365;break;default:g=30;break}let y={task_type:f,range:g};r.post(r.urls.report_task_show.format(o.team,o.project),y).then(function(k){o.chartData.labels=k.data.labels,o.chartData.datasets[0].data=k.data.todo,o.chartData.datasets[1].data=k.data.done,m.data=o.chartData,m.update()}).catch(function(k){r.bus.emit("alertDanger",k.response.data.error)})},h=f=>{o.cur=f,u(o.taskType)};return(f,g)=>(F(),U("div",Dle,[Tle,b("div",Ile,[b("div",Mle,[b("div",{class:je(["report-menu pointer",{active:P(o).taskType===""}]),onClick:g[0]||(g[0]=y=>P(u)(""))}," 全部报表 ",2),b("div",{class:je(["report-menu pointer",{active:P(o).taskType==="需求"}]),onClick:g[1]||(g[1]=y=>P(u)("需求"))}," 需求分析 ",2),b("div",{class:je(["report-menu pointer",{active:P(o).taskType==="缺陷"}]),onClick:g[2]||(g[2]=y=>P(u)("缺陷"))}," 缺陷分析 ",2),b("div",{class:je(["report-menu pointer",{active:P(o).taskType==="任务"}]),onClick:g[3]||(g[3]=y=>P(u)("任务"))}," 任务分析 ",2)]),b("div",Ple,[b("div",Ole,[(F(!0),U(xe,null,Xe(P(o).tabTitle,(y,k)=>(F(),U("div",{class:je(["tab-title pointer px-4",{active:P(o).cur===k}]),onClick:v=>P(h)(k),key:k},_e(y),11,Ble))),128))]),Lle])])]))}},Nle=Tt(Rle,[["__scopeId","data-v-17cbbf18"]]),$le={class:"flex-column flex flex-fill border bg-white shadow-sm"},jle=b("div",{class:"border-bottom p-3 fs-4"},"路线图",-1),zle={class:"flex-row flex flex-fill"},Fle={class:"flex-column flex flex-fill versionTask m-4"},Vle={class:"flex align-items-center fs-5 fw-bolder"},Ule={class:"flex align-items-center"},Hle=["src"],Wle={class:"flex align-items-center ms-2"},Gle={key:0,class:"flex-column flex flex-fill"},Kle={class:"progress flex-fill w-75 mt-2",style:{height:"20px"}},Yle={key:1},qle={key:1,class:"flex flex-fill align-items-center justify-content-center"},Zle={key:0,class:"flex flex-fill align-items-center justify-content-center"},Qle=Po('<div class="flex-column flex flex-fill align-items-center justify-content-center"><div><svg width="64" height="41" viewBox="0 0 64 41"><g transform="translate(0 1)" fill="none" fill-rule="evenodd"><ellipse class="ant-empty-img-simple-ellipse" fill="#F5F5F5" cx="32" cy="33" rx="32" ry="7"></ellipse><g class="ant-empty-img-simple-g" fill-rule="nonzero" stroke="#D9D9D9"><path d="M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"></path><path d="M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z" fill="#FAFAFA" class="ant-empty-img-simple-path"></path></g></g></svg></div><div style="color:#c0c0c0;font-weight:200;" class="mt-1"> 暂无路线图 </div></div>',1),Jle=[Qle],Xle={__name:"com00006",setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ve({team:l.params.team,project:l.params.project,versions:[],loaded:!1,verIcon:"/images/package.png"});Ue(()=>{d()});let d=()=>{r.get(r.urls.tasks_group_by_versions.format(o.team,o.project)).then(function(m){o.loaded=!0,o.versions=m.data})};return(m,u)=>(F(),U("div",$le,[jle,b("div",zle,[b("div",Fle,[P(o).versions&&P(o).versions.length>0?(F(!0),U(xe,{key:0},Xe(P(o).versions,h=>(F(),U("div",{key:h.version,class:"flex-column flex mb-4"},[b("div",Vle,[b("div",Ule,[b("img",{src:P(o).verIcon,style:{"vertical-align":"middle"}},null,8,Hle)]),b("div",Wle,_e(h.version),1)]),h.tasks&&h.tasks.length>0?(F(),U("div",Gle,[b("div",Kle,[b("div",{class:"progress-bar progress-bar-striped bg-warning fs-c9",role:"progressbar",style:Vn("width:"+h.done+"%"),"aria-valuemax":"100"},_e(h.done)+"%",5)]),(F(!0),U(xe,null,Xe(h.tasks,f=>(F(),U("div",{key:f.uuid,class:je([{"text-decoration-line-through":f.category===3},"mt-1"])}," #"+_e(f.number)+": "+_e(f.summary),3))),128))])):(F(),U("div",Yle,"该版本没有任务"))]))),128)):(F(),U("div",qle,[P(o).loaded?(F(),U("div",Zle,Jle)):ve("",!0)]))])])]))}};const Ea=i=>(Kt("data-v-218db214"),i=i(),Yt(),i),ece=Ea(()=>b("div",{class:"com-line-header border-top py-2"},[b("div",{class:"com-line-header-title"},"导航自定义")],-1)),tce={class:"flex-row flex px-4 pb-3 mt-3 align-items-center com",style:{"background-color":"#f8f8f8","flex-wrap":"wrap"}},nce=["onClick"],ice=Ea(()=>b("div",{class:"align-items-center"},[b("svg",{t:"1602764784806",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"50821",width:"15",height:"15"},[b("path",{d:"M329.1136 793.6c63.488 0 115.2 51.712 115.2 115.2S392.6016 1024 329.1136 1024 214.016 972.288 214.016 908.8 265.6256 793.6 329.1136 793.6z m349.2864 0c63.488 0 115.2 51.712 115.2 115.2S741.888 1024 678.4 1024 563.2 972.288 563.2 908.8 614.912 793.6 678.4 793.6z m-349.184-396.8c63.488 0 115.0976 51.712 115.0976 115.2s-51.712 115.2-115.2 115.2S214.016 575.488 214.016 512s51.712-115.2 115.2-115.2z m349.184 0c63.488 0 115.2 51.712 115.2 115.2s-51.712 115.2-115.2 115.2S563.2 575.488 563.2 512s51.712-115.2 115.2-115.2zM329.216 0c63.488 0 115.0976 51.712 115.0976 115.2S392.6016 230.4 329.1136 230.4 214.016 178.688 214.016 115.2 265.6256 0 329.1136 0z m349.184 0c63.488 0 115.2 51.712 115.2 115.2S741.888 230.4 678.4 230.4 563.2 178.688 563.2 115.2 614.912 0 678.4 0z",fill:"#8a8a8a","p-id":"50822"})])],-1)),oce={class:"text-truncate align-items-center flex-fill com-name ms-2"},rce=Ea(()=>b("div",{class:"com-line-header border-top"},[b("div",{class:"com-line-header-title"},"组件详情")],-1)),sce={class:"tab-title flex-row flex mt-4 border-bottom ps-4"},ace=["onClick"],lce={class:"tab-content py-4 ps-4"},cce={style:{width:"420px"}},dce={class:"flex-row flex align-items-center"},uce=Ea(()=>b("div",{style:{"text-align":"right",flex:"0 0 100px"}},[b("span",{style:{color:"#ff0000"}},"*"),rt("组件显示名称 ")],-1)),hce={style:{"margin-left":"10px",flex:"1"}},fce={class:"flex-row flex align-items-center",style:{"margin-top":"20px"}},pce=Ea(()=>b("div",{style:{"text-align":"right",flex:"0 0 100px"}}," 组件名称 ",-1)),mce={style:{"margin-left":"10px",flex:"1"}},gce={class:"flex-row flex align-items-center",style:{"margin-top":"20px"}},_ce=Ea(()=>b("div",{style:{"text-align":"right",flex:"0 0 100px"}}," 组件描述 ",-1)),bce={style:{"margin-left":"10px",flex:"1",overflow:"hidden"}},vce={class:"flex-row flex align-items-center",style:{"margin-top":"20px"}},kce=Ea(()=>b("div",{style:{"text-align":"right",flex:"0 0 100px"}},null,-1)),wce={style:{"margin-left":"10px",flex:"1",overflow:"hidden"}},yce={style:{}},Cce={__name:"com",setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ve({team:l.params.team,project:l.params.project,tabTitle:["基础设置"],cur:0,selectedComUUID:"",selectedComTempUUID:"",name:"",desc:"",disabled:!0});const d=rn("components");Ue(()=>{d.value&&d.value.length>0&&m(d.value[0])}),Bt(()=>d.value,()=>{d.value&&d.value.length>0&&(o.items=d.value,m(d.value[0]))});let m=f=>{o.selectedComUUID=f.uuid,o.selectedComTempUUID=f.template_uuid,o.name=f.name,o.desc=f.desc},u=()=>{o.disabled=!1},h=()=>{r.post(r.urls.component_update.format(o.team,o.project,o.selectedComUUID),{name:o.name,desc:o.desc}).then(function(f){f.data.code===200&&(o.disabled=!0,r.bus.emit("alertSuccess","更新成功"),r.bus.emit("updateComponents",o.project))}).catch(function(f){r.bus.emit("alertDanger",f.response.data.error)})};return(f,g)=>(F(),U(xe,null,[ue(En,{title:"组建配置",desc:"导航栏的名字，描述是可以自定义，以满足不同项目需要。"}),ece,b("div",tce,[(F(!0),U(xe,null,Xe(P(d),y=>(F(),U("div",{style:{width:"100px"},class:je(["com-box-border align-items-center flex-row flex mt-3 shadow-sm",{active:P(o).selectedComUUID===y.uuid}]),key:y.uuid,onClick:k=>{P(m)(y)}},[ice,b("div",oce,_e(y.name),1)],10,nce))),128))]),rce,b("div",sce,[(F(!0),U(xe,null,Xe(P(o).tabTitle,(y,k)=>(F(),U("div",{onClick:v=>P(o).cur=k,class:je({active:P(o).cur===k}),key:k},_e(y),11,ace))),128))]),b("div",lce,[ct(b("div",cce,[b("div",dce,[uce,b("div",hce,[ct(b("input",{class:"form-control","onUpdate:modelValue":g[0]||(g[0]=y=>P(o).name=y),onChange:g[1]||(g[1]=(...y)=>P(u)&&P(u)(...y))},null,544),[[gt,P(o).name]])])]),b("div",fce,[pce,b("div",mce,_e(f.filters.formatComponentTemplate[P(o).selectedComTempUUID]),1)]),b("div",gce,[_ce,b("div",bce,[ct(b("textarea",{"onUpdate:modelValue":g[2]||(g[2]=y=>P(o).desc=y),rows:"3","max-rows":"3",style:{overflow:"hidden"},class:"form-control",onChange:g[3]||(g[3]=(...y)=>P(u)&&P(u)(...y))},null,544),[[gt,P(o).desc]])])]),b("div",vce,[kce,b("div",wce,[ue(ci,{disabled:P(o).disabled,title:"更新信息",onSubmit:P(h)},null,8,["disabled","onSubmit"])])])],512),[[fr,P(o).cur===0]]),ct(b("div",yce," ",512),[[fr,P(o).cur===1]])])],64))}},b5=Tt(Cce,[["__scopeId","data-v-218db214"]]),Ace={class:"align-items-center"},xce={key:0,style:{color:"#1677FF"}},Sce=b("i",{class:"bi bi-briefcase-fill fs-c10"},null,-1),Ece=[Sce],Dce={key:1,style:{color:"#F7B621"}},Tce=b("i",{class:"bi bi-bug-fill fs-c10"},null,-1),Ice=[Tce],Mce={key:2,style:{color:"#3FD698"}},Pce=b("i",{class:"bi bi-receipt fs-c10"},null,-1),Oce=[Pce],Bce={key:3,style:{color:"#DAA520"}},Lce=b("i",{class:"bi bi-flower2 fs-c10"},null,-1),Rce=[Lce],Nce={key:4,style:{color:"#556B2F"}},$ce=b("i",{class:"bi bi-flower1 fs-c10"},null,-1),jce=[$ce],zce={key:5,style:{color:"#BC8F8F"}},Fce=b("i",{class:"bi bi-globe fs-c10"},null,-1),Vce=[Fce],Uce={key:6,style:{color:"#8B0000"}},Hce=b("i",{class:"bi bi-bell fs-c10"},null,-1),Wce=[Hce],B6={__name:"i_b_icon",props:["to","name","icon","scale"],setup(i){return(r,l)=>(F(),U("div",Ace,[i.icon==="1"?(F(),U("div",xce,Ece)):ve("",!0),i.icon==="2"?(F(),U("div",Dce,Ice)):ve("",!0),i.icon==="7"?(F(),U("div",Mce,Oce)):ve("",!0),i.icon==="9"?(F(),U("div",Bce,Rce)):ve("",!0),i.icon==="10"?(F(),U("div",Nce,jce)):ve("",!0),i.icon==="13"?(F(),U("div",zce,Vce)):ve("",!0),i.icon==="15"?(F(),U("div",Uce,Wce)):ve("",!0)]))}};const k1=i=>(Kt("data-v-8fff3bf5"),i=i(),Yt(),i),Gce={class:"px-4 pb-4"},Kce={class:"flex-row flex mt-3"},Yce={style:{flex:"1"}},qce={class:"border border-bottom-0 mt-3 shadow-sm"},Zce={class:"flex-column flex mx-3"},Qce={class:"flex-row flex align-items-center"},Jce={class:"ms-2"},Xce={class:"text-black-50 mt-2"},ede=k1(()=>b("span",{class:"color-light mx-2"}," | ",-1)),tde={class:"flex-row flex flex-fill align-items-center justify-content-end"},nde={class:"flex-row flex task-attr align-items-center",style:{"margin-right":"20px"}},ide=k1(()=>b("div",{style:{flex:"0 0 auto"}},[b("svg",{t:"1602939503677",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"59063",width:"16",height:"16"},[b("path",{d:"M510.81 959L31.93 754.63C12.77 741.86 0 722.7 12.77 703.55 19.15 684.4 44.7 678 63.85 684.4l453.34 191.54L970.52 684.4c19.16-6.39 44.7 0 51.09 19.15s0 44.7-19.16 51.08z m0 0","p-id":"59064",fill:"#515151"}),b("path",{d:"M510.81 729.09L31.93 524.77C12.77 518.38 0 492.84 12.77 473.69c6.38-19.16 25.54-25.54 44.69-19.16l453.35 191.56 453.33-191.56c19.16-6.38 44.7 0 51.08 19.16s0 44.69-19.15 51.08z m0 0","p-id":"59065",fill:"#515151"}),b("path",{d:"M510.81 499.23L0 282.14 510.81 65.05l510.8 217.09z m0 0","p-id":"59066",fill:"#515151"})])],-1)),ode={style:{flex:"0 0 auto","margin-left":"5px"},class:"text-hover"},rde={class:"flex-row flex task-attr align-items-center",style:{"margin-right":"20px"}},sde=k1(()=>b("div",{style:{flex:"0 0 auto"}},[b("svg",{t:"1603325433305",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"10548",width:"16",height:"16"},[b("path",{d:"M426.496 170.496h427.008v256H768V256H426.496v170.496H0V0h426.496zM597.504 597.504V768H256v-170.496H170.496v256h426.496V1024H1024v-426.496h-426.496z m340.992 340.992h-256v-256h256v256z","p-id":"10549"})])],-1)),ade={style:{flex:"0 0 auto","margin-left":"5px"},class:"text-hover"},lde={__name:"issue_type",setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ve({team:l.params.team,project:l.params.project,items:[]});Ue(()=>{d()});let d=()=>{r.get(r.urls.project_template.format(o.team,o.project)).then(function(m){o.items=m.data})};return(m,u)=>{const h=Ht("router-link");return F(),U(xe,null,[ue(En,{title:"工作项类型",desc:"同一项目拥有多个不同类型的工作项类型，每个工作项类型可以定义不同的属性字段和工作流等。"}),b("div",Gce,[b("div",Kce,[b("div",Yce,[ue(Pn,{placeholder:"搜索工作项类型"})])]),b("div",qce,[(F(!0),U(xe,null,Xe(P(o).items,f=>(F(),U("div",{class:"flex-row flex border-bottom py-2",key:f.uuid},[b("div",Zce,[b("div",Qce,[ue(B6,{icon:f.icon.toString()},null,8,["icon"]),b("div",Jce,_e(f.name),1)]),b("div",Xce,[rt(_e(f.field_count)+" 工作项属性",1),ede,rt(_e(f.status_count)+" 工作项状态",1)])]),b("div",tde,[b("div",nde,[ide,b("div",ode,[ue(h,{to:{name:"ComponentIssueTypeDesigner",params:{team:P(o).team,project:P(o).project,com:"designer",attr:"issue_type_field",issue_type:f.uuid},query:{title:f.name}}},{default:qe(()=>[rt("工作项属性")]),_:2},1032,["to"])])]),b("div",rde,[sde,b("div",ade,[ue(h,{to:{name:"ComponentIssueTypeDesigner",params:{team:P(o).team,project:P(o).project,com:"designer",attr:"issue_type_flow",issue_type:f.uuid},query:{title:f.name}}},{default:qe(()=>[rt("工作项工作流")]),_:2},1032,["to"])])])])]))),128))])])],64)}}},cde=Tt(lde,[["__scopeId","data-v-8fff3bf5"]]),dde={class:"flex-row flex align-items-center border-bottom px-4 py-3"},ude=Po('<div class="flex-fill"><div class="fs-c10">项目信息</div><div class="color-light">删除项目下所有资源</div></div><div style="flex:0 0 100px;text-align:right;"><button class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#delProjectModal">删除项目</button></div>',2),hde={__name:"more",setup(i){const{proxy:r}=Ke();let l=at(),o=tt(),d=Ve({team:o.params.team,project:o.params.project}),m=()=>{r.post(r.urls.project_delete.format(d.team,d.project)).then(function(u){u.data.code===200&&(r.bus.emit("alertSuccess","删除成功"),l.push({name:"Projects",params:{team:d.team}}))}).catch(function(u){r.bus.emit("alertDanger",u.response.data.error)})};return(u,h)=>(F(),U("div",dde,[ude,ue(qo,{desc:"确定是否删除项目？",onSubmit:P(m),id:"delProjectModal"},null,8,["onSubmit"])]))}},fde={class:"flex-row flex align-items-center"},pde=["src"],mde={class:"ms-2"},gde={style:{"text-align":"left",color:"#363636"}},_de={__name:"creator",props:{user:Object},setup(i){let r=Ve({avatar:"/images/default_avatar.jpg"});return(l,o)=>(F(),U("div",fde,[b("div",null,[b("img",{src:i.user.avatar||P(r).avatar,style:{height:"20px",width:"20px","border-radius":"20px"}},null,8,pde)]),b("div",mde,[b("div",gde,_e(i.user.name||"I am creator.")+" "+_e(i.user.email?"("+i.user.email+")":""),1)])]))}},bde=b("div",{class:"px-4 py-3 border-bottom fs-c10"},"项目信息",-1),vde={class:"p-4"},kde={style:{"margin-bottom":"20px"},class:"flex-row flex"},wde=b("div",{style:{flex:"0 0 120px"}},[b("label",null,"创建者")],-1),yde={style:{flex:"0 0 300px"}},Cde={style:{"margin-bottom":"20px"},class:"flex-row flex"},Ade=b("div",{style:{flex:"0 0 120px"}},[b("label",null,"创建时间")],-1),xde={style:{flex:"0 0 300px"}},Sde={style:{"margin-bottom":"20px"},class:"flex-row flex"},Ede=b("div",{style:{flex:"0 0 120px"}},[b("label",null,"项目名称")],-1),Dde={style:{flex:"0 0 300px"}},Tde={style:{"margin-bottom":"20px"},class:"flex-row flex"},Ide=b("div",{style:{flex:"0 0 120px"}},[b("label")],-1),Mde={style:{flex:"0 0 300px"}},Pde={__name:"project_info",setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ve({team:l.params.team,project:l.params.project,name:"",disabled:!0,creator:{},created:null});Ue(()=>{u()});let d=()=>{o.disabled=!1},m=()=>{r.post(r.urls.project_update.format(o.team,o.project),{name:o.name,uuid:o.project}).then(function(h){h.data.code===200&&(o.disabled=!0,r.bus.emit("alertSuccess","更新成功"),r.bus.emit("updateProjectInfo",o.project))}).catch(function(h){r.bus.emit("alertDanger",h.response.data.error)})},u=()=>{r.get(r.urls.project_get.format(o.team,o.project)).then(function(h){o.name=h.data.name,o.created=h.data.create_time,h.data.owner&&(o.creator=h.data.owner)})};return(h,f)=>(F(),U(xe,null,[bde,b("div",vde,[b("div",kde,[wde,b("div",yde,[ue(_de,{user:P(o).creator},null,8,["user"])])]),b("div",Cde,[Ade,b("div",xde,_e(h.filters.formatDate(P(o).created)),1)]),b("div",Sde,[Ede,b("div",Dde,[ct(b("input",{class:"form-control",onChange:f[0]||(f[0]=(...g)=>P(d)&&P(d)(...g)),onKeydown:f[1]||(f[1]=(...g)=>P(d)&&P(d)(...g)),"onUpdate:modelValue":f[2]||(f[2]=g=>P(o).name=g)},null,544),[[gt,P(o).name]])])]),b("div",Tde,[Ide,b("div",Mde,[ue(ci,{disabled:P(o).disabled,title:"更新信息",onSubmit:P(m)},null,8,["disabled","onSubmit"])])])])],64))}},Ode=b("div",{class:"px-4 py-3 border-bottom fs-c10"},"版本管理",-1),Bde={class:"flex flex-row px-4 py-3 w-100"},Lde={class:"flex flex-fill shadow-sm"},Rde={class:"flex flex-fill ms-4"},Nde={class:"px-4"},$de={class:"table table-hover"},jde=b("thead",{class:"table-light"},[b("tr",null,[b("th",{scope:"col",class:"col-4"},"版本编号"),b("th",{scope:"col",class:"col-4"},"任务数"),b("th",{scope:"col",class:"col-3"},"创建时间"),b("th",{scope:"col",class:"col-1"},"操作")])],-1),zde={class:"flex-row flex align-items-center"},Fde={style:{flex:"0 0 auto"}},Vde={class:"td align-items-center iop",style:{display:"flex",flex:"0 0 80px"}},Ude=["onClick"],Hde=b("i",{class:"bi bi-x-lg"},null,-1),Wde=[Hde],Gde={__name:"version",setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ve({team:l.params.team,project:l.params.project,name:"",items:[],versionUUID:"",versionName:""});Ue(()=>{u()});let d=()=>{o.disabled=!1},m=()=>{r.post(r.urls.version_add.format(o.team,o.project),{name:o.name}).then(function(g){g.data.code===200&&(o.disabled=!0,r.bus.emit("alertSuccess","更新成功"),u(),o.name="")}).catch(function(g){r.bus.emit("alertDanger",g.response.data.error)})},u=()=>{r.get(r.urls.versions_list.format(o.team,o.project)).then(function(g){o.items=g.data})},h=()=>{o.versionUUID&&r.get(r.urls.version_delete.format(o.team,o.project,o.versionUUID)).then(function(g){g.data.code===200&&(r.bus.emit("alertSuccess","删除成功"),u())}).catch(function(g){r.bus.emit("alertDanger",g.response.data.error)})},f=(g,y)=>{o.versionUUID=g,o.versionName=y};return(g,y)=>(F(),U(xe,null,[Ode,b("div",Bde,[b("div",Lde,[ct(b("input",{class:"form-control",onChange:y[0]||(y[0]=(...k)=>P(d)&&P(d)(...k)),onKeydown:y[1]||(y[1]=(...k)=>P(d)&&P(d)(...k)),placeholder:"版本编号","onUpdate:modelValue":y[2]||(y[2]=k=>P(o).name=k)},null,544),[[gt,P(o).name]])]),b("div",Rde,[ue(ci,{disabled:P(o).disabled,title:"添加版本",onSubmit:P(m)},null,8,["disabled","onSubmit"])])]),b("div",Nde,[b("table",$de,[jde,b("tbody",null,[(F(!0),U(xe,null,Xe(P(o).items,k=>(F(),U("tr",{key:k.uuid},[b("td",null,[b("div",zde,[b("div",Fde,_e(k.value),1)])]),b("td",null,_e(k.task_count),1),b("td",null,_e(g.filters.formatDate(k.create_time)),1),b("td",null,[b("div",Vde,[b("div",{style:{"font-weight":"bolder","text-align":"center",width:"30px"},class:"del pointer text-hover","data-bs-toggle":"modal","data-bs-target":"#delVersionModal",onClick:v=>P(f)(k.uuid,k.value)},Wde,8,Ude)])])]))),128))])]),ue(qo,{desc:"确定是否删除<"+P(o).versionName+">版本？",onSubmit:P(h),id:"delVersionModal"},null,8,["desc","onSubmit"])])],64))}},Kde={class:"px-4 pb-4"},Yde={__name:"project_permission",setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ve({team:l.params.team,project:l.params.project,maps:{browse:{code:1102,permission:"browse_project",title:"查看项目",desc:"允许成员浏览当前项目概览，工作项，成员等信息",groups:[],roles:[],members:[],in_roles:["everyone","project_assign","project_member"]},create:{code:1200,permission:"create_task",title:"创建工作项",desc:"允许成员添加，修改，删除工作项",groups:[],roles:[],members:[],in_roles:["everyone","project_assign","project_member"]},manage:{code:1101,permission:"manage_project",title:"管理项目",desc:"管理当前项目的配置信息，管理成员和报表",groups:[],roles:[],members:[],in_roles:["everyone","project_assign","project_member"]},reports:{code:1104,permission:"view_project_reports",title:"查看项目报表",desc:"允许成员查看当前项目的数据报表",groups:[],roles:[],members:[],in_roles:["everyone","project_assign","project_member"]}},role_members:[],loaded:!1,data:{permission_rule:{context_type:"project",context_param:{}}}});Ue(()=>{d(),o.data={permission_rule:{context_type:"project",context_param:{project_uuid:o.project}}}});let d=()=>{let u=[];for(let h in o.maps)u.push(o.maps[h].code);r.post(r.urls.project_user_domain_group.format(o.team,o.project),u).then(function(h){for(let f in o.maps){let g=o.maps[f];g.groups=[]}if(h.data&&h.data.length>0)for(let f in o.maps){let g=o.maps[f];for(let y=0;y<h.data.length;y++){let k=h.data[y];if(k.permission===g.code){g.groups=k.groups;break}}}m()})},m=()=>{r.post(r.urls.project_members.format(o.team,o.project)).then(function(u){var h;for(let f in o.maps){let g=o.maps[f];g.members=[];for(let y=0;y<((h=u.data)==null?void 0:h.length);y++){let k=u.data[y];k.type="single_user",g.members.push(k)}}o.loaded=!0})};return(u,h)=>(F(),U(xe,null,[ue(En,{title:"项目权限",desc:"项目权限可以用于定制项目的操作权限。"}),b("div",Kde,[P(o).loaded?(F(),lt(ti,{key:0,role_members:P(o).role_members,data:P(o).data,group:P(o).maps.browse,onLoadPermissionData:P(d)},null,8,["role_members","data","group","onLoadPermissionData"])):ve("",!0),P(o).loaded?(F(),lt(ti,{key:1,role_members:P(o).role_members,data:P(o).data,group:P(o).maps.create,onLoadPermissionData:P(d)},null,8,["role_members","data","group","onLoadPermissionData"])):ve("",!0),P(o).loaded?(F(),lt(ti,{key:2,role_members:P(o).role_members,data:P(o).data,group:P(o).maps.manage,onLoadPermissionData:P(d)},null,8,["role_members","data","group","onLoadPermissionData"])):ve("",!0),P(o).loaded?(F(),lt(ti,{key:3,role_members:P(o).role_members,data:P(o).data,group:P(o).maps.reports,onLoadPermissionData:P(d)},null,8,["role_members","data","group","onLoadPermissionData"])):ve("",!0)])],64))}},qde={},Zde={style:{width:"30px",height:"2px"}},Qde=b("div",{style:{width:"100%",height:"100%","background-color":"#e0e0e0"}},null,-1),Jde=[Qde];function Xde(i,r){return F(),U("div",Zde,Jde)}const Do=Tt(qde,[["render",Xde]]),eue={class:"px-4"},tue={class:"table table-hover"},nue=b("thead",{class:"table-light"},[b("tr",null,[b("th",{scope:"col",class:"col-6"},"属性名称"),b("th",{scope:"col",class:"col-5"},"属性类型"),b("th",{scope:"col",class:"col-1"},"操作")])],-1),iue={class:"flex-row flex align-items-center"},oue={style:{flex:"0 0 auto"}},rue={key:0,class:"flex-row flex align-items-center",style:{"margin-left":"5px"}},sue={key:1},aue=b("i",{class:"bi bi-x-lg"},null,-1),lue=[aue],cue={__name:"project_field",setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ve({team:l.params.team,project:l.params.project,items:[]});Ue(()=>{d()});let d=()=>{r.post(r.urls.project_field.format(o.team),{project:o.project}).then(function(m){o.items=m.data})};return(m,u)=>(F(),U(xe,null,[ue(En,{title:"项目属性",desc:"项目属性代表项目可以设置的属性，目前尚未支持自定义属性。"}),ue(Pn,{class:"mx-4 my-3",placeholder:"搜索项目属性"}),b("div",eue,[b("table",tue,[nue,b("tbody",null,[(F(!0),U(xe,null,Xe(P(o).items,h=>(F(),U("tr",{key:h.uuid},[b("td",null,[b("div",iue,[b("div",oue,_e(h.name),1),h.built_in?(F(),U("div",rue,[ue(Kr)])):ve("",!0)])]),b("td",null,_e(m.filters.projectFieldTypes[h.field_type]),1),b("td",null,[h.built_in?(F(),lt(Do,{key:0})):(F(),U("div",sue,lue))])]))),128))])])])],64))}},due={class:"px-4"},uue={class:"table table-hover"},hue=b("thead",{class:"table-light"},[b("tr",null,[b("th",{scope:"col",class:"col-6"},"状态名称"),b("th",{scope:"col",class:"col-5"},"状态类型"),b("th",{scope:"col",class:"col-1"},"操作")])],-1),fue={class:"flex-row flex align-items-center"},pue={style:{flex:"0 0 auto"}},mue={class:"flex-row flex",style:{"margin-left":"5px"}},gue={class:"td",style:{display:"flex","align-items":"center"}},_ue={__name:"project_status",setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ve({team:l.params.team,project:l.params.project,items:[]});Ue(()=>{d()});let d=()=>{r.post(r.urls.project_status.format(o.team)).then(function(m){o.items=m.data})};return(m,u)=>(F(),U(xe,null,[ue(En,{title:"项目状态",desc:"项目状态用于定制项目所处的不同状态，支持不同状态间的切换。"}),ue(Pn,{class:"mx-4 my-3",placeholder:"搜索项目状态"}),b("div",due,[b("table",uue,[hue,b("tbody",null,[(F(!0),U(xe,null,Xe(P(o).items,h=>(F(),U("tr",{key:h.uuid},[b("td",null,[b("div",fue,[b("div",pue,_e(h.name),1),b("div",mue,[ue(Kr)])])]),b("td",null,[b("div",gue,[ue(Sa,{name:h.name,color:h.uuid},null,8,["name","color"])])]),b("td",null,[ue(Do)])]))),128))])])])],64))}},bue={class:"flex-row flex border-bottom align-items-center px-4 py-3 fs-c10"},vue=b("div",{class:"flex"},[b("span",null,"工作项类型")],-1),kue=b("div",{class:"flex mx-2"},[b("svg",{t:"1600623000490",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"},[b("path",{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"})])],-1),wue=b("div",{class:"mx-2"},[b("svg",{t:"1600623000490",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"},[b("path",{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"})])],-1),yue=b("div",{class:"flex-fill"},[b("span",{style:{color:"#909090"}},"工作项属性")],-1),Cue={class:"flex-row flex align-items-center justify-content-end;"},Aue={class:"px-4"},xue={class:"flex-row flex mt-3"},Sue={class:"flex-fill"},Eue={class:"mt-3"},Due={class:"table table-hover"},Tue=b("thead",{class:"table-light"},[b("tr",null,[b("th",{scope:"col"},"属性名称"),b("th",{scope:"col"},"属性类型"),b("th",{scope:"col"},"属性默认值"),b("th",{scope:"col"},"是否必填"),b("th",{scope:"col",class:"col-1"},"操作")])],-1),Iue={class:"flex-row flex align-items-center"},Mue={key:0,class:"flex-row flex align-items-center ms-1"},Pue={class:"align-items-center",style:{display:"flex",flex:"0 0 80px"}},Oue=["onClick"],Bue=b("i",{class:"bi bi-x-lg"},null,-1),Lue=[Bue],Rue={__name:"issue_type_field",setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ve({team:l.params.team,project:l.params.project,issue_type:l.params.issue_type,title:l.query.title,name:"",items:[],fieldUUID:"",fieldName:""});Ue(()=>{d(),m()});let d=()=>{r.get(r.urls.project_issue_type_field.format(o.team,o.project,o.issue_type)).then(function(f){o.items=f.data.field_configs})},m=()=>{o.title||r.get(r.urls.issue_type_get.format(o.team,o.issue_type)).then(function(f){o.title=f.data.name})},u=()=>{o.fieldUUID&&r.post(r.urls.field_issue_type_delete.format(o.team,o.project,o.issue_type,o.fieldUUID)).then(function(f){f.data.code===200&&(d(),r.bus.emit("alertSuccess","删除成功"))}).catch(function(f){r.bus.emit("alertDanger",f.response.data.error)})},h=(f,g)=>{o.fieldUUID=f,o.fieldName=g};return(f,g)=>(F(),U(xe,null,[b("div",bue,[vue,kue,b("span",null,_e(P(o).title),1),wue,yue,b("div",Cue,[ue(Nl,{desc:"工作项属性用于配置工作项需要的显示字段，可以用多种属性类型来进行配置，不同项目可以共用同一个属性。"})])]),b("div",Aue,[b("div",xue,[b("div",Sue,[ue(Pn,{placeholder:"搜索工作项属性"})])]),b("div",Eue,[b("table",Due,[Tue,b("tbody",null,[(F(!0),U(xe,null,Xe(P(o).items,y=>(F(),U("tr",{key:y.uuid},[b("td",null,[b("div",Iue,[b("div",null,_e(y.name),1),y.built_in?(F(),U("div",Mue,[ue(Kr)])):ve("",!0)])]),b("td",null,_e(f.filters.taskFieldTypes[y.type]),1),b("td",null,[ue(Do)]),b("td",null,[ue(Do)]),b("td",null,[b("div",Pue,[y.can_delete?(F(),U("div",{key:0,class:"text-center del pointer",style:{width:"30px"},"data-bs-toggle":"modal","data-bs-target":"#delFieldModal",onClick:k=>P(h)(y.field_uuid,y.name)},Lue,8,Oue)):(F(),lt(Do,{key:1}))])])]))),128))])]),ue(qo,{desc:"确定是否删除<"+P(o).fieldName+">？",onSubmit:P(u),id:"delFieldModal"},null,8,["desc","onSubmit"])])])],64))}},Rh={__name:"color-status",props:{name:String,color:String},setup(i){const r=i;let l=Ge(()=>{let o=r.color;switch(r.color){case"1":o="to_do_color";break;case"2":o="in_progress_color";break;case"3":o="done_color";break}return o});return(o,d)=>(F(),U("div",{class:je(P(l))},_e(i.name),3))}};const Ed=i=>(Kt("data-v-e74bd4e9"),i=i(),Yt(),i),Nue={class:"flex-row flex border-bottom align-items-center px-4 py-3 fs-c10"},$ue=Ed(()=>b("div",{style:{flex:"0 0 auto",display:"flex"}},[b("span",null,"工作项类型")],-1)),jue=Ed(()=>b("div",{style:{flex:"0 0 auto",margin:"0 10px",display:"flex"}},[b("svg",{t:"1600623000490",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"},[b("path",{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"})])],-1)),zue=Ed(()=>b("div",{style:{margin:"0 10px"}},[b("svg",{t:"1600623000490",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"},[b("path",{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"})])],-1)),Fue=Ed(()=>b("div",{class:"flex-fill"},[b("span",{style:{color:"#909090"}},"工作项工作流")],-1)),Vue={class:"flex-row flex align-items-center justify-content-end;"},Uue={id:"project-main",style:{margin:"20px"}},Hue={class:"flex-column flex workFlowTable",style:{"border-left":"1px solid #dedede","border-top":"1px solid #dedede"}},Wue={style:{flex:"1"}},Gue={class:"flex-row flex",style:{flex:"1","background-color":"#f8f8f8","border-bottom":"1px solid #dedede",height:"60px"}},Kue=Po('<div style="flex:0 0 auto;display:flex;width:200px;height:60px;position:relative;" data-v-e74bd4e9><div style="flex:0 0 auto;border-right:1px solid #dedede;position:absolute;height:60px;width:200px;" data-v-e74bd4e9><div style="" class="table-head-title" data-v-e74bd4e9><div data-v-e74bd4e9><div class="start-status-title" style="height:initial;" data-v-e74bd4e9>开始状态</div></div><div data-v-e74bd4e9><div class="end-status-title" style="height:initial;" data-v-e74bd4e9>目标状态</div></div></div></div></div>',1),Yue={style:{flex:"1"},class:"flex-column flex"},que={style:{flex:"0 0 200px",padding:"0 10px","border-right":"1px solid #dedede","line-height":"48px",height:"48px",width:"200px"}},Zue={class:"flex-row flex"},Que={style:{flex:"0 0 auto"}},Jue={key:0,style:{"margin-left":"5px"}},Xue=Ed(()=>b("div",{style:{"font-size":"12px",color:"#909090",display:"inline-block",height:"20px","line-height":"18px",border:"1px solid rgba(134,147,160,0.5)","border-radius":"20px",padding:"0px 8px"}},"初始状态",-1)),ehe=[Xue],the=["onUpdate:modelValue","onChange"],nhe={__name:"issue_type_flow",setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ve({team:l.params.team,project:l.params.project,issue_type:l.params.issue_type,title:l.query.title,desc:"工作流可以用于定制对应工作项的在不同状态阶段的流转。你可以在表格视图中，通过勾选复选框的方式新建工作流步骤。你也可以切换到详情视图中新建工作流步骤。",flows:[],headers:[],lock:!0});Ue(()=>{m(),u()});let d=(h,f,g,y,k)=>{if(o.lock){o.lock=!1;let v={uuid:h,name:f,start_status:g,end_status:y,state:k};r.post(r.urls.project_issue_type_flow_submit.format(o.team,o.project,o.issue_type),v).then(function(){u(),o.lock=!0}).catch(function(A){r.bus.emit("alertDanger",A.response.data.error)})}},m=()=>{o.title||r.get(r.urls.issue_type_get.format(o.team,o.issue_type)).then(function(h){o.title=h.data.name})},u=()=>{r.get(r.urls.project_issue_type_flow.format(o.team,o.project,o.issue_type)).then(function(h){o.headers=h.data.headers,o.flows=h.data.flows})};return(h,f)=>(F(),U(xe,null,[b("div",Nue,[$ue,jue,b("span",null,_e(P(o).title),1),zue,Fue,b("div",Vue,[ue(Nl,{desc:P(o).desc},null,8,["desc"])])]),b("div",Uue,[b("div",Hue,[b("div",Wue,[b("div",Gue,[Kue,(F(!0),U(xe,null,Xe(P(o).headers,g=>(F(),U("div",{class:"flex-row flex align-items-center justify-content-center",style:{flex:"1",padding:"0 10px","border-right":"1px solid #dedede"},key:g.uuid},[b("div",null,[ue(Rh,{color:g.category.toString(),name:g.name},null,8,["color","name"])])]))),128))])]),b("div",Yue,[(F(!0),U(xe,null,Xe(P(o).flows,g=>(F(),U("div",{class:"flex-row flex align-items-center",style:{flex:"1","border-bottom":"1px solid #dedede"},key:g.uuid},[b("div",que,[b("div",Zue,[b("div",Que,[ue(Rh,{color:g.category.toString(),name:g.name},null,8,["color","name"])]),g.default?(F(),U("div",Jue,ehe)):ve("",!0)])]),(F(!0),U(xe,null,Xe(g.items,y=>(F(),U("div",{class:"align-items-center flex-row flex justify-content-center",style:{flex:"1",padding:"0 10px","border-right":"1px solid #dedede","line-height":"48px",height:"48px"},key:y.uuid},[ct(b("input",{style:{height:"16px",width:"16px"},type:"checkbox","onUpdate:modelValue":k=>y.sel=k,onChange:k=>P(d)(y.uuid,y.name,y.start_uuid,y.end_uuid,y.sel)},null,40,the),[[xa,y.sel]])]))),128))]))),128))])])])],64))}},ihe=Tt(nhe,[["__scopeId","data-v-e74bd4e9"]]);const ohe=i=>(Kt("data-v-20dbccf2"),i=i(),Yt(),i),rhe={class:"flex-column flex flex-fill border bg-white shadow-sm"},she=ohe(()=>b("div",{class:"border-bottom p-3 fs-4"},"设置",-1)),ahe={class:"flex-row flex flex-fill"},lhe={class:"border-end inner-sidebar-wd"},che={class:"flex-column flex flex-fill overflow-auto"},dhe={class:"flex-fill"},uhe={__name:"designer",setup(i){Ke(),at();let r=tt(),l=Ll(null),o=Ve({tagIndex:1,team:r.params.team,project:r.params.project,items:[],attrs:[{uuid:"com",name:"项目组建"},{uuid:"issue_type",name:"工作项类型",items:[{uuid:"issue_type_field"},{uuid:"issue_type_flow"}]},{uuid:"project_permission",name:"项目权限"},{uuid:"project_field",name:"项目属性"},{uuid:"project_status",name:"项目状态"},{uuid:"project_info",name:"项目信息"},{uuid:"version",name:"版本管理"},{uuid:"more",name:"更多"}]});Ue(()=>{m()});let d=(h,f)=>{if(h.uuid===f)return!0;if(h.items&&h.items.length>0){for(let g=0;g<h.items.length;g++)if(h.items[g].uuid===f)return!0}return!1};Bt(()=>r.params.attr,h=>{r.params.attr&&m()});let m=()=>{switch(u.value.toLowerCase()){case"com":l.value=b5;break;case"issue_type":l.value=cde;break;case"more":l.value=hde;break;case"project_info":l.value=Pde;break;case"version":l.value=Gde;break;case"project_permission":l.value=Yde;break;case"project_field":l.value=cue;break;case"project_status":l.value=_ue;break;case"issue_type_field":l.value=Rue;break;case"issue_type_flow":l.value=ihe;break;default:l.value=b5;break}},u=Ge(()=>r.params.attr||"com");return(h,f)=>{const g=Ht("router-link");return F(),U("div",rhe,[she,b("div",ahe,[b("div",lhe,[(F(!0),U(xe,null,Xe(P(o).attrs,y=>(F(),U("div",{class:"attr",key:y.uuid},[ue(g,{class:je({active:P(d)(y,P(u))}),to:{name:"ComponentDesigner",params:{team:P(o).team,project:P(o).project,com:"designer",attr:y.uuid}}},{default:qe(()=>[rt(_e(y.name),1)]),_:2},1032,["class","to"])]))),128))]),b("div",che,[b("div",dhe,[(F(),lt(Yo(P(l))))])])])])}}},hhe=Tt(uhe,[["__scopeId","data-v-20dbccf2"]]),fhe={class:"flex-row flex flex-fill"},oh={__name:"component",setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ll(null),d=Ve({team:l.params.team,project:l.params.project,com:l.params.com,issue_type:"",comName:"",classPadding:""});Ue(()=>{m()}),Bt(()=>l.params,u=>{l.name!=="Task"&&l.params.com&&m()});let m=()=>{if(d.com=l.params.com,d.com.toLowerCase()==="designer"){d.classPadding="p-4",o.value=hhe;return}r.get(r.urls.component_get.format(d.team,d.project,d.com)).then(function(u){switch(u.data.objects.length>0&&(d.issue_type=u.data.objects[0].uuid),d.comName=u.data.name,u.data.template_uuid){case"com00000":d.classPadding="p-4",o.value=_5;break;case"com00001":d.classPadding="",o.value=$ae;break;case"com00002":d.classPadding="",o.value=jae;break;case"com00003":d.classPadding="",o.value=Yae;break;case"com00004":d.classPadding="p-4",o.value=Ele;break;case"com00005":d.classPadding="p-4",o.value=Nle;break;case"com00006":d.classPadding="p-4",o.value=Xle;break;default:d.classPadding="p-4",o.value=_5;break}})};return(u,h)=>(F(),U("div",fhe,[b("div",{class:je(["flex-column flex flex-fill overflow-auto",P(d).classPadding]),style:{width:"0"}},[P(o)?(F(),lt(Yo(P(o)),{key:0,comName:P(d).comName,issue_type:P(d).issue_type},null,8,["comName","issue_type"])):ve("",!0)],2)]))}};const w1=i=>(Kt("data-v-7eca9808"),i=i(),Yt(),i),phe={id:"personal"},mhe=w1(()=>b("div",{style:{flex:"0",padding:"5px 0 5px 30px",width:"100%","font-size":"18px","margin-bottom":"20px"}},"账号管理",-1)),ghe=w1(()=>b("div",{style:{flex:"0",padding:"5px 0 5px 30px",width:"100%",color:"#aaaaaa"}},"个人信息",-1)),_he=w1(()=>b("div",{style:{flex:"0",padding:"20px 0 5px 30px",width:"100%",color:"#aaaaaa"}},"钉钉账号",-1)),bhe={__name:"personal",setup(i){let r=et(1),l=tt(),o=Ve({team:l.params.team});Bt(()=>l.params,m=>{d()}),Ue(()=>{d()});let d=()=>{switch(l.params.type){case"account":r.value=1;break;case"password":r.value=3;break;case"email":r.value=3;break;case"phone":r.value=3;break;case"safe":r.value=3;break;case"certificate":r.value=11;break}};return(m,u)=>{const h=Ht("router-link");return F(),U("div",phe,[mhe,ghe,b("div",{class:je({active:P(r)===1})},[ue(h,{to:{name:"Center",params:{team:P(o).team,type:"account"}}},{default:qe(()=>[rt("账号信息")]),_:1},8,["to"])],2),b("div",{class:je({active:P(r)===3})},[ue(h,{to:{name:"Center",params:{team:P(o).team,type:"safe"}}},{default:qe(()=>[rt("安全设置")]),_:1},8,["to"])],2),_he,b("div",{class:je({active:P(r)===11})},[ue(h,{to:{name:"Center",params:{team:P(o).team,type:"certificate"}}},{default:qe(()=>[rt("登陆凭证")]),_:1},8,["to"])],2)])}}},vhe=Tt(bhe,[["__scopeId","data-v-7eca9808"]]),khe={class:"flex-fill border bg-white"},whe=b("div",{class:"flex-row flex border-bottom align-items-center px-4 py-3 fs-c10"},[b("span",{class:"fs-c10"},"账号信息")],-1),yhe={class:"d-flex p-5 ms-2"},Che={class:"d-flex flex-column",style:{width:"400px"}},Ahe={class:"d-flex flex-row mt-1"},xhe={class:"mt-4"},She={class:"col-md-5"},v5={__name:"account",setup(i){const{proxy:r}=Ke();let l=Ve({avatar:"",name:"",disabled:!1});Ue(()=>{d()});let o=()=>{let m={name:l.name,field:"name"};r.post(r.urls.user_update.format(Go()),m).then(function(u){u.data.code===200&&(r.bus.emit("updateUser"),r.bus.emit("alertSuccess","更新成功"))}).catch(function(u){r.bus.emit("alertDanger",u.response.data.error)})},d=()=>{let m=r.urls.user_get.format(Go());r.get(m).then(function(u){let{avatar:h,name:f}=u.data;l.avatar=h,l.name=f})};return(m,u)=>(F(),U("div",khe,[whe,b("div",yhe,[b("div",Che,[b("div",Ahe,[ct(b("input",{type:"text","onUpdate:modelValue":u[0]||(u[0]=h=>P(l).name=h),class:"form-control",style:{height:"40px"},placeholder:"名字"},null,512),[[gt,P(l).name]])]),b("div",xhe,[b("div",She,[ue(ci,{title:"更新信息",onSubmit:P(o),disabled:P(l).disabled},null,8,["onSubmit","disabled"])])])])])]))}},Ehe={class:"flex-fill border bg-white"},Dhe=b("div",{class:"flex-row flex border-bottom align-items-center px-4 py-3 fs-c10"},[b("span",{class:"fs-c10"},"重置密码")],-1),The={class:"d-flex flex-column p-5 ms-2"},Ihe=b("label",{class:"col-md-1 control-label"},"旧密码",-1),Mhe={class:"col-md-5 mt-1"},Phe={class:"mt-4"},Ohe=b("label",{class:"col-md-1 control-label"},"新密码",-1),Bhe={class:"col-md-5 mt-1"},Lhe={class:"mt-4"},Rhe=b("label",{class:"col-md-1 control-label"},"确认密码",-1),Nhe={class:"col-md-5 mt-1"},$he={class:"mt-4"},jhe={class:"col-md-5"},zhe={__name:"password",setup(i){const{proxy:r}=Ke();let l=Ve({old_password:"",new_password:"",confirm_new_password:"",disabled:!1}),o=()=>{let d={old_password:l.old_password,new_password:l.new_password,confirm_new_password:l.confirm_new_password};r.post(r.urls.user_password_change.format(Go()),d).then(function(m){m.data.code===200&&r.bus.emit("alertSuccess","更新成功")}).catch(function(m){r.bus.emit("alertDanger",m.response.data.error)})};return(d,m)=>(F(),U("div",Ehe,[Dhe,b("div",The,[b("div",null,[Ihe,b("div",Mhe,[ct(b("input",{type:"password","onUpdate:modelValue":m[0]||(m[0]=u=>P(l).old_password=u),name:"name",class:"form-control",placeholder:"旧密码"},null,512),[[gt,P(l).old_password]])])]),b("div",Phe,[Ohe,b("div",Bhe,[ct(b("input",{type:"password","onUpdate:modelValue":m[1]||(m[1]=u=>P(l).new_password=u),name:"email",class:"form-control",placeholder:"新密码"},null,512),[[gt,P(l).new_password]])])]),b("div",Lhe,[Rhe,b("div",Nhe,[ct(b("input",{type:"password","onUpdate:modelValue":m[2]||(m[2]=u=>P(l).confirm_new_password=u),name:"phone",class:"form-control",placeholder:"确认密码"},null,512),[[gt,P(l).confirm_new_password]])])]),b("div",$he,[b("div",jhe,[ue(ci,{title:"更新密码",onSubmit:P(o),disabled:P(l).disabled},null,8,["onSubmit","disabled"])])])])]))}},Fhe={class:"flex-fill border bg-white"},Vhe=b("div",{class:"flex-row flex border-bottom align-items-center px-4 py-3 fs-c10"},[b("span",{class:"fs-c10"},"修改邮箱地址")],-1),Uhe={class:"d-flex p-5 ms-2"},Hhe={class:"d-flex flex-column",style:{width:"400px"}},Whe={class:"d-flex flex-row mt-1"},Ghe={class:"flex-fill"},Khe={class:"text-end ms-2"},Yhe=["disabled"],qhe={class:"d-flex flex-row mt-4"},Zhe={class:"w-50"},Qhe={class:"mt-4"},Jhe={class:"col-md-5"},Xhe={__name:"email",setup(i){const{proxy:r}=Ke();let l=Ve({}),o=Ve({s_email:"",s_code:"",disabled:!1,sendBtnDisabled:!1});Ue(()=>{m()});let d=()=>{let h={email:o.s_email,field:"email",code:o.s_code};r.post(r.urls.user_update.format(Go()),h).then(function(f){f.data.code===200&&r.bus.emit("alertSuccess","更新邮箱地址成功")}).catch(function(f){r.bus.emit("alertDanger",f.response.data.error)})},m=()=>{let h=r.urls.user_get.format(Go());r.get(h).then(function(f){l.value=f.data})},u=()=>{if(o.sendBtnDisabled=!0,!o.s_email){o.sendBtnDisabled=!1,r.bus.emit("alertDanger","请输入邮箱地址");return}if(o.s_email===l.value.email){o.sendBtnDisabled=!1,r.bus.emit("alertDanger","没有修改邮箱地址");return}let h={email:o.s_email};r.post(r.urls.user_send_email,h).then(function(f){f.data.code===200&&(o.sendBtnDisabled=!1,r.bus.emit("alertSuccess","发送邮件成功"))}).catch(function(f){o.sendBtnDisabled=!1,r.bus.emit("alertDanger",f.response.data.error)})};return(h,f)=>(F(),U("div",Fhe,[Vhe,b("div",Uhe,[b("div",Hhe,[b("div",Whe,[b("div",Ghe,[ct(b("input",{type:"text","onUpdate:modelValue":f[0]||(f[0]=g=>P(o).s_email=g),class:"form-control",style:{height:"40px"},placeholder:"输入新邮箱地址"},null,512),[[gt,P(o).s_email]])]),b("div",Khe,[b("button",{type:"button",class:"btn btn-outline-primary",style:{height:"40px",outline:"none","box-shadow":"none"},disabled:P(o).sendBtnDisabled,onClick:f[1]||(f[1]=(...g)=>P(u)&&P(u)(...g))},"发送邮件验证码",8,Yhe)])]),b("div",qhe,[b("div",Zhe,[ct(b("input",{type:"text","onUpdate:modelValue":f[2]||(f[2]=g=>P(o).s_code=g),style:{height:"40px"},class:"form-control",placeholder:"请输入 6 位数字验证码",autocomplete:"off"},null,512),[[gt,P(o).s_code,void 0,{trim:!0}]])])]),b("div",Qhe,[b("div",Jhe,[ue(ci,{title:"更新邮箱地址",onSubmit:P(d),disabled:P(o).disabled},null,8,["onSubmit","disabled"])])])])])]))}},efe={class:"flex-fill border bg-white"},tfe=b("div",{class:"flex-row flex border-bottom align-items-center px-4 py-3 fs-c10"},[b("span",{class:"fs-c10"},"修改手机号码")],-1),nfe={class:"d-flex p-5 ms-2"},ife={class:"d-flex flex-column",style:{width:"400px"}},ofe={class:"d-flex flex-row mt-1"},rfe={class:"flex-fill"},sfe={class:"text-end ms-2"},afe=["disabled"],lfe={class:"d-flex flex-row mt-4"},cfe={class:"w-50"},dfe={class:"mt-4"},ufe={class:"col-md-5"},hfe={__name:"phone",setup(i){const{proxy:r}=Ke();let l=Ve({}),o=Ve({s_phone:"",s_code:"",disabled:!1,sendBtnDisabled:!1});Ue(()=>{m()});let d=()=>{let h={phone:o.s_phone,field:"phone",code:o.s_code};r.post(r.urls.user_update.format(Go()),h).then(function(f){f.data.code===200&&r.bus.emit("alertSuccess","更新手机号码成功")}).catch(function(f){r.bus.emit("alertDanger",f.response.data.error)})},m=()=>{let h=r.urls.user_get.format(Go());r.get(h).then(function(f){l.value=f.data})},u=()=>{if(o.sendBtnDisabled=!0,!o.s_phone){o.sendBtnDisabled=!1,r.bus.emit("alertDanger","请输入手机号码");return}if(o.s_phone===l.value.phone){o.sendBtnDisabled=!1,r.bus.emit("alertDanger","没有修改手机号码");return}let h={phone:o.s_phone};r.post(r.urls.send_phone_code,h).then(function(f){f.data.code&&(o.s_code=f.data.code,o.sendBtnDisabled=!1)}).catch(function(f){r.bus.emit("alertDanger",f.response.data.error),o.sendBtnDisabled=!1})};return(h,f)=>(F(),U("div",efe,[tfe,b("div",nfe,[b("div",ife,[b("div",ofe,[b("div",rfe,[ct(b("input",{type:"text","onUpdate:modelValue":f[0]||(f[0]=g=>P(o).s_phone=g),class:"form-control",style:{height:"40px"},placeholder:"输入新手机号码"},null,512),[[gt,P(o).s_phone]])]),b("div",sfe,[b("button",{type:"button",class:"btn btn-outline-primary",style:{height:"40px",outline:"none","box-shadow":"none"},disabled:P(o).sendBtnDisabled,onClick:f[1]||(f[1]=(...g)=>P(u)&&P(u)(...g))},"发送验证码",8,afe)])]),b("div",lfe,[b("div",cfe,[ct(b("input",{type:"text","onUpdate:modelValue":f[2]||(f[2]=g=>P(o).s_code=g),style:{height:"40px"},class:"form-control",placeholder:"请输入 6 位数字验证码",autocomplete:"off"},null,512),[[gt,P(o).s_code,void 0,{trim:!0}]])])]),b("div",dfe,[b("div",ufe,[ue(ci,{title:"更新手机号码",onSubmit:P(d),disabled:P(o).disabled},null,8,["onSubmit","disabled"])])])])])]))}},ffe={},pfe={class:"d-flex flex-fill h-100 border bg-white p-4 fs-c8"};function mfe(i,r){return F(),U("div",pfe," 待开发，敬请关注！ ")}const gfe=Tt(ffe,[["render",mfe]]),_fe={class:"d-flex flex-fill h-100 border bg-white"},bfe={class:"flex-fill"},vfe=b("div",{class:"flex-row flex border-bottom align-items-center px-4 py-3 fs-c10"},[b("span",{class:"fs-c10"},"安全设置")],-1),kfe={class:"px-4"},wfe={class:"flex-row flex p-4 border-bottom align-items-center"},yfe=b("div",null,[b("div",{class:"flex-column flex flex-fill align-items-center justify-content-center"},[b("svg",{t:"1600123506120",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6528",width:"48",height:"48"},[b("path",{d:"M893.632 382.976h-127.616V255.36a255.36 255.36 0 1 0-510.72 0v127.68H127.68A127.552 127.552 0 0 0 0 510.656v382.976c0 70.528 57.152 127.68 127.68 127.68h765.952a127.744 127.744 0 0 0 127.744-127.68V510.656a127.744 127.744 0 0 0-127.744-127.68zM319.168 255.36a191.424 191.424 0 1 1 382.976 0v127.68H319.168V255.36z m638.336 638.336a63.872 63.872 0 0 1-63.872 63.872H127.68a63.872 63.872 0 0 1-63.872-63.872V510.656c0-35.264 28.544-63.872 63.872-63.872h765.952c35.328 0 63.872 28.608 63.872 63.872v383.04zM510.656 542.592a95.488 95.488 0 1 0-31.872 185.664v133.568h63.808v-133.568a95.36 95.36 0 0 0 63.808-89.856c0-52.992-42.88-95.808-95.744-95.808z m0 143.68a47.936 47.936 0 1 1 0.128-95.872 47.936 47.936 0 0 1-0.128 95.872z",fill:"#27D400","p-id":"6529"})])])],-1),Cfe={class:"ms-4 flex-fill"},Afe=b("div",{class:"fs-c8"},"密码保护",-1),xfe={class:"color-banner text-grey"},Sfe=b("div",null,[b("svg",{t:"1672577305852",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3759",width:"32",height:"32"},[b("path",{d:"M512.3 960.5c-247.5 0-448.1-200.6-448.1-448.1S264.8 64.2 512.3 64.2s448.1 200.6 448.1 448.1-200.6 448.2-448.1 448.2z m252.6-587.1c-8.8-8.7-22.9-8.7-31.7 0L463.8 642.8 321.2 500.2c-8.8-8.8-22.9-8.8-31.7 0-8.7 8.8-8.7 22.9 0 31.7L448 690.3c8.8 8.7 22.9 8.7 31.7 0l285.2-285.2c8.7-8.8 8.7-23 0-31.7z",fill:"#7CCD7C","p-id":"3760"})])],-1),Efe={class:"flex-row flex p-4 border-bottom align-items-center"},Dfe=b("div",null,[b("div",{class:"flex-column flex flex-fill align-items-center justify-content-center"},[b("svg",{t:"1600093044171",class:"icon",viewBox:"0 0 1536 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2745",width:"48",height:"48"},[b("path",{d:"M1450.666667 0H85.333333a85.333333 85.333333 0 0 0-85.333333 85.333333v51.2l724.48 434.346667a85.333333 85.333333 0 0 0 85.333333 0L1536 136.533333V85.333333a85.333333 85.333333 0 0 0-85.333333-85.333333zM682.666667 715.093333L0 307.2V938.666667a85.333333 85.333333 0 0 0 85.333333 85.333333h1365.333334a85.333333 85.333333 0 0 0 85.333333-85.333333V307.2l-682.666667 407.893333a170.666667 170.666667 0 0 1-170.666666 0z",fill:"#FAB200","p-id":"2746"})])])],-1),Tfe={class:"ms-4 flex-fill"},Ife={class:"fs-c8"},Mfe={class:"text-grey fs-6"},Pfe={class:"color-banner text-grey"},Ofe=b("div",null,[b("svg",{t:"1672577305852",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3759",width:"32",height:"32"},[b("path",{d:"M512.3 960.5c-247.5 0-448.1-200.6-448.1-448.1S264.8 64.2 512.3 64.2s448.1 200.6 448.1 448.1-200.6 448.2-448.1 448.2z m252.6-587.1c-8.8-8.7-22.9-8.7-31.7 0L463.8 642.8 321.2 500.2c-8.8-8.8-22.9-8.8-31.7 0-8.7 8.8-8.7 22.9 0 31.7L448 690.3c8.8 8.7 22.9 8.7 31.7 0l285.2-285.2c8.7-8.8 8.7-23 0-31.7z",fill:"#7CCD7C","p-id":"3760"})])],-1),Bfe={class:"flex-row flex p-4 border-bottom align-items-center"},Lfe=b("div",null,[b("div",{class:"flex-column flex flex-fill align-items-center justify-content-center"},[b("svg",{t:"1600123151164",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5723",width:"48",height:"48"},[b("path",{d:"M654.990991 196.036036H371.315315c-25.945946 0-47.279279 21.333333-47.279279 47.279279s21.333333 47.279279 47.279279 47.27928h283.675676c25.945946 0 47.279279-21.333333 47.279279-47.27928s-21.333333-47.279279-47.279279-47.279279z m173.54955-189.693694H197.765766c-69.765766 0-126.27027 56.504505-126.270271 126.270271v757.045045c0 69.765766 56.504505 126.27027 126.270271 126.27027h630.774775c69.765766 0 126.27027-56.504505 126.27027-126.27027V132.612613c-0.576577-69.765766-56.504505-126.27027-126.27027-126.270271z m31.135135 851.603604c0 34.594595-28.252252 62.846847-62.846847 62.846847H229.477477c-34.594595 0-62.846847-28.252252-62.846846-62.846847V164.324324c0-34.594595 28.252252-62.846847 62.846846-62.846847h567.351352c34.594595 0 62.846847 28.252252 62.846847 62.846847v693.621622zM513.153153 731.675676c-34.594595 0-62.846847 28.252252-62.846847 62.846847S478.558559 857.369369 513.153153 857.369369s62.846847-28.252252 62.846847-62.846846S547.747748 731.675676 513.153153 731.675676z",fill:"#2185F5","p-id":"5724"})])])],-1),Rfe={class:"ms-4 flex-fill"},Nfe={class:"fs-c8"},$fe={class:"text-grey fs-6"},jfe={class:"color-banner text-grey"},zfe={key:0},Ffe=b("svg",{t:"1672577305852",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3759",width:"32",height:"32"},[b("path",{d:"M512.3 960.5c-247.5 0-448.1-200.6-448.1-448.1S264.8 64.2 512.3 64.2s448.1 200.6 448.1 448.1-200.6 448.2-448.1 448.2z m252.6-587.1c-8.8-8.7-22.9-8.7-31.7 0L463.8 642.8 321.2 500.2c-8.8-8.8-22.9-8.8-31.7 0-8.7 8.8-8.7 22.9 0 31.7L448 690.3c8.8 8.7 22.9 8.7 31.7 0l285.2-285.2c8.7-8.8 8.7-23 0-31.7z",fill:"#7CCD7C","p-id":"3760"})],-1),Vfe=[Ffe],Ufe={key:1},Hfe=b("svg",{t:"1672575845790",class:"icon",viewBox:"0 0 1029 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3262",width:"32",height:"32"},[b("path",{d:"M1020.835581 368.09697L864.649723 121.793939C850.944672 100.331313 822.500228 93.99596 800.908309 107.442424L21.401238 600.565657c-21.462626 13.705051-27.79798 42.149495-14.351515 63.612121L163.364874 910.480808c13.705051 21.462626 42.149495 27.79798 63.612122 14.222222l779.50707-493.123232c21.462626-13.575758 27.927273-42.020202 14.351515-63.482828z m-31.159596 37.10707L210.168915 898.327273c-6.852525 4.39596-15.90303 2.327273-20.29899-4.525253L33.684066 647.49899c-4.39596-6.852525-2.327273-15.90303 4.525253-20.29899l779.50707-493.123232c6.852525-4.266667 15.90303-2.327273 20.169697 4.654545l156.185859 246.30303c4.39596 6.593939 2.456566 15.644444-4.39596 20.169697zM317.740632 248.888889l12.929293 31.030303 16.808081-29.090909 33.486868-2.715152-22.626262-24.953535 7.628283-32.711111-30.513132 13.834343-28.832323-17.454545 3.620202 33.486869-25.470707 21.721212 32.969697 6.852525zM516.205278 156.444444l-16.161616-29.60808-13.575757 30.90101-33.09899 6.335353 24.953535 22.367677-4.266667 33.357576 29.220202-16.808081 30.383839 14.480808-6.981818-32.969697 23.014141-24.436364-33.486869-3.620202z m302.545455 495.19192l-26.634344-20.428283-0.129292 33.616161-27.79798 18.876768 32.064646 10.60202 9.438384 32.19394 19.911111-27.151515 33.616162 0.90505-19.781818-27.280808 11.377777-31.547475-32.064646 10.214142zM710.015379 785.454545l-12.670707-31.159596-17.066666 28.961617-33.486869 2.456565 22.367677 25.082829-8.016162 32.581818 30.771717-13.446465 28.703031 17.842424-3.361617-33.486868 25.470708-21.721212-32.711112-7.111112z m-199.240404 91.022223l15.903031 29.737373 13.963636-30.642424 33.09899-5.947475-24.824243-22.755555 4.525253-33.357576-29.349495 16.549495-30.254545-14.610101 6.723232 32.840404-23.272727 24.436364 33.486868 3.749495zM212.366895 378.957576l26.50505 20.816161 0.387879-33.616161 27.927273-18.747475-31.935354-10.731313-9.179798-32.323232-20.169697 26.892929-33.616162-1.163637 19.523233 27.410101-11.636364 31.547475 32.19394-10.084848z m-118.303031 145.066666c-3.490909-142.222222 65.680808-282.892929 194.585859-364.347474S574.257804 75.894949 701.611339 139.765657l30.771717-19.39394c-37.624242-21.074747-78.222222-36.460606-120.888889-46.028283-57.018182-12.8-115.070707-14.480808-172.476767-5.042424-59.474747 9.826263-115.717172 31.288889-167.046465 63.870707-51.329293 32.581818-94.771717 74.084848-129.163636 123.604041-33.228283 47.709091-56.630303 100.977778-69.430303 157.866666-9.567677 42.666667-12.929293 85.850505-9.955556 128.905051l30.642424-19.523233zM931.106288 502.30303c3.620202 142.222222-65.551515 282.892929-194.327272 364.347475-128.905051 81.583838-285.608081 83.911111-412.832323 20.040404l-30.771718 19.523232c37.624242 20.945455 78.222222 36.460606 120.888889 46.028283 57.018182 12.8 115.070707 14.480808 172.476768 5.042424 59.474747-9.826263 115.717172-31.288889 166.917172-63.741414 51.329293-32.581818 94.771717-74.084848 129.163636-123.60404 33.09899-47.838384 56.50101-100.977778 69.30101-157.866667 9.567677-42.666667 12.929293-85.850505 9.955556-128.90505L931.106288 502.30303zM381.482046 306.424242c36.072727-22.755556 75.765657-34.909091 115.717172-37.365656l47.579798-30.125253c-62.836364-7.369697-125.80202 6.723232-180.105051 40.985859-54.173737 34.262626-93.866667 85.20404-114.036363 145.066667l47.579798-30.125253c19.264646-35.038384 47.191919-65.680808 83.264646-88.436364z m262.206061 413.608081c-36.072727 22.884848-75.765657 35.038384-115.587879 37.365657l-47.579798 30.125252c62.836364 7.369697 125.80202-6.723232 180.10505-41.115151 54.173737-34.262626 93.866667-85.20404 114.036364-145.066667l-47.579798 30.125253c-19.264646 35.038384-47.321212 65.680808-83.393939 88.565656z m0 0","p-id":"3263",fill:"#d81e06"}),b("path",{d:"M320.455783 779.248485c-15.256566-25.341414-35.167677-57.406061-59.733333-95.935354-3.490909 50.036364-20.686869 96.840404-51.717172 140.541414l-3.620202-1.292929c25.987879-46.028283 38.658586-94.254545 38.012122-144.937374L186.379016 713.955556c-8.40404 5.30101-15.515152 11.119192-21.591919 17.325252L151.211339 729.212121l98.521212-62.70707-26.50505-41.761617-41.503031 26.375758c-8.40404 5.30101-15.515152 11.119192-21.591919 17.325252l-13.575757-2.068686L219.995177 619.70101c-4.39596-6.852525-13.317172-20.169697-27.022222-40.210101l31.676768-5.818182-5.818182 12.153536L234.605278 610.262626l42.537374-27.022222 5.947475-20.557576 30.125252 4.783839L237.837602 615.434343l27.022222 42.537374 63.741414-40.59798 6.335354-21.979798 31.676767 4.913132-89.729293 57.147474c46.028283 24.048485 93.090909 27.668687 141.187879 10.602021l2.19798 3.361616c-10.989899 6.981818-16.032323 15.385859-15.127273 25.212121-51.975758 3.620202-96.064646-8.662626-132.008081-36.848485l-4.783838 3.10303c32.193939 50.553535 53.39798 83.264646 63.741414 98.133334l-11.636364 18.230303z","p-id":"3264",fill:"#d81e06"}),b("path",{d:"M211.332551 831.612121l-15.256566-5.688889 3.749495-6.593939c23.272727-41.244444 35.684848-84.816162 37.107071-129.939394l-46.933333 29.866667c-7.886869 5.042424-14.739394 10.472727-20.428283 16.290909l-2.327273 2.456565-33.874747-5.30101 107.571717-68.395959L221.4174 633.535354l-36.072728 23.014141c-7.886869 5.042424-14.739394 10.472727-20.428283 16.290909l-2.327272 2.456566-33.745455-5.30101 82.359596-52.363637c-4.783838-7.369697-12.541414-18.747475-23.272727-34.650505l-5.559596-8.274747 53.915151-9.826263-9.826262 20.29899 10.343434 16.161616 35.038384-22.238384 6.852525-23.660606 52.751515 8.274748L247.146693 617.373737l20.169696 31.676768 56.242425-35.814141 7.240404-25.082829 54.173737 8.533334-94.90101 60.121212c22.755556 10.214141 45.769697 15.515152 68.783838 15.515151 18.747475 0 37.882828-3.361616 56.888889-10.214141l4.913132-1.680808 8.40404 13.187879-5.430303 3.490909c-8.791919 5.559596-12.8 11.894949-12.153535 19.264646l0.517171 6.59394-6.593939 0.517171c-6.076768 0.387879-12.024242 0.646465-17.842424 0.646465-39.175758 0-73.955556-9.567677-103.822222-28.444445 26.505051 41.373737 44.476768 69.042424 53.527272 82.101011l2.456566 3.490909-19.523232 30.513131-5.430303-8.921212c-13.187879-21.979798-29.866667-48.872727-49.648485-80.161616-6.206061 44.088889-23.272727 86.109091-50.941414 125.155555l-2.844445 3.749495zM255.680026 663.272727l10.60202 16.549495c21.462626 33.745455 39.822222 63.094949 54.432323 87.143435l3.620202-5.688889c-11.119192-16.161616-31.159596-47.191919-61.284848-94.383839l-51.458586-80.808081 1.939394-3.878787-9.309091 1.680808c10.731313 15.773737 17.583838 25.987879 21.20404 31.80606l30.254546 47.579798z m-5.818182 10.731313v3.490909c0.258586 20.945455-1.810101 41.50303-5.947475 61.672728 5.559596-18.359596 9.050505-37.107071 10.343435-56.371717l0.90505-12.282829-5.30101 3.490909z m80.678788 8.79192c17.713131 5.430303 36.719192 8.145455 57.018182 8.145454 3.620202 0 7.369697-0.129293 11.119192-0.258586 0.517172-3.878788 1.810101-7.628283 4.00808-11.119192-14.739394 3.749495-29.349495 5.559596-43.830303 5.559596-9.438384 0-18.876768-0.775758-28.315151-2.327272z m9.179798-80.161617l-2.585859 8.921213 11.636364-7.49899-9.050505-1.422223z m-52.105051-32.711111l-2.197979 7.369697 9.826262-6.20606-7.628283-1.163637zM361.700228 490.020202l0.90505-2.973737c11.507071-1.810101 21.333333-2.456566 29.349495-1.939394 8.016162 0.517172 13.317172 2.715152 15.773738 6.723232 2.585859 4.008081 3.361616 8.016162 2.327272 12.282828-0.905051 4.137374-2.068687 6.723232-3.361616 7.49899-2.585859 1.680808-6.076768 0.258586-10.731313-4.008081-6.593939-6.076768-18.10101-12.024242-34.262626-17.583838z m121.018182 117.785859c10.731313 2.715152 23.014141 3.10303 36.719192 1.163636 13.705051-1.939394 34.650505-11.248485 62.965656-28.056566 28.185859-16.808081 58.69899-37.882828 91.280808-63.482828l2.19798 3.361616c-11.119192 10.989899-13.963636 20.040404-8.662626 27.022222-30.254545 19.264646-55.337374 34.391919-74.989899 45.381819-19.781818 10.989899-36.719192 18.359596-50.941414 22.238383s-27.151515 4.654545-38.529293 2.327273c-12.024242-1.939394-19.652525-1.680808-22.626263 0.646465-3.10303 2.327273-5.818182 8.921212-8.533333 19.781818-2.585859 10.860606-3.749495 20.040404-3.361616 27.79798l-21.59192-1.810101c4.266667-14.610101 12.412121-30.254545 24.565657-46.674748l-45.511111-71.49899-6.723232 4.266667c-8.40404 5.30101-15.515152 11.119192-21.59192 17.325253l-13.575757-2.068687 37.624242-23.919192 0.387879-12.153536 21.979798 0.387879-3.878788 10.860606 42.79596 67.103031z m109.640404-70.981819c10.60202-5.947475 18.618182-10.60202 23.789899-13.963636 5.171717-3.232323 6.335354-7.240404 3.361616-11.765657L602.702248 484.848485l-45.381818 28.832323 24.307071 38.270707-9.309091 13.058586-27.668687-43.442424-42.537374 27.022222 25.987879 40.856566-10.214142 13.70505c-9.179798-15.773737-21.979798-36.589899-38.529292-62.707071s-29.349495-45.511111-38.4-58.052525l21.850505-1.939394 41.50303-26.375757c-7.111111-8.274747-19.523232-11.507071-37.365657-9.69697l0.258586-3.749495c12.024242-5.30101 24.953535-8.274747 38.917172-9.179798l16.032323-38.917172-64.775757 41.244445c-9.050505 5.688889-16.549495 11.765657-22.49697 17.971717l-13.575758-2.068687 98.521212-62.707071 3.878788-13.187878 27.668687 5.042424c-10.731313 5.947475-24.177778 23.789899-40.727273 53.39798 1.422222 0.775758 2.715152 2.19798 4.266667 4.525252 1.810101 2.844444 1.810101 6.464646 0 10.731313l43.442424-27.668687 1.29293-12.8 20.428282 0.129293-2.973737 10.214142 57.406061 90.246464c6.723232 9.309091 5.042424 19.911111-5.30101 32.064647-5.688889-7.49899-17.325253-7.240404-34.909091 0.646465l-1.939394-3.49091z m-129.163637-49.260606l16.290909 25.470707 42.537374-27.022222-16.290909-25.6-42.537374 27.151515z m19.523233 30.642425l16.290909 25.6 42.537374-27.022223-16.29091-25.470707-42.537373 26.89293z m35.555555-65.680808l16.290909 25.6 45.381819-28.832324-16.29091-25.6-45.381818 28.832324z m19.523233 30.642424l16.290909 25.6 45.381818-28.832323-16.290909-25.6-45.381818 28.832323z","p-id":"3265",fill:"#d81e06"}),b("path",{d:"M475.090127 673.09899l-36.719192-3.10303 2.19798-7.628283c4.137374-14.222222 11.894949-29.349495 23.014141-45.123233l-39.692929-62.319191-1.292929 0.775757c-7.886869 5.042424-14.739394 10.472727-20.428283 16.290909l-2.327273 2.456566-33.745455-5.30101 49.131314-31.288889 0.517171-15.127273 37.365657 0.646465-5.947475 16.420202 39.692929 62.319192c5.042424 1.034343 10.472727 1.551515 16.29091 1.551515 2.456566 0 4.913131-0.129293 7.369696-0.258586-9.050505-15.385859-21.333333-35.426263-36.589898-59.345455-16.290909-25.729293-29.220202-45.123232-38.141415-57.793939l-6.464646-9.179798 31.418182-2.844444 32.452525-20.686869c-6.076768-2.844444-14.610101-3.878788-25.470707-2.715152l-7.757576 0.775758 1.034344-12.412121c-8.533333 5.430303-15.773737 11.119192-21.333334 16.937374l-2.327272 2.456565-33.745455-5.30101 110.933333-70.593939 4.783839-16.420202 50.941414 9.438384-15.515152 8.791919c-6.335354 3.490909-17.583838 14.610101-35.814141 46.545454 0.517172 0.646465 1.034343 1.422222 1.551515 2.19798 0.387879 0.646465 0.905051 1.422222 1.163636 2.327273l30.771718-19.523233 1.680808-15.515151 34.909091 0.258586-4.525253 15.644444 55.725253 87.531313c4.783838 6.723232 8.145455 16.808081 1.034343 29.99596 9.309091-6.852525 18.876768-13.963636 28.444444-21.591919l5.559596-4.39596 8.79192 13.834344-3.620202 3.620202c-8.40404 8.274747-11.119192 14.480808-8.016162 18.488889l4.266667 5.559595-5.947475 3.749495c-30.125253 19.264646-55.466667 34.521212-75.377778 45.511112-20.169697 11.119192-37.753535 18.876768-52.363636 22.884848-15.127273 4.137374-29.090909 4.913131-41.373738 2.456566-4.913131-0.775758-9.179798-1.163636-12.282828-1.163637-3.620202 0-5.042424 0.517172-5.30101 0.646465-0.387879 0.387879-2.973737 3.232323-6.076768 16.032323-2.456566 10.214141-3.490909 19.006061-3.10303 25.987879l0.258586 7.49899z m-19.652525-14.610101l6.335353 0.517172c0.258586-5.947475 1.292929-12.412121 2.844445-19.781819-3.749495 6.593939-6.852525 13.058586-9.179798 19.264647zM428.156794 537.729293l48.096969 75.636364c0.517172-0.387879 1.034343-0.775758 1.680808-1.034344l-45.123232-70.852525 1.939394-5.30101-6.593939-0.129293v1.680808z m230.270707-0.517172c-25.6 19.135354-50.036364 35.684848-72.662627 49.131313-14.99798 8.921212-27.927273 15.644444-38.917171 20.557576 12.153535-4.137374 26.375758-10.60202 42.278788-19.523232 18.488889-10.214141 41.890909-24.436364 69.818181-42.020202-0.775758-2.327273-1.034343-5.042424-0.517171-8.145455zM511.162854 550.787879l24.953535 39.175757-7.757575 10.214142c12.541414-4.008081 29.478788-12.282828 50.682828-24.824243 14.739394-8.791919 30.254545-18.876768 46.416162-30.125252l-1.29293-1.680808c-0.905051-1.292929-2.715152-2.973737-7.369697-2.973738-4.913131 0-11.507071 1.810101-19.652525 5.559596l-5.171717 2.327273-8.791919-13.963636 5.947475-3.361616c10.472727-5.818182 18.359596-10.472727 23.40202-13.705051 1.422222-0.905051 1.810101-1.551515 1.939394-1.680808 0-0.129293-0.129293-0.517172-0.517172-1.163636l-13.317172-20.945455-34.521212 21.979798 23.272727 36.460606-17.454545 24.436364-29.349495-46.028283-31.418182 20.29899zM452.72245 487.951515c8.40404 12.412121 19.264646 28.832323 32.193939 49.131313 13.705051 21.462626 24.953535 39.822222 33.745455 54.561616l1.810101-2.327272-64.646465-101.624243-3.10303 0.258586z m97.745455 30.642424l22.238383 34.909091 1.163637-1.680808-60.767677-95.547475-1.680808 1.034344 39.046465 61.284848z m-58.828283 1.551516l9.309091 14.610101 31.547474-20.169697-9.30909-14.610101-31.547475 20.169697z m128.775757 7.757575c3.232323 0.387879 5.818182 1.292929 7.886869 2.456566 6.335354-9.69697 3.878788-15.385859 1.292929-19.006061l-0.258585-0.387878-58.957576-92.703031 1.422222-4.913131h-6.076768l-0.129293 1.292929 0.129293-0.129293 19.523233 30.642425 39.822222 62.448484c4.525253 7.49899 2.715152 15.127273-4.654546 20.29899zM472.116389 489.50303l9.309091 14.610101 31.547475-20.169697-9.309091-14.610101-31.547475 20.169697z m74.602021-4.395959l9.309091 14.610101 34.521212-21.979798-9.309091-14.610101-34.521212 21.979798z m-19.523233-30.642425l9.309091 14.610101 34.521212-21.979798-9.309091-14.610101-34.521212 21.979798zM492.673965 439.59596c6.076768 1.810101 11.119192 4.654545 14.99798 8.533333l1.292929-3.232323c0.646465-1.551515 1.292929-3.620202 0.517172-4.783839-1.034343-1.680808-1.810101-2.19798-1.810101-2.327272l-1.034343 0.129293c-4.783838 0.258586-9.438384 0.905051-13.963637 1.680808z m15.903031-30.642425l-35.29697 22.49697c9.050505-3.10303 18.618182-5.171717 28.573737-6.076768l6.723233-16.420202z m24.953535-26.892929l-3.232323 7.886869c2.19798-2.715152 4.266667-5.171717 6.335353-7.369697l-3.10303-0.517172z m-129.292929 136.662626c-4.008081 0-8.145455-2.068687-12.8-6.464646-5.818182-5.430303-16.678788-10.860606-31.935354-16.161616l-5.818182-2.068687 3.749495-12.8 4.137374-0.646465c11.894949-1.810101 22.238384-2.456566 30.642424-1.939394 10.214141 0.646465 17.19596 3.878788 20.816162 9.69697 3.490909 5.430303 4.525253 11.248485 3.232323 17.19596-1.422222 6.206061-3.232323 9.69697-6.206061 11.50707-1.680808 1.034343-3.749495 1.680808-5.818181 1.680808z m-21.59192-27.280808c7.49899 3.620202 13.446465 7.369697 17.713132 11.377778 1.163636 1.034343 2.068687 1.810101 2.715151 2.19798 0.129293-0.646465 0.387879-1.422222 0.646465-2.456566 0.517172-2.456566 0.129293-4.783838-1.551515-7.369697-1.292929-2.068687-5.171717-3.361616-10.731313-3.749495h-8.79192z","p-id":"3266",fill:"#d81e06"}),b("path",{d:"M611.364874 329.826263l0.258586-3.749495c14.868687-2.327273 26.246465-2.973737 34.004041-1.939394 7.886869 1.034343 12.929293 3.749495 15.385858 8.145454 2.327273 4.525253 2.973737 8.274747 1.810101 11.377778-1.163636 3.10303-2.456566 5.171717-3.749495 5.947475-2.585859 1.680808-7.369697-0.129293-14.222222-5.30101-8.921212-6.981818-20.040404-11.765657-33.486869-14.480808z m123.862627 122.181818c10.731313 1.163636 21.979798 0.775758 33.874747-1.163637s25.858586-7.49899 41.761616-16.420202c16.032323-8.921212 30.125253-17.325253 42.408081-25.212121 9.050505-5.688889 19.006061-12.412121 29.866667-20.169697 10.860606-7.757576 23.789899-17.066667 38.529293-28.056565l2.197979 3.361616c-11.507071 10.472727-14.99798 19.135354-10.60202 25.858586-29.349495 17.842424-53.785859 32.452525-73.309091 43.70101-19.523232 11.248485-35.814141 18.747475-48.743434 22.626262-12.929293 3.878788-25.212121 5.171717-36.977778 3.749495-11.636364-1.292929-19.006061-1.034343-21.850505 0.775758-2.844444 1.810101-5.559596 7.886869-8.016161 18.230303-2.456566 10.343434-3.749495 21.074747-3.878788 32.323232l-21.074748-3.361616c6.852525-14.739394 14.351515-30.642424 22.49697-47.838384l-44.347475-69.818182-7.757576 4.913132c-8.40404 5.30101-15.515152 11.119192-21.591919 17.325252l-13.575757-2.068687 36.719192-23.40202 4.654545-16.161616 21.074747 3.361616-3.878787 10.860606 42.020202 66.585859z m39.563636-172.347475c-15.90303-24.953535-26.892929-41.50303-32.969697-49.648485l28.185859-4.783838-3.361617 11.765656 21.721213 34.004041 21.20404-13.575758 5.559596-19.00606 27.668687 5.042424-51.2 32.581818 58.440404 91.927273c4.008081 6.206061 5.559596 12.024242 4.913131 17.195959-0.775758 5.30101-3.620202 11.119192-8.533333 17.454546-9.69697-6.593939-24.694949-6.206061-45.252525 1.292929l-2.19798-3.361616c18.488889-9.309091 29.608081-15.256566 33.486868-17.713131 3.878788-2.456566 4.39596-5.947475 1.422223-10.472728l-55.725253-87.660606-66.715151 42.408081c-5.171717 3.232323-10.731313 8.016162-16.678788 14.222222l-13.575758-2.068687 93.608081-59.60404zM713.894167 345.987879l0.258586-3.749495c18.618182-0.646465 32.323232 0 41.244445 1.810101 8.921212 1.939394 14.480808 4.913131 16.678787 9.179798 2.19798 4.137374 2.844444 8.016162 1.810101 11.377778-1.034343 3.490909-2.19798 5.559596-3.361616 6.335353-2.585859 1.680808-7.49899-0.387879-14.739394-6.20606-10.472727-7.757576-24.436364-13.963636-41.890909-18.747475z","p-id":"3267",fill:"#d81e06"}),b("path",{d:"M726.694167 519.240404l-36.977778-5.818182 3.620203-7.757576c7.369697-15.644444 14.222222-30.254545 20.945454-44.60606l-39.046465-61.284849-2.327272 1.422223c-7.886869 5.042424-14.739394 10.472727-20.428283 16.290909l-2.327273 2.456565-33.745454-5.30101 49.131313-31.288889 5.559596-19.264646 34.521212 5.430303-5.559596 15.256566 38.787879 61.026262c9.179798 0.775758 18.876768 0.258586 28.961616-1.422222 10.989899-1.810101 24.436364-7.111111 39.692929-15.644444 12.929293-7.240404 24.694949-14.092929 35.038384-20.557576-7.757576-5.30101-21.20404-4.525253-39.434344 2.068687l-4.913131 1.810101-8.791919-13.834344 6.335354-3.232323c18.230303-9.179798 29.349495-15.127273 32.969696-17.454545 0.129293 0 0.129293-0.129293 0.258586-0.129293-0.129293-0.258586-0.258586-0.775758-0.775757-1.422223l-52.363637-82.230303-61.155555 38.917172c-1.422222 0.905051-2.973737 1.939394-4.525253 3.232323l3.620202-0.129293c4.783838-0.129293 9.438384-0.258586 13.575758-0.258585 12.541414 0 22.109091 0.775758 29.220202 2.197979 10.989899 2.327273 17.842424 6.464646 21.074747 12.412122 2.973737 5.688889 3.749495 11.119192 2.327273 16.161616-1.422222 5.042424-3.490909 8.274747-6.20606 9.955555-1.680808 1.034343-3.490909 1.551515-5.559596 1.551515-4.525253 0-9.567677-2.456566-16.678788-8.016161-9.567677-7.240404-23.014141-13.187879-39.563637-17.713132l-5.171717-1.422222 1.034344-13.058586c-2.715152 2.327273-5.688889 5.042424-8.662627 8.145455l-2.327272 2.456566-27.410101-4.266667c-0.129293 0.646465-0.387879 1.292929-0.646465 1.939394-1.680808 4.654545-3.749495 7.49899-6.335354 9.179798-1.680808 1.034343-3.620202 1.551515-5.688888 1.551515-4.266667 0-9.309091-2.327273-15.903031-7.240404-8.274747-6.464646-18.618182-10.860606-31.030303-13.317172l-5.688889-1.163636 1.163637-14.610101 5.042424-0.775758c10.60202-1.680808 19.781818-2.456566 27.022222-2.456565 3.232323 0 6.206061 0.129293 8.791919 0.517171 10.084848 1.292929 16.808081 5.171717 20.29899 11.507071 1.810101 3.361616 2.844444 6.593939 3.103031 9.567677l96.064646-61.155556c-13.834343-21.591919-23.660606-36.331313-29.220202-43.70101l-6.335354-8.533333 48.743435-8.274748-5.430303 18.876768 16.678788 26.117172 13.70505-8.791919 6.464647-22.367677 49.648484 9.179798-59.345454 38.141414 55.078788 86.49697c4.783838 7.49899 6.723232 14.868687 5.818182 21.591919-0.517172 4.137374-2.19798 8.533333-4.783839 13.058586 7.111111-4.654545 14.739394-9.955556 22.755556-15.644445 10.860606-7.757576 23.789899-17.066667 38.4-27.927273l5.559596-4.137373 8.791919 13.834343-4.008081 3.620202c-4.913131 4.525253-12.670707 12.8-9.567677 17.713132l3.490909 5.559595-5.688888 3.49091c-29.478788 17.971717-54.173737 32.711111-73.438384 43.70101-19.911111 11.377778-36.719192 19.264646-50.036364 23.272727-13.705051 4.137374-27.022222 5.430303-39.563636 4.008081-4.654545-0.517172-8.533333-0.775758-11.636364-0.775758-4.008081 0-5.559596 0.517172-6.076768 0.646465-0.517172 0.517172-2.585859 3.232323-5.30101 14.351515-2.327273 9.826263-3.620202 20.29899-3.620202 30.90101v7.369697z m-18.10101-15.90303l5.430303 0.90505c0.258586-5.430303 0.905051-10.731313 1.680808-15.90303-2.327273 4.913131-4.654545 9.826263-7.111111 14.99798z m-29.220202-121.276768l47.579798 74.860606c0.517172-0.517172 1.163636-0.905051 1.680808-1.292929 0.258586-0.129293 0.517172-0.387879 0.905051-0.517172l-43.70101-68.783838 2.327272-6.464647-7.757575-1.163636-1.034344 3.361616z m225.616162-0.90505c-6.593939 4.783838-12.670707 9.179798-18.230303 13.058585-10.860606 7.757576-21.074747 14.610101-30.125253 20.428283-12.282828 7.757576-26.634343 16.290909-42.666666 25.341414-1.422222 0.775758-2.844444 1.551515-4.137374 2.327273 8.016162-3.749495 16.937374-8.40404 26.634343-13.963636 18.230303-10.472727 41.244444-24.177778 68.525253-40.727273-0.387879-2.19798-0.387879-4.266667 0-6.464646z m-74.731313 10.472727c5.30101 0.129293 9.955556 1.034343 14.222222 2.715151 2.327273-3.620202 3.749495-6.981818 4.137374-9.955555 0.517172-3.620202-0.775758-8.016162-3.878788-12.929293L759.793157 237.89899l1.292929-4.654546-7.886868 1.29293c6.464646 9.309091 15.385859 23.143434 26.892929 41.115151l59.216162 93.090909c2.327273 3.620202 3.232323 7.111111 2.715151 10.343435-0.387879 2.585859-1.680808 6.206061-6.20606 9.050505-1.163636 1.034343-2.973737 2.068687-5.559596 3.490909z m-89.341415-42.925253c7.111111 3.232323 13.317172 6.852525 18.618182 10.860606l0.129293 0.129293c3.749495 2.973737 6.076768 4.266667 7.369697 4.913132 0.129293-0.517172 0.387879-1.034343 0.646465-1.810101 0.517172-1.680808 0-4.008081-1.292929-6.59394-0.517172-1.034343-2.844444-3.749495-12.282829-5.818182-3.490909-0.775758-7.886869-1.292929-13.187879-1.680808z m-106.925252-18.488889c5.430303 2.456566 10.472727 5.559596 14.99798 9.050505 3.620202 2.715152 5.818182 3.878788 6.981818 4.266667 0.258586-0.517172 0.517172-1.163636 0.90505-2.068687 0.517172-1.292929 0-3.361616-1.422222-6.076767-1.680808-3.10303-6.593939-4.266667-10.472727-4.783839-3.10303-0.387879-6.723232-0.517172-10.989899-0.387879z m185.793939-84.298989l-1.680808 5.818181 7.369697-4.783838-5.688889-1.034343z","p-id":"3268",fill:"#d81e06"})],-1),Wfe=[Hfe],Gfe={__name:"safe",setup(i){let r=tt();const{proxy:l}=Ke();let o=Ve({team:r.params.team,email:"未设置邮箱",phone:""});Ue(()=>{d()});let d=()=>{let m=l.urls.user_get.format(Go());l.get(m).then(function(u){o.email=u.data.email,o.phone=u.data.phone})};return(m,u)=>{const h=Ht("router-link");return F(),U("div",_fe,[b("div",bfe,[vfe,b("div",kfe,[b("div",wfe,[yfe,b("div",Cfe,[Afe,b("div",xfe,[rt("用户可以"),ue(h,{to:{name:"Center",params:{team:P(o).team,type:"password"}}},{default:qe(()=>[rt("重置密码")]),_:1},8,["to"]),rt("，忘记密码可以通过手机或者邮箱找回")])]),Sfe]),b("div",Efe,[Dfe,b("div",Tfe,[b("div",Ife,[rt("邮箱确认"),b("span",Mfe,"("+_e(P(o).email||"未设置邮箱地址")+")",1)]),b("div",Pfe,[ue(h,{to:{name:"Center",params:{team:P(o).team,type:"email"}}},{default:qe(()=>[rt("修改邮箱地址")]),_:1},8,["to"])])]),Ofe]),b("div",Bfe,[Lfe,b("div",Rfe,[b("div",Nfe,[rt("手机确认"),b("span",$fe,"("+_e(P(o).phone||"未设置手机号码")+")",1)]),b("div",jfe,[ue(h,{to:{name:"Center",params:{team:P(o).team,type:"phone"}}},{default:qe(()=>[rt("修改手机号码")]),_:1},8,["to"])])]),P(o).phone?(F(),U("div",zfe,Vfe)):(F(),U("div",Ufe,Wfe))])])])])}}},Kfe={class:"flex-row flex flex-fill py-4 pe-4 layout-bg"},Yfe={__name:"center",setup(i){let r=tt(),l=Ll(null);Ue(()=>{o()}),Bt(()=>r.params.type,d=>{r.params.type&&o()});let o=()=>{switch(r.params.type.toLowerCase()){case"account":l.value=v5;break;case"password":l.value=zhe;break;case"email":l.value=Xhe;break;case"phone":l.value=hfe;break;case"certificate":l.value=gfe;break;case"safe":l.value=Gfe;break;default:l.value=v5;break}};return(d,m)=>(F(),U("div",Kfe,[ue(vhe),(F(),lt(Yo(P(l))))]))}},qfe={class:"app-main-center bg-white flex-column flex flex-fill h-100"},Zfe={class:"flex-column flex flex-fill"},Qfe=b("div",{style:{flex:"0 0 auto",padding:"20px","font-size":"18px"}}," 新建项目 ",-1),Jfe={class:"form-horizontal mg0 border-top flex-fill p-4"},Xfe=b("div",{style:{}},[b("label",{class:"col-md-8"},[rt("项目名字"),b("span",{style:{color:"#ff0000"}},"*")])],-1),epe={class:"col-md-8"},tpe={class:"text-end p-4 border-top"},npe={__name:"add",setup(i){let{proxy:r}=Ke(),l=at(),o=tt(),d=Ve({name:"",team:"",disabled:!1});Ca(()=>{d.team=o.params.team});let m=()=>{d.name&&(d.disabled=!0,r.post(r.urls.project_add.format(d.team),{project:{name:d.name}}).then(function(u){u.data.code===200?l.push({name:"Projects",params:{team:d.team}}):d.disabled=!1}).catch(function(u){d.disabled=!1,r.bus.emit("alertDanger",u.response.data.error)}))};return(u,h)=>(F(),U("div",qfe,[b("div",Zfe,[Qfe,b("div",Jfe,[Xfe,b("div",null,[b("div",epe,[ct(b("input",{type:"text","onUpdate:modelValue":h[0]||(h[0]=f=>P(d).name=f),name:"name",class:"form-control",placeholder:"项目名字"},null,512),[[gt,P(d).name,void 0,{trim:!0}]])])])]),b("div",tpe,[ue(ci,{title:"确定提交",onSubmit:P(m),disabled:P(d).disabled},null,8,["onSubmit","disabled"])])])]))}},ipe={__name:"project",setup(i){const{proxy:r}=Ke();let l=at(),o=tt();return Ca(()=>{let d=o.params.team,m=o.params.project;r.get(r.urls.project_first_component.format(d,m)).then(function(u){l.push({name:"Component",params:{team:d,project:m,com:u.data.uuid}})})}),(d,m)=>(F(),U("div"))}},ope={class:"pb-3 px-4 pt-3"},rpe={class:"table table-hover mt-3"},spe=b("thead",{class:"table-light"},[b("tr",null,[b("th",{scope:"col"},"项目名称"),b("th",{scope:"col",class:"col-1"},"操作")])],-1),ape={class:"pe-4"},lpe=b("i",{class:"bi bi-pencil-square"},null,-1),cpe={__name:"manager",setup(i){const{proxy:r}=Ke();let l=tt(),o=Ve({name:"",team:"",items:[]});Ue(()=>{o.team=l.params.team,d()});let d=()=>{r.post(r.urls.project_list.format(o.team)).then(function(m){o.items=m.data})};return(m,u)=>{const h=Ht("router-link");return F(),U(xe,null,[ue(En,{title:"项目配置",desc:"项目配置页展示当前所有项目，可对项目进行权限配置。"}),b("div",ope,[ue(Pn,{placeholder:"搜索项目"}),b("table",rpe,[spe,b("tbody",null,[(F(!0),U(xe,null,Xe(P(o).items,f=>(F(),U("tr",{key:f.uuid},[b("td",null,[ue(h,{to:{name:"Project",params:{team:P(o).team,project:f.uuid}}},{default:qe(()=>[rt(_e(f.name),1)]),_:2},1032,["to"])]),b("td",ape,[ue(h,{to:{name:"ProjectPermissionSetting",params:{team:P(o).team,project:f.uuid,title:f.name}}},{default:qe(()=>[lpe,rt(" 权限配置 ")]),_:2},1032,["to"])])]))),128))])])])],64)}}},dpe={class:"pb-3 px-4 pt-3"},upe={class:"table table-hover mt-3"},hpe=b("thead",{class:"table-light"},[b("tr",null,[b("th",{scope:"col",class:"col-4"},"属性名称"),b("th",{scope:"col",class:"col-4"},"属性类型"),b("th",{scope:"col",class:"col-3"},"使用到的项目"),b("th",{scope:"col",class:"col-1"},"操作")])],-1),fpe={class:"flex-row flex align-items-center"},ppe={style:{flex:"0 0 auto"}},mpe={key:0,class:"flex-row flex align-items-center",style:{"margin-left":"5px"}},gpe=b("td",null," 所有项目 ",-1),_pe={key:1},bpe=b("i",{class:"bi bi-x-lg"},null,-1),vpe=[bpe],kpe={__name:"field",setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ve({team:l.params.team,items:[]});Ue(()=>{d()});let d=()=>{let m=l.params.project;r.post(r.urls.project_field.format(o.team),{project:m}).then(function(u){o.items=u.data})};return(m,u)=>(F(),U(xe,null,[ue(En,{title:"项目属性",desc:""}),b("div",dpe,[ue(Pn,{placeholder:"搜索项目属性"}),b("table",upe,[hpe,b("tbody",null,[(F(!0),U(xe,null,Xe(P(o).items,h=>(F(),U("tr",{key:h.alias},[b("td",null,[b("div",fpe,[b("div",ppe,_e(h.name),1),h.built_in?(F(),U("div",mpe,[ue(Kr)])):ve("",!0)])]),b("td",null,_e(m.filters.projectFieldTypes[h.field_type]),1),gpe,b("td",null,[h.built_in?(F(),lt(Do,{key:0})):(F(),U("div",_pe,vpe))])]))),128))])])])],64))}},wpe={class:"pb-3 px-4 pt-3"},ype={class:"table table-hover mt-3"},Cpe=b("thead",{class:"table-light"},[b("tr",null,[b("th",{scope:"col",class:"col-4"},"状态名称"),b("th",{scope:"col",class:"col-4"},"状态类型"),b("th",{scope:"col",class:"col-3"},"使用到的项目"),b("th",{scope:"col",class:"col-1"},"操作")])],-1),Ape={class:"flex-row flex align-items-center"},xpe={style:{flex:"0 0 auto"}},Spe={key:0,class:"flex-row flex align-items-center",style:{"margin-left":"5px"}},Epe=b("td",null," 所有项目 ",-1),Dpe={__name:"status",setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ve({team:l.params.team,items:[]});Ue(()=>{d()});let d=()=>{r.post(r.urls.project_status.format(o.team)).then(function(m){o.items=m.data})};return(m,u)=>(F(),U(xe,null,[ue(En,{title:"项目状态",desc:"项目状态用于标示项目所处状态，不同状态类型下可以有多种状态，当前为系统项目状态列表，不同项目可以共用同一个状态。"}),b("div",wpe,[ue(Pn,{placeholder:"搜索项目状态"}),b("table",ype,[Cpe,b("tbody",null,[(F(!0),U(xe,null,Xe(P(o).items,h=>(F(),U("tr",{key:h.alias},[b("td",null,[b("div",Ape,[b("div",xpe,_e(h.name),1),h.built_in?(F(),U("div",Spe,[ue(Kr)])):ve("",!0)])]),b("td",null,[ue(Sa,{name:h.name,color:h.uuid},null,8,["name","color"])]),Epe,b("td",null,[ue(Do)])]))),128))])])])],64))}};const Tpe={class:"px-4 pb-4"},Ipe={__name:"permission",setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ve({team:"",project:"",maps:{manage:{code:10,permission:"create_project",title:"新建项目权限",desc:"允许用户新建项目",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]}},role_members:[],loaded:!1,data:{}});Ue(()=>{o.team=l.params.team,o.data={permission_rule:{context_type:"do"}},d()});let d=()=>{let u=[];for(let h in o.maps)u.push(o.maps[h].code);r.post(r.urls.permission_rules.format(o.team),u).then(function(h){for(let f in o.maps){let g=o.maps[f];g.groups=[]}if(h.data&&h.data.length>0)for(let f in o.maps){let g=o.maps[f];for(let y=0;y<h.data.length;y++){let k=h.data[y];if(k.permission===g.code){g.groups=k.groups;break}}}m()})},m=()=>{r.get(r.urls.team_member_list.format(o.team)).then(function(u){if(u.data&&u.data&&u.data.length>0){let h=[];for(let f=0;f<u.data.length;f++){let g=u.data[f];g.type="single_user",h.push(g)}for(let f in o.maps){let g=o.maps[f];g.members=h}}o.loaded=!0})};return(u,h)=>(F(),U(xe,null,[ue(En,{title:"权限配置",desc:"允许给团队成员配置相应的权限。"}),b("div",Tpe,[P(o).loaded?(F(),lt(ti,{key:0,role_members:P(o).role_members,data:P(o).data,group:P(o).maps.manage,onLoadPermissionData:P(d)},null,8,["role_members","data","group","onLoadPermissionData"])):ve("",!0)])],64))}},Mpe=Tt(Ipe,[["__scopeId","data-v-41240641"]]),Ppe={class:"pb-3 px-4 pt-3"},Ope={class:"table table-hover mt-3"},Bpe=b("thead",{class:"table-light"},[b("tr",null,[b("th",{scope:"col",class:"col-5"},"工作项类型"),b("th",{scope:"col",class:"col-1"},"操作")])],-1),Lpe={class:"py-3"},Rpe={class:"flex-row flex align-items-center lh-1"},Npe={class:"flex-column flex"},$pe={class:"flex-row flex align-items-center"},jpe={class:"ms-3",style:{color:"#17C4BB"}},zpe={class:"text-black-50 mt-3"},Fpe=b("span",{class:"color-light m-2"}," | ",-1),Vpe={class:"flex-row flex align-items-center justify-content-between"},Upe={class:"flex-row flex task-attr align-items-center",style:{"margin-right":"30px"}},Hpe=b("div",{style:{flex:"0 0 auto"}},[b("svg",{t:"1602939503677",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"59063",width:"16",height:"16"},[b("path",{d:"M510.81 959L31.93 754.63C12.77 741.86 0 722.7 12.77 703.55 19.15 684.4 44.7 678 63.85 684.4l453.34 191.54L970.52 684.4c19.16-6.39 44.7 0 51.09 19.15s0 44.7-19.16 51.08z m0 0","p-id":"59064",fill:"#515151"}),b("path",{d:"M510.81 729.09L31.93 524.77C12.77 518.38 0 492.84 12.77 473.69c6.38-19.16 25.54-25.54 44.69-19.16l453.35 191.56 453.33-191.56c19.16-6.38 44.7 0 51.08 19.16s0 44.69-19.15 51.08z m0 0","p-id":"59065",fill:"#515151"}),b("path",{d:"M510.81 499.23L0 282.14 510.81 65.05l510.8 217.09z m0 0","p-id":"59066",fill:"#515151"})])],-1),Wpe={style:{flex:"0 0 auto","margin-left":"5px"},class:"text-hover"},Gpe={class:"flex-row flex task-attr align-items-center",style:{"margin-right":"20px"}},Kpe=b("div",{style:{flex:"0 0 auto"}},[b("svg",{t:"1603325433305",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"10548",width:"16",height:"16"},[b("path",{d:"M426.496 170.496h427.008v256H768V256H426.496v170.496H0V0h426.496zM597.504 597.504V768H256v-170.496H170.496v256h426.496V1024H1024v-426.496h-426.496z m340.992 340.992h-256v-256h256v256z","p-id":"10549"})])],-1),Ype={style:{flex:"0 0 auto","margin-left":"5px"},class:"text-hover"},qpe={__name:"manager",setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ve({team:l.params.team,items:[]});Ue(()=>{d()});let d=()=>{r.post(r.urls.issue_type_list.format(o.team)).then(function(m){o.items=m.data})};return(m,u)=>{const h=Ht("router-link");return F(),U(xe,null,[ue(En,{title:"工作项类型",desc:"在配置中心，对工作项类型配置项的修改，不会同步到已经应用的项目中，只对新建项目有效。"}),b("div",Ppe,[ue(Pn,{placeholder:"搜索工作项类型"}),b("table",Ope,[Bpe,b("tbody",null,[(F(!0),U(xe,null,Xe(P(o).items,f=>(F(),U("tr",{key:f.uuid},[b("td",Lpe,[b("div",Rpe,[b("div",Npe,[b("div",$pe,[ue(B6,{icon:f.icon.toString()},null,8,["icon"]),b("div",jpe,_e(f.name),1)]),b("div",zpe,[rt(_e(f.field_count)+" 工作项属性",1),Fpe,rt(_e(f.status_count)+" 工作项状态",1)])])])]),b("td",null,[b("div",Vpe,[b("div",Upe,[Hpe,b("div",Wpe,[ue(h,{to:{name:"IssueTypeSetting",params:{team:P(o).team,issue_type:f.uuid,type:"field"},query:{title:f.name}}},{default:qe(()=>[rt("工作项属性")]),_:2},1032,["to"])])]),b("div",Gpe,[Kpe,b("div",Ype,[ue(h,{to:{name:"IssueTypeSetting",params:{team:P(o).team,issue_type:f.uuid,type:"flow"},query:{title:f.name}}},{default:qe(()=>[rt("工作项工作流")]),_:2},1032,["to"])])])])])]))),128))])])])],64)}}},Zpe={class:"pb-3 px-4 pt-3"},Qpe={class:"flex flex-fill"},Jpe={class:"flex-fill"},Xpe={class:"align-items-end"},eme={class:"table table-hover mt-3"},tme=b("thead",{class:"table-light"},[b("tr",null,[b("th",{scope:"col",class:"col-4"},"属性名称"),b("th",{scope:"col",class:"col-4"},"属性类型"),b("th",{scope:"col",class:"col-3"},"使用到的项目"),b("th",{scope:"col",class:"col-1"},"操作")])],-1),nme={class:"flex-row flex align-items-center"},ime={key:0,class:"flex-row flex align-items-center",style:{"margin-left":"5px"}},ome=b("td",null," 所有项目 ",-1),rme={key:1,class:"flex-row iop"},sme=["onClick"],ame=b("svg",{t:"1619926041971",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"33589",width:"12",height:"12"},[b("path",{d:"M522.24 196.9152L157.4912 571.0848 0 1024l452.9152-147.6608L817.2544 512z m462.7456-29.4912L856.576 39.424a119.3984 119.3984 0 0 0-177.2544 0L571.0848 147.6608l295.424 305.2544 118.0672-118.1696A124.8256 124.8256 0 0 0 1024 245.76a121.5488 121.5488 0 0 0-39.424-78.336z",fill:"#2c2c2c","p-id":"33590"})],-1),lme=[ame],cme={class:"modal fade",id:"addTeamField","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},dme={class:"modal-dialog modal-dialog-scrollable"},ume={class:"modal-content"},hme={class:"modal-header"},fme={class:"modal-title",id:"staticBackdropLabel"},pme=b("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),mme={class:"modal-body"},gme={ref:"form"},_me={class:"flex-column flex my-3"},bme=b("label",{class:"col-md-12 control-label"},"属性名称",-1),vme={class:"col-md-12 mt-2"},kme={class:"flex-column flex my-3"},wme=b("div",null,[b("label",{class:"col-md-12 control-label"},"选项值")],-1),yme={class:"flex-row flex mt-2"},Cme={style:{flex:"1"}},Ame={style:{flex:"0 0 60px","margin-left":"5px"},class:"flex-column flex align-items-center justify-content-center"},xme={class:"iop"},Sme={class:"flex-row flex align-items-center justify-content-center border-bottom py-2"},Eme=b("div",{class:"fs-4 pe-2 move"},[b("i",{class:"bi bi-list"})],-1),Dme={class:"flex-fill"},Tme=["onUpdate:modelValue"],Ime=["onClick"],Mme=b("i",{class:"bi bi-x-lg"},null,-1),Pme=[Mme],Ome={class:"modal-footer"},Bme=b("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"取消",-1),k5="添加工作项属性",Lme="编辑工作项属性",Rme={__name:"field",setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ve({uuid:"",name:"",team:l.params.team,items:[],nameState:null,option:"",optionState:null,disabled:!1,modalAddState:!0,modalStateDesc:k5,options:[]}),d=null;Ue(()=>{m(),d=new bootstrap.Modal(document.getElementById("addTeamField"),{keyboard:!1})});let m=()=>{r.post(r.urls.issue_type_field_list.format(o.team)).then(function(T){o.items=T.data})},u=()=>{r.get(r.urls.issue_type_field_option_list.format(o.team,o.uuid)).then(function(T){o.options=T.data})},h=(T,x)=>{o.modalAddState=!1,o.modalStateDesc=Lme,d.toggle(),o.options=[],o.uuid=T,o.name=x,u()},f=()=>{o.modalAddState=!0,o.modalStateDesc=k5,o.name="",o.options=[],d.toggle()},g=()=>{o.modalAddState?k():y()},y=()=>{let T={field:{uuid:o.uuid,name:o.name,options:o.options}};r.post(r.urls.issue_type_field_update.format(o.team,o.uuid),T).then(function(x){x.data.code===200&&(d.hide(),m(),r.bus.emit("alertSuccess","更新成功"))}).catch(function(x){r.bus.emit("alertDanger",x.response.data.error)})},k=()=>{let T={field:{name:o.name,options:o.options}};r.post(r.urls.issue_type_field_add.format(o.team),T).then(function(x){x.data.code===200&&(d.hide(),m(),r.bus.emit("alertSuccess","更新成功"))}).catch(function(x){r.bus.emit("alertDanger",x.response.data.error)})},v=()=>{let T={},x=!0;if(o.option){for(let C=0;C<o.options.length;C++)if(o.options[C].value===o.option){x=!1;break}x&&(T.value=o.option,T.background_color="#ff6a39",T.color="#fff",o.options.push(T),o.option="")}},A=(T,x)=>{let C=[];for(let D=0;D<o.options.length;D++)o.options[D].uuid===T&&o.options[D].value===x||C.push(o.options[D]);o.options=C};return(T,x)=>(F(),U(xe,null,[ue(En,{title:"工作项属性",desc:"工作项属性用于配置工作项需要显示的字段，可以新增，删除自定义属性。"}),b("div",Zpe,[b("div",Qpe,[b("div",Jpe,[ue(Pn,{placeholder:"搜索工作项属性"})]),b("div",Xpe,[ue(ci,{title:"添加自定义属性",plus:!0,onSubmit:P(f)},null,8,["onSubmit"])])]),b("table",eme,[tme,b("tbody",null,[(F(!0),U(xe,null,Xe(P(o).items,C=>(F(),U("tr",{key:C.uuid},[b("td",null,[b("div",nme,[b("div",null,_e(C.name),1),C.built_in?(F(),U("div",ime,[ue(Kr)])):ve("",!0)])]),b("td",null,_e(T.filters.taskFieldTypes[C.type]),1),ome,b("td",null,[C.built_in?(F(),lt(Do,{key:0})):(F(),U("div",rme,[b("div",{style:{flex:"0 0 20px"},class:"edit pointer",onClick:D=>P(h)(C.uuid,C.name)},lme,8,sme)]))])]))),128))])])]),b("div",cme,[b("div",dme,[b("div",ume,[b("div",hme,[b("h5",fme,_e(P(o).modalStateDesc),1),pme]),b("div",mme,[b("form",gme,[b("div",_me,[bme,b("div",vme,[ct(b("input",{type:"text","onUpdate:modelValue":x[0]||(x[0]=C=>P(o).name=C),name:"name",class:"form-control"},null,512),[[gt,P(o).name]])])]),b("div",kme,[wme,b("div",yme,[b("div",Cme,[ct(b("input",{class:"form-control","onUpdate:modelValue":x[1]||(x[1]=C=>P(o).option=C)},null,512),[[gt,P(o).option]])]),b("div",Ame,[ue(ci,{disabled:P(o).disabled,title:"添加",onSubmit:P(v)},null,8,["disabled","onSubmit"])])])]),ue(P(dd),{list:P(o).options,"ghost-class":"ghost","chosen-class":"chosenClass",handle:".move",filter:".forbid",animation:"300",group:"options",itemKey:"uuid"},{item:qe(({element:C})=>[b("div",xme,[b("div",Sme,[Eme,b("div",Dme,[ct(b("input",{class:"form-control","onUpdate:modelValue":D=>C.value=D},null,8,Tme),[[gt,C.value]])]),b("div",{class:"del pointer justify-content-end mx-4",onClick:D=>P(A)(C.uuid,C.value)},Pme,8,Ime)])])]),_:1},8,["list"])],512)]),b("div",Ome,[Bme,b("button",{type:"button",class:"btn btn-primary",onClick:x[2]||(x[2]=(...C)=>P(g)&&P(g)(...C))},"确定")])])])])],64))}},Nme={class:"pb-3 px-4 pt-3"},$me={class:"table table-hover mt-3"},jme=b("thead",{class:"table-light"},[b("tr",null,[b("th",{scope:"col",class:"col-4"},"状态名称"),b("th",{scope:"col",class:"col-4"},"状态类型"),b("th",{scope:"col",class:"col-3"},"使用到的项目"),b("th",{scope:"col",class:"col-1"},"操作")])],-1),zme={style:{flex:"0 0 auto",height:"100%",display:"flex","align-items":"center"}},Fme=b("td",null," 所有项目 ",-1),Vme={__name:"status",setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ve({team:l.params.team,name:"",items:[]});Ue(()=>{d()});let d=()=>{r.post(r.urls.issue_type_status.format(o.team)).then(function(m){o.items=m.data})};return(m,u)=>(F(),U(xe,null,[ue(En,{title:"工作项状态",desc:"工作项状态可以提示用户，任务处在生命周期的哪个阶段。"}),b("div",Nme,[ue(Pn,{placeholder:"搜索工作项状态"}),b("table",$me,[jme,b("tbody",null,[(F(!0),U(xe,null,Xe(P(o).items,h=>(F(),U("tr",{key:h.uuid},[b("td",null,[b("div",null,_e(h.name),1)]),b("td",null,[b("div",zme,[ue(Sa,{name:h.category.toString(),color:h.category.toString()},null,8,["name","color"])])]),Fme,b("td",null,[ue(Do)])]))),128))])])])],64))}},Ume={class:"pb-3 px-4 pt-3"},Hme={class:"table table-hover mt-3"},Wme=b("thead",{class:"table-light"},[b("tr",null,[b("th",{scope:"col",class:"col-4"},"名称"),b("th",{scope:"col",class:"col-4"},"描述"),b("th",{scope:"col",class:"col-3"},"显示样式"),b("th",{scope:"col",class:"col-1"},"操作")])],-1),Gme={class:"flex-row flex align-items-center"},Kme={key:0,class:"flex-row flex align-items-center",style:{"margin-left":"5px"}},Yme={class:"flex-row flex align-items-center",style:{"margin-left":"5px"}},qme={__name:"priority",setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ve({team:l.params.team,name:"",items:[],defaultValue:""});Ue(()=>{d()});let d=()=>{r.post(r.urls.issue_type_priority.format(o.team)).then(function(m){o.items=m.data.options,o.defaultValue=m.data.default_value})};return(m,u)=>(F(),U(xe,null,[ue(En,{title:"优先级",desc:"优先级选择，可以提示用户，任务的紧急情况。"}),b("div",Ume,[ue(Pn,{placeholder:"搜索优先级"}),b("table",Hme,[Wme,b("tbody",null,[(F(!0),U(xe,null,Xe(P(o).items,h=>(F(),U("tr",{key:h.uuid},[b("td",null,[b("div",Gme,[b("div",null,_e(h.value),1),h.uuid===P(o).defaultValue?(F(),U("div",Kme,[ue(Kr,{name:"默认"})])):ve("",!0)])]),b("td",null,_e(h.desc),1),b("td",null,[b("div",Yme,[ue(kf,{color:h.color,name:h.value,bgColor:h.background_color},null,8,["color","name","bgColor"])])]),b("td",null,[ue(Do)])]))),128))])])])],64))}},Zme={class:"px-4 pb-4"},Qme={__name:"permissions",setup(i){const{proxy:r}=Ke();let l=tt(),o=et(l.params.title),d=Ve({dropdownActive:!1,team:"",project:"",maps:{read:{code:1102,permission:"browse_project",title:"查看项目",desc:"允许成员浏览当前项目，包括工作项，筛选器，报表等信息",groups:[],roles:[],members:[],in_roles:["everyone","project_assign","project_member"]},write:{code:1101,permission:"manage_project",title:"管理项目",desc:"管理当前项目并更新项目的配置信息",groups:[],roles:[],members:[],in_roles:["everyone","project_assign","project_member"]}},role_members:[],data:{},loaded:!1});Ue(()=>{d.team=l.params.team,d.project=l.params.project,d.data={permission_rule:{context_type:"project",context_param:{project_uuid:d.project}}},m(),u()});let m=()=>{o.value=l.params.title,o.value||r.get(r.urls.project_get.format(d.team,d.project)).then(function(f){o.value=f.data.name})},u=()=>{let f=[];for(let g in d.maps)f.push(d.maps[g].code);r.post(r.urls.project_user_domain_group.format(d.team,d.project),f).then(function(g){for(let y in d.maps){let k=d.maps[y];k.groups=[]}if(g.data&&g.data.length>0)for(let y in d.maps){let k=d.maps[y];for(let v=0;v<g.data.length;v++){let A=g.data[v];if(A.permission===k.code){k.groups=A.groups;break}}}h()})},h=()=>{r.post(r.urls.project_members.format(d.team,d.project)).then(function(f){for(let g in d.maps){let y=d.maps[g];if(y.members=[],f.data)for(let k=0;k<f.data.length;k++){let v=f.data[k];v.type="single_user",y.members.push(v)}}d.loaded=!0})};return(f,g)=>(F(),U(xe,null,[ue(En,{title:P(o),desc:"项目管理、查看基本权限配置，需要更细致权限请到各个具体项目下配置。"},null,8,["title"]),b("div",Zme,[P(d).loaded?(F(),lt(ti,{key:0,role_members:P(d).role_members,data:P(d).data,group:P(d).maps.read,onLoadPermissionData:P(u)},null,8,["role_members","data","group","onLoadPermissionData"])):ve("",!0),P(d).loaded?(F(),lt(ti,{key:1,role_members:P(d).role_members,data:P(d).data,group:P(d).maps.write,onLoadPermissionData:P(u)},null,8,["role_members","data","group","onLoadPermissionData"])):ve("",!0)])],64))}},Jme={class:"flex-row flex border-bottom align-items-center px-4 py-3 fs-c10"},Xme=b("div",{style:{flex:"0 0 auto",display:"flex"}},[b("span",{class:"fs-c10"},"工作项类型")],-1),ege=b("div",{style:{flex:"0 0 auto",margin:"0 10px",display:"flex"}},[b("svg",{t:"1600623000490",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"},[b("path",{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"})])],-1),tge={class:"fs-c10"},nge=b("div",{style:{margin:"0 10px"}},[b("svg",{t:"1600623000490",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"},[b("path",{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"})])],-1),ige=b("div",{class:"flex-fill"},[b("span",{style:{color:"#909090"}},"工作项属性")],-1),oge={class:"flex-row flex align-items-center justify-content-end;"},rge={class:"px-4"},sge={class:"flex-row flex mt-3"},age={class:"flex flex-fill"},lge={class:"flex-fill"},cge={class:"align-items-end"},dge={class:"mt-3"},uge={class:"table table-hover"},hge=b("thead",{class:"table-light"},[b("tr",null,[b("th",{scope:"col"},"属性名称"),b("th",{scope:"col"},"属性类型"),b("th",{scope:"col"},"是否必填"),b("th",{scope:"col",class:"col-1"},"操作")])],-1),fge={class:"flex-row flex align-items-center"},pge={style:{flex:"0 0 auto"}},mge={key:0,class:"flex-row flex align-items-center",style:{"margin-left":"5px"}},gge={class:"td"},_ge={class:"td align-items-center iop",style:{display:"flex",flex:"0 0 80px"}},bge=["onClick"],vge=b("i",{class:"bi bi-x-lg pointer"},null,-1),kge=[vge],wge={class:"modal fade",id:"addIssueTypeField","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},yge={class:"modal-dialog modal-dialog-scrollable"},Cge={class:"modal-content"},Age=b("div",{class:"modal-header"},[b("h5",{class:"modal-title",id:"staticBackdropLabel"}," 添加属性 "),b("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),xge={class:"modal-body"},Sge={ref:"form"},Ege={class:"flex-column flex"},Dge={class:"flex-column flex"},Tge=b("div",{class:"flex-fill pe-5"},[b("label",{class:"control-label fs-c8"},"属性名称")],-1),Ige={class:"flex-fill"},Mge=b("option",{value:""},"选择工作项属性",-1),Pge=["value"],Oge={class:"flex-fill mt-4"},Bge={class:"modal-footer"},Lge=b("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"取消",-1),wg={__name:"field",setup(i){const{proxy:r}=Ke();let l=at(),o=tt(),d=Ve({team:o.params.team,project:o.params.project,issue_type:o.params.issue_type,title:o.query.title,name:"",fields:[],notInFields:[],fieldSelected:"",fieldTemplates:[],desc:"配置中心下，工作项属性修改，不会同步到已经应用的项目中。"}),m=null;Ue(()=>{u(),h(),m=new bootstrap.Modal(document.getElementById("addIssueTypeField"),{keyboard:!1})});let u=()=>{r.get(r.urls.issue_type_template_get.format(d.team,d.issue_type)).then(function(T){d.title=T.data.name,d.fieldTemplates=T.data.default_configs.default_field_configs})},h=()=>{r.post(r.urls.issue_type_field_list.format(d.team)).then(function(T){d.fields=T.data})},f=()=>{r.post(r.urls.issue_type_field_not_in.format(d.team,d.issue_type)).then(function(T){d.notInFields=T.data})},g=()=>{d.fieldSelected="",f(),m.toggle()},y=()=>{if(d.fieldSelected){let T={uuid:d.fieldSelected};r.post(r.urls.issue_type_template_field_add.format(d.team,d.issue_type),T).then(function(x){x.data.code===200&&(u(),h(),r.bus.emit("alertSuccess","更新成功"),m.hide())}).catch(function(x){r.bus.emit("alertDanger",x.response.data.error)})}else r.bus.emit("alertDanger","请选择工作项属性")},k=T=>{r.post(r.urls.issue_type_template_field_delete.format(d.team,d.issue_type,T)).then(function(x){x.data.code===200&&(u(),h(),r.bus.emit("alertSuccess","更新成功"))}).catch(function(x){r.bus.emit("alertDanger",x.response.data.error)})},v=Ge(()=>{let T=[];if(d.fieldTemplates.length>0&&d.fields.length>0)for(let x=0;x<d.fieldTemplates.length;x++){let C={};for(let D=0;D<d.fields.length;D++)if(d.fieldTemplates[x].field_uuid===d.fields[D].uuid){Object.assign(C,d.fieldTemplates[x]),Object.assign(C,d.fields[D]);break}T.push(C)}return T}),A=()=>{m.hide(),l.push({name:"IssueTypeSettingField",params:{team:d.team}})};return(T,x)=>(F(),U(xe,null,[b("div",Jme,[Xme,ege,b("div",null,[b("span",tge,_e(P(d).title),1)]),nge,ige,b("div",oge,[ue(Nl,{desc:P(d).desc},null,8,["desc"])])]),b("div",rge,[b("div",sge,[b("div",age,[b("div",lge,[ue(Pn,{placeholder:"搜索工作项属性"})]),b("div",cge,[ue(ci,{title:"添加自定义属性",plus:!0,onSubmit:P(g)},null,8,["onSubmit"])])])]),b("div",dge,[b("table",uge,[hge,b("tbody",null,[(F(!0),U(xe,null,Xe(P(v),C=>(F(),U("tr",{key:C.uuid},[b("td",null,[b("div",fge,[b("div",pge,_e(C.name),1),C.built_in?(F(),U("div",mge,[ue(Kr)])):ve("",!0)])]),b("td",null,_e(T.filters.taskFieldTypes[C.type]),1),b("td",null,[b("div",gge,[ue(Do)])]),b("td",null,[b("div",_ge,[C.can_delete?(F(),U("div",{key:0,style:{"font-weight":"bolder","text-align":"center",width:"30px"},class:"del",onClick:D=>P(k)(C.uuid)},kge,8,bge)):(F(),lt(Do,{key:1}))])])]))),128))])])])]),b("div",wge,[b("div",yge,[b("div",Cge,[Age,b("div",xge,[b("form",Sge,[b("div",Ege,[b("div",Dge,[Tge,b("div",Ige,[ct(b("select",{"onUpdate:modelValue":x[0]||(x[0]=C=>P(d).fieldSelected=C),class:"form-select"},[Mge,(F(!0),U(xe,null,Xe(P(d).notInFields,C=>(F(),U("option",{value:C.uuid,key:C.uuid},_e(C.name),9,Pge))),128))],512),[[ba,P(d).fieldSelected]])]),b("div",Oge,[rt(" 没有找到要添加的属性？ "),b("span",{class:"navbar-color pointer",onClick:x[1]||(x[1]=(...C)=>P(A)&&P(A)(...C))}," 我要添加工作项属性 ")])])])],512)]),b("div",Bge,[Lge,b("button",{type:"button",class:"btn btn-primary",onClick:x[2]||(x[2]=(...C)=>P(y)&&P(y)(...C))},"确定")])])])])],64))}};const Dd=i=>(Kt("data-v-9b159e27"),i=i(),Yt(),i),Rge={class:"flex-row flex border-bottom align-items-center px-4 py-3 fs-c10"},Nge=Dd(()=>b("div",{style:{flex:"0 0 auto",display:"flex"}},[b("span",{class:"fs-c10"},"工作项类型")],-1)),$ge=Dd(()=>b("div",{style:{flex:"0 0 auto",margin:"0 10px",display:"flex"}},[b("svg",{t:"1600623000490",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"},[b("path",{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"})])],-1)),jge={class:"fs-c10"},zge=Dd(()=>b("div",{style:{margin:"0 10px"}},[b("svg",{t:"1600623000490",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"},[b("path",{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"})])],-1)),Fge=Dd(()=>b("div",{class:"flex-fill"},[b("span",{style:{color:"#909090"}},"工作项工作流")],-1)),Vge={class:"flex-row flex align-items-center justify-content-end;"},Uge={class:"px-4 pb-4"},Hge={class:"mt-3"},Wge={class:"flex-column flex workFlowTable",style:{"border-left":"1px solid #dedede","border-top":"1px solid #dedede"}},Gge={style:{flex:"1"}},Kge={class:"flex-row flex",style:{flex:"1","background-color":"#f8f8f8","border-bottom":"1px solid #dedede",height:"60px"}},Yge=Po('<div style="flex:0 0 auto;display:flex;width:200px;height:60px;position:relative;" data-v-9b159e27><div style="flex:0 0 auto;border-right:1px solid #dedede;position:absolute;height:60px;width:200px;" data-v-9b159e27><div style="" class="table-head-title" data-v-9b159e27><div data-v-9b159e27><div class="start-status-title" style="height:initial;" data-v-9b159e27>开始状态</div></div><div data-v-9b159e27><div class="end-status-title" style="height:initial;" data-v-9b159e27>目标状态</div></div></div></div></div>',1),qge={style:{flex:"1"},class:"flex-column flex"},Zge={style:{flex:"0 0 200px",padding:"0 10px","border-right":"1px solid #dedede","line-height":"48px",height:"48px",width:"200px"}},Qge={class:"flex-row flex"},Jge={style:{flex:"0 0 auto"}},Xge={key:0,style:{"margin-left":"5px"}},e0e=Dd(()=>b("div",{style:{"font-size":"12px",color:"#909090",display:"inline-block",height:"20px","line-height":"18px",border:"1px solid rgba(134,147,160,0.5)","border-radius":"20px",padding:"0px 8px"}},"初始状态",-1)),t0e=[e0e],n0e=["onUpdate:modelValue","onChange"],i0e={__name:"flow",setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ve({team:l.params.team,project:l.params.project,issue_type:l.params.issue_type,title:l.query.title,flows:[],headers:[],lock:!0,taskStatusConfigs:[],transitions:[],taskStatusItems:[],desc:"配置中心下，工作项工作流修改，不会同步到已经应用的项目中。"});Ue(()=>{m()});let d=(h,f,g,y,k)=>{if(o.lock){o.lock=!1;let v={uuid:h,name:f,start_status:g,end_status:y,state:k};r.post(r.urls.issue_type_flow_update.format(o.team,o.issue_type),v).then(function(){m(),o.lock=!0})}},m=()=>{r.get(r.urls.issue_type_template_get.format(o.team,o.issue_type)).then(function(h){o.title=h.data.name,o.taskStatusConfigs=h.data.default_configs.default_task_status_configs,o.transitions=h.data.default_configs.default_transitions,u()})},u=()=>{let h=[];for(let f=0;f<o.taskStatusConfigs.length;f++)h.push(o.taskStatusConfigs[f].status_uuid);r.post(r.urls.issue_type_task_status_list.format(o.team,o.issue_type),h).then(function(f){o.taskStatusItems=f.data,o.headers=[],o.flows=[];for(let g=0;g<o.taskStatusConfigs.length;g++){let y=o.taskStatusConfigs[g].status_uuid,k={items:[]};for(let v=0;v<o.taskStatusConfigs.length;v++){let A=o.taskStatusConfigs[v].status_uuid,T={start_uuid:y,end_uuid:A,uuid:"{0}-{1}".format(y,A)};for(let x=0;x<o.transitions.length;x++)if(o.transitions[x].start_status_uuid===y&&o.transitions[x].end_status_uuid===A){T.sel=!0;break}else T.sel=!1;k.items.push(T)}for(let v=0;v<o.taskStatusItems.length;v++)if(o.taskStatusConfigs[g].status_uuid===o.taskStatusItems[v].uuid){o.headers.push(o.taskStatusItems[v]),Object.assign(k,o.taskStatusItems[v]),o.flows.push(k);break}}})};return(h,f)=>(F(),U(xe,null,[b("div",Rge,[Nge,$ge,b("div",null,[b("span",jge,_e(P(o).title),1)]),zge,Fge,b("div",Vge,[ue(Nl,{desc:P(o).desc},null,8,["desc"])])]),b("div",Uge,[b("div",Hge,[b("div",Wge,[b("div",Gge,[b("div",Kge,[Yge,(F(!0),U(xe,null,Xe(P(o).headers,g=>(F(),U("div",{class:"flex-row flex align-items-center justify-content-center",style:{flex:"1",padding:"0 10px","border-right":"1px solid #dedede"},key:g.uuid},[b("div",null,[ue(Rh,{color:g.category.toString(),name:g.name},null,8,["color","name"])])]))),128))])]),b("div",qge,[(F(!0),U(xe,null,Xe(P(o).flows,g=>(F(),U("div",{class:"flex-row flex align-items-center",style:{flex:"1","border-bottom":"1px solid #dedede"},key:g.uuid},[b("div",Zge,[b("div",Qge,[b("div",Jge,[ue(Rh,{color:g.category.toString(),name:g.name},null,8,["color","name"])]),g.default?(F(),U("div",Xge,t0e)):ve("",!0)])]),(F(!0),U(xe,null,Xe(g.items,y=>(F(),U("div",{class:"align-items-center flex-row flex justify-content-center",style:{flex:"1",padding:"0 10px","border-right":"1px solid #dedede","line-height":"48px",height:"48px"},key:y.uuid},[ct(b("input",{style:{height:"16px",width:"16px"},type:"checkbox","onUpdate:modelValue":k=>y.sel=k,onChange:k=>P(d)(y.uuid,y.name,y.start_uuid,y.end_uuid,y.sel)},null,40,n0e),[[xa,y.sel]])]))),128))]))),128))])])])])],64))}},o0e=Tt(i0e,[["__scopeId","data-v-9b159e27"]]),r0e={__name:"issue_type_setting",setup(i){let r=tt(),l=Ll(wg);Ue(()=>{o()}),Bt(()=>r.params.type,()=>{r.params.type&&o()});let o=()=>{switch(r.params.type.toLowerCase()){case"field":l.value=wg;break;case"flow":l.value=o0e;break;default:l.value=wg;break}};return(d,m)=>(F(),lt(Yo(P(l))))}},s0e={__name:"space",setup(i){const{proxy:r}=Ke();let l=at(),o=tt(),d=Ve({team:"",space:""});Ue(()=>{d.team=o.params.team,d.space=o.params.space,m()});let m=()=>{r.get(r.urls.page_main.format(d.team,d.space)).then(function(u){l.push({name:"Page",params:{team:d.team,space:d.space,page:u.data.uuid}})})};return(u,h)=>(F(),U("div"))}};const L6=i=>(Kt("data-v-334c39ea"),i=i(),Yt(),i),a0e=["uuid"],l0e={key:0,class:"arrow flex-row flex align-items-center pointer"},c0e={key:1,class:"ps-2 fs-c10",style:{color:"#c0c0c0"}},d0e=L6(()=>b("i",{class:"bi bi-dot"},null,-1)),u0e=[d0e],h0e={key:2,class:"flex fs-c10 ps-2"},f0e=L6(()=>b("i",{class:"bi bi-folder2-open"},null,-1)),p0e=[f0e],m0e={class:"flex-row flex align-items-center py-1"},g0e=["title"],_0e=Object.assign({name:"PageTree"},{__name:"page_tree",props:{tree:Object,team:String,space:String,selected:String},setup(i){const r=i,{proxy:l}=Ke();let o=at(),d=Ve({desc:"",src:"",drag:!1});Ue(()=>{document.addEventListener("dragover",function(h){h.target.closest("[allowDrop]")&&h.preventDefault()}),document.addEventListener("drop",function(h){h.target.getAttribute("allowDrop")==="true"&&(d.desc=h.target.getAttribute("uuid"),h.target.toggleAttribute("over",!1))}),document.addEventListener("dragleave",function(h){h.target.getAttribute("allowDrop")==="true"&&h.target.toggleAttribute("over",!1)}),document.addEventListener("dragenter",function(h){h.target.getAttribute("allowDrop")==="true"&&d.drag&&h.target.toggleAttribute("over",!0)})});let m=h=>{d.drag=!0,d.src=h,d.desc=""},u=()=>{if(d.src&&d.desc&&d.src!==d.desc&&d.drag){let h={src_page_uuid:d.src,desc_page_uuid:d.desc};l.post(l.urls.page_move.format(r.team,r.space),h).then(function(f){if(f.data.update){let g={team:r.team,space:r.space,page:d.src};o.push({name:"Page",params:g}),l.bus.emit("updateDraftAndPageTree",d.src)}}).catch(function(f){l.bus.emit("alertDanger",f.response.data.error)})}d.drag=!1};return(h,f)=>{const g=Ht("router-link"),y=Ht("PageTree");return F(),U("div",{style:Vn({padding:i.tree.padding?"0 0 0 10px":"0"})},[b("div",{draggable:"true",allowDrop:"true",class:je(["flex-row flex align-items-center page-item py-1",{active:i.tree.uuid===i.selected}]),onDragstart:f[3]||(f[3]=k=>{P(m)(i.tree.uuid)}),onDragend:f[4]||(f[4]=k=>{P(u)()}),uuid:i.tree.uuid},[i.tree.son&&i.tree.parent_uuid?(F(),U("div",l0e,[i.tree.opened?(F(),U("div",{key:0,class:"down ms-1",onClick:f[0]||(f[0]=k=>i.tree.opened=!1)})):(F(),U("div",{key:1,class:"right ms-1",onClick:f[1]||(f[1]=k=>i.tree.opened=!0)}))])):i.tree.parent_uuid?(F(),U("div",c0e,u0e)):(F(),U("div",h0e,p0e)),b("div",{style:{flex:"1",width:"0"},onClick:f[2]||(f[2]=k=>i.tree.opened=!0)},[ue(g,{to:{name:"Page",params:{team:i.team,space:i.space,page:i.tree.uuid}}},{default:qe(()=>[b("div",m0e,[b("div",{class:"text-truncate ms-1",title:i.tree.title?i.tree.title:"未命名"},_e(i.tree.title?i.tree.title:"未命名"),9,g0e)])]),_:1},8,["to"])])],42,a0e),ct(b("div",null,[(F(!0),U(xe,null,Xe(i.tree.pages,k=>(F(),lt(y,{key:k.uuid,tree:k,selected:i.selected,team:i.team,space:i.space},null,8,["tree","selected","team","space"]))),128))],512),[[fr,i.tree.opened]])],4)}}}),b0e=Tt(_0e,[["__scopeId","data-v-334c39ea"]]),v0e={key:0,style:{padding:"20px 0 0 0"}},k0e=b("div",{style:{flex:"0 0 auto",padding:"0 20px 10px 20px"},class:"flex-row flex"},[b("div",{style:{flex:"1",color:"#808080"}},"草稿箱")],-1),w0e={style:{padding:"0 20px"}},y0e={class:"flex-row flex flex-fill align-items-center py-2 ps-2"},C0e={class:"flex-fill text-truncate",style:{"min-width":"0"}},A0e={key:0,class:"pe-1 opacity-25"},x0e=b("i",{class:"bi bi-cursor-fill"},null,-1),S0e=[x0e],E0e={__name:"drafts",props:{team:String,space:String,drafts:Array,selected:{default:!1}},setup(i){return(r,l)=>{const o=Ht("router-link");return i.drafts&&i.drafts.length>0?(F(),U("div",v0e,[k0e,b("div",w0e,[(F(!0),U(xe,null,Xe(i.drafts,d=>(F(),U("div",{class:je(["page-item",{active:d.uuid===i.selected}]),key:d.uuid},[ue(o,{class:je({unnamed:!d.title}),to:{name:"Draft",params:{team:i.team,space:i.space,draft:d.uuid}},title:d.status===1?"未发布":""},{default:qe(()=>[b("div",y0e,[b("div",C0e,_e(d.title||"未命名"),1),d.status===1?(F(),U("div",A0e,S0e)):ve("",!0)])]),_:2},1032,["class","to","title"])],2))),128))])])):ve("",!0)}}},D0e={key:0,class:"offcanvas offcanvas-start",style:{width:"300px",color:"initial"},tabindex:"-1",id:"sidebarSpaces","aria-labelledby":"offcanvasExampleLabel"},T0e=b("div",{class:"offcanvas-header border-bottom"},[b("div",{class:"offcanvas-title fw-bolder",id:"offcanvasExampleLabel"},"快速导航"),b("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1),I0e={class:"offcanvas-body ps-4"},M0e={key:0},P0e=b("div",{class:"mb-1 text-grey"},"工具",-1),O0e={class:"mt-3"},B0e=b("div",{class:"mb-1 text-grey"},"页面组",-1),y1={__name:"off_canvas",props:{team:Object,space:Object,spaces:Array,tool:Boolean},setup(i){const r=i;let l=Ge(()=>[{name:"SpaceSettings",params:{team:r.team.uuid,space:r.space.uuid,type:"info"},title:"页面组信息"},{name:"SpaceSettings",params:{team:r.team.uuid,space:r.space.uuid,type:"permissions"},title:"页面组权限"},{name:"SpaceSettings",params:{team:r.team.uuid,space:r.space.uuid,type:"recycle"},title:"回收站"}]);return(o,d)=>{const m=Ht("router-link");return i.space.uuid&&i.team.uuid?(F(),U("div",D0e,[T0e,b("div",I0e,[i.tool?(F(),U("div",M0e,[P0e,(F(!0),U(xe,null,Xe(P(l),u=>(F(),U("div",{class:"ps-3 menu-item",key:u.params.type},[ue(m,{class:"py-1",to:{name:u.name,params:u.params}},{default:qe(()=>[rt(_e(u.title),1)]),_:2},1032,["to"])]))),128))])):ve("",!0),b("div",O0e,[B0e,(F(!0),U(xe,null,Xe(i.spaces,u=>(F(),U("div",{class:je(["ps-3 menu-item",{active:u.uuid===i.space.uuid}]),key:u.uuid},[ue(m,{class:"py-1",to:{name:"Space",params:{team:i.team.uuid,space:u.uuid}}},{default:qe(()=>[rt(_e(u.title),1)]),_:2},1032,["to"])],2))),128))])])])):ve("",!0)}}},L0e={class:"flex-column flex border-end wiki-side-wd"},R0e={style:{"overflow-y":"auto"},class:"flex-fill"},N0e={class:"px-3"},$0e={class:"flex-row flex align-items-center mt-4 mb-3"},j0e=b("div",{style:{flex:"1",color:"#808080"}},"页面树",-1),z0e={class:"d-flex align-items-center pointer color-hover fs-c10"},F0e={__name:"catalog",setup(i){const{proxy:r}=Ke();at();let l=tt();rn("user");const o=rn("team"),d=rn("space"),m=rn("spaces");let u=et(""),h=Ve({team:l.params.team,space:l.params.space,spaces:[],tree:{},drafts:[],inside:!1,loaded:!1,spaceName:"",collapse:!0});Ue(()=>{h.page=l.params.page,f(),y(),g(),r.bus.on("updateDraftAndPageTree",function(T){h.page=T,h.inside=!1,y(),g()})}),Hr(()=>{r.bus.all.delete("updateDraftAndPageTree")}),Ge(()=>[{name:"SpaceSettings",params:{team:o.value.uuid,space:d.value.uuid,type:"info"},title:"页面组信息"},{name:"SpaceSettings",params:{team:o.value.uuid,space:d.value.uuid,type:"permissions"},title:"页面组权限"},{name:"SpaceSettings",params:{team:o.value.uuid,space:d.value.uuid,type:"recycle"},title:"回收站"}]),Bt(()=>l.params,T=>{f()});let f=()=>{l.name==="Draft"?u.value!==l.params.draft&&(u.value=l.params.draft):l.name==="Page"&&u.value!==l.params.page&&(u.value=l.params.page)},g=()=>{r.get(r.urls.page_tree_get.format(h.team,h.space)).then(function(T){if(T.data.pages&&T.data.pages.length>0)for(let x=0;x<T.data.pages.length;x++){let C=T.data.pages[x];if(k(C),h.inside)break}h.tree=T.data,h.loaded=!0})},y=()=>{r.get(r.urls.drafts.format(h.team,h.space)).then(function(T){h.drafts=T.data.drafts})},k=T=>{if(T.pages&&T.pages.length>0)for(let x=0;x<T.pages.length;x++){let C=T.pages[x];if(C.uuid===h.page?(T.opened=!0,h.inside=!0):k(C),h.inside)break}h.inside&&(T.opened=!0)},v=()=>{A(h.tree,!h.collapse),h.collapse=!h.collapse},A=(T,x)=>{if(T.pages&&T.pages.length>0)for(let C=0;C<T.pages.length;C++)T.pages[C].opened=!x,A(T.pages[C])};return(T,x)=>(F(),U("div",L0e,[b("div",R0e,[ue(E0e,{drafts:P(h).drafts,selected:P(u),team:P(h).team,space:P(h).space},null,8,["drafts","selected","team","space"]),b("div",N0e,[b("div",$0e,[j0e,b("div",z0e,[P(h).collapse?(F(),U("i",{key:0,class:"bi bi-arrows-expand",onClick:x[0]||(x[0]=(...C)=>P(v)&&P(v)(...C))})):(F(),U("i",{key:1,class:"bi bi-arrows-collapse",onClick:x[1]||(x[1]=(...C)=>P(v)&&P(v)(...C))}))])]),P(h).loaded?(F(),lt(b0e,{key:0,tree:P(h).tree,selected:P(u),team:P(h).team,space:P(h).space},null,8,["tree","selected","team","space"])):ve("",!0)])]),ue(y1,{team:P(o),space:P(d),spaces:P(m),tool:!0},null,8,["team","space","spaces"])]))}},V0e={class:"flex-row flex",style:{flex:"1"}},U0e={__name:"article_layout",setup(i){return(r,l)=>{const o=Ht("router-view");return F(),U("div",V0e,[ue(F0e),ue(o)])}}};const C1=i=>(Kt("data-v-d71e43a2"),i=i(),Yt(),i),H0e={key:0,class:"flex-column flex border-start wiki-side-wd"},W0e=C1(()=>b("div",{class:"ms-3"},"变更记录",-1)),G0e=C1(()=>b("div",{class:"flex-fill"}," ",-1)),K0e={class:"flex-column flex flex-fill overflow-auto"},Y0e=["onClick"],q0e={key:0,class:"d-flex align-items-center justify-content-center",style:{flex:"0 0 38%"}},Z0e=C1(()=>b("i",{class:"bi bi-circle"},null,-1)),Q0e=[Z0e],J0e={key:1,class:"d-flex align-items-center justify-content-center",style:{flex:"0 0 38%"}},X0e={class:"d-flex flex-fill ms-2"},e1e={class:"flex flex-column"},t1e={class:"fs-8 color-light"},n1e={__name:"dynamic",setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ve({team:l.params.team,space:l.params.space,page:l.params.page,versions:[],version:null,open:!localStorage.getItem("wikiUpdateRecord")});Ue(()=>{d(),r.bus.on("wikiUpdateRecordOpen",function(h){o.open=!localStorage.getItem("wikiUpdateRecord")})}),Hr(()=>{r.bus.all.delete("wikiUpdateRecordOpen")}),Bt(()=>l.params,h=>{l.params.page&&o.page!==l.params.page&&(o.page=l.params.page,d())});let d=()=>{r.post(r.urls.page_version_list.format(o.team,o.space,o.page)).then(function(h){o.versions=h.data,o.version=o.versions[0].version})},m=h=>{o.version=h,r.bus.emit("updatePageVersion",h+"")};const u=()=>{localStorage.setItem("wikiUpdateRecord","close"),o.open=!localStorage.getItem("wikiUpdateRecord"),r.bus.emit("wikiUpdateRecordClose")};return(h,f)=>P(o).open?(F(),U("div",H0e,[b("div",{style:{flex:"0 0 40px"},class:"flex-row flex align-items-center border-bottom"},[W0e,G0e,b("div",{class:"flex me-4 pointer text-hover"},[b("i",{class:"bi bi-x-lg",onClick:u})])]),b("div",K0e,[(F(!0),U(xe,null,Xe(P(o).versions,g=>(F(),U("div",{class:je(["flex-row flex version pointer align-items-center py-2 px-1",{active:g.version===P(o).version}]),onClick:y=>P(m)(g.version),key:g.version},[g.version===0?(F(),U("div",q0e,Q0e)):(F(),U("div",J0e,[b("div",{style:{"font-family":'Georgia, "Times New Roman", Times, serif',color:"#d0d0d0","font-weight":"bolder"},class:je(g.version>=100?"fs-3":"fs-2")},_e(g.version),3)])),b("div",X0e,[b("div",e1e,[b("div",null,_e(g.user_name),1),b("div",t1e,_e(h.filters.timeFormat(g.create_time))+_e(g.version===0?"发布":"更新"),1)])])],10,Y0e))),128))])])):ve("",!0)}},i1e=Tt(n1e,[["__scopeId","data-v-d71e43a2"]]);const Cf=i=>(Kt("data-v-63e69986"),i=i(),Yt(),i),o1e={id:"article",class:"flex-column flex bg-white"},r1e={style:{flex:"0 0 40px"},class:"flex-row flex align-items-center border-bottom ps-4"},s1e=Cf(()=>b("div",{class:"flex-row flex flex-fill"},[b("div",null,[b("i",{class:"bi bi-house-door-fill"})]),b("div",{class:"ms-1"},"主页")],-1)),a1e={class:"flex-row flex"},l1e={class:"flex flex-row align-items-center"},c1e={class:"flex me-4 align-items-center"},d1e=Cf(()=>b("div",{class:"flex active"},[b("div",null,[b("i",{class:"bi bi-pencil-square"})]),b("div",{class:"ms-1"}," 编辑 ")],-1)),u1e=Cf(()=>b("i",{class:"bi bi-arrow-bar-left"},null,-1)),h1e=Cf(()=>b("span",null,"变更记录",-1)),f1e=[u1e,h1e],p1e={style:{"overflow-y":"auto"},class:"flex-column flex flex-fill py-4 px-5"},m1e={style:{"font-size":"28px","font-weight":"800"}},g1e={style:{color:"#909090","margin-top":"5px"}},_1e=["innerHTML"],b1e={__name:"article",setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ve({team:l.params.team,space:l.params.space,page:l.params.page,user:{},item:{},open:!localStorage.getItem("wikiUpdateRecord")});Ue(()=>{m(),r.bus.on("updatePageVersion",function(h){m(h)}),r.bus.on("wikiUpdateRecordClose",function(h){o.open=!localStorage.getItem("wikiUpdateRecord")})}),Hr(()=>{r.bus.all.delete("updatePageVersion"),r.bus.all.delete("wikiUpdateRecordClose")});let d=()=>{r.get(r.urls.team_user_get.format(o.team,o.item.owner_uuid)).then(function(h){o.user=h.data})};Bt(()=>l.params,h=>{l.params.page&&o.page!==l.params.page&&(o.page=l.params.page,m())});let m=h=>{let f=r.urls.page_get.format(o.team,o.space,o.page);h&&(f+="?version="+h),r.get(f).then(function(g){o.item=g.data,d()})},u=()=>{localStorage.removeItem("wikiUpdateRecord"),o.open=!localStorage.getItem("wikiUpdateRecord"),r.bus.emit("wikiUpdateRecordOpen")};return(h,f)=>{const g=Ht("router-link");return F(),U("div",o1e,[b("div",r1e,[s1e,b("div",a1e,[b("div",l1e,[b("div",c1e,[ue(g,{to:{name:"EditPage",params:{team:P(o).team,space:P(o).space,page:P(o).page}}},{default:qe(()=>[d1e]),_:1},8,["to"])]),P(o).open?ve("",!0):(F(),U("div",{key:0,class:"flex me-4 pointer align-items-center active nav-click",onClick:f[0]||(f[0]=(...y)=>P(u)&&P(u)(...y))},f1e))])])]),b("div",p1e,[b("div",m1e,_e(P(o).item.title),1),b("div",g1e,_e(P(o).user.name)+"于 "+_e(h.filters.formatTime(P(o).item.updated_time))+" 修改",1),b("div",{class:"ck-content mt-3",innerHTML:P(o).item.content},null,8,_1e)])])}}},v1e=Tt(b1e,[["__scopeId","data-v-63e69986"]]),k1e={class:"flex-row flex flex-fill"},w1e={class:"flex-fill"},y1e={__name:"page",setup(i){return(r,l)=>(F(),U("div",k1e,[b("div",w1e,[ue(v1e)]),ue(i1e)]))}};const C1e={style:{"box-shadow":"none",outline:"none"}},A1e={__name:"custom",props:{title:String,disabled:{default:!1},fill:{default:!0}},emits:["submit"],setup(i,{emit:r}){const l=i;let o=()=>{l.disabled||r("submit")};return(d,m)=>(F(),U("div",C1e,[b("div",{class:je(["button",{disabled:i.disabled,fill:i.fill}]),onClick:m[0]||(m[0]=(...u)=>P(o)&&P(o)(...u))},_e(i.title),3)]))}},Nh=Tt(A1e,[["__scopeId","data-v-a2b84c22"]]);const Af=i=>(Kt("data-v-7c6d7ff4"),i=i(),Yt(),i),x1e={id:"article",class:"flex-column flex"},S1e={style:{flex:"0 0 40px"},class:"flex-row flex align-items-center border-bottom px-4"},E1e=Af(()=>b("div",{class:"flex-row flex flex-fill"},[b("div",null,[b("i",{class:"bi bi-house-door-fill"})]),b("div",{class:"ms-1"},"主页")],-1)),D1e={class:"flex-row flex align-items-center"},T1e=Af(()=>b("div",null,[b("i",{class:"bi bi-pencil-square"})],-1)),I1e=Af(()=>b("div",{class:"ms-1"}," 编辑 ",-1)),M1e=[T1e,I1e],P1e=Af(()=>b("div",{class:"flex-row flex align-items-center me-4 pointer active","data-bs-toggle":"modal","data-bs-target":"#delDraftModal"},[b("div",null,[b("i",{class:"bi bi-x-lg"})]),b("div",{class:"ms-1"}," 删除草稿 ")],-1)),O1e={style:{"background-color":"#ffffff","overflow-y":"auto"},class:"flex-column flex flex-fill py-4 px-5"},B1e={style:{color:"#909090","margin-top":"5px"}},L1e=["innerHTML"],R1e={__name:"article_draft",props:{item:Object},setup(i){const r=i,{proxy:l}=Ke();let o=at(),d=tt(),m=Ve({team:d.params.team,space:d.params.space}),u=()=>{let g={team:m.team,space:m.space,draft:r.item.uuid};o.push({name:"EditDraft",params:g})},h=()=>{l.post(l.urls.draft_delete.format(m.team,m.space,r.item.uuid)).then(function(g){g.data.code===200?(l.bus.emit("alertSuccess","删除成功"),o.push({name:"Space",params:{team:m.team,space:m.space}})):l.bus.emit("alertDanger","删除失败")}).catch(function(g){l.bus.emit("alertDanger",g.response.data.error)})},f=()=>{let g={title:r.item.title,content:r.item.content,page_uuid:r.item.page_uuid,status:r.item.status,is_published:!0,space_uuid:m.space,from_version:r.item.from_version};l.post(l.urls.page_draft_update.format(m.team,m.space,r.item.uuid),g).then(function(y){let k={team:m.team,space:m.space,page:y.data.page_uuid};o.push({name:"Page",params:k}),l.bus.emit("updateDraftAndPageTree",y.data.page_uuid)}).catch(function(y){l.bus.emit("alertDanger",y.response.data.error)})};return(g,y)=>(F(),U("div",x1e,[b("div",S1e,[E1e,b("div",D1e,[b("div",{class:"flex-row flex align-items-center me-4 pointer active",onClick:y[0]||(y[0]=(...k)=>P(u)&&P(u)(...k))},M1e),P1e,i.item.status===1?(F(),lt(Nh,{key:0,title:"发布",onSubmit:P(f)},null,8,["onSubmit"])):ve("",!0),i.item.status===2?(F(),lt(Nh,{key:1,title:"更新",onSubmit:P(f)},null,8,["onSubmit"])):ve("",!0),ue(qo,{desc:"确定是否删除文档？",onSubmit:P(h),id:"delDraftModal"},null,8,["onSubmit"])])]),b("div",O1e,[b("div",{class:je({unnamed:!i.item.title}),style:{"font-size":"28px","font-weight":"800"}},_e(i.item.title||"未命名"),3),b("div",B1e,"最后编辑于 "+_e(g.filters.formatTime(i.item.updated_time)),1),b("div",{class:"ck-content",style:{"margin-top":"20px"},innerHTML:i.item.content},null,8,L1e)])]))}},N1e=Tt(R1e,[["__scopeId","data-v-7c6d7ff4"]]),$1e={class:"h-100 flex-fill"},j1e={__name:"draft",setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ve({team:l.params.team,space:l.params.space,page:l.params.page,draft:l.params.draft,item:{},loaded:!1});Ue(()=>{o.team=l.params.team,o.space=l.params.space,o.page=l.params.page,o.draft=l.params.draft,d()}),Bt(()=>l.params,m=>{l.params.draft&&o.draft!==l.params.draft&&(o.draft=l.params.draft,d())});let d=()=>{r.get(r.urls.draft_get.format(o.team,o.space,o.draft)).then(function(m){o.item=m.data,o.page=m.data.page_uuid,o.loaded=!0})};return(m,u)=>(F(),U("div",$1e,[P(o).loaded?(F(),lt(N1e,{key:0,item:P(o).item},null,8,["item"])):ve("",!0)]))}};const z1e=i=>(Kt("data-v-0ba6ab37"),i=i(),Yt(),i),F1e={class:"flex-column flex flex-fill"},V1e={style:{flex:"0 0 40px","background-color":"#ffffff","border-bottom":"1px solid #f8f8f8"},class:"flex-row flex align-items-center"},U1e=z1e(()=>b("div",{style:{flex:"1"},id:"toolbarContainer",class:"toolbar-wd"},null,-1)),H1e={style:{flex:"0 0 auto","margin-right":"20px"},class:"flex-row flex align-items-center"},W1e={style:{"overflow-y":"auto"},id:"scrollable_container",class:"d-flex flex-column flex-fill bg-white"},G1e={style:{padding:"20px 60px 0 60px"}},K1e={id:"bodyContainer",style:{padding:"0 60px 0 60px"},class:"d-flex flex-fill"},Y1e={__name:"add",setup(i){let{proxy:r}=Ke(),l=tt(),o=at();const d=rn("team"),m=rn("space"),u=rn("spaces");let h=et(""),f=et(""),g=Ve({team:l.params.team,space:l.params.space,page:"",fill:!1,list:[],draft:"",editor:g1,mod:"",loaded:!1,ing:-1,status:1,version:0});Ue(()=>{g.mod=l.name,g.mod==="EditDraft"?(g.draft=l.params.draft,x()):g.mod==="AddPage"?(g.page=l.params.page,r.$parent.page=g.page):g.mod==="EditPage"&&(g.page=l.params.page,r.$parent.page=g.page,g.status=2,C()),setInterval(function(){g.list.length>0&&g.ing!==1&&(g.ing=1,r.bus.emit("updating","正在保存..."),g.list.length=0,g.draft.length===8?A():v())},3e3)}),kd(()=>{g.loaded=!0});let y=S=>{let M=document.querySelector("#toolbarContainer"),B=document.querySelector("#bodyContainer");M.hasChildNodes()&&(M.innerHTML=""),B.hasChildNodes()&&(B.innerHTML=""),M.appendChild(S.ui.view.toolbar.element),B.appendChild(S.ui.getEditableElement())},k=()=>{g.mod==="EditDraft"?o.push({name:"Draft",params:{team:g.team,space:g.space,draft:g.draft}}):g.mod==="AddPage"?o.push({name:"Page",params:{team:g.team,space:g.space,page:g.page}}):g.mod==="EditPage"&&o.push({name:"Page",params:{team:g.team,space:g.space,page:g.page}})},v=()=>{let S={title:h.value,content:f.value,page_uuid:g.page,status:g.status,from_version:g.version};r.post(r.urls.page_draft_add.format(g.team,g.space),S).then(function(M){g.draft=M.data.uuid,g.ing=2,r.bus.emit("updating","草稿已保存")}).catch(function(M){r.bus.emit("alertDanger",M.response.data.error)})},A=()=>{let S={title:h.value,content:f.value,page_uuid:g.page,status:g.status,is_published:!1,space_uuid:g.space,from_version:g.version};r.post(r.urls.page_draft_update.format(g.team,g.space,g.draft),S).then(function(M){M.data&&M.data.draft_uuid&&(g.draft=M.data.draft_uuid),g.ing=2,r.bus.emit("updating","草稿已保存")}).catch(function(M){r.bus.emit("alertDanger",M.response.data.error)})},T=()=>{if(g.draft.length===8){let S={title:h.value,content:f.value,page_uuid:g.page,status:g.status,is_published:!0,space_uuid:g.space,from_version:g.version};h.value?f.value?r.post(r.urls.page_draft_update.format(g.team,g.space,g.draft),S).then(function(M){let B={team:g.team,space:g.space,page:M.data.page_uuid};o.push({name:"Page",params:B})}).catch(function(M){r.bus.emit("alertDanger",M.response.data.error)}):r.bus.emit("alertDanger","没有内容"):r.bus.emit("alertDanger","没有标题")}else o.push({name:"Page",params:{team:g.team,space:g.space,page:g.page}})},x=()=>{r.get(r.urls.draft_get.format(g.team,g.space,g.draft)).then(function(S){h.value=S.data.title,f.value=S.data.content,g.draft=S.data.uuid,g.page=S.data.page_uuid,g.version=S.data.from_version,r.$parent.page=g.page})},C=()=>{r.get(r.urls.page_get.format(g.team,g.space,g.page)).then(function(S){S.data&&S.data.draft_uuid&&S.data.draft_uuid.length===8?(g.draft=S.data.draft_uuid,x()):(h.value=S.data.title,f.value=S.data.content,g.version=S.data.version)})};Bt([h,f],()=>{g.loaded&&(g.ing=0,r.bus.emit("updating","即将保存..."),g.list.push(!0))});const D=Ge(()=>({toolbar:{items:["undo","redo","heading","fontFamily","fontSize","fontColor","fontBackgroundColor","|","bold","italic","underline","strikethrough","|","alignment","numberedList","bulletedList","outdent","indent","|","link","blockquote","uploadImage","insertTable"]},cloudServices:{tokenUrl:r.utils.refreshToken,uploadUrl:r.urls.team_upload.format(g.team)}}));return(S,M)=>{const B=Ht("ckeditor");return F(),U("div",F1e,[b("div",V1e,[U1e,b("div",H1e,[ue(Nh,{onSubmit:P(k),title:"返回",fill:P(g).fill,disabled:P(g).list&&P(g).list.length>0},null,8,["onSubmit","fill","disabled"]),ue(Nh,{onSubmit:P(T),style:{"margin-left":"10px"},title:"发布",disabled:P(g).list&&P(g).list.length>0},null,8,["onSubmit","disabled"])])]),b("div",W1e,[b("div",G1e,[ct(b("input",{type:"text",class:"title","onUpdate:modelValue":M[0]||(M[0]=R=>hn(h)?h.value=R:h=R),placeholder:"我的标题"},null,512),[[gt,P(h)]])]),b("div",K1e,[ue(B,{editor:P(g).editor,onReady:P(y),modelValue:P(f),"onUpdate:modelValue":M[1]||(M[1]=R=>hn(f)?f.value=R:f=R),config:D.value},null,8,["editor","onReady","modelValue","config"])])]),ue(y1,{team:P(d),space:P(m),spaces:P(u),tool:!0},null,8,["team","space","spaces"])])}}},R6=Tt(Y1e,[["__scopeId","data-v-0ba6ab37"]]),q1e={__name:"add_page",setup(i){return(r,l)=>(F(),lt(R6))}},w5={__name:"edit_page",setup(i){return(r,l)=>(F(),lt(R6))}},Z1e=b("div",{class:"px-4 py-3 border-bottom fs-c10"},"页面组管理",-1),Q1e={class:"px-3 pt-4 px-5"},J1e={class:"mb-4"},X1e=b("label",{for:"exampleFormControlInput1",class:"form-label"},"页面组名称",-1),e_e={class:"mb-4"},t_e=b("label",{for:"exampleFormControlInput1",class:"form-label"},"页面组描述",-1),n_e={class:"flex-row flex mb-4"},i_e={style:{flex:"0 0 auto"}},y5={__name:"info",setup(i){let{proxy:r}=Ke(),l=tt();at();let o=Ve({team:l.params.team,space:l.params.space,title:"",description:"",disabled:!0});Ue(()=>{d()});let d=()=>{r.get(r.urls.space_get.format(o.team,o.space)).then(function(h){o.title=h.data.title,o.description=h.data.description})},m=()=>{o.disabled=!1},u=()=>{r.post(r.urls.space_update.format(o.team,o.space),{title:o.title,description:o.description}).then(function(h){h.data.code===200&&(o.disabled=!0,r.bus.emit("alertSuccess","更新成功"),r.bus.emit("updateSpace",o.space))}).catch(function(h){r.bus.emit("alertDanger",h.response.data.error)})};return(h,f)=>(F(),U(xe,null,[Z1e,b("div",Q1e,[b("div",J1e,[X1e,ct(b("input",{type:"email",class:"form-control",id:"exampleFormControlInput1","onUpdate:modelValue":f[0]||(f[0]=g=>P(o).title=g),required:"",onChange:f[1]||(f[1]=(...g)=>P(m)&&P(m)(...g)),onKeydown:f[2]||(f[2]=(...g)=>P(m)&&P(m)(...g))},null,544),[[gt,P(o).title]])]),b("div",e_e,[t_e,ct(b("textarea",{class:"form-control",id:"exampleFormControlTextarea1",rows:"3","onUpdate:modelValue":f[3]||(f[3]=g=>P(o).description=g),required:"",onChange:f[4]||(f[4]=(...g)=>P(m)&&P(m)(...g)),onKeydown:f[5]||(f[5]=(...g)=>P(m)&&P(m)(...g))},null,544),[[gt,P(o).description]])]),b("div",n_e,[b("div",i_e,[ue(ci,{disabled:P(o).disabled,title:"更新信息",onSubmit:P(u)},null,8,["disabled","onSubmit"])])])])],64))}},o_e={class:"flex-column flex flex-fill px-4 pb-4"},r_e={__name:"permissions",setup(i){let{proxy:r}=Ke(),l=tt();at();let o=Ve({team:l.params.team,space:l.params.space,project:"",maps:{view:{code:2003,permission:"view_page",title:"阅览与反馈",desc:"允许用户进入页面组并查看页面",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]},create:{code:2002,permission:"create_page",title:"编辑内容",desc:"允许用户新建、编辑、删除页面",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]},manage:{code:2001,permission:"manage_space",title:"管理页面组",desc:"允许用户使用页面组控制台，管理页面回收站",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]}},role_members:[],data:{},loaded:!1});Ue(()=>{o.space=l.params.space,o.team=l.params.team,o.data={permission_rule:{context_type:"space",context_param:{space_uuid:o.space}}},d()});let d=()=>{let u=[];for(let h in o.maps)u.push(o.maps[h].code);r.post(r.urls.space_user_domain_group.format(o.team,o.space),u).then(function(h){for(let f in o.maps){let g=o.maps[f];g.groups=[]}if(h.data&&h.data.length>0)for(let f in o.maps){let g=o.maps[f];for(let y=0;y<h.data.length;y++){let k=h.data[y];if(k.permission===g.code){g.groups=k.groups;break}}}m()})},m=()=>{r.get(r.urls.team_member_list.format(o.team)).then(function(u){if(u.data&&u.data&&u.data.length>0){let h=[];for(let f=0;f<u.data.length;f++){let g=u.data[f];g.type="single_user",h.push(g)}for(let f in o.maps){let g=o.maps[f];g.members=h}}o.loaded=!0})};return(u,h)=>(F(),U(xe,null,[ue(En,{title:"页面组权限配置"}),b("div",o_e,[P(o).loaded?(F(),lt(ti,{key:0,role_members:P(o).role_members,data:P(o).data,group:P(o).maps.view,onLoadPermissionData:P(d)},null,8,["role_members","data","group","onLoadPermissionData"])):ve("",!0),P(o).loaded?(F(),lt(ti,{key:1,role_members:P(o).role_members,data:P(o).data,group:P(o).maps.create,onLoadPermissionData:P(d)},null,8,["role_members","data","group","onLoadPermissionData"])):ve("",!0),P(o).loaded?(F(),lt(ti,{key:2,role_members:P(o).role_members,data:P(o).data,group:P(o).maps.manage,onLoadPermissionData:P(d)},null,8,["role_members","data","group","onLoadPermissionData"])):ve("",!0)])],64))}},s_e={},a_e={class:"px-4 py-3 border-bottom fs-c10"};function l_e(i,r){return F(),U("div",a_e,"回收站")}const c_e=Tt(s_e,[["render",l_e]]);const N6=i=>(Kt("data-v-1c1b729b"),i=i(),Yt(),i),d_e={class:"flex-row flex flex-fill"},u_e={class:"space-group-setting",style:{flex:"0 0 300px",padding:"20px 0 0 20px"}},h_e=N6(()=>b("div",{style:{color:"#444444"}},[b("i",{class:"bi bi-arrow-left-circle-fill"})],-1)),f_e=N6(()=>b("div",{style:{"margin-left":"10px","font-size":"18px"}}," 文档配置中心 ",-1)),p_e=[h_e,f_e],m_e={class:"flex-column flex flex-fill",style:{"overflow-y":"auto","min-height":"100%"}},g_e={class:"border bg-white mt-4 me-4 mb-4 flex-fill"},__e={__name:"settings",setup(i){let{proxy:r}=Ke(),l=tt(),o=at();const d=rn("team"),m=rn("space"),u=rn("spaces");let h=Ve({team:l.params.team,space:l.params.space,page:l.params.page,com:"info",tagIndex:1});Ue(()=>{h.team=l.params.team,h.space=l.params.space,h.com=l.params.type,g()}),Bt(()=>l.params,k=>{h.com=l.params.type});let f=Ge(()=>{let k=y5;switch(h.com){case"info":h.tagIndex=1,k=y5;break;case"permissions":h.tagIndex=2,k=r_e;break;case"recycle":h.tagIndex=3,k=c_e;break}return k}),g=()=>{r.get(r.urls.page_main.format(h.team,h.space)).then(function(k){h.page=k.data.uuid})},y=()=>{o.push({name:"Space",params:{team:h.team,space:h.space}})};return(k,v)=>{const A=Ht("router-link");return F(),U("div",d_e,[b("div",u_e,[b("div",{class:"flex-row flex align-items-center",style:{flex:"0",width:"100%","margin-bottom":"10px",cursor:"pointer"},onClick:v[0]||(v[0]=(...T)=>P(y)&&P(y)(...T))},p_e),b("div",{class:je(["justify-content-center",{active:P(h).tagIndex===1}])},[ue(A,{class:"py-2",to:{name:"SpaceSettings",params:{team:P(h).team,space:P(h).space,type:"info"}}},{default:qe(()=>[rt("页面组信息")]),_:1},8,["to"])],2),b("div",{class:je({active:P(h).tagIndex===2})},[ue(A,{class:"py-2",to:{name:"SpaceSettings",params:{team:P(h).team,space:P(h).space,type:"permissions"}}},{default:qe(()=>[rt("页面组权限")]),_:1},8,["to"])],2),b("div",{class:je({active:P(h).tagIndex===3})},[ue(A,{class:"py-2",to:{name:"SpaceSettings",params:{team:P(h).team,space:P(h).space,type:"recycle"}}},{default:qe(()=>[rt("回收站")]),_:1},8,["to"])],2)]),b("div",m_e,[b("div",g_e,[(F(),lt(Yo(P(f))))])]),ue(y1,{team:P(d),space:P(m),spaces:P(u)},null,8,["team","space","spaces"])])}}},b_e=Tt(__e,[["__scopeId","data-v-1c1b729b"]]),v_e={class:"py-4 ps-4 overflow-auto inner-sidebar-wd"},k_e=b("div",{class:"py-4 ps-2 w-100 fs-c10"},"配置中心",-1),w_e=b("div",{class:"pt-2 ps-2 color-light"},"基础项",-1),y_e=b("div",{class:"pt-4 ps-2 color-light"},"权限",-1),C_e={__name:"terminal_control",props:["tagIndex"],setup(i){const r=i;let l=tt(),{tagIndex:o}=_d(r),d=Ve({team:l.params.team});return(m,u)=>{const h=Ht("router-link");return F(),U("div",v_e,[k_e,w_e,b("div",{class:je(["inner-item",{active:P(o)===1}])},[ue(h,{to:{name:"TerminalServer",params:{team:P(d).team}}},{default:qe(()=>[rt("服务器配置")]),_:1},8,["to"])],2),b("div",{class:je(["inner-item",{active:P(o)===2}])},[ue(h,{to:{name:"TerminalTag",params:{team:P(d).team}}},{default:qe(()=>[rt("标签配置")]),_:1},8,["to"])],2),y_e,b("div",{class:je(["inner-item",{active:P(o)===3}])},[ue(h,{to:{name:"TerminalPermissions",params:{team:P(d).team}}},{default:qe(()=>[rt("权限配置")]),_:1},8,["to"])],2)])}}},A_e={class:"flex-row flex flex-fill"},x_e={class:"flex-column flex flex-fill py-4 pe-4 overflow-auto"},S_e={class:"border bg-white flex-fill"},E_e={__name:"terminal_setting",setup(i){let r=tt(),l=Ve({tagIndex:1,name:"TerminalServer"});Ue(()=>{l.name=r.name,o(l.name)}),Bt(()=>r.name,d=>{l.name=r.name,o(l.name)});let o=d=>{switch(d){case"TerminalServer":l.tagIndex=1;break;case"TerminalTag":l.tagIndex=2;break;case"TerminalPermissions":l.tagIndex=3;break;case"TerminalPermission":l.tagIndex=1;break;default:l.tagIndex=1}};return(d,m)=>{const u=Ht("router-view");return F(),U("div",A_e,[ue(C_e,{tagIndex:P(l).tagIndex},null,8,["tagIndex"]),b("div",x_e,[b("div",S_e,[ue(u)])])])}}};const D_e=i=>(Kt("data-v-7f6f4e4c"),i=i(),Yt(),i),T_e={class:"flex-column flex flex-fill h-100 overflow-auto"},I_e={class:"mt-2 mb-4 flex-fill"},M_e={class:"flex-row flex mx-4"},P_e={class:"flex-row flex flex-fill align-items-center pe-4 server-tag"},O_e=["onClick"],B_e={class:"d-flex flow-column align-items-center"},L_e={key:0,class:"flex-row flex flex-fill flex-wrap d-grid position-relative grid-task px-4 mt-2 border-top pt-3"},R_e={class:"jiBox shadow-sm"},N_e={class:"flex flex-column flex-fill p-3"},$_e={class:"fw-bolder color-md text-truncate"},j_e=D_e(()=>b("div",{class:"flex-fill p-4"},[b("svg",{t:"1688368989957",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1719",width:"32",height:"32"},[b("path",{d:"M370.857143 561.714286l-266.285714 266.285714q-5.714286 5.714286-13.142858 5.714286t-13.142857-5.714286l-28.571428-28.571429q-5.714286-5.714286-5.714286-13.142857t5.714286-13.142857l224.571428-224.571428L49.714286 324q-5.714286-5.714286-5.714286-13.142857t5.714286-13.142857l28.571428-28.571429q5.714286-5.714286 13.142857-5.714286t13.142858 5.714286l266.285714 266.285714q5.714286 5.714286 5.714286 13.142858t-5.714286 13.142857z m616.571428 261.142857v36.571428q0 8-5.142857 13.142858t-13.142857 5.142857H420.571429q-8 0-13.142858-5.142857t-5.142857-13.142858v-36.571428q0-8 5.142857-13.142857t13.142858-5.142857h548.571428q8 0 13.142857 5.142857t5.142857 13.142857z","p-id":"1720",fill:"#999999"})])],-1)),z_e={class:"d-flex flex-row align-items-center text-grey fs-8"},F_e={class:"flex-fill text-truncate"},V_e={class:"d-flex flex-row ms-2"},U_e={__name:"terminal",setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ve({team:l.params.team,cur:0,tabTitle:["开发环境","深圳","生产环境","知识库"],items:[],tasks_completed:!1,search:"",curSearch:"",tag:"全部标签"});Ue(()=>{d()});let d=()=>{r.post(r.urls.terminal_my_list.format(o.team)).then(function(h){o.items=h.data,o.tasks_completed=!0})},m=h=>{h!==o.curSearch&&(o.search=h,o.curSearch=h,d())},u=h=>{o.cur=h,d()};return(h,f)=>{const g=Ht("router-link");return F(),U("div",T_e,[b("div",I_e,[b("div",M_e,[b("div",P_e,[(F(!0),U(xe,null,Xe(P(o).tabTitle,(y,k)=>(F(),U("div",{class:je(["justify-content-center align-items-center tab-title pointer py-1 px-3 rounded-4 fs-8",{active:P(o).cur===k}]),onClick:v=>P(u)(k),key:k},_e(y),11,O_e))),128))]),b("div",B_e,[ue(Pn,{onSearch:P(m),placeholder:"服务器备注或者IP地址"},null,8,["onSearch"])])]),P(o).tasks_completed?(F(),U("div",L_e,[(F(!0),U(xe,null,Xe(P(o).items,y=>(F(),U("div",R_e,[ue(g,{class:"color-banner",to:{name:"WS",params:{team:P(o).team,terminal:y.uuid}},target:"_blank"},{default:qe(()=>[b("div",N_e,[b("div",$_e,_e(y.mark),1),j_e,b("div",z_e,[b("div",F_e,_e(y.tags),1),b("div",V_e,_e(y.ip),1)])])]),_:2},1032,["to"])]))),256))])):ve("",!0)])])}}},H_e=Tt(U_e,[["__scopeId","data-v-7f6f4e4c"]]),W_e={class:"px-4 pb-4"},G_e={__name:"permissions",setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ve({team:l.params.team,project:"",maps:{administer:{code:6,permission:"administer_terminal",title:"管理团队终端",desc:"允许添加、修改、删除终端服务器",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]}},role_members:[],loaded:!1,data:{permission_rule:{context_type:"team"}}});Ue(()=>{d()});let d=()=>{let u=[];for(let h in o.maps)u.push(o.maps[h].code);r.post(r.urls.permission_rules.format(o.team),u).then(function(h){for(let f in o.maps){let g=o.maps[f];g.groups=[]}if(h.data&&h.data.length>0)for(let f in o.maps){let g=o.maps[f];for(let y=0;y<h.data.length;y++){let k=h.data[y];if(k.permission===g.code){g.groups=k.groups;break}}}m()})},m=()=>{r.get(r.urls.team_member_list.format(o.team)).then(function(u){if(u.data&&u.data&&u.data.length>0){let h=[];for(let f=0;f<u.data.length;f++){let g=u.data[f];g.type="single_user",h.push(g)}for(let f in o.maps){let g=o.maps[f];g.members=h}}o.loaded=!0})};return(u,h)=>(F(),U(xe,null,[ue(En,{title:"权限配置",desc:"允许给团队成员配置相应的权限。"}),b("div",W_e,[P(o).loaded?(F(),lt(ti,{key:0,role_members:P(o).role_members,data:P(o).data,group:P(o).maps.administer,onLoadPermissionData:P(d)},null,8,["role_members","data","group","onLoadPermissionData"])):ve("",!0)])],64))}},K_e={class:"px-4 pb-4"},Y_e={__name:"permission",setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ve({team:l.params.team,terminal:l.params.terminal,title:"",maps:{administer:{code:3001,permission:"browse_terminal",title:"访问终端",desc:"允许访问终端服务器",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]}},role_members:[],loaded:!1,data:{}});Ue(()=>{o.data={permission_rule:{context_type:"terminal",context_param:{terminal_uuid:o.terminal}}},d(),u()});let d=()=>{let h=[];for(let f in o.maps)h.push(o.maps[f].code);r.post(r.urls.terminal_user_domain_group.format(o.team,o.terminal),h).then(function(f){for(let g in o.maps){let y=o.maps[g];y.groups=[]}if(f.data&&f.data.length>0)for(let g in o.maps){let y=o.maps[g];for(let k=0;k<f.data.length;k++){let v=f.data[k];if(v.permission===y.code){y.groups=v.groups;break}}}m()})},m=()=>{r.get(r.urls.team_member_list.format(o.team)).then(function(h){if(h.data&&h.data&&h.data.length>0){let f=[];for(let g=0;g<h.data.length;g++){let y=h.data[g];y.type="single_user",f.push(y)}for(let g in o.maps){let y=o.maps[g];y.members=f}}o.loaded=!0})},u=()=>{r.get(r.urls.terminal_get.format(o.team,o.terminal)).then(function(h){h!=null&&h.data&&(o.title="权限配置「"+h.data.mark+"」"+h.data.ip)})};return(h,f)=>(F(),U(xe,null,[ue(En,{title:P(o).title,desc:"允许给团队成员配置相应的权限。"},null,8,["title"]),b("div",K_e,[P(o).loaded?(F(),lt(ti,{key:0,role_members:P(o).role_members,data:P(o).data,group:P(o).maps.administer,onLoadPermissionData:P(d)},null,8,["role_members","data","group","onLoadPermissionData"])):ve("",!0)])],64))}},q_e={class:"flex-column flex flex-fill p-4"},Z_e={class:"d-flex flex-row flex-fill"},Q_e={class:"d-flex flex-row align-items-center"},J_e=b("span",{class:"text-danger ms-1"},"*",-1),X_e={class:"flex-row flex align-items-center ms-4"},ebe=b("span",{class:"text-danger ms-1"},"*",-1),tbe={class:"flex-row flex align-items-center ms-4"},nbe=b("span",{class:"text-danger ms-1"},"*",-1),ibe={class:"flex-row flex align-items-center ms-4"},obe=b("span",{class:"text-danger ms-1"},"*",-1),rbe={class:"flex-row flex align-items-center ms-4"},sbe=b("span",{class:"text-danger ms-1"},"*",-1),abe={class:"flex-row flex align-items-center ms-4"},lbe=b("div",{class:"flex-fill"},"   ",-1),cbe=b("div",{class:"tab-title flex-row flex border-bottom ps-4"},null,-1),dbe={class:"px-4"},ube={key:0,class:"d-flex flex-fill align-items-center"},hbe={class:"d-flex flex-column justify-content-center",style:{height:"40px"}},fbe={class:""},pbe={class:"flex-row flex mt-1 color-light"},mbe={class:"d-flex flex-fill justify-content-center"},gbe={key:1,class:"d-flex flex-fill align-items-center me-4 period",style:{height:"40px"}},_be={class:"flex-row flex align-items-center"},bbe=["onUpdate:modelValue"],vbe=b("span",{class:"text-danger ms-1"},"*",-1),kbe={class:"flex-row flex align-items-center ms-4"},wbe=["onUpdate:modelValue"],ybe=b("span",{class:"text-danger ms-1"},"*",-1),Cbe={class:"flex-row flex align-items-center ms-4"},Abe=["onUpdate:modelValue"],xbe=b("span",{class:"text-danger ms-1"},"*",-1),Sbe={class:"flex-row flex align-items-center ms-4"},Ebe=["onUpdate:modelValue"],Dbe=b("span",{class:"text-danger ms-1"},"*",-1),Tbe={class:"flex-row flex align-items-center ms-4"},Ibe=["onUpdate:modelValue"],Mbe=b("span",{class:"text-danger ms-1"},"*",-1),Pbe={key:2,class:"flex-row flex align-items-end justify-content-center"},Obe=["onClick"],Bbe=b("i",{class:"bi bi-wrench-adjustable-circle pe-2"},null,-1),Lbe={class:"d-flex align-items-center pointer ms-3 py-1 text-hover"},Rbe=b("i",{class:"bi bi-wrench-adjustable-circle pe-2"},null,-1),Nbe=["data-bs-target"],$be=b("i",{class:"bi bi-trash pe-2"},null,-1),jbe=["onClick"],zbe=b("i",{class:"bi bi-pencil-square pe-2"},null,-1),Fbe={key:4,class:"flex-row flex ms-3 pointer"},Vbe=["onClick"],Ube=["onClick"],Hbe={class:"modal fade",id:"terminalTagModal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","data-bs-focus":"false","aria-hidden":"true"},Wbe={class:"modal-dialog modal-dialog-centered"},Gbe={class:"modal-content h-100"},Kbe=b("div",{class:"modal-header"},[b("h5",{class:"modal-title",id:"staticBackdropLabel"},"服务器标签管理"),b("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Ybe={class:"d-flex flex-column flex-wrap modal-body p-4"},qbe=b("div",null," 已选标签 ",-1),Zbe={class:"d-flex flex-fill flex-wrap"},Qbe=["onClick"],Jbe={key:0,class:"py-2 px-4 mt-2 rounded-4 bd-light color-light"},Xbe=b("div",{class:"mt-4"}," 可选标签 ",-1),eve={class:"d-flex flex-fill flex-wrap"},tve=["onClick"],nve={key:0,class:"py-2 px-4 mt-2 rounded-4 bd-light color-light"},ive={__name:"server",setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ve({team:l.params.team,tabTitle:["活跃的","已归档的"],ip:"",port:22,user:"root",password:"",mark:"",items:[],tags:[],currTerminalUUID:"",inTags:[],exTags:[]});Ue(()=>{d(),f()});let d=()=>{r.post(r.urls.terminal_list.format(o.team)).then(function(v){o.items=v.data})},m=()=>{if(!o.ip||!o.port||!o.user||!o.password||!o.mark){r.bus.emit("alertDanger","有必填字段为空");return}let v={ip:o.ip,port:o.port,user:o.user,password:o.password,mark:o.mark};r.post(r.urls.terminal_add.format(o.team),v).then(function(A){A.data.code===200&&(d(),r.bus.emit("alertSuccess","更新成功"))}).catch(function(A){r.bus.emit("alertDanger",A.response.data.error)})},u=v=>{if(!v.ip||!v.port||!v.user||!v.password||!v.mark){r.bus.emit("alertDanger","有必填字段为空");return}let A={uuid:v.uuid,port:v.port,ip:v.ip,user:v.user,password:v.password,mark:v.mark};r.post(r.urls.terminal_update.format(o.team),A).then(function(T){T.data.code===200&&(d(),r.bus.emit("alertSuccess","更新成功"))}).catch(function(T){r.bus.emit("alertDanger",T.response.data.error)})},h=v=>{v&&r.post(r.urls.terminal_delete.format(o.team,v)).then(function(A){A.data.code===200&&(d(),r.bus.emit("alertSuccess","更新成功"))}).catch(function(A){r.bus.emit("alertDanger",A.response.data.error)})},f=()=>{r.post(r.urls.terminal_tag_list.format(o.team),{with_count:!1}).then(function(v){o.tags=v.data})},g=v=>{o.currTerminalUUID=v,r.post(r.urls.terminal_tags_by_terminal.format(o.team,v)).then(function(A){o.exTags=[],o.inTags=A.data;for(let T=0;T<o.tags.length;T++){let x=o.tags[T],C=!1;for(let D=0;D<o.inTags.length;D++){let S=o.inTags[D];if(x.uuid===S.uuid){C=!0;break}}C||o.exTags.push(x)}})},y=v=>{r.post(r.urls.terminal_tag_config_add.format(o.team,o.currTerminalUUID,v)).then(function(A){A.data.code===200&&(d(),g(o.currTerminalUUID))}).catch(function(A){r.bus.emit("alertDanger",A.response.data.error)})},k=v=>{r.post(r.urls.terminal_tag_config_delete.format(o.team,o.currTerminalUUID,v)).then(function(A){A.data.code===200&&(d(),g(o.currTerminalUUID))}).catch(function(A){r.bus.emit("alertDanger",A.response.data.error)})};return(v,A)=>{const T=Ht("router-link");return F(),U(xe,null,[ue(En,{title:"服务器配置",desc:"在服务器配置页面，你可以添加、修改、删除服务器，还可以给服务器添加多个标签。"}),b("div",q_e,[b("div",Z_e,[b("div",Q_e,[ct(b("input",{type:"text","onUpdate:modelValue":A[0]||(A[0]=x=>P(o).ip=x),class:"form-control",placeholder:"IP"},null,512),[[gt,P(o).ip,void 0,{trim:!0}]]),J_e]),b("div",X_e,[ct(b("input",{type:"text","onUpdate:modelValue":A[1]||(A[1]=x=>P(o).port=x),class:"form-control",placeholder:"端口"},null,512),[[gt,P(o).port,void 0,{number:!0,trim:!0}]]),ebe]),b("div",tbe,[ct(b("input",{type:"text","onUpdate:modelValue":A[2]||(A[2]=x=>P(o).user=x),class:"form-control",placeholder:"用户"},null,512),[[gt,P(o).user,void 0,{trim:!0}]]),nbe]),b("div",ibe,[ct(b("input",{type:"password","onUpdate:modelValue":A[3]||(A[3]=x=>P(o).password=x),class:"form-control",placeholder:"密码"},null,512),[[gt,P(o).password,void 0,{trim:!0}]]),obe]),b("div",rbe,[ct(b("input",{type:"text","onUpdate:modelValue":A[4]||(A[4]=x=>P(o).mark=x),class:"form-control",placeholder:"服务器备注"},null,512),[[gt,P(o).mark,void 0,{trim:!0}]]),sbe]),b("div",abe,[b("button",{type:"button",class:"btn btn-primary text-nowrap",onClick:A[5]||(A[5]=(...x)=>P(m)&&P(m)(...x))},"添加")]),lbe])]),cbe,b("div",dbe,[(F(!0),U(xe,null,Xe(P(o).items,x=>(F(),U("div",{class:"flex-row flex align-items-center px-1 py-3 pages border-bottom",key:x.uuid},[x.edit?(F(),U("div",gbe,[b("div",_be,[ct(b("input",{ref_for:!0,ref:x.uuid,"onUpdate:modelValue":C=>x.ip=C,placeholder:"IP",class:"form-control"},null,8,bbe),[[gt,x.ip,void 0,{trim:!0}]]),vbe]),b("div",kbe,[ct(b("input",{"onUpdate:modelValue":C=>x.port=C,placeholder:"端口",class:"form-control"},null,8,wbe),[[gt,x.port,void 0,{number:!0,trim:!0}]]),ybe]),b("div",Cbe,[ct(b("input",{"onUpdate:modelValue":C=>x.user=C,placeholder:"用户",class:"form-control"},null,8,Abe),[[gt,x.user,void 0,{trim:!0}]]),xbe]),b("div",Sbe,[ct(b("input",{type:"password","onUpdate:modelValue":C=>x.password=C,placeholder:"密码",class:"form-control"},null,8,Ebe),[[gt,x.password,void 0,{trim:!0}]]),Dbe]),b("div",Tbe,[ct(b("input",{"onUpdate:modelValue":C=>x.mark=C,placeholder:"服务器备注",class:"form-control"},null,8,Ibe),[[gt,x.mark,void 0,{trim:!0}]]),Mbe])])):(F(),U("div",ube,[b("div",hbe,[b("div",fbe,_e(x.mark),1),b("div",pbe,_e(x.ip)+":"+_e(x.port),1)]),b("div",mbe,_e(x.tags),1)])),x.edit?ve("",!0):(F(),U("div",Pbe,[b("div",{class:"d-flex align-items-center pointer ms-3 py-1 color-hover","data-bs-toggle":"modal","data-bs-target":"#terminalTagModal",onClick:C=>P(g)(x.uuid)},[Bbe,rt("标签 ")],8,Obe),b("div",Lbe,[ue(T,{to:{name:"TerminalPermission",params:{team:P(o).team,terminal:x.uuid}}},{default:qe(()=>[Rbe,rt("权限")]),_:2},1032,["to"])]),b("div",{class:"d-flex align-items-center pointer ms-3 py-1 color-hover","data-bs-toggle":"modal","data-bs-target":"#delTerminalModal"+x.uuid},[$be,rt("删除 ")],8,Nbe),ue(qo,{desc:"确定是否删除服务器-->"+x.mark+"("+x.ip+")？",param:x.uuid,onSubmit:P(h),id:"delTerminalModal"+x.uuid},null,8,["desc","param","onSubmit","id"])])),x.edit?x.edit?(F(),U("div",Fbe,[b("button",{type:"button",class:"btn btn-primary text-nowrap",onClick:C=>{P(u)(x)}},"更新",8,Vbe),b("button",{type:"button",class:"btn btn-secondary text-nowrap ms-4",onClick:C=>{x.edit=!1}},"取消",8,Ube)])):ve("",!0):(F(),U("div",{key:3,class:"ms-3 pointer color-hover",onClick:C=>{x.edit=!0,v.$nextTick(()=>{v.$refs[x.uuid][0].focus()})}},[zbe,rt("编辑 ")],8,jbe))]))),128))]),b("div",Hbe,[b("div",Wbe,[b("div",Gbe,[Kbe,b("div",Ybe,[qbe,b("div",Zbe,[(F(!0),U(xe,null,Xe(P(o).inTags,x=>(F(),U("div",{key:x.uuid,class:"py-2 px-4 mt-2 me-2 rounded-4 border pointer hover",onClick:C=>{P(k)(x.uuid)}},_e(x.tag),9,Qbe))),128)),P(o).inTags.length===0?(F(),U("div",Jbe,"暂无标签")):ve("",!0)]),Xbe,b("div",eve,[(F(!0),U(xe,null,Xe(P(o).exTags,x=>(F(),U("div",{key:x.uuid,class:"py-2 px-4 mt-2 me-2 rounded-4 border pointer hover",onClick:C=>{P(y)(x.uuid)}},_e(x.tag),9,tve))),128)),P(o).exTags.length===0?(F(),U("div",nve,"暂无标签")):ve("",!0)])])])])])],64)}}},ove={class:"flex-column flex flex-fill p-4"},rve={class:"d-flex flex-row flex-fill"},sve={class:"d-flex flex-row align-items-center"},ave=b("span",{class:"text-danger ms-1"},"*",-1),lve={class:"flex-row flex align-items-center ms-4"},cve=b("div",{class:"flex-fill"},"   ",-1),dve=b("div",{class:"tab-title flex-row flex border-bottom ps-4"},null,-1),uve={class:"px-4"},hve={key:0,class:"d-flex flex-fill"},fve={class:"d-flex flex-fill w-50"},pve={class:"d-flex flex-fill w-50"},mve={key:1,class:"d-flex flex-fill align-items-center me-4 period"},gve={class:"flex-row flex w-75 align-items-center"},_ve=["onUpdate:modelValue"],bve=b("span",{class:"text-danger ms-1"},"*",-1),vve={key:2,class:"flex-row flex align-items-end justify-content-center"},kve=["data-bs-target"],wve=b("i",{class:"bi bi-trash pe-2"},null,-1),yve=["onClick"],Cve=b("i",{class:"bi bi-pencil-square pe-2"},null,-1),Ave={key:4,class:"flex-row flex ms-3 pointer"},xve=["onClick"],Sve=["onClick"],Eve={__name:"tag",setup(i){const{proxy:r}=Ke();at();let l=tt(),o=Ve({team:l.params.team,tag:"",items:[]});Ue(()=>{d()});let d=()=>{r.post(r.urls.terminal_tag_list.format(o.team),{with_count:!0}).then(function(f){o.items=f.data})},m=()=>{if(!o.tag){r.bus.emit("alertDanger","有必填字段为空");return}let f={tag:o.tag};r.post(r.urls.terminal_tag_save.format(o.team),f).then(function(g){g.data.code===200&&(d(),r.bus.emit("alertSuccess","更新成功"))}).catch(function(g){r.bus.emit("alertDanger",g.response.data.error)})},u=f=>{if(!f.uuid||!f.tag){r.bus.emit("alertDanger","有必填字段为空");return}let g={uuid:f.uuid,tag:f.tag};r.post(r.urls.terminal_tag_save.format(o.team),g).then(function(y){y.data.code===200&&(d(),r.bus.emit("alertSuccess","更新成功"))}).catch(function(y){r.bus.emit("alertDanger",y.response.data.error)})},h=f=>{f&&r.post(r.urls.terminal_tag_delete.format(o.team,f)).then(function(g){g.data.code===200&&(d(),r.bus.emit("alertSuccess","更新成功"))}).catch(function(g){r.bus.emit("alertDanger",g.response.data.error)})};return(f,g)=>(F(),U(xe,null,[ue(En,{title:"标签配置",desc:"在标签配置页面，你可以添加、修改、删除服务器标签。"}),b("div",ove,[b("div",rve,[b("div",sve,[ct(b("input",{type:"text","onUpdate:modelValue":g[0]||(g[0]=y=>P(o).tag=y),class:"form-control",placeholder:"标签名"},null,512),[[gt,P(o).tag,void 0,{trim:!0}]]),ave]),b("div",lve,[b("button",{type:"button",class:"btn btn-primary text-nowrap",onClick:g[1]||(g[1]=(...y)=>P(m)&&P(m)(...y))},"添加")]),cve])]),dve,b("div",uve,[(F(!0),U(xe,null,Xe(P(o).items,y=>(F(),U("div",{class:"flex-row flex align-items-center px-1 py-3 pages border-bottom",key:y.uuid,style:{height:"60px"}},[y.edit?(F(),U("div",mve,[b("div",gve,[ct(b("input",{ref_for:!0,ref:y.uuid,"onUpdate:modelValue":k=>y.tag=k,placeholder:"IP",class:"form-control"},null,8,_ve),[[gt,y.tag,void 0,{trim:!0}]]),bve])])):(F(),U("div",hve,[b("div",fve,_e(y.tag),1),b("div",pve,_e(y.terminal_count)+" 个服务器 ",1)])),y.edit?ve("",!0):(F(),U("div",vve,[b("div",{class:"d-flex align-items-center pointer ms-3 py-1 color-hover","data-bs-toggle":"modal","data-bs-target":"#delTerminalTagModal"+y.uuid},[wve,rt("删除 ")],8,kve),ue(qo,{desc:"确定是否删除服务器标签-->"+y.tag+")？",param:y.uuid,onSubmit:P(h),id:"delTerminalTagModal"+y.uuid},null,8,["desc","param","onSubmit","id"])])),y.edit?y.edit?(F(),U("div",Ave,[b("button",{type:"button",class:"btn btn-primary text-nowrap",onClick:k=>{P(u)(y)}},"更新",8,xve),b("button",{type:"button",class:"btn btn-secondary text-nowrap ms-4",onClick:k=>{y.edit=!1}},"取消",8,Sve)])):ve("",!0):(F(),U("div",{key:3,class:"ms-3 pointer color-hover",onClick:k=>{y.edit=!0,f.$nextTick(()=>{f.$refs[y.uuid][0].focus()})}},[Cve,rt("编辑 ")],8,yve))]))),128))])],64))}};var $6={exports:{}};(function(i,r){(function(l,o){i.exports=o()})(self,()=>(()=>{var l={4567:function(u,h,f){var g=this&&this.__decorate||function(M,B,R,L){var j,N=arguments.length,z=N<3?B:L===null?L=Object.getOwnPropertyDescriptor(B,R):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")z=Reflect.decorate(M,B,R,L);else for(var Z=M.length-1;Z>=0;Z--)(j=M[Z])&&(z=(N<3?j(z):N>3?j(B,R,z):j(B,R))||z);return N>3&&z&&Object.defineProperty(B,R,z),z},y=this&&this.__param||function(M,B){return function(R,L){B(R,L,M)}};Object.defineProperty(h,"__esModule",{value:!0}),h.AccessibilityManager=void 0;const k=f(9042),v=f(6114),A=f(9924),T=f(844),x=f(5596),C=f(4725),D=f(3656);let S=class extends T.Disposable{constructor(M,B){super(),this._terminal=M,this._renderService=B,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let R=0;R<this._terminal.rows;R++)this._rowElements[R]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[R]);if(this._topBoundaryFocusListener=R=>this._handleBoundaryFocus(R,0),this._bottomBoundaryFocusListener=R=>this._handleBoundaryFocus(R,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new A.TimeBasedDebouncer(this._announceCharacters.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._liveRegionDebouncer),this.register(this._terminal.onResize(R=>this._handleResize(R.rows))),this.register(this._terminal.onRender(R=>this._refreshRows(R.start,R.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(R=>this._handleChar(R))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(R=>this._handleTab(R))),this.register(this._terminal.onKey(R=>this._handleKey(R.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new x.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,D.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,T.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(M){for(let B=0;B<M;B++)this._handleChar(" ")}_handleChar(M){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==M&&(this._charsToAnnounce+=M):this._charsToAnnounce+=M,M===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=k.tooMuchOutput)),v.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,v.isMac&&this._liveRegion.remove()}_handleKey(M){this._clearLiveRegion(),/\p{Control}/u.test(M)||this._charsToConsume.push(M)}_refreshRows(M,B){this._liveRegionDebouncer.refresh(M,B,this._terminal.rows)}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(M,B){const R=M.target,L=this._rowElements[B===0?1:this._rowElements.length-2];if(R.getAttribute("aria-posinset")===(B===0?"1":`${this._terminal.buffer.lines.length}`)||M.relatedTarget!==L)return;let j,N;if(B===0?(j=R,N=this._rowElements.pop(),this._rowContainer.removeChild(N)):(j=this._rowElements.shift(),N=R,this._rowContainer.removeChild(j)),j.removeEventListener("focus",this._topBoundaryFocusListener),N.removeEventListener("focus",this._bottomBoundaryFocusListener),B===0){const z=this._createAccessibilityTreeNode();this._rowElements.unshift(z),this._rowContainer.insertAdjacentElement("afterbegin",z)}else{const z=this._createAccessibilityTreeNode();this._rowElements.push(z),this._rowContainer.appendChild(z)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(B===0?-1:1),this._rowElements[B===0?1:this._rowElements.length-2].focus(),M.preventDefault(),M.stopImmediatePropagation()}_handleResize(M){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let B=this._rowContainer.children.length;B<this._terminal.rows;B++)this._rowElements[B]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[B]);for(;this._rowElements.length>M;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const M=document.createElement("div");return M.setAttribute("role","listitem"),M.tabIndex=-1,this._refreshRowDimensions(M),M}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let M=0;M<this._terminal.rows;M++)this._refreshRowDimensions(this._rowElements[M])}}_refreshRowDimensions(M){M.style.height=`${this._renderService.dimensions.css.cell.height}px`}};S=g([y(1,C.IRenderService)],S),h.AccessibilityManager=S},3614:(u,h)=>{function f(v){return v.replace(/\r?\n/g,"\r")}function g(v,A){return A?"\x1B[200~"+v+"\x1B[201~":v}function y(v,A,T){v=g(v=f(v),T.decPrivateModes.bracketedPasteMode),T.triggerDataEvent(v,!0),A.value=""}function k(v,A,T){const x=T.getBoundingClientRect(),C=v.clientX-x.left-10,D=v.clientY-x.top-10;A.style.width="20px",A.style.height="20px",A.style.left=`${C}px`,A.style.top=`${D}px`,A.style.zIndex="1000",A.focus()}Object.defineProperty(h,"__esModule",{value:!0}),h.rightClickHandler=h.moveTextAreaUnderMouseCursor=h.paste=h.handlePasteEvent=h.copyHandler=h.bracketTextForPaste=h.prepareTextForTerminal=void 0,h.prepareTextForTerminal=f,h.bracketTextForPaste=g,h.copyHandler=function(v,A){v.clipboardData&&v.clipboardData.setData("text/plain",A.selectionText),v.preventDefault()},h.handlePasteEvent=function(v,A,T){v.stopPropagation(),v.clipboardData&&y(v.clipboardData.getData("text/plain"),A,T)},h.paste=y,h.moveTextAreaUnderMouseCursor=k,h.rightClickHandler=function(v,A,T,x,C){k(v,A,T),C&&x.rightClickSelect(v),A.value=x.selectionText,A.select()}},7239:(u,h,f)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ColorContrastCache=void 0;const g=f(1505);h.ColorContrastCache=class{constructor(){this._color=new g.TwoKeyMap,this._css=new g.TwoKeyMap}setCss(y,k,v){this._css.set(y,k,v)}getCss(y,k){return this._css.get(y,k)}setColor(y,k,v){this._color.set(y,k,v)}getColor(y,k){return this._color.get(y,k)}clear(){this._color.clear(),this._css.clear()}}},3656:(u,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.addDisposableDomListener=void 0,h.addDisposableDomListener=function(f,g,y,k){f.addEventListener(g,y,k);let v=!1;return{dispose:()=>{v||(v=!0,f.removeEventListener(g,y,k))}}}},6465:function(u,h,f){var g=this&&this.__decorate||function(C,D,S,M){var B,R=arguments.length,L=R<3?D:M===null?M=Object.getOwnPropertyDescriptor(D,S):M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(C,D,S,M);else for(var j=C.length-1;j>=0;j--)(B=C[j])&&(L=(R<3?B(L):R>3?B(D,S,L):B(D,S))||L);return R>3&&L&&Object.defineProperty(D,S,L),L},y=this&&this.__param||function(C,D){return function(S,M){D(S,M,C)}};Object.defineProperty(h,"__esModule",{value:!0}),h.Linkifier2=void 0;const k=f(2585),v=f(8460),A=f(844),T=f(3656);let x=class extends A.Disposable{constructor(C){super(),this._bufferService=C,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new v.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new v.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,A.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,A.toDisposable)(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}get currentLink(){return this._currentLink}registerLinkProvider(C){return this._linkProviders.push(C),{dispose:()=>{const D=this._linkProviders.indexOf(C);D!==-1&&this._linkProviders.splice(D,1)}}}attachToDom(C,D,S){this._element=C,this._mouseService=D,this._renderService=S,this.register((0,T.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,T.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,T.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,T.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(C){if(this._lastMouseEvent=C,!this._element||!this._mouseService)return;const D=this._positionFromMouseEvent(C,this._element,this._mouseService);if(!D)return;this._isMouseOut=!1;const S=C.composedPath();for(let M=0;M<S.length;M++){const B=S[M];if(B.classList.contains("xterm"))break;if(B.classList.contains("xterm-hover"))return}this._lastBufferCell&&D.x===this._lastBufferCell.x&&D.y===this._lastBufferCell.y||(this._handleHover(D),this._lastBufferCell=D)}_handleHover(C){if(this._activeLine!==C.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(C,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,C)||(this._clearCurrentLink(),this._askForLink(C,!0))}_askForLink(C,D){var S,M;this._activeProviderReplies&&D||((S=this._activeProviderReplies)===null||S===void 0||S.forEach(R=>{R==null||R.forEach(L=>{L.link.dispose&&L.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=C.y);let B=!1;for(const[R,L]of this._linkProviders.entries())D?!((M=this._activeProviderReplies)===null||M===void 0)&&M.get(R)&&(B=this._checkLinkProviderResult(R,C,B)):L.provideLinks(C.y,j=>{var N,z;if(this._isMouseOut)return;const Z=j==null?void 0:j.map(K=>({link:K}));(N=this._activeProviderReplies)===null||N===void 0||N.set(R,Z),B=this._checkLinkProviderResult(R,C,B),((z=this._activeProviderReplies)===null||z===void 0?void 0:z.size)===this._linkProviders.length&&this._removeIntersectingLinks(C.y,this._activeProviderReplies)})}_removeIntersectingLinks(C,D){const S=new Set;for(let M=0;M<D.size;M++){const B=D.get(M);if(B)for(let R=0;R<B.length;R++){const L=B[R],j=L.link.range.start.y<C?0:L.link.range.start.x,N=L.link.range.end.y>C?this._bufferService.cols:L.link.range.end.x;for(let z=j;z<=N;z++){if(S.has(z)){B.splice(R--,1);break}S.add(z)}}}}_checkLinkProviderResult(C,D,S){var M;if(!this._activeProviderReplies)return S;const B=this._activeProviderReplies.get(C);let R=!1;for(let L=0;L<C;L++)this._activeProviderReplies.has(L)&&!this._activeProviderReplies.get(L)||(R=!0);if(!R&&B){const L=B.find(j=>this._linkAtPosition(j.link,D));L&&(S=!0,this._handleNewLink(L))}if(this._activeProviderReplies.size===this._linkProviders.length&&!S)for(let L=0;L<this._activeProviderReplies.size;L++){const j=(M=this._activeProviderReplies.get(L))===null||M===void 0?void 0:M.find(N=>this._linkAtPosition(N.link,D));if(j){S=!0,this._handleNewLink(j);break}}return S}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(C){if(!this._element||!this._mouseService||!this._currentLink)return;const D=this._positionFromMouseEvent(C,this._element,this._mouseService);D&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,D)&&this._currentLink.link.activate(C,this._currentLink.link.text)}_clearCurrentLink(C,D){this._element&&this._currentLink&&this._lastMouseEvent&&(!C||!D||this._currentLink.link.range.start.y>=C&&this._currentLink.link.range.end.y<=D)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,A.disposeArray)(this._linkCacheDisposables))}_handleNewLink(C){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const D=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);D&&this._linkAtPosition(C.link,D)&&(this._currentLink=C,this._currentLink.state={decorations:{underline:C.link.decorations===void 0||C.link.decorations.underline,pointerCursor:C.link.decorations===void 0||C.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,C.link,this._lastMouseEvent),C.link.decorations={},Object.defineProperties(C.link.decorations,{pointerCursor:{get:()=>{var S,M;return(M=(S=this._currentLink)===null||S===void 0?void 0:S.state)===null||M===void 0?void 0:M.decorations.pointerCursor},set:S=>{var M,B;!((M=this._currentLink)===null||M===void 0)&&M.state&&this._currentLink.state.decorations.pointerCursor!==S&&(this._currentLink.state.decorations.pointerCursor=S,this._currentLink.state.isHovered&&((B=this._element)===null||B===void 0||B.classList.toggle("xterm-cursor-pointer",S)))}},underline:{get:()=>{var S,M;return(M=(S=this._currentLink)===null||S===void 0?void 0:S.state)===null||M===void 0?void 0:M.decorations.underline},set:S=>{var M,B,R;!((M=this._currentLink)===null||M===void 0)&&M.state&&((R=(B=this._currentLink)===null||B===void 0?void 0:B.state)===null||R===void 0?void 0:R.decorations.underline)!==S&&(this._currentLink.state.decorations.underline=S,this._currentLink.state.isHovered&&this._fireUnderlineEvent(C.link,S))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(S=>{if(!this._currentLink)return;const M=S.start===0?0:S.start+1+this._bufferService.buffer.ydisp,B=this._bufferService.buffer.ydisp+1+S.end;if(this._currentLink.link.range.start.y>=M&&this._currentLink.link.range.end.y<=B&&(this._clearCurrentLink(M,B),this._lastMouseEvent&&this._element)){const R=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);R&&this._askForLink(R,!1)}})))}_linkHover(C,D,S){var M;!((M=this._currentLink)===null||M===void 0)&&M.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(D,!0),this._currentLink.state.decorations.pointerCursor&&C.classList.add("xterm-cursor-pointer")),D.hover&&D.hover(S,D.text)}_fireUnderlineEvent(C,D){const S=C.range,M=this._bufferService.buffer.ydisp,B=this._createLinkUnderlineEvent(S.start.x-1,S.start.y-M-1,S.end.x,S.end.y-M-1,void 0);(D?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(B)}_linkLeave(C,D,S){var M;!((M=this._currentLink)===null||M===void 0)&&M.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(D,!1),this._currentLink.state.decorations.pointerCursor&&C.classList.remove("xterm-cursor-pointer")),D.leave&&D.leave(S,D.text)}_linkAtPosition(C,D){const S=C.range.start.y*this._bufferService.cols+C.range.start.x,M=C.range.end.y*this._bufferService.cols+C.range.end.x,B=D.y*this._bufferService.cols+D.x;return S<=B&&B<=M}_positionFromMouseEvent(C,D,S){const M=S.getCoords(C,D,this._bufferService.cols,this._bufferService.rows);if(M)return{x:M[0],y:M[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(C,D,S,M,B){return{x1:C,y1:D,x2:S,y2:M,cols:this._bufferService.cols,fg:B}}};x=g([y(0,k.IBufferService)],x),h.Linkifier2=x},9042:(u,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.tooMuchOutput=h.promptLabel=void 0,h.promptLabel="Terminal input",h.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(u,h,f){var g=this&&this.__decorate||function(x,C,D,S){var M,B=arguments.length,R=B<3?C:S===null?S=Object.getOwnPropertyDescriptor(C,D):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(x,C,D,S);else for(var L=x.length-1;L>=0;L--)(M=x[L])&&(R=(B<3?M(R):B>3?M(C,D,R):M(C,D))||R);return B>3&&R&&Object.defineProperty(C,D,R),R},y=this&&this.__param||function(x,C){return function(D,S){C(D,S,x)}};Object.defineProperty(h,"__esModule",{value:!0}),h.OscLinkProvider=void 0;const k=f(511),v=f(2585);let A=class{constructor(x,C,D){this._bufferService=x,this._optionsService=C,this._oscLinkService=D}provideLinks(x,C){var D;const S=this._bufferService.buffer.lines.get(x-1);if(!S)return void C(void 0);const M=[],B=this._optionsService.rawOptions.linkHandler,R=new k.CellData,L=S.getTrimmedLength();let j=-1,N=-1,z=!1;for(let Z=0;Z<L;Z++)if(N!==-1||S.hasContent(Z)){if(S.loadCell(Z,R),R.hasExtendedAttrs()&&R.extended.urlId){if(N===-1){N=Z,j=R.extended.urlId;continue}z=R.extended.urlId!==j}else N!==-1&&(z=!0);if(z||N!==-1&&Z===L-1){const K=(D=this._oscLinkService.getLinkData(j))===null||D===void 0?void 0:D.uri;if(K){const H={start:{x:N+1,y:x},end:{x:Z+(z||Z!==L-1?0:1),y:x}};let Y=!1;if(!(B!=null&&B.allowNonHttpProtocols))try{const oe=new URL(K);["http:","https:"].includes(oe.protocol)||(Y=!0)}catch{Y=!0}Y||M.push({text:K,range:H,activate:(oe,me)=>B?B.activate(oe,me,H):T(0,me),hover:(oe,me)=>{var re;return(re=B==null?void 0:B.hover)===null||re===void 0?void 0:re.call(B,oe,me,H)},leave:(oe,me)=>{var re;return(re=B==null?void 0:B.leave)===null||re===void 0?void 0:re.call(B,oe,me,H)}})}z=!1,R.hasExtendedAttrs()&&R.extended.urlId?(N=Z,j=R.extended.urlId):(N=-1,j=-1)}}C(M)}};function T(x,C){if(confirm(`Do you want to navigate to ${C}?

WARNING: This link could potentially be dangerous`)){const D=window.open();if(D){try{D.opener=null}catch{}D.location.href=C}else console.warn("Opening link blocked as opener could not be cleared")}}A=g([y(0,v.IBufferService),y(1,v.IOptionsService),y(2,v.IOscLinkService)],A),h.OscLinkProvider=A},6193:(u,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.RenderDebouncer=void 0,h.RenderDebouncer=class{constructor(f,g){this._parentWindow=f,this._renderCallback=g,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(f){return this._refreshCallbacks.push(f),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(f,g,y){this._rowCount=y,f=f!==void 0?f:0,g=g!==void 0?g:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,f):f,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,g):g,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const f=Math.max(this._rowStart,0),g=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(f,g),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const f of this._refreshCallbacks)f(0);this._refreshCallbacks=[]}}},5596:(u,h,f)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ScreenDprMonitor=void 0;const g=f(844);class y extends g.Disposable{constructor(v){super(),this._parentWindow=v,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,g.toDisposable)(()=>{this.clearListener()}))}setListener(v){this._listener&&this.clearListener(),this._listener=v,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var v;this._outerListener&&((v=this._resolutionMediaMatchList)===null||v===void 0||v.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}h.ScreenDprMonitor=y},3236:(u,h,f)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Terminal=void 0;const g=f(2950),y=f(1680),k=f(3614),v=f(2584),A=f(5435),T=f(9312),x=f(6114),C=f(3656),D=f(9042),S=f(4567),M=f(1296),B=f(7399),R=f(8460),L=f(8437),j=f(3230),N=f(4725),z=f(428),Z=f(8934),K=f(6465),H=f(5114),Y=f(8969),oe=f(8055),me=f(4269),re=f(5941),W=f(3107),J=f(5744),q=f(9074),ae=f(2585),be=f(3730),ke=f(844),se=f(6731),ee=typeof window<"u"?window.document:null;class le extends Y.CoreTerminal{constructor(X={}){super(X),this.browser=x,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._onCursorMove=this.register(new R.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new R.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new R.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new R.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new R.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new R.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new R.EventEmitter),this._onBlur=this.register(new R.EventEmitter),this._onA11yCharEmitter=this.register(new R.EventEmitter),this._onA11yTabEmitter=this.register(new R.EventEmitter),this._onWillOpen=this.register(new R.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(K.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(be.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(q.DecorationService),this._instantiationService.setService(ae.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((ce,pe)=>this.refresh(ce,pe))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(ce=>this._reportWindowsOptions(ce))),this.register(this._inputHandler.onColor(ce=>this._handleColorEvent(ce))),this.register((0,R.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,R.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,R.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,R.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(ce=>this._afterResize(ce.cols,ce.rows))),this.register((0,ke.toDisposable)(()=>{var ce,pe;this._customKeyEventHandler=void 0,(pe=(ce=this.element)===null||ce===void 0?void 0:ce.parentNode)===null||pe===void 0||pe.removeChild(this.element)}))}get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}_handleColorEvent(X){if(this._themeService)for(const ce of X){let pe,we="";switch(ce.index){case 256:pe="foreground",we="10";break;case 257:pe="background",we="11";break;case 258:pe="cursor",we="12";break;default:pe="ansi",we="4;"+ce.index}switch(ce.type){case 0:const Ze=oe.color.toColorRGB(pe==="ansi"?this._themeService.colors.ansi[ce.index]:this._themeService.colors[pe]);this.coreService.triggerDataEvent(`${v.C0.ESC}]${we};${(0,re.toRgbString)(Ze)}${v.C1_ESCAPED.ST}`);break;case 1:if(pe==="ansi")this._themeService.modifyColors(ne=>ne.ansi[ce.index]=oe.rgba.toColor(...ce.color));else{const ne=pe;this._themeService.modifyColors(de=>de[ne]=oe.rgba.toColor(...ce.color))}break;case 2:this._themeService.restoreColor(ce.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(X){var ce;X?!this._accessibilityManager&&this._renderService&&(this._accessibilityManager=this._instantiationService.createInstance(S.AccessibilityManager,this)):((ce=this._accessibilityManager)===null||ce===void 0||ce.dispose(),this._accessibilityManager=void 0)}_handleTextAreaFocus(X){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(v.C0.ESC+"[I"),this.updateCursorStyle(X),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var X;return(X=this.textarea)===null||X===void 0?void 0:X.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(v.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const X=this.buffer.ybase+this.buffer.y,ce=this.buffer.lines.get(X);if(!ce)return;const pe=Math.min(this.buffer.x,this.cols-1),we=this._renderService.dimensions.css.cell.height,Ze=ce.getWidth(pe),ne=this._renderService.dimensions.css.cell.width*Ze,de=this.buffer.y*this._renderService.dimensions.css.cell.height,ge=pe*this._renderService.dimensions.css.cell.width;this.textarea.style.left=ge+"px",this.textarea.style.top=de+"px",this.textarea.style.width=ne+"px",this.textarea.style.height=we+"px",this.textarea.style.lineHeight=we+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,C.addDisposableDomListener)(this.element,"copy",ce=>{this.hasSelection()&&(0,k.copyHandler)(ce,this._selectionService)}));const X=ce=>(0,k.handlePasteEvent)(ce,this.textarea,this.coreService);this.register((0,C.addDisposableDomListener)(this.textarea,"paste",X)),this.register((0,C.addDisposableDomListener)(this.element,"paste",X)),x.isFirefox?this.register((0,C.addDisposableDomListener)(this.element,"mousedown",ce=>{ce.button===2&&(0,k.rightClickHandler)(ce,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,C.addDisposableDomListener)(this.element,"contextmenu",ce=>{(0,k.rightClickHandler)(ce,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),x.isLinux&&this.register((0,C.addDisposableDomListener)(this.element,"auxclick",ce=>{ce.button===1&&(0,k.moveTextAreaUnderMouseCursor)(ce,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,C.addDisposableDomListener)(this.textarea,"keyup",X=>this._keyUp(X),!0)),this.register((0,C.addDisposableDomListener)(this.textarea,"keydown",X=>this._keyDown(X),!0)),this.register((0,C.addDisposableDomListener)(this.textarea,"keypress",X=>this._keyPress(X),!0)),this.register((0,C.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,C.addDisposableDomListener)(this.textarea,"compositionupdate",X=>this._compositionHelper.compositionupdate(X))),this.register((0,C.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,C.addDisposableDomListener)(this.textarea,"input",X=>this._inputEvent(X),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(X){var ce;if(!X)throw new Error("Terminal requires a parent element.");X.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=X.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),X.appendChild(this.element);const pe=ee.createDocumentFragment();this._viewportElement=ee.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),pe.appendChild(this._viewportElement),this._viewportScrollArea=ee.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=ee.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=ee.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),pe.appendChild(this.screenElement),this.textarea=ee.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",D.promptLabel),x.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(H.CoreBrowserService,this.textarea,(ce=this._document.defaultView)!==null&&ce!==void 0?ce:window),this._instantiationService.setService(N.ICoreBrowserService,this._coreBrowserService),this.register((0,C.addDisposableDomListener)(this.textarea,"focus",we=>this._handleTextAreaFocus(we))),this.register((0,C.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(z.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(N.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(se.ThemeService),this._instantiationService.setService(N.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(me.CharacterJoinerService),this._instantiationService.setService(N.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(j.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(N.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(we=>this._onRender.fire(we))),this.onResize(we=>this._renderService.resize(we.cols,we.rows)),this._compositionView=ee.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(g.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(pe);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(Z.MouseService),this._instantiationService.setService(N.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(y.Viewport,we=>this.scrollLines(we,!0,1),this._viewportElement,this._viewportScrollArea),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(T.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(N.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(we=>this.scrollLines(we.amount,we.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(we=>this._renderService.handleSelectionChanged(we.start,we.end,we.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(we=>{this.textarea.value=we,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(we=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,C.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(W.BufferDecorationRenderer,this.screenElement)),this.register((0,C.addDisposableDomListener)(this.element,"mousedown",we=>this._selectionService.handleMouseDown(we))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager=this._instantiationService.createInstance(S.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",we=>this._handleScreenReaderModeOptionChange(we))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(J.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",we=>{!this._overviewRulerRenderer&&we&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(J.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(M.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const X=this,ce=this.element;function pe(ne){const de=X._mouseService.getMouseReportCoords(ne,X.screenElement);if(!de)return!1;let ge,Ee;switch(ne.overrideType||ne.type){case"mousemove":Ee=32,ne.buttons===void 0?(ge=3,ne.button!==void 0&&(ge=ne.button<3?ne.button:3)):ge=1&ne.buttons?0:4&ne.buttons?1:2&ne.buttons?2:3;break;case"mouseup":Ee=0,ge=ne.button<3?ne.button:3;break;case"mousedown":Ee=1,ge=ne.button<3?ne.button:3;break;case"wheel":if(X.viewport.getLinesScrolled(ne)===0)return!1;Ee=ne.deltaY<0?0:1,ge=4;break;default:return!1}return!(Ee===void 0||ge===void 0||ge>4)&&X.coreMouseService.triggerMouseEvent({col:de.col,row:de.row,x:de.x,y:de.y,button:ge,action:Ee,ctrl:ne.ctrlKey,alt:ne.altKey,shift:ne.shiftKey})}const we={mouseup:null,wheel:null,mousedrag:null,mousemove:null},Ze={mouseup:ne=>(pe(ne),ne.buttons||(this._document.removeEventListener("mouseup",we.mouseup),we.mousedrag&&this._document.removeEventListener("mousemove",we.mousedrag)),this.cancel(ne)),wheel:ne=>(pe(ne),this.cancel(ne,!0)),mousedrag:ne=>{ne.buttons&&pe(ne)},mousemove:ne=>{ne.buttons||pe(ne)}};this.register(this.coreMouseService.onProtocolChange(ne=>{ne?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(ne)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&ne?we.mousemove||(ce.addEventListener("mousemove",Ze.mousemove),we.mousemove=Ze.mousemove):(ce.removeEventListener("mousemove",we.mousemove),we.mousemove=null),16&ne?we.wheel||(ce.addEventListener("wheel",Ze.wheel,{passive:!1}),we.wheel=Ze.wheel):(ce.removeEventListener("wheel",we.wheel),we.wheel=null),2&ne?we.mouseup||(we.mouseup=Ze.mouseup):(this._document.removeEventListener("mouseup",we.mouseup),we.mouseup=null),4&ne?we.mousedrag||(we.mousedrag=Ze.mousedrag):(this._document.removeEventListener("mousemove",we.mousedrag),we.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,C.addDisposableDomListener)(ce,"mousedown",ne=>{if(ne.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(ne))return pe(ne),we.mouseup&&this._document.addEventListener("mouseup",we.mouseup),we.mousedrag&&this._document.addEventListener("mousemove",we.mousedrag),this.cancel(ne)})),this.register((0,C.addDisposableDomListener)(ce,"wheel",ne=>{if(!we.wheel){if(!this.buffer.hasScrollback){const de=this.viewport.getLinesScrolled(ne);if(de===0)return;const ge=v.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(ne.deltaY<0?"A":"B");let Ee="";for(let Ie=0;Ie<Math.abs(de);Ie++)Ee+=ge;return this.coreService.triggerDataEvent(Ee,!0),this.cancel(ne,!0)}return this.viewport.handleWheel(ne)?this.cancel(ne):void 0}},{passive:!1})),this.register((0,C.addDisposableDomListener)(ce,"touchstart",ne=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(ne),this.cancel(ne)},{passive:!0})),this.register((0,C.addDisposableDomListener)(ce,"touchmove",ne=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(ne)?void 0:this.cancel(ne)},{passive:!1}))}refresh(X,ce){var pe;(pe=this._renderService)===null||pe===void 0||pe.refreshRows(X,ce)}updateCursorStyle(X){var ce;!((ce=this._selectionService)===null||ce===void 0)&&ce.shouldColumnSelect(X)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(X,ce,pe=0){super.scrollLines(X,ce,pe),this.refresh(0,this.rows-1)}paste(X){(0,k.paste)(X,this.textarea,this.coreService)}attachCustomKeyEventHandler(X){this._customKeyEventHandler=X}registerLinkProvider(X){return this.linkifier2.registerLinkProvider(X)}registerCharacterJoiner(X){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const ce=this._characterJoinerService.register(X);return this.refresh(0,this.rows-1),ce}deregisterCharacterJoiner(X){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(X)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}addMarker(X){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+X)}registerDecoration(X){return this._decorationService.registerDecoration(X)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(X,ce,pe){this._selectionService.setSelection(X,ce,pe)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var X;(X=this._selectionService)===null||X===void 0||X.clearSelection()}selectAll(){var X;(X=this._selectionService)===null||X===void 0||X.selectAll()}selectLines(X,ce){var pe;(pe=this._selectionService)===null||pe===void 0||pe.selectLines(X,ce)}_keyDown(X){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(X)===!1)return!1;const ce=this.browser.isMac&&this.options.macOptionIsMeta&&X.altKey;if(!ce&&!this._compositionHelper.keydown(X))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this._bufferService.scrollToBottom(),!1;ce||X.key!=="Dead"&&X.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const pe=(0,B.evaluateKeyboardEvent)(X,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(X),pe.type===3||pe.type===2){const we=this.rows-1;return this.scrollLines(pe.type===2?-we:we),this.cancel(X,!0)}return pe.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,X)||(pe.cancel&&this.cancel(X,!0),!pe.key||!!(X.key&&!X.ctrlKey&&!X.altKey&&!X.metaKey&&X.key.length===1&&X.key.charCodeAt(0)>=65&&X.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(pe.key!==v.C0.ETX&&pe.key!==v.C0.CR||(this.textarea.value=""),this._onKey.fire({key:pe.key,domEvent:X}),this._showCursor(),this.coreService.triggerDataEvent(pe.key,!0),!this.optionsService.rawOptions.screenReaderMode||X.altKey||X.ctrlKey?this.cancel(X,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(X,ce){const pe=X.isMac&&!this.options.macOptionIsMeta&&ce.altKey&&!ce.ctrlKey&&!ce.metaKey||X.isWindows&&ce.altKey&&ce.ctrlKey&&!ce.metaKey||X.isWindows&&ce.getModifierState("AltGraph");return ce.type==="keypress"?pe:pe&&(!ce.keyCode||ce.keyCode>47)}_keyUp(X){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(X)===!1||(function(ce){return ce.keyCode===16||ce.keyCode===17||ce.keyCode===18}(X)||this.focus(),this.updateCursorStyle(X),this._keyPressHandled=!1)}_keyPress(X){let ce;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(X)===!1)return!1;if(this.cancel(X),X.charCode)ce=X.charCode;else if(X.which===null||X.which===void 0)ce=X.keyCode;else{if(X.which===0||X.charCode===0)return!1;ce=X.which}return!(!ce||(X.altKey||X.ctrlKey||X.metaKey)&&!this._isThirdLevelShift(this.browser,X)||(ce=String.fromCharCode(ce),this._onKey.fire({key:ce,domEvent:X}),this._showCursor(),this.coreService.triggerDataEvent(ce,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(X){if(X.data&&X.inputType==="insertText"&&(!X.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const ce=X.data;return this.coreService.triggerDataEvent(ce,!0),this.cancel(X),!0}return!1}resize(X,ce){X!==this.cols||ce!==this.rows?super.resize(X,ce):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(X,ce){var pe,we;(pe=this._charSizeService)===null||pe===void 0||pe.measure(),(we=this.viewport)===null||we===void 0||we.syncScrollArea(!0)}clear(){if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let X=1;X<this.rows;X++)this.buffer.lines.push(this.buffer.getBlankLine(L.DEFAULT_ATTR_DATA));this.refresh(0,this.rows-1),this._onScroll.fire({position:this.buffer.ydisp,source:0})}}reset(){var X,ce;this.options.rows=this.rows,this.options.cols=this.cols;const pe=this._customKeyEventHandler;this._setup(),super.reset(),(X=this._selectionService)===null||X===void 0||X.reset(),this._decorationService.reset(),this._customKeyEventHandler=pe,this.refresh(0,this.rows-1),(ce=this.viewport)===null||ce===void 0||ce.syncScrollArea()}clearTextureAtlas(){var X;(X=this._renderService)===null||X===void 0||X.clearTextureAtlas()}_reportFocus(){var X;!((X=this.element)===null||X===void 0)&&X.classList.contains("focus")?this.coreService.triggerDataEvent(v.C0.ESC+"[I"):this.coreService.triggerDataEvent(v.C0.ESC+"[O")}_reportWindowsOptions(X){if(this._renderService)switch(X){case A.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const ce=this._renderService.dimensions.css.canvas.width.toFixed(0),pe=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${v.C0.ESC}[4;${pe};${ce}t`);break;case A.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const we=this._renderService.dimensions.css.cell.width.toFixed(0),Ze=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${v.C0.ESC}[6;${Ze};${we}t`)}}cancel(X,ce){if(this.options.cancelEvents||ce)return X.preventDefault(),X.stopPropagation(),!1}}h.Terminal=le},9924:(u,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TimeBasedDebouncer=void 0,h.TimeBasedDebouncer=class{constructor(f,g=1e3){this._renderCallback=f,this._debounceThresholdMS=g,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(f,g,y){this._rowCount=y,f=f!==void 0?f:0,g=g!==void 0?g:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,f):f,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,g):g;const k=Date.now();if(k-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=k,this._innerRefresh();else if(!this._additionalRefreshRequested){const v=k-this._lastRefreshMs,A=this._debounceThresholdMS-v;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},A)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const f=Math.max(this._rowStart,0),g=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(f,g)}}},1680:function(u,h,f){var g=this&&this.__decorate||function(C,D,S,M){var B,R=arguments.length,L=R<3?D:M===null?M=Object.getOwnPropertyDescriptor(D,S):M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(C,D,S,M);else for(var j=C.length-1;j>=0;j--)(B=C[j])&&(L=(R<3?B(L):R>3?B(D,S,L):B(D,S))||L);return R>3&&L&&Object.defineProperty(D,S,L),L},y=this&&this.__param||function(C,D){return function(S,M){D(S,M,C)}};Object.defineProperty(h,"__esModule",{value:!0}),h.Viewport=void 0;const k=f(844),v=f(3656),A=f(4725),T=f(2585);let x=class extends k.Disposable{constructor(C,D,S,M,B,R,L,j,N){super(),this._scrollLines=C,this._viewportElement=D,this._scrollArea=S,this._bufferService=M,this._optionsService=B,this._charSizeService=R,this._renderService=L,this._coreBrowserService=j,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,v.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(z=>this._activeBuffer=z.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(z=>this._renderDimensions=z)),this._handleThemeChange(N.colors),this.register(N.onChangeColors(z=>this._handleThemeChange(z))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea(),0)}_handleThemeChange(C){this._viewportElement.style.backgroundColor=C.background.css}_refresh(C){if(C)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const D=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==D&&(this._lastRecordedBufferHeight=D,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const C=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==C&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=C),this._refreshAnimationFrame=null}syncScrollArea(C=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(C);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(C)}_handleScroll(C){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._scrollLines(0);const D=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._scrollLines(D)}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const C=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(C*(this._smoothScrollState.target-this._smoothScrollState.origin)),C<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(C,D){const S=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(D<0&&this._viewportElement.scrollTop!==0||D>0&&S<this._lastRecordedBufferHeight)||(C.cancelable&&C.preventDefault(),!1)}handleWheel(C){const D=this._getPixelsScrolled(C);return D!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+D:this._smoothScrollState.target+=D,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=D,this._bubbleScroll(C,D))}_getPixelsScrolled(C){if(C.deltaY===0||C.shiftKey)return 0;let D=this._applyScrollModifier(C.deltaY,C);return C.deltaMode===WheelEvent.DOM_DELTA_LINE?D*=this._currentRowHeight:C.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(D*=this._currentRowHeight*this._bufferService.rows),D}getBufferElements(C,D){var S;let M,B="";const R=[],L=D??this._bufferService.buffer.lines.length,j=this._bufferService.buffer.lines;for(let N=C;N<L;N++){const z=j.get(N);if(!z)continue;const Z=(S=j.get(N+1))===null||S===void 0?void 0:S.isWrapped;if(B+=z.translateToString(!Z),!Z||N===j.length-1){const K=document.createElement("div");K.textContent=B,R.push(K),B.length>0&&(M=K),B=""}}return{bufferElements:R,cursorElement:M}}getLinesScrolled(C){if(C.deltaY===0||C.shiftKey)return 0;let D=this._applyScrollModifier(C.deltaY,C);return C.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(D/=this._currentRowHeight+0,this._wheelPartialScroll+=D,D=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):C.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(D*=this._bufferService.rows),D}_applyScrollModifier(C,D){const S=this._optionsService.rawOptions.fastScrollModifier;return S==="alt"&&D.altKey||S==="ctrl"&&D.ctrlKey||S==="shift"&&D.shiftKey?C*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:C*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(C){this._lastTouchY=C.touches[0].pageY}handleTouchMove(C){const D=this._lastTouchY-C.touches[0].pageY;return this._lastTouchY=C.touches[0].pageY,D!==0&&(this._viewportElement.scrollTop+=D,this._bubbleScroll(C,D))}};x=g([y(3,T.IBufferService),y(4,T.IOptionsService),y(5,A.ICharSizeService),y(6,A.IRenderService),y(7,A.ICoreBrowserService),y(8,A.IThemeService)],x),h.Viewport=x},3107:function(u,h,f){var g=this&&this.__decorate||function(C,D,S,M){var B,R=arguments.length,L=R<3?D:M===null?M=Object.getOwnPropertyDescriptor(D,S):M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(C,D,S,M);else for(var j=C.length-1;j>=0;j--)(B=C[j])&&(L=(R<3?B(L):R>3?B(D,S,L):B(D,S))||L);return R>3&&L&&Object.defineProperty(D,S,L),L},y=this&&this.__param||function(C,D){return function(S,M){D(S,M,C)}};Object.defineProperty(h,"__esModule",{value:!0}),h.BufferDecorationRenderer=void 0;const k=f(3656),v=f(4725),A=f(844),T=f(2585);let x=class extends A.Disposable{constructor(C,D,S,M){super(),this._screenElement=C,this._bufferService=D,this._decorationService=S,this._renderService=M,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,k.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(B=>this._removeDecoration(B))),this.register((0,A.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const C of this._decorationService.decorations)this._renderDecoration(C);this._dimensionsChanged=!1}_renderDecoration(C){this._refreshStyle(C),this._dimensionsChanged&&this._refreshXPosition(C)}_createElement(C){var D,S;const M=document.createElement("div");M.classList.add("xterm-decoration"),M.classList.toggle("xterm-decoration-top-layer",((D=C==null?void 0:C.options)===null||D===void 0?void 0:D.layer)==="top"),M.style.width=`${Math.round((C.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,M.style.height=(C.options.height||1)*this._renderService.dimensions.css.cell.height+"px",M.style.top=(C.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",M.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const B=(S=C.options.x)!==null&&S!==void 0?S:0;return B&&B>this._bufferService.cols&&(M.style.display="none"),this._refreshXPosition(C,M),M}_refreshStyle(C){const D=C.marker.line-this._bufferService.buffers.active.ydisp;if(D<0||D>=this._bufferService.rows)C.element&&(C.element.style.display="none",C.onRenderEmitter.fire(C.element));else{let S=this._decorationElements.get(C);S||(S=this._createElement(C),C.element=S,this._decorationElements.set(C,S),this._container.appendChild(S)),S.style.top=D*this._renderService.dimensions.css.cell.height+"px",S.style.display=this._altBufferIsActive?"none":"block",C.onRenderEmitter.fire(S)}}_refreshXPosition(C,D=C.element){var S;if(!D)return;const M=(S=C.options.x)!==null&&S!==void 0?S:0;(C.options.anchor||"left")==="right"?D.style.right=M?M*this._renderService.dimensions.css.cell.width+"px":"":D.style.left=M?M*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(C){var D;(D=this._decorationElements.get(C))===null||D===void 0||D.remove(),this._decorationElements.delete(C),C.dispose()}};x=g([y(1,T.IBufferService),y(2,T.IDecorationService),y(3,v.IRenderService)],x),h.BufferDecorationRenderer=x},5871:(u,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ColorZoneStore=void 0,h.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(f){if(f.options.overviewRulerOptions){for(const g of this._zones)if(g.color===f.options.overviewRulerOptions.color&&g.position===f.options.overviewRulerOptions.position){if(this._lineIntersectsZone(g,f.marker.line))return;if(this._lineAdjacentToZone(g,f.marker.line,f.options.overviewRulerOptions.position))return void this._addLineToZone(g,f.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=f.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=f.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=f.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=f.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:f.options.overviewRulerOptions.color,position:f.options.overviewRulerOptions.position,startBufferLine:f.marker.line,endBufferLine:f.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(f){this._linePadding=f}_lineIntersectsZone(f,g){return g>=f.startBufferLine&&g<=f.endBufferLine}_lineAdjacentToZone(f,g,y){return g>=f.startBufferLine-this._linePadding[y||"full"]&&g<=f.endBufferLine+this._linePadding[y||"full"]}_addLineToZone(f,g){f.startBufferLine=Math.min(f.startBufferLine,g),f.endBufferLine=Math.max(f.endBufferLine,g)}}},5744:function(u,h,f){var g=this&&this.__decorate||function(B,R,L,j){var N,z=arguments.length,Z=z<3?R:j===null?j=Object.getOwnPropertyDescriptor(R,L):j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Z=Reflect.decorate(B,R,L,j);else for(var K=B.length-1;K>=0;K--)(N=B[K])&&(Z=(z<3?N(Z):z>3?N(R,L,Z):N(R,L))||Z);return z>3&&Z&&Object.defineProperty(R,L,Z),Z},y=this&&this.__param||function(B,R){return function(L,j){R(L,j,B)}};Object.defineProperty(h,"__esModule",{value:!0}),h.OverviewRulerRenderer=void 0;const k=f(5871),v=f(3656),A=f(4725),T=f(844),x=f(2585),C={full:0,left:0,center:0,right:0},D={full:0,left:0,center:0,right:0},S={full:0,left:0,center:0,right:0};let M=class extends T.Disposable{constructor(B,R,L,j,N,z,Z){var K;super(),this._viewportElement=B,this._screenElement=R,this._bufferService=L,this._decorationService=j,this._renderService=N,this._optionsService=z,this._coreBrowseService=Z,this._colorZoneStore=new k.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(K=this._viewportElement.parentElement)===null||K===void 0||K.insertBefore(this._canvas,this._viewportElement);const H=this._canvas.getContext("2d");if(!H)throw new Error("Ctx cannot be null");this._ctx=H,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,T.toDisposable)(()=>{var Y;(Y=this._canvas)===null||Y===void 0||Y.remove()}))}get _width(){return this._optionsService.options.overviewRulerWidth||0}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,v.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const B=Math.floor(this._canvas.width/3),R=Math.ceil(this._canvas.width/3);D.full=this._canvas.width,D.left=B,D.center=R,D.right=B,this._refreshDrawHeightConstants(),S.full=0,S.left=0,S.center=D.left,S.right=D.left+D.center}_refreshDrawHeightConstants(){C.full=Math.round(2*this._coreBrowseService.dpr);const B=this._canvas.height/this._bufferService.buffer.lines.length,R=Math.round(Math.max(Math.min(B,12),6)*this._coreBrowseService.dpr);C.left=R,C.center=R,C.right=R}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*C.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*C.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*C.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*C.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const R of this._decorationService.decorations)this._colorZoneStore.addDecoration(R);this._ctx.lineWidth=1;const B=this._colorZoneStore.zones;for(const R of B)R.position!=="full"&&this._renderColorZone(R);for(const R of B)R.position==="full"&&this._renderColorZone(R);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(B){this._ctx.fillStyle=B.color,this._ctx.fillRect(S[B.position||"full"],Math.round((this._canvas.height-1)*(B.startBufferLine/this._bufferService.buffers.active.lines.length)-C[B.position||"full"]/2),D[B.position||"full"],Math.round((this._canvas.height-1)*((B.endBufferLine-B.startBufferLine)/this._bufferService.buffers.active.lines.length)+C[B.position||"full"]))}_queueRefresh(B,R){this._shouldUpdateDimensions=B||this._shouldUpdateDimensions,this._shouldUpdateAnchor=R||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};M=g([y(2,x.IBufferService),y(3,x.IDecorationService),y(4,A.IRenderService),y(5,x.IOptionsService),y(6,A.ICoreBrowserService)],M),h.OverviewRulerRenderer=M},2950:function(u,h,f){var g=this&&this.__decorate||function(x,C,D,S){var M,B=arguments.length,R=B<3?C:S===null?S=Object.getOwnPropertyDescriptor(C,D):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(x,C,D,S);else for(var L=x.length-1;L>=0;L--)(M=x[L])&&(R=(B<3?M(R):B>3?M(C,D,R):M(C,D))||R);return B>3&&R&&Object.defineProperty(C,D,R),R},y=this&&this.__param||function(x,C){return function(D,S){C(D,S,x)}};Object.defineProperty(h,"__esModule",{value:!0}),h.CompositionHelper=void 0;const k=f(4725),v=f(2585),A=f(2584);let T=class{constructor(x,C,D,S,M,B){this._textarea=x,this._compositionView=C,this._bufferService=D,this._optionsService=S,this._coreService=M,this._renderService=B,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}get isComposing(){return this._isComposing}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(x){this._compositionView.textContent=x.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(x){if(this._isComposing||this._isSendingComposition){if(x.keyCode===229||x.keyCode===16||x.keyCode===17||x.keyCode===18)return!1;this._finalizeComposition(!1)}return x.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(x){if(this._compositionView.classList.remove("active"),this._isComposing=!1,x){const C={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let D;this._isSendingComposition=!1,C.start+=this._dataAlreadySent.length,D=this._isComposing?this._textarea.value.substring(C.start,C.end):this._textarea.value.substring(C.start),D.length>0&&this._coreService.triggerDataEvent(D,!0)}},0)}else{this._isSendingComposition=!1;const C=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(C,!0)}}_handleAnyTextareaChanges(){const x=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const C=this._textarea.value,D=C.replace(x,"");this._dataAlreadySent=D,C.length>x.length?this._coreService.triggerDataEvent(D,!0):C.length<x.length?this._coreService.triggerDataEvent(`${A.C0.DEL}`,!0):C.length===x.length&&C!==x&&this._coreService.triggerDataEvent(C,!0)}},0)}updateCompositionElements(x){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const C=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),D=this._renderService.dimensions.css.cell.height,S=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,M=C*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=M+"px",this._compositionView.style.top=S+"px",this._compositionView.style.height=D+"px",this._compositionView.style.lineHeight=D+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const B=this._compositionView.getBoundingClientRect();this._textarea.style.left=M+"px",this._textarea.style.top=S+"px",this._textarea.style.width=Math.max(B.width,1)+"px",this._textarea.style.height=Math.max(B.height,1)+"px",this._textarea.style.lineHeight=B.height+"px"}x||setTimeout(()=>this.updateCompositionElements(!0),0)}}};T=g([y(2,v.IBufferService),y(3,v.IOptionsService),y(4,v.ICoreService),y(5,k.IRenderService)],T),h.CompositionHelper=T},9806:(u,h)=>{function f(g,y,k){const v=k.getBoundingClientRect(),A=g.getComputedStyle(k),T=parseInt(A.getPropertyValue("padding-left")),x=parseInt(A.getPropertyValue("padding-top"));return[y.clientX-v.left-T,y.clientY-v.top-x]}Object.defineProperty(h,"__esModule",{value:!0}),h.getCoords=h.getCoordsRelativeToElement=void 0,h.getCoordsRelativeToElement=f,h.getCoords=function(g,y,k,v,A,T,x,C,D){if(!T)return;const S=f(g,y,k);return S?(S[0]=Math.ceil((S[0]+(D?x/2:0))/x),S[1]=Math.ceil(S[1]/C),S[0]=Math.min(Math.max(S[0],1),v+(D?1:0)),S[1]=Math.min(Math.max(S[1],1),A),S):void 0}},9504:(u,h,f)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.moveToCellSequence=void 0;const g=f(2584);function y(C,D,S,M){const B=C-k(C,S),R=D-k(D,S),L=Math.abs(B-R)-function(j,N,z){let Z=0;const K=j-k(j,z),H=N-k(N,z);for(let Y=0;Y<Math.abs(K-H);Y++){const oe=v(j,N)==="A"?-1:1,me=z.buffer.lines.get(K+oe*Y);me!=null&&me.isWrapped&&Z++}return Z}(C,D,S);return x(L,T(v(C,D),M))}function k(C,D){let S=0,M=D.buffer.lines.get(C),B=M==null?void 0:M.isWrapped;for(;B&&C>=0&&C<D.rows;)S++,M=D.buffer.lines.get(--C),B=M==null?void 0:M.isWrapped;return S}function v(C,D){return C>D?"A":"B"}function A(C,D,S,M,B,R){let L=C,j=D,N="";for(;L!==S||j!==M;)L+=B?1:-1,B&&L>R.cols-1?(N+=R.buffer.translateBufferLineToString(j,!1,C,L),L=0,C=0,j++):!B&&L<0&&(N+=R.buffer.translateBufferLineToString(j,!1,0,C+1),L=R.cols-1,C=L,j--);return N+R.buffer.translateBufferLineToString(j,!1,C,L)}function T(C,D){const S=D?"O":"[";return g.C0.ESC+S+C}function x(C,D){C=Math.floor(C);let S="";for(let M=0;M<C;M++)S+=D;return S}h.moveToCellSequence=function(C,D,S,M){const B=S.buffer.x,R=S.buffer.y;if(!S.buffer.hasScrollback)return function(N,z,Z,K,H,Y){return y(z,K,H,Y).length===0?"":x(A(N,z,N,z-k(z,H),!1,H).length,T("D",Y))}(B,R,0,D,S,M)+y(R,D,S,M)+function(N,z,Z,K,H,Y){let oe;oe=y(z,K,H,Y).length>0?K-k(K,H):z;const me=K,re=function(W,J,q,ae,be,ke){let se;return se=y(q,ae,be,ke).length>0?ae-k(ae,be):J,W<q&&se<=ae||W>=q&&se<ae?"C":"D"}(N,z,Z,K,H,Y);return x(A(N,oe,Z,me,re==="C",H).length,T(re,Y))}(B,R,C,D,S,M);let L;if(R===D)return L=B>C?"D":"C",x(Math.abs(B-C),T(L,M));L=R>D?"D":"C";const j=Math.abs(R-D);return x(function(N,z){return z.cols-N}(R>D?C:B,S)+(j-1)*S.cols+1+((R>D?B:C)-1),T(L,M))}},1296:function(u,h,f){var g=this&&this.__decorate||function(j,N,z,Z){var K,H=arguments.length,Y=H<3?N:Z===null?Z=Object.getOwnPropertyDescriptor(N,z):Z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Y=Reflect.decorate(j,N,z,Z);else for(var oe=j.length-1;oe>=0;oe--)(K=j[oe])&&(Y=(H<3?K(Y):H>3?K(N,z,Y):K(N,z))||Y);return H>3&&Y&&Object.defineProperty(N,z,Y),Y},y=this&&this.__param||function(j,N){return function(z,Z){N(z,Z,j)}};Object.defineProperty(h,"__esModule",{value:!0}),h.DomRenderer=void 0;const k=f(3787),v=f(2223),A=f(6171),T=f(4725),x=f(8055),C=f(8460),D=f(844),S=f(2585),M="xterm-dom-renderer-owner-",B="xterm-focus";let R=1,L=class extends D.Disposable{constructor(j,N,z,Z,K,H,Y,oe,me,re){super(),this._element=j,this._screenElement=N,this._viewportElement=z,this._linkifier2=Z,this._charSizeService=H,this._optionsService=Y,this._bufferService=oe,this._coreBrowserService=me,this._themeService=re,this._terminalClass=R++,this._rowElements=[],this._cellToRowElements=[],this.onRequestRedraw=this.register(new C.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add("xterm-rows"),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add("xterm-selection"),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,A.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(W=>this._injectCss(W))),this._injectCss(this._themeService.colors),this._rowFactory=K.createInstance(k.DomRendererRowFactory,document),this._element.classList.add(M+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(W=>this._handleLinkHover(W))),this.register(this._linkifier2.onHideLinkUnderline(W=>this._handleLinkLeave(W))),this.register((0,D.toDisposable)(()=>{this._element.classList.remove(M+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()}))}_updateDimensions(){const j=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*j,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*j),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/j),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/j),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const z of this._rowElements)z.style.width=`${this.dimensions.css.canvas.width}px`,z.style.height=`${this.dimensions.css.cell.height}px`,z.style.lineHeight=`${this.dimensions.css.cell.height}px`,z.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const N=`${this._terminalSelector} .xterm-rows span { display: inline-block; height: 100%; vertical-align: top; width: ${this.dimensions.css.cell.width}px}`;this._dimensionsStyleElement.textContent=N,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(j){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let N=`${this._terminalSelector} .xterm-rows { color: ${j.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px;}`;N+=`${this._terminalSelector} .xterm-rows .xterm-dim { color: ${x.color.multiplyOpacity(j.foreground,.5).css};}`,N+=`${this._terminalSelector} span:not(.${k.BOLD_CLASS}) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.${k.BOLD_CLASS} { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.${k.ITALIC_CLASS} { font-style: italic;}`,N+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  box-shadow: none; }}",N+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${j.cursor.css};  color: ${j.cursorAccent.css}; } 50% {  background-color: ${j.cursorAccent.css};  color: ${j.cursor.css}; }}`,N+=`${this._terminalSelector} .xterm-rows:not(.xterm-focus) .${k.CURSOR_CLASS}.${k.CURSOR_STYLE_BLOCK_CLASS} ,${this._terminalSelector} .xterm-rows:not(.xterm-focus) .${k.CURSOR_CLASS}.${k.CURSOR_STYLE_BAR_CLASS} ,${this._terminalSelector} .xterm-rows:not(.xterm-focus) .${k.CURSOR_CLASS}.${k.CURSOR_STYLE_UNDERLINE_CLASS} { outline: 1px solid ${j.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .xterm-rows.xterm-focus .${k.CURSOR_CLASS}.${k.CURSOR_BLINK_CLASS}:not(.${k.CURSOR_STYLE_BLOCK_CLASS}) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .xterm-rows.xterm-focus .${k.CURSOR_CLASS}.${k.CURSOR_BLINK_CLASS}.${k.CURSOR_STYLE_BLOCK_CLASS} { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .xterm-rows.xterm-focus .${k.CURSOR_CLASS}.${k.CURSOR_STYLE_BLOCK_CLASS} { background-color: ${j.cursor.css}; color: ${j.cursorAccent.css};}${this._terminalSelector} .xterm-rows .${k.CURSOR_CLASS}.${k.CURSOR_STYLE_BAR_CLASS} { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${j.cursor.css} inset;}${this._terminalSelector} .xterm-rows .${k.CURSOR_CLASS}.${k.CURSOR_STYLE_UNDERLINE_CLASS} { box-shadow: 0 -1px 0 ${j.cursor.css} inset;}`,N+=`${this._terminalSelector} .xterm-selection { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .xterm-selection div { position: absolute; background-color: ${j.selectionBackgroundOpaque.css};}${this._terminalSelector} .xterm-selection div { position: absolute; background-color: ${j.selectionInactiveBackgroundOpaque.css};}`;for(const[z,Z]of j.ansi.entries())N+=`${this._terminalSelector} .xterm-fg-${z} { color: ${Z.css}; }${this._terminalSelector} .xterm-fg-${z}.${k.DIM_CLASS} { color: ${x.color.multiplyOpacity(Z,.5).css}; }${this._terminalSelector} .xterm-bg-${z} { background-color: ${Z.css}; }`;N+=`${this._terminalSelector} .xterm-fg-${v.INVERTED_DEFAULT_COLOR} { color: ${x.color.opaque(j.background).css}; }${this._terminalSelector} .xterm-fg-${v.INVERTED_DEFAULT_COLOR}.${k.DIM_CLASS} { color: ${x.color.multiplyOpacity(x.color.opaque(j.background),.5).css}; }${this._terminalSelector} .xterm-bg-${v.INVERTED_DEFAULT_COLOR} { background-color: ${j.foreground.css}; }`,this._themeStyleElement.textContent=N}handleDevicePixelRatioChange(){this._updateDimensions()}_refreshRowElements(j,N){for(let z=this._rowElements.length;z<=N;z++){const Z=document.createElement("div");this._rowContainer.appendChild(Z),this._rowElements.push(Z)}for(;this._rowElements.length>N;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(j,N){this._refreshRowElements(j,N),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions()}handleBlur(){this._rowContainer.classList.remove(B)}handleFocus(){this._rowContainer.classList.add(B)}handleSelectionChanged(j,N,z){for(;this._selectionContainer.children.length;)this._selectionContainer.removeChild(this._selectionContainer.children[0]);if(this._rowFactory.handleSelectionChanged(j,N,z),this.renderRows(0,this._bufferService.rows-1),!j||!N)return;const Z=j[1]-this._bufferService.buffer.ydisp,K=N[1]-this._bufferService.buffer.ydisp,H=Math.max(Z,0),Y=Math.min(K,this._bufferService.rows-1);if(H>=this._bufferService.rows||Y<0)return;const oe=document.createDocumentFragment();if(z){const me=j[0]>N[0];oe.appendChild(this._createSelectionElement(H,me?N[0]:j[0],me?j[0]:N[0],Y-H+1))}else{const me=Z===H?j[0]:0,re=H===K?N[0]:this._bufferService.cols;oe.appendChild(this._createSelectionElement(H,me,re));const W=Y-H-1;if(oe.appendChild(this._createSelectionElement(H+1,0,this._bufferService.cols,W)),H!==Y){const J=K===Y?N[0]:this._bufferService.cols;oe.appendChild(this._createSelectionElement(Y,0,J))}}this._selectionContainer.appendChild(oe)}_createSelectionElement(j,N,z,Z=1){const K=document.createElement("div");return K.style.height=Z*this.dimensions.css.cell.height+"px",K.style.top=j*this.dimensions.css.cell.height+"px",K.style.left=N*this.dimensions.css.cell.width+"px",K.style.width=this.dimensions.css.cell.width*(z-N)+"px",K}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors)}clear(){for(const j of this._rowElements)j.replaceChildren()}renderRows(j,N){const z=this._bufferService.buffer.ybase+this._bufferService.buffer.y,Z=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),K=this._optionsService.rawOptions.cursorBlink;for(let H=j;H<=N;H++){const Y=this._rowElements[H],oe=H+this._bufferService.buffer.ydisp,me=this._bufferService.buffer.lines.get(oe),re=this._optionsService.rawOptions.cursorStyle;this._cellToRowElements[H]&&this._cellToRowElements[H].length===this._bufferService.cols||(this._cellToRowElements[H]=new Int16Array(this._bufferService.cols)),Y.replaceChildren(this._rowFactory.createRow(me,oe,oe===z,re,Z,K,this.dimensions.css.cell.width,this._bufferService.cols,this._cellToRowElements[H]))}}get _terminalSelector(){return`.${M}${this._terminalClass}`}_handleLinkHover(j){this._setCellUnderline(j.x1,j.x2,j.y1,j.y2,j.cols,!0)}_handleLinkLeave(j){this._setCellUnderline(j.x1,j.x2,j.y1,j.y2,j.cols,!1)}_setCellUnderline(j,N,z,Z,K,H){z<0&&(j=0),Z<0&&(N=0);const Y=this._cellToRowElements.length-1;z=Math.max(Math.min(z,Y),0),Z=Math.max(Math.min(Z,Y),0);const oe=this._cellToRowElements[z],me=this._cellToRowElements[Z];if(!(j>=oe.length||N>=me.length)&&(j=oe[j],N=me[N],j!==-1&&N!==-1))for(;j!==N||z!==Z;){const re=this._rowElements[z];if(!re)return;const W=re.children[j];W&&(W.style.textDecoration=H?"underline":"none"),++j>=K&&(j=0,z++)}}};L=g([y(4,S.IInstantiationService),y(5,T.ICharSizeService),y(6,S.IOptionsService),y(7,S.IBufferService),y(8,T.ICoreBrowserService),y(9,T.IThemeService)],L),h.DomRenderer=L},3787:function(u,h,f){var g=this&&this.__decorate||function(L,j,N,z){var Z,K=arguments.length,H=K<3?j:z===null?z=Object.getOwnPropertyDescriptor(j,N):z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(L,j,N,z);else for(var Y=L.length-1;Y>=0;Y--)(Z=L[Y])&&(H=(K<3?Z(H):K>3?Z(j,N,H):Z(j,N))||H);return K>3&&H&&Object.defineProperty(j,N,H),H},y=this&&this.__param||function(L,j){return function(N,z){j(N,z,L)}};Object.defineProperty(h,"__esModule",{value:!0}),h.DomRendererRowFactory=h.CURSOR_STYLE_UNDERLINE_CLASS=h.CURSOR_STYLE_BAR_CLASS=h.CURSOR_STYLE_BLOCK_CLASS=h.CURSOR_BLINK_CLASS=h.CURSOR_CLASS=h.STRIKETHROUGH_CLASS=h.OVERLINE_CLASS=h.UNDERLINE_CLASS=h.ITALIC_CLASS=h.DIM_CLASS=h.BOLD_CLASS=void 0;const k=f(2223),v=f(643),A=f(511),T=f(2585),x=f(8055),C=f(4725),D=f(4269),S=f(6171),M=f(3734);h.BOLD_CLASS="xterm-bold",h.DIM_CLASS="xterm-dim",h.ITALIC_CLASS="xterm-italic",h.UNDERLINE_CLASS="xterm-underline",h.OVERLINE_CLASS="xterm-overline",h.STRIKETHROUGH_CLASS="xterm-strikethrough",h.CURSOR_CLASS="xterm-cursor",h.CURSOR_BLINK_CLASS="xterm-cursor-blink",h.CURSOR_STYLE_BLOCK_CLASS="xterm-cursor-block",h.CURSOR_STYLE_BAR_CLASS="xterm-cursor-bar",h.CURSOR_STYLE_UNDERLINE_CLASS="xterm-cursor-underline";let B=class{constructor(L,j,N,z,Z,K,H){this._document=L,this._characterJoinerService=j,this._optionsService=N,this._coreBrowserService=z,this._coreService=Z,this._decorationService=K,this._themeService=H,this._workCell=new A.CellData,this._columnSelectMode=!1}handleSelectionChanged(L,j,N){this._selectionStart=L,this._selectionEnd=j,this._columnSelectMode=N}createRow(L,j,N,z,Z,K,H,Y,oe){const me=this._document.createDocumentFragment(),re=this._characterJoinerService.getJoinedCharacters(j);let W=0;for(let be=Math.min(L.length,Y)-1;be>=0;be--)if(L.loadCell(be,this._workCell).getCode()!==v.NULL_CELL_CODE||N&&be===Z){W=be+1;break}const J=this._themeService.colors;let q=-1,ae=0;for(;ae<W;ae++){L.loadCell(ae,this._workCell);let be=this._workCell.getWidth();if(be===0){oe[ae]=q;continue}let ke=!1,se=ae,ee=this._workCell;if(re.length>0&&ae===re[0][0]){ke=!0;const Ie=re.shift();ee=new D.JoinedCellData(this._workCell,L.translateToString(!0,Ie[0],Ie[1]),Ie[1]-Ie[0]),se=Ie[1]-1,be=ee.getWidth()}const le=this._document.createElement("span");if(be>1&&(le.style.width=H*be+"px"),ke&&(le.style.display="inline",Z>=ae&&Z<=se&&(Z=ae)),!this._coreService.isCursorHidden&&N&&ae===Z)switch(le.classList.add(h.CURSOR_CLASS),K&&le.classList.add(h.CURSOR_BLINK_CLASS),z){case"bar":le.classList.add(h.CURSOR_STYLE_BAR_CLASS);break;case"underline":le.classList.add(h.CURSOR_STYLE_UNDERLINE_CLASS);break;default:le.classList.add(h.CURSOR_STYLE_BLOCK_CLASS)}if(ee.isBold()&&le.classList.add(h.BOLD_CLASS),ee.isItalic()&&le.classList.add(h.ITALIC_CLASS),ee.isDim()&&le.classList.add(h.DIM_CLASS),ee.isInvisible()?le.textContent=v.WHITESPACE_CELL_CHAR:le.textContent=ee.getChars()||v.WHITESPACE_CELL_CHAR,ee.isUnderline()&&(le.classList.add(`${h.UNDERLINE_CLASS}-${ee.extended.underlineStyle}`),le.textContent===" "&&(le.textContent=" "),!ee.isUnderlineColorDefault()))if(ee.isUnderlineColorRGB())le.style.textDecorationColor=`rgb(${M.AttributeData.toColorRGB(ee.getUnderlineColor()).join(",")})`;else{let Ie=ee.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&ee.isBold()&&Ie<8&&(Ie+=8),le.style.textDecorationColor=J.ansi[Ie].css}ee.isOverline()&&(le.classList.add(h.OVERLINE_CLASS),le.textContent===" "&&(le.textContent=" ")),ee.isStrikethrough()&&le.classList.add(h.STRIKETHROUGH_CLASS);let te=ee.getFgColor(),X=ee.getFgColorMode(),ce=ee.getBgColor(),pe=ee.getBgColorMode();const we=!!ee.isInverse();if(we){const Ie=te;te=ce,ce=Ie;const Le=X;X=pe,pe=Le}let Ze,ne,de=!1;this._decorationService.forEachDecorationAtCell(ae,j,void 0,Ie=>{Ie.options.layer!=="top"&&de||(Ie.backgroundColorRGB&&(pe=50331648,ce=Ie.backgroundColorRGB.rgba>>8&16777215,Ze=Ie.backgroundColorRGB),Ie.foregroundColorRGB&&(X=50331648,te=Ie.foregroundColorRGB.rgba>>8&16777215,ne=Ie.foregroundColorRGB),de=Ie.options.layer==="top")});const ge=this._isCellInSelection(ae,j);let Ee;switch(de||J.selectionForeground&&ge&&(X=50331648,te=J.selectionForeground.rgba>>8&16777215,ne=J.selectionForeground),ge&&(Ze=this._coreBrowserService.isFocused?J.selectionBackgroundOpaque:J.selectionInactiveBackgroundOpaque,de=!0),de&&le.classList.add("xterm-decoration-top"),pe){case 16777216:case 33554432:Ee=J.ansi[ce],le.classList.add(`xterm-bg-${ce}`);break;case 50331648:Ee=x.rgba.toColor(ce>>16,ce>>8&255,255&ce),this._addStyle(le,`background-color:#${R((ce>>>0).toString(16),"0",6)}`);break;default:we?(Ee=J.foreground,le.classList.add(`xterm-bg-${k.INVERTED_DEFAULT_COLOR}`)):Ee=J.background}switch(Ze||ee.isDim()&&(Ze=x.color.multiplyOpacity(Ee,.5)),X){case 16777216:case 33554432:ee.isBold()&&te<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(te+=8),this._applyMinimumContrast(le,Ee,J.ansi[te],ee,Ze,void 0)||le.classList.add(`xterm-fg-${te}`);break;case 50331648:const Ie=x.rgba.toColor(te>>16&255,te>>8&255,255&te);this._applyMinimumContrast(le,Ee,Ie,ee,Ze,ne)||this._addStyle(le,`color:#${R(te.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(le,Ee,J.foreground,ee,Ze,void 0)||we&&le.classList.add(`xterm-fg-${k.INVERTED_DEFAULT_COLOR}`)}me.appendChild(le),oe[ae]=++q,ae=se}return ae<Y-1&&oe.subarray(ae).fill(++q),me}_applyMinimumContrast(L,j,N,z,Z,K){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,S.excludeFromContrastRatioDemands)(z.getCode()))return!1;let H;return Z||K||(H=this._themeService.colors.contrastCache.getColor(j.rgba,N.rgba)),H===void 0&&(H=x.color.ensureContrastRatio(Z||j,K||N,this._optionsService.rawOptions.minimumContrastRatio),this._themeService.colors.contrastCache.setColor((Z||j).rgba,(K||N).rgba,H??null)),!!H&&(this._addStyle(L,`color:${H.css}`),!0)}_addStyle(L,j){L.setAttribute("style",`${L.getAttribute("style")||""}${j};`)}_isCellInSelection(L,j){const N=this._selectionStart,z=this._selectionEnd;return!(!N||!z)&&(this._columnSelectMode?N[0]<=z[0]?L>=N[0]&&j>=N[1]&&L<z[0]&&j<=z[1]:L<N[0]&&j>=N[1]&&L>=z[0]&&j<=z[1]:j>N[1]&&j<z[1]||N[1]===z[1]&&j===N[1]&&L>=N[0]&&L<z[0]||N[1]<z[1]&&j===z[1]&&L<z[0]||N[1]<z[1]&&j===N[1]&&L>=N[0])}};function R(L,j,N){for(;L.length<N;)L=j+L;return L}B=g([y(1,C.ICharacterJoinerService),y(2,T.IOptionsService),y(3,C.ICoreBrowserService),y(4,T.ICoreService),y(5,T.IDecorationService),y(6,C.IThemeService)],B),h.DomRendererRowFactory=B},2223:(u,h,f)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.TEXT_BASELINE=h.DIM_OPACITY=h.INVERTED_DEFAULT_COLOR=void 0;const g=f(6114);h.INVERTED_DEFAULT_COLOR=257,h.DIM_OPACITY=.5,h.TEXT_BASELINE=g.isFirefox||g.isLegacyEdge?"bottom":"ideographic"},6171:(u,h)=>{function f(g){return 57508<=g&&g<=57558}Object.defineProperty(h,"__esModule",{value:!0}),h.createRenderDimensions=h.excludeFromContrastRatioDemands=h.isRestrictedPowerlineGlyph=h.isPowerlineGlyph=h.throwIfFalsy=void 0,h.throwIfFalsy=function(g){if(!g)throw new Error("value must not be falsy");return g},h.isPowerlineGlyph=f,h.isRestrictedPowerlineGlyph=function(g){return 57520<=g&&g<=57527},h.excludeFromContrastRatioDemands=function(g){return f(g)||function(y){return 9472<=y&&y<=9631}(g)},h.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(u,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.SelectionModel=void 0,h.SelectionModel=class{constructor(f){this._bufferService=f,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const f=this.selectionStart[0]+this.selectionStartLength;return f>this._bufferService.cols?f%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(f/this._bufferService.cols)-1]:[f%this._bufferService.cols,this.selectionStart[1]+Math.floor(f/this._bufferService.cols)]:[f,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const f=this.selectionStart[0]+this.selectionStartLength;return f>this._bufferService.cols?[f%this._bufferService.cols,this.selectionStart[1]+Math.floor(f/this._bufferService.cols)]:[Math.max(f,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const f=this.selectionStart,g=this.selectionEnd;return!(!f||!g)&&(f[1]>g[1]||f[1]===g[1]&&f[0]>g[0])}handleTrim(f){return this.selectionStart&&(this.selectionStart[1]-=f),this.selectionEnd&&(this.selectionEnd[1]-=f),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(u,h,f){var g=this&&this.__decorate||function(C,D,S,M){var B,R=arguments.length,L=R<3?D:M===null?M=Object.getOwnPropertyDescriptor(D,S):M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(C,D,S,M);else for(var j=C.length-1;j>=0;j--)(B=C[j])&&(L=(R<3?B(L):R>3?B(D,S,L):B(D,S))||L);return R>3&&L&&Object.defineProperty(D,S,L),L},y=this&&this.__param||function(C,D){return function(S,M){D(S,M,C)}};Object.defineProperty(h,"__esModule",{value:!0}),h.CharSizeService=void 0;const k=f(2585),v=f(8460),A=f(844);let T=class extends A.Disposable{constructor(C,D,S){super(),this._optionsService=S,this.width=0,this.height=0,this._onCharSizeChange=this.register(new v.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new x(C,D,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}get hasValidSize(){return this.width>0&&this.height>0}measure(){const C=this._measureStrategy.measure();C.width===this.width&&C.height===this.height||(this.width=C.width,this.height=C.height,this._onCharSizeChange.fire())}};T=g([y(2,k.IOptionsService)],T),h.CharSizeService=T;class x{constructor(D,S,M){this._document=D,this._parentElement=S,this._optionsService=M,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W",this._measureElement.setAttribute("aria-hidden","true"),this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const D=this._measureElement.getBoundingClientRect();return D.width!==0&&D.height!==0&&(this._result.width=D.width,this._result.height=Math.ceil(D.height)),this._result}}},4269:function(u,h,f){var g=this&&this.__decorate||function(D,S,M,B){var R,L=arguments.length,j=L<3?S:B===null?B=Object.getOwnPropertyDescriptor(S,M):B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(D,S,M,B);else for(var N=D.length-1;N>=0;N--)(R=D[N])&&(j=(L<3?R(j):L>3?R(S,M,j):R(S,M))||j);return L>3&&j&&Object.defineProperty(S,M,j),j},y=this&&this.__param||function(D,S){return function(M,B){S(M,B,D)}};Object.defineProperty(h,"__esModule",{value:!0}),h.CharacterJoinerService=h.JoinedCellData=void 0;const k=f(3734),v=f(643),A=f(511),T=f(2585);class x extends k.AttributeData{constructor(S,M,B){super(),this.content=0,this.combinedData="",this.fg=S.fg,this.bg=S.bg,this.combinedData=M,this._width=B}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(S){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}h.JoinedCellData=x;let C=class j6{constructor(S){this._bufferService=S,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new A.CellData}register(S){const M={id:this._nextCharacterJoinerId++,handler:S};return this._characterJoiners.push(M),M.id}deregister(S){for(let M=0;M<this._characterJoiners.length;M++)if(this._characterJoiners[M].id===S)return this._characterJoiners.splice(M,1),!0;return!1}getJoinedCharacters(S){if(this._characterJoiners.length===0)return[];const M=this._bufferService.buffer.lines.get(S);if(!M||M.length===0)return[];const B=[],R=M.translateToString(!0);let L=0,j=0,N=0,z=M.getFg(0),Z=M.getBg(0);for(let K=0;K<M.getTrimmedLength();K++)if(M.loadCell(K,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==z||this._workCell.bg!==Z){if(K-L>1){const H=this._getJoinedRanges(R,N,j,M,L);for(let Y=0;Y<H.length;Y++)B.push(H[Y])}L=K,N=j,z=this._workCell.fg,Z=this._workCell.bg}j+=this._workCell.getChars().length||v.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-L>1){const K=this._getJoinedRanges(R,N,j,M,L);for(let H=0;H<K.length;H++)B.push(K[H])}return B}_getJoinedRanges(S,M,B,R,L){const j=S.substring(M,B);let N=[];try{N=this._characterJoiners[0].handler(j)}catch(z){console.error(z)}for(let z=1;z<this._characterJoiners.length;z++)try{const Z=this._characterJoiners[z].handler(j);for(let K=0;K<Z.length;K++)j6._mergeRanges(N,Z[K])}catch(Z){console.error(Z)}return this._stringRangesToCellRanges(N,R,L),N}_stringRangesToCellRanges(S,M,B){let R=0,L=!1,j=0,N=S[R];if(N){for(let z=B;z<this._bufferService.cols;z++){const Z=M.getWidth(z),K=M.getString(z).length||v.WHITESPACE_CELL_CHAR.length;if(Z!==0){if(!L&&N[0]<=j&&(N[0]=z,L=!0),N[1]<=j){if(N[1]=z,N=S[++R],!N)break;N[0]<=j?(N[0]=z,L=!0):L=!1}j+=K}}N&&(N[1]=this._bufferService.cols)}}static _mergeRanges(S,M){let B=!1;for(let R=0;R<S.length;R++){const L=S[R];if(B){if(M[1]<=L[0])return S[R-1][1]=M[1],S;if(M[1]<=L[1])return S[R-1][1]=Math.max(M[1],L[1]),S.splice(R,1),S;S.splice(R,1),R--}else{if(M[1]<=L[0])return S.splice(R,0,M),S;if(M[1]<=L[1])return L[0]=Math.min(M[0],L[0]),S;M[0]<L[1]&&(L[0]=Math.min(M[0],L[0]),B=!0)}}return B?S[S.length-1][1]=M[1]:S.push(M),S}};C=g([y(0,T.IBufferService)],C),h.CharacterJoinerService=C},5114:(u,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CoreBrowserService=void 0,h.CoreBrowserService=class{constructor(f,g){this._textarea=f,this.window=g,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(u,h,f){var g=this&&this.__decorate||function(T,x,C,D){var S,M=arguments.length,B=M<3?x:D===null?D=Object.getOwnPropertyDescriptor(x,C):D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(T,x,C,D);else for(var R=T.length-1;R>=0;R--)(S=T[R])&&(B=(M<3?S(B):M>3?S(x,C,B):S(x,C))||B);return M>3&&B&&Object.defineProperty(x,C,B),B},y=this&&this.__param||function(T,x){return function(C,D){x(C,D,T)}};Object.defineProperty(h,"__esModule",{value:!0}),h.MouseService=void 0;const k=f(4725),v=f(9806);let A=class{constructor(T,x){this._renderService=T,this._charSizeService=x}getCoords(T,x,C,D,S){return(0,v.getCoords)(window,T,x,C,D,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,S)}getMouseReportCoords(T,x){const C=(0,v.getCoordsRelativeToElement)(window,T,x);if(!(!this._charSizeService.hasValidSize||C[0]<0||C[1]<0||C[0]>=this._renderService.dimensions.css.canvas.width||C[1]>=this._renderService.dimensions.css.canvas.height))return{col:Math.floor(C[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(C[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(C[0]),y:Math.floor(C[1])}}};A=g([y(0,k.IRenderService),y(1,k.ICharSizeService)],A),h.MouseService=A},3230:function(u,h,f){var g=this&&this.__decorate||function(B,R,L,j){var N,z=arguments.length,Z=z<3?R:j===null?j=Object.getOwnPropertyDescriptor(R,L):j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Z=Reflect.decorate(B,R,L,j);else for(var K=B.length-1;K>=0;K--)(N=B[K])&&(Z=(z<3?N(Z):z>3?N(R,L,Z):N(R,L))||Z);return z>3&&Z&&Object.defineProperty(R,L,Z),Z},y=this&&this.__param||function(B,R){return function(L,j){R(L,j,B)}};Object.defineProperty(h,"__esModule",{value:!0}),h.RenderService=void 0;const k=f(6193),v=f(8460),A=f(844),T=f(5596),x=f(3656),C=f(2585),D=f(4725),S=f(7226);let M=class extends A.Disposable{constructor(B,R,L,j,N,z,Z,K){if(super(),this._rowCount=B,this._charSizeService=j,this._pausedResizeTask=new S.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new v.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new v.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new v.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new v.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this.register({dispose:()=>{var H;return(H=this._renderer)===null||H===void 0?void 0:H.dispose()}}),this._renderDebouncer=new k.RenderDebouncer(Z.window,(H,Y)=>this._renderRows(H,Y)),this.register(this._renderDebouncer),this._screenDprMonitor=new T.ScreenDprMonitor(Z.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(z.onResize(()=>this._fullRefresh())),this.register(z.buffers.onBufferActivate(()=>{var H;return(H=this._renderer)===null||H===void 0?void 0:H.clear()})),this.register(L.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(N.onDecorationRegistered(()=>this._fullRefresh())),this.register(N.onDecorationRemoved(()=>this._fullRefresh())),this.register(L.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(z.cols,z.rows),this._fullRefresh()})),this.register(L.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(z.buffer.y,z.buffer.y,!0))),this.register((0,x.addDisposableDomListener)(Z.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(K.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in Z.window){const H=new Z.window.IntersectionObserver(Y=>this._handleIntersectionChange(Y[Y.length-1]),{threshold:0});H.observe(R),this.register({dispose:()=>H.disconnect()})}}get dimensions(){return this._renderer.dimensions}_handleIntersectionChange(B){this._isPaused=B.isIntersecting===void 0?B.intersectionRatio===0:!B.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(B,R,L=!1){this._isPaused?this._needsFullRefresh=!0:(L||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(B,R,this._rowCount))}_renderRows(B,R){this._renderer&&(B=Math.min(B,this._rowCount-1),R=Math.min(R,this._rowCount-1),this._renderer.renderRows(B,R),this._needsSelectionRefresh&&(this._renderer.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:B,end:R}),this._onRender.fire({start:B,end:R}),this._isNextRenderRedrawOnly=!0)}resize(B,R){this._rowCount=R,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer&&(this._renderer.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.dimensions))}hasRenderer(){return!!this._renderer}setRenderer(B){var R;(R=this._renderer)===null||R===void 0||R.dispose(),this._renderer=B,this._renderer.onRequestRedraw(L=>this.refreshRows(L.start,L.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(B){return this._renderDebouncer.addRefreshCallback(B)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var B,R;this._renderer&&((R=(B=this._renderer).clearTextureAtlas)===null||R===void 0||R.call(B),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer&&(this._renderer.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(B,R){this._renderer&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.handleResize(B,R)):this._renderer.handleResize(B,R),this._fullRefresh())}handleCharSizeChanged(){var B;(B=this._renderer)===null||B===void 0||B.handleCharSizeChanged()}handleBlur(){var B;(B=this._renderer)===null||B===void 0||B.handleBlur()}handleFocus(){var B;(B=this._renderer)===null||B===void 0||B.handleFocus()}handleSelectionChanged(B,R,L){var j;this._selectionState.start=B,this._selectionState.end=R,this._selectionState.columnSelectMode=L,(j=this._renderer)===null||j===void 0||j.handleSelectionChanged(B,R,L)}handleCursorMove(){var B;(B=this._renderer)===null||B===void 0||B.handleCursorMove()}clear(){var B;(B=this._renderer)===null||B===void 0||B.clear()}};M=g([y(2,C.IOptionsService),y(3,D.ICharSizeService),y(4,C.IDecorationService),y(5,C.IBufferService),y(6,D.ICoreBrowserService),y(7,D.IThemeService)],M),h.RenderService=M},9312:function(u,h,f){var g=this&&this.__decorate||function(N,z,Z,K){var H,Y=arguments.length,oe=Y<3?z:K===null?K=Object.getOwnPropertyDescriptor(z,Z):K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")oe=Reflect.decorate(N,z,Z,K);else for(var me=N.length-1;me>=0;me--)(H=N[me])&&(oe=(Y<3?H(oe):Y>3?H(z,Z,oe):H(z,Z))||oe);return Y>3&&oe&&Object.defineProperty(z,Z,oe),oe},y=this&&this.__param||function(N,z){return function(Z,K){z(Z,K,N)}};Object.defineProperty(h,"__esModule",{value:!0}),h.SelectionService=void 0;const k=f(6114),v=f(456),A=f(511),T=f(8460),x=f(4725),C=f(2585),D=f(9806),S=f(9504),M=f(844),B=f(4841),R=String.fromCharCode(160),L=new RegExp(R,"g");let j=class extends M.Disposable{constructor(N,z,Z,K,H,Y,oe,me,re){super(),this._element=N,this._screenElement=z,this._linkifier=Z,this._bufferService=K,this._coreService=H,this._mouseService=Y,this._optionsService=oe,this._renderService=me,this._coreBrowserService=re,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new A.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new T.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new T.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new T.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new T.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=W=>this._handleMouseMove(W),this._mouseUpListener=W=>this._handleMouseUp(W),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(W=>this._handleTrim(W)),this.register(this._bufferService.buffers.onBufferActivate(W=>this._handleBufferActivate(W))),this.enable(),this._model=new v.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,M.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const N=this._model.finalSelectionStart,z=this._model.finalSelectionEnd;return!(!N||!z||N[0]===z[0]&&N[1]===z[1])}get selectionText(){const N=this._model.finalSelectionStart,z=this._model.finalSelectionEnd;if(!N||!z)return"";const Z=this._bufferService.buffer,K=[];if(this._activeSelectionMode===3){if(N[0]===z[0])return"";const H=N[0]<z[0]?N[0]:z[0],Y=N[0]<z[0]?z[0]:N[0];for(let oe=N[1];oe<=z[1];oe++){const me=Z.translateBufferLineToString(oe,!0,H,Y);K.push(me)}}else{const H=N[1]===z[1]?z[0]:void 0;K.push(Z.translateBufferLineToString(N[1],!0,N[0],H));for(let Y=N[1]+1;Y<=z[1]-1;Y++){const oe=Z.lines.get(Y),me=Z.translateBufferLineToString(Y,!0);oe!=null&&oe.isWrapped?K[K.length-1]+=me:K.push(me)}if(N[1]!==z[1]){const Y=Z.lines.get(z[1]),oe=Z.translateBufferLineToString(z[1],!0,0,z[0]);Y&&Y.isWrapped?K[K.length-1]+=oe:K.push(oe)}}return K.map(H=>H.replace(L," ")).join(k.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(N){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),k.isLinux&&N&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(N){const z=this._getMouseBufferCoords(N),Z=this._model.finalSelectionStart,K=this._model.finalSelectionEnd;return!!(Z&&K&&z)&&this._areCoordsInSelection(z,Z,K)}isCellInSelection(N,z){const Z=this._model.finalSelectionStart,K=this._model.finalSelectionEnd;return!(!Z||!K)&&this._areCoordsInSelection([N,z],Z,K)}_areCoordsInSelection(N,z,Z){return N[1]>z[1]&&N[1]<Z[1]||z[1]===Z[1]&&N[1]===z[1]&&N[0]>=z[0]&&N[0]<Z[0]||z[1]<Z[1]&&N[1]===Z[1]&&N[0]<Z[0]||z[1]<Z[1]&&N[1]===z[1]&&N[0]>=z[0]}_selectWordAtCursor(N,z){var Z,K;const H=(K=(Z=this._linkifier.currentLink)===null||Z===void 0?void 0:Z.link)===null||K===void 0?void 0:K.range;if(H)return this._model.selectionStart=[H.start.x-1,H.start.y-1],this._model.selectionStartLength=(0,B.getRangeLength)(H,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const Y=this._getMouseBufferCoords(N);return!!Y&&(this._selectWordAt(Y,z),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(N,z){this._model.clearSelection(),N=Math.max(N,0),z=Math.min(z,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,N],this._model.selectionEnd=[this._bufferService.cols,z],this.refresh(),this._onSelectionChange.fire()}_handleTrim(N){this._model.handleTrim(N)&&this.refresh()}_getMouseBufferCoords(N){const z=this._mouseService.getCoords(N,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(z)return z[0]--,z[1]--,z[1]+=this._bufferService.buffer.ydisp,z}_getMouseEventScrollAmount(N){let z=(0,D.getCoordsRelativeToElement)(this._coreBrowserService.window,N,this._screenElement)[1];const Z=this._renderService.dimensions.css.canvas.height;return z>=0&&z<=Z?0:(z>Z&&(z-=Z),z=Math.min(Math.max(z,-50),50),z/=50,z/Math.abs(z)+Math.round(14*z))}shouldForceSelection(N){return k.isMac?N.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:N.shiftKey}handleMouseDown(N){if(this._mouseDownTimeStamp=N.timeStamp,(N.button!==2||!this.hasSelection)&&N.button===0){if(!this._enabled){if(!this.shouldForceSelection(N))return;N.stopPropagation()}N.preventDefault(),this._dragScrollAmount=0,this._enabled&&N.shiftKey?this._handleIncrementalClick(N):N.detail===1?this._handleSingleClick(N):N.detail===2?this._handleDoubleClick(N):N.detail===3&&this._handleTripleClick(N),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(N){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(N))}_handleSingleClick(N){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(N)?3:0,this._model.selectionStart=this._getMouseBufferCoords(N),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const z=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);z&&z.length!==this._model.selectionStart[0]&&z.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(N){this._selectWordAtCursor(N,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(N){const z=this._getMouseBufferCoords(N);z&&(this._activeSelectionMode=2,this._selectLineAt(z[1]))}shouldColumnSelect(N){return N.altKey&&!(k.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(N){if(N.stopImmediatePropagation(),!this._model.selectionStart)return;const z=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(N),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(N),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const Z=this._bufferService.buffer;if(this._model.selectionEnd[1]<Z.lines.length){const K=Z.lines.get(this._model.selectionEnd[1]);K&&K.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}z&&z[0]===this._model.selectionEnd[0]&&z[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const N=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(N.ydisp+this._bufferService.rows,N.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=N.ydisp),this.refresh()}}_handleMouseUp(N){const z=N.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&z<500&&N.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const Z=this._mouseService.getCoords(N,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(Z&&Z[0]!==void 0&&Z[1]!==void 0){const K=(0,S.moveToCellSequence)(Z[0]-1,Z[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(K,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const N=this._model.finalSelectionStart,z=this._model.finalSelectionEnd,Z=!(!N||!z||N[0]===z[0]&&N[1]===z[1]);Z?N&&z&&(this._oldSelectionStart&&this._oldSelectionEnd&&N[0]===this._oldSelectionStart[0]&&N[1]===this._oldSelectionStart[1]&&z[0]===this._oldSelectionEnd[0]&&z[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(N,z,Z)):this._oldHasSelection&&this._fireOnSelectionChange(N,z,Z)}_fireOnSelectionChange(N,z,Z){this._oldSelectionStart=N,this._oldSelectionEnd=z,this._oldHasSelection=Z,this._onSelectionChange.fire()}_handleBufferActivate(N){this.clearSelection(),this._trimListener.dispose(),this._trimListener=N.activeBuffer.lines.onTrim(z=>this._handleTrim(z))}_convertViewportColToCharacterIndex(N,z){let Z=z;for(let K=0;z>=K;K++){const H=N.loadCell(K,this._workCell).getChars().length;this._workCell.getWidth()===0?Z--:H>1&&z!==K&&(Z+=H-1)}return Z}setSelection(N,z,Z){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[N,z],this._model.selectionStartLength=Z,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(N){this._isClickInSelection(N)||(this._selectWordAtCursor(N,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(N,z,Z=!0,K=!0){if(N[0]>=this._bufferService.cols)return;const H=this._bufferService.buffer,Y=H.lines.get(N[1]);if(!Y)return;const oe=H.translateBufferLineToString(N[1],!1);let me=this._convertViewportColToCharacterIndex(Y,N[0]),re=me;const W=N[0]-me;let J=0,q=0,ae=0,be=0;if(oe.charAt(me)===" "){for(;me>0&&oe.charAt(me-1)===" ";)me--;for(;re<oe.length&&oe.charAt(re+1)===" ";)re++}else{let ee=N[0],le=N[0];Y.getWidth(ee)===0&&(J++,ee--),Y.getWidth(le)===2&&(q++,le++);const te=Y.getString(le).length;for(te>1&&(be+=te-1,re+=te-1);ee>0&&me>0&&!this._isCharWordSeparator(Y.loadCell(ee-1,this._workCell));){Y.loadCell(ee-1,this._workCell);const X=this._workCell.getChars().length;this._workCell.getWidth()===0?(J++,ee--):X>1&&(ae+=X-1,me-=X-1),me--,ee--}for(;le<Y.length&&re+1<oe.length&&!this._isCharWordSeparator(Y.loadCell(le+1,this._workCell));){Y.loadCell(le+1,this._workCell);const X=this._workCell.getChars().length;this._workCell.getWidth()===2?(q++,le++):X>1&&(be+=X-1,re+=X-1),re++,le++}}re++;let ke=me+W-J+ae,se=Math.min(this._bufferService.cols,re-me+J+q-ae-be);if(z||oe.slice(me,re).trim()!==""){if(Z&&ke===0&&Y.getCodePoint(0)!==32){const ee=H.lines.get(N[1]-1);if(ee&&Y.isWrapped&&ee.getCodePoint(this._bufferService.cols-1)!==32){const le=this._getWordAt([this._bufferService.cols-1,N[1]-1],!1,!0,!1);if(le){const te=this._bufferService.cols-le.start;ke-=te,se+=te}}}if(K&&ke+se===this._bufferService.cols&&Y.getCodePoint(this._bufferService.cols-1)!==32){const ee=H.lines.get(N[1]+1);if(ee!=null&&ee.isWrapped&&ee.getCodePoint(0)!==32){const le=this._getWordAt([0,N[1]+1],!1,!1,!0);le&&(se+=le.length)}}return{start:ke,length:se}}}_selectWordAt(N,z){const Z=this._getWordAt(N,z);if(Z){for(;Z.start<0;)Z.start+=this._bufferService.cols,N[1]--;this._model.selectionStart=[Z.start,N[1]],this._model.selectionStartLength=Z.length}}_selectToWordAt(N){const z=this._getWordAt(N,!0);if(z){let Z=N[1];for(;z.start<0;)z.start+=this._bufferService.cols,Z--;if(!this._model.areSelectionValuesReversed())for(;z.start+z.length>this._bufferService.cols;)z.length-=this._bufferService.cols,Z++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?z.start:z.start+z.length,Z]}}_isCharWordSeparator(N){return N.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(N.getChars())>=0}_selectLineAt(N){const z=this._bufferService.buffer.getWrappedRangeForLine(N),Z={start:{x:0,y:z.first},end:{x:this._bufferService.cols-1,y:z.last}};this._model.selectionStart=[0,z.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,B.getRangeLength)(Z,this._bufferService.cols)}};j=g([y(3,C.IBufferService),y(4,C.ICoreService),y(5,x.IMouseService),y(6,C.IOptionsService),y(7,x.IRenderService),y(8,x.ICoreBrowserService)],j),h.SelectionService=j},4725:(u,h,f)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.IThemeService=h.ICharacterJoinerService=h.ISelectionService=h.IRenderService=h.IMouseService=h.ICoreBrowserService=h.ICharSizeService=void 0;const g=f(8343);h.ICharSizeService=(0,g.createDecorator)("CharSizeService"),h.ICoreBrowserService=(0,g.createDecorator)("CoreBrowserService"),h.IMouseService=(0,g.createDecorator)("MouseService"),h.IRenderService=(0,g.createDecorator)("RenderService"),h.ISelectionService=(0,g.createDecorator)("SelectionService"),h.ICharacterJoinerService=(0,g.createDecorator)("CharacterJoinerService"),h.IThemeService=(0,g.createDecorator)("ThemeService")},6731:function(u,h,f){var g=this&&this.__decorate||function(j,N,z,Z){var K,H=arguments.length,Y=H<3?N:Z===null?Z=Object.getOwnPropertyDescriptor(N,z):Z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Y=Reflect.decorate(j,N,z,Z);else for(var oe=j.length-1;oe>=0;oe--)(K=j[oe])&&(Y=(H<3?K(Y):H>3?K(N,z,Y):K(N,z))||Y);return H>3&&Y&&Object.defineProperty(N,z,Y),Y},y=this&&this.__param||function(j,N){return function(z,Z){N(z,Z,j)}};Object.defineProperty(h,"__esModule",{value:!0}),h.ThemeService=h.DEFAULT_ANSI_COLORS=void 0;const k=f(7239),v=f(8055),A=f(8460),T=f(844),x=f(2585),C=v.css.toColor("#ffffff"),D=v.css.toColor("#000000"),S=v.css.toColor("#ffffff"),M=v.css.toColor("#000000"),B={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};h.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const j=[v.css.toColor("#2e3436"),v.css.toColor("#cc0000"),v.css.toColor("#4e9a06"),v.css.toColor("#c4a000"),v.css.toColor("#3465a4"),v.css.toColor("#75507b"),v.css.toColor("#06989a"),v.css.toColor("#d3d7cf"),v.css.toColor("#555753"),v.css.toColor("#ef2929"),v.css.toColor("#8ae234"),v.css.toColor("#fce94f"),v.css.toColor("#729fcf"),v.css.toColor("#ad7fa8"),v.css.toColor("#34e2e2"),v.css.toColor("#eeeeec")],N=[0,95,135,175,215,255];for(let z=0;z<216;z++){const Z=N[z/36%6|0],K=N[z/6%6|0],H=N[z%6];j.push({css:v.channels.toCss(Z,K,H),rgba:v.channels.toRgba(Z,K,H)})}for(let z=0;z<24;z++){const Z=8+10*z;j.push({css:v.channels.toCss(Z,Z,Z),rgba:v.channels.toRgba(Z,Z,Z)})}return j})());let R=class extends T.Disposable{constructor(j){super(),this._optionsService=j,this._onChangeColors=this.register(new A.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._contrastCache=new k.ColorContrastCache,this._colors={foreground:C,background:D,cursor:S,cursorAccent:M,selectionForeground:void 0,selectionBackgroundTransparent:B,selectionBackgroundOpaque:v.color.blend(D,B),selectionInactiveBackgroundTransparent:B,selectionInactiveBackgroundOpaque:v.color.blend(D,B),ansi:h.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}get colors(){return this._colors}_setTheme(j={}){const N=this._colors;if(N.foreground=L(j.foreground,C),N.background=L(j.background,D),N.cursor=L(j.cursor,S),N.cursorAccent=L(j.cursorAccent,M),N.selectionBackgroundTransparent=L(j.selectionBackground,B),N.selectionBackgroundOpaque=v.color.blend(N.background,N.selectionBackgroundTransparent),N.selectionInactiveBackgroundTransparent=L(j.selectionInactiveBackground,N.selectionBackgroundTransparent),N.selectionInactiveBackgroundOpaque=v.color.blend(N.background,N.selectionInactiveBackgroundTransparent),N.selectionForeground=j.selectionForeground?L(j.selectionForeground,v.NULL_COLOR):void 0,N.selectionForeground===v.NULL_COLOR&&(N.selectionForeground=void 0),v.color.isOpaque(N.selectionBackgroundTransparent)&&(N.selectionBackgroundTransparent=v.color.opacity(N.selectionBackgroundTransparent,.3)),v.color.isOpaque(N.selectionInactiveBackgroundTransparent)&&(N.selectionInactiveBackgroundTransparent=v.color.opacity(N.selectionInactiveBackgroundTransparent,.3)),N.ansi=h.DEFAULT_ANSI_COLORS.slice(),N.ansi[0]=L(j.black,h.DEFAULT_ANSI_COLORS[0]),N.ansi[1]=L(j.red,h.DEFAULT_ANSI_COLORS[1]),N.ansi[2]=L(j.green,h.DEFAULT_ANSI_COLORS[2]),N.ansi[3]=L(j.yellow,h.DEFAULT_ANSI_COLORS[3]),N.ansi[4]=L(j.blue,h.DEFAULT_ANSI_COLORS[4]),N.ansi[5]=L(j.magenta,h.DEFAULT_ANSI_COLORS[5]),N.ansi[6]=L(j.cyan,h.DEFAULT_ANSI_COLORS[6]),N.ansi[7]=L(j.white,h.DEFAULT_ANSI_COLORS[7]),N.ansi[8]=L(j.brightBlack,h.DEFAULT_ANSI_COLORS[8]),N.ansi[9]=L(j.brightRed,h.DEFAULT_ANSI_COLORS[9]),N.ansi[10]=L(j.brightGreen,h.DEFAULT_ANSI_COLORS[10]),N.ansi[11]=L(j.brightYellow,h.DEFAULT_ANSI_COLORS[11]),N.ansi[12]=L(j.brightBlue,h.DEFAULT_ANSI_COLORS[12]),N.ansi[13]=L(j.brightMagenta,h.DEFAULT_ANSI_COLORS[13]),N.ansi[14]=L(j.brightCyan,h.DEFAULT_ANSI_COLORS[14]),N.ansi[15]=L(j.brightWhite,h.DEFAULT_ANSI_COLORS[15]),j.extendedAnsi){const z=Math.min(N.ansi.length-16,j.extendedAnsi.length);for(let Z=0;Z<z;Z++)N.ansi[Z+16]=L(j.extendedAnsi[Z],h.DEFAULT_ANSI_COLORS[Z+16])}this._contrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(j){this._restoreColor(j),this._onChangeColors.fire(this.colors)}_restoreColor(j){if(j!==void 0)switch(j){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[j]=this._restoreColors.ansi[j]}else for(let N=0;N<this._restoreColors.ansi.length;++N)this._colors.ansi[N]=this._restoreColors.ansi[N]}modifyColors(j){j(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function L(j,N){if(j!==void 0)try{return v.css.toColor(j)}catch{}return N}R=g([y(0,x.IOptionsService)],R),h.ThemeService=R},6349:(u,h,f)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CircularList=void 0;const g=f(8460),y=f(844);class k extends y.Disposable{constructor(A){super(),this._maxLength=A,this.onDeleteEmitter=this.register(new g.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new g.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new g.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(A){if(this._maxLength===A)return;const T=new Array(A);for(let x=0;x<Math.min(A,this.length);x++)T[x]=this._array[this._getCyclicIndex(x)];this._array=T,this._maxLength=A,this._startIndex=0}get length(){return this._length}set length(A){if(A>this._length)for(let T=this._length;T<A;T++)this._array[T]=void 0;this._length=A}get(A){return this._array[this._getCyclicIndex(A)]}set(A,T){this._array[this._getCyclicIndex(A)]=T}push(A){this._array[this._getCyclicIndex(this._length)]=A,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(A,T,...x){if(T){for(let C=A;C<this._length-T;C++)this._array[this._getCyclicIndex(C)]=this._array[this._getCyclicIndex(C+T)];this._length-=T,this.onDeleteEmitter.fire({index:A,amount:T})}for(let C=this._length-1;C>=A;C--)this._array[this._getCyclicIndex(C+x.length)]=this._array[this._getCyclicIndex(C)];for(let C=0;C<x.length;C++)this._array[this._getCyclicIndex(A+C)]=x[C];if(x.length&&this.onInsertEmitter.fire({index:A,amount:x.length}),this._length+x.length>this._maxLength){const C=this._length+x.length-this._maxLength;this._startIndex+=C,this._length=this._maxLength,this.onTrimEmitter.fire(C)}else this._length+=x.length}trimStart(A){A>this._length&&(A=this._length),this._startIndex+=A,this._length-=A,this.onTrimEmitter.fire(A)}shiftElements(A,T,x){if(!(T<=0)){if(A<0||A>=this._length)throw new Error("start argument out of range");if(A+x<0)throw new Error("Cannot shift elements in list beyond index 0");if(x>0){for(let D=T-1;D>=0;D--)this.set(A+D+x,this.get(A+D));const C=A+T+x-this._length;if(C>0)for(this._length+=C;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let C=0;C<T;C++)this.set(A+C+x,this.get(A+C))}}_getCyclicIndex(A){return(this._startIndex+A)%this._maxLength}}h.CircularList=k},1439:(u,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.clone=void 0,h.clone=function f(g,y=5){if(typeof g!="object")return g;const k=Array.isArray(g)?[]:{};for(const v in g)k[v]=y<=1?g[v]:g[v]&&f(g[v],y-1);return k}},8055:(u,h,f)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.contrastRatio=h.toPaddedHex=h.rgba=h.rgb=h.css=h.color=h.channels=h.NULL_COLOR=void 0;const g=f(6114);let y=0,k=0,v=0,A=0;var T,x,C;function D(M){const B=M.toString(16);return B.length<2?"0"+B:B}function S(M,B){return M<B?(B+.05)/(M+.05):(M+.05)/(B+.05)}h.NULL_COLOR={css:"#00000000",rgba:0},function(M){M.toCss=function(B,R,L,j){return j!==void 0?`#${D(B)}${D(R)}${D(L)}${D(j)}`:`#${D(B)}${D(R)}${D(L)}`},M.toRgba=function(B,R,L,j=255){return(B<<24|R<<16|L<<8|j)>>>0}}(T=h.channels||(h.channels={})),function(M){function B(R,L){return A=Math.round(255*L),[y,k,v]=C.toChannels(R.rgba),{css:T.toCss(y,k,v,A),rgba:T.toRgba(y,k,v,A)}}M.blend=function(R,L){if(A=(255&L.rgba)/255,A===1)return{css:L.css,rgba:L.rgba};const j=L.rgba>>24&255,N=L.rgba>>16&255,z=L.rgba>>8&255,Z=R.rgba>>24&255,K=R.rgba>>16&255,H=R.rgba>>8&255;return y=Z+Math.round((j-Z)*A),k=K+Math.round((N-K)*A),v=H+Math.round((z-H)*A),{css:T.toCss(y,k,v),rgba:T.toRgba(y,k,v)}},M.isOpaque=function(R){return(255&R.rgba)==255},M.ensureContrastRatio=function(R,L,j){const N=C.ensureContrastRatio(R.rgba,L.rgba,j);if(N)return C.toColor(N>>24&255,N>>16&255,N>>8&255)},M.opaque=function(R){const L=(255|R.rgba)>>>0;return[y,k,v]=C.toChannels(L),{css:T.toCss(y,k,v),rgba:L}},M.opacity=B,M.multiplyOpacity=function(R,L){return A=255&R.rgba,B(R,A*L/255)},M.toColorRGB=function(R){return[R.rgba>>24&255,R.rgba>>16&255,R.rgba>>8&255]}}(h.color||(h.color={})),function(M){let B,R;if(!g.isNode){const L=document.createElement("canvas");L.width=1,L.height=1;const j=L.getContext("2d",{willReadFrequently:!0});j&&(B=j,B.globalCompositeOperation="copy",R=B.createLinearGradient(0,0,1,1))}M.toColor=function(L){if(L.match(/#[\da-f]{3,8}/i))switch(L.length){case 4:return y=parseInt(L.slice(1,2).repeat(2),16),k=parseInt(L.slice(2,3).repeat(2),16),v=parseInt(L.slice(3,4).repeat(2),16),C.toColor(y,k,v);case 5:return y=parseInt(L.slice(1,2).repeat(2),16),k=parseInt(L.slice(2,3).repeat(2),16),v=parseInt(L.slice(3,4).repeat(2),16),A=parseInt(L.slice(4,5).repeat(2),16),C.toColor(y,k,v,A);case 7:return{css:L,rgba:(parseInt(L.slice(1),16)<<8|255)>>>0};case 9:return{css:L,rgba:parseInt(L.slice(1),16)>>>0}}const j=L.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(j)return y=parseInt(j[1]),k=parseInt(j[2]),v=parseInt(j[3]),A=Math.round(255*(j[5]===void 0?1:parseFloat(j[5]))),C.toColor(y,k,v,A);if(!B||!R)throw new Error("css.toColor: Unsupported css format");if(B.fillStyle=R,B.fillStyle=L,typeof B.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(B.fillRect(0,0,1,1),[y,k,v,A]=B.getImageData(0,0,1,1).data,A!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:T.toRgba(y,k,v,A),css:L}}}(h.css||(h.css={})),function(M){function B(R,L,j){const N=R/255,z=L/255,Z=j/255;return .2126*(N<=.03928?N/12.92:Math.pow((N+.055)/1.055,2.4))+.7152*(z<=.03928?z/12.92:Math.pow((z+.055)/1.055,2.4))+.0722*(Z<=.03928?Z/12.92:Math.pow((Z+.055)/1.055,2.4))}M.relativeLuminance=function(R){return B(R>>16&255,R>>8&255,255&R)},M.relativeLuminance2=B}(x=h.rgb||(h.rgb={})),function(M){function B(L,j,N){const z=L>>24&255,Z=L>>16&255,K=L>>8&255;let H=j>>24&255,Y=j>>16&255,oe=j>>8&255,me=S(x.relativeLuminance2(H,Y,oe),x.relativeLuminance2(z,Z,K));for(;me<N&&(H>0||Y>0||oe>0);)H-=Math.max(0,Math.ceil(.1*H)),Y-=Math.max(0,Math.ceil(.1*Y)),oe-=Math.max(0,Math.ceil(.1*oe)),me=S(x.relativeLuminance2(H,Y,oe),x.relativeLuminance2(z,Z,K));return(H<<24|Y<<16|oe<<8|255)>>>0}function R(L,j,N){const z=L>>24&255,Z=L>>16&255,K=L>>8&255;let H=j>>24&255,Y=j>>16&255,oe=j>>8&255,me=S(x.relativeLuminance2(H,Y,oe),x.relativeLuminance2(z,Z,K));for(;me<N&&(H<255||Y<255||oe<255);)H=Math.min(255,H+Math.ceil(.1*(255-H))),Y=Math.min(255,Y+Math.ceil(.1*(255-Y))),oe=Math.min(255,oe+Math.ceil(.1*(255-oe))),me=S(x.relativeLuminance2(H,Y,oe),x.relativeLuminance2(z,Z,K));return(H<<24|Y<<16|oe<<8|255)>>>0}M.ensureContrastRatio=function(L,j,N){const z=x.relativeLuminance(L>>8),Z=x.relativeLuminance(j>>8);if(S(z,Z)<N){if(Z<z){const Y=B(L,j,N),oe=S(z,x.relativeLuminance(Y>>8));if(oe<N){const me=R(L,j,N);return oe>S(z,x.relativeLuminance(me>>8))?Y:me}return Y}const K=R(L,j,N),H=S(z,x.relativeLuminance(K>>8));if(H<N){const Y=B(L,j,N);return H>S(z,x.relativeLuminance(Y>>8))?K:Y}return K}},M.reduceLuminance=B,M.increaseLuminance=R,M.toChannels=function(L){return[L>>24&255,L>>16&255,L>>8&255,255&L]},M.toColor=function(L,j,N,z){return{css:T.toCss(L,j,N,z),rgba:T.toRgba(L,j,N,z)}}}(C=h.rgba||(h.rgba={})),h.toPaddedHex=D,h.contrastRatio=S},8969:(u,h,f)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CoreTerminal=void 0;const g=f(844),y=f(2585),k=f(4348),v=f(7866),A=f(744),T=f(7302),x=f(6975),C=f(8460),D=f(1753),S=f(1480),M=f(7994),B=f(9282),R=f(5435),L=f(5981),j=f(2660);let N=!1;class z extends g.Disposable{constructor(K){super(),this._onBinary=this.register(new C.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new C.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new C.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new C.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new C.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new C.EventEmitter),this._instantiationService=new k.InstantiationService,this.optionsService=this.register(new T.OptionsService(K)),this._instantiationService.setService(y.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(A.BufferService)),this._instantiationService.setService(y.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(v.LogService)),this._instantiationService.setService(y.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(x.CoreService)),this._instantiationService.setService(y.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(D.CoreMouseService)),this._instantiationService.setService(y.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(S.UnicodeService)),this._instantiationService.setService(y.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(M.CharsetService),this._instantiationService.setService(y.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(j.OscLinkService),this._instantiationService.setService(y.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new R.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,C.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,C.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,C.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,C.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(H=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(H=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new L.WriteBuffer((H,Y)=>this._inputHandler.parse(H,Y))),this.register((0,C.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed)),this.register((0,g.toDisposable)(()=>{var H;(H=this._windowsWrappingHeuristics)===null||H===void 0||H.dispose(),this._windowsWrappingHeuristics=void 0}))}get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new C.EventEmitter),this._onScroll.event(K=>{var H;(H=this._onScrollApi)===null||H===void 0||H.fire(K.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(K){for(const H in K)this.optionsService.options[H]=K[H]}write(K,H){this._writeBuffer.write(K,H)}writeSync(K,H){this._logService.logLevel<=y.LogLevelEnum.WARN&&!N&&(this._logService.warn("writeSync is unreliable and will be removed soon."),N=!0),this._writeBuffer.writeSync(K,H)}resize(K,H){isNaN(K)||isNaN(H)||(K=Math.max(K,A.MINIMUM_COLS),H=Math.max(H,A.MINIMUM_ROWS),this._bufferService.resize(K,H))}scroll(K,H=!1){this._bufferService.scroll(K,H)}scrollLines(K,H,Y){this._bufferService.scrollLines(K,H,Y)}scrollPages(K){this._bufferService.scrollPages(K)}scrollToTop(){this._bufferService.scrollToTop()}scrollToBottom(){this._bufferService.scrollToBottom()}scrollToLine(K){this._bufferService.scrollToLine(K)}registerEscHandler(K,H){return this._inputHandler.registerEscHandler(K,H)}registerDcsHandler(K,H){return this._inputHandler.registerDcsHandler(K,H)}registerCsiHandler(K,H){return this._inputHandler.registerCsiHandler(K,H)}registerOscHandler(K,H){return this._inputHandler.registerOscHandler(K,H)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){var K;let H=!1;const Y=this.optionsService.rawOptions.windowsPty;Y&&Y.buildNumber!==void 0&&Y.buildNumber!==void 0?H=Y.backend==="conpty"&&Y.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(H=!0),H?this._enableWindowsWrappingHeuristics():((K=this._windowsWrappingHeuristics)===null||K===void 0||K.dispose(),this._windowsWrappingHeuristics=void 0)}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics){const K=[];K.push(this.onLineFeed(B.updateWindowsModeWrappedState.bind(null,this._bufferService))),K.push(this.registerCsiHandler({final:"H"},()=>((0,B.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics=(0,g.toDisposable)(()=>{for(const H of K)H.dispose()})}}}h.CoreTerminal=z},8460:(u,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.forwardEvent=h.EventEmitter=void 0,h.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=f=>(this._listeners.push(f),{dispose:()=>{if(!this._disposed){for(let g=0;g<this._listeners.length;g++)if(this._listeners[g]===f)return void this._listeners.splice(g,1)}}})),this._event}fire(f,g){const y=[];for(let k=0;k<this._listeners.length;k++)y.push(this._listeners[k]);for(let k=0;k<y.length;k++)y[k].call(void 0,f,g)}dispose(){this._listeners&&(this._listeners.length=0),this._disposed=!0}},h.forwardEvent=function(f,g){return f(y=>g.fire(y))}},5435:function(u,h,f){var g=this&&this.__decorate||function(re,W,J,q){var ae,be=arguments.length,ke=be<3?W:q===null?q=Object.getOwnPropertyDescriptor(W,J):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ke=Reflect.decorate(re,W,J,q);else for(var se=re.length-1;se>=0;se--)(ae=re[se])&&(ke=(be<3?ae(ke):be>3?ae(W,J,ke):ae(W,J))||ke);return be>3&&ke&&Object.defineProperty(W,J,ke),ke},y=this&&this.__param||function(re,W){return function(J,q){W(J,q,re)}};Object.defineProperty(h,"__esModule",{value:!0}),h.InputHandler=h.WindowsOptionsReportType=void 0;const k=f(2584),v=f(7116),A=f(2015),T=f(844),x=f(482),C=f(8437),D=f(8460),S=f(643),M=f(511),B=f(3734),R=f(2585),L=f(6242),j=f(6351),N=f(5941),z={"(":0,")":1,"*":2,"+":3,"-":1,".":2},Z=131072;function K(re,W){if(re>24)return W.setWinLines||!1;switch(re){case 1:return!!W.restoreWin;case 2:return!!W.minimizeWin;case 3:return!!W.setWinPosition;case 4:return!!W.setWinSizePixels;case 5:return!!W.raiseWin;case 6:return!!W.lowerWin;case 7:return!!W.refreshWin;case 8:return!!W.setWinSizeChars;case 9:return!!W.maximizeWin;case 10:return!!W.fullscreenWin;case 11:return!!W.getWinState;case 13:return!!W.getWinPosition;case 14:return!!W.getWinSizePixels;case 15:return!!W.getScreenSizePixels;case 16:return!!W.getCellSizePixels;case 18:return!!W.getWinSizeChars;case 19:return!!W.getScreenSizeChars;case 20:return!!W.getIconTitle;case 21:return!!W.getWinTitle;case 22:return!!W.pushTitle;case 23:return!!W.popTitle;case 24:return!!W.setWinLines}return!1}var H;(function(re){re[re.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",re[re.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(H=h.WindowsOptionsReportType||(h.WindowsOptionsReportType={}));let Y=0;class oe extends T.Disposable{constructor(W,J,q,ae,be,ke,se,ee,le=new A.EscapeSequenceParser){super(),this._bufferService=W,this._charsetService=J,this._coreService=q,this._logService=ae,this._optionsService=be,this._oscLinkService=ke,this._coreMouseService=se,this._unicodeService=ee,this._parser=le,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new x.StringToUtf32,this._utf8Decoder=new x.Utf8ToUtf32,this._workCell=new M.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=C.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=C.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new D.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new D.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new D.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new D.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new D.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new D.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new D.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new D.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new D.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new D.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new D.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new D.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new D.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new me(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(te=>this._activeBuffer=te.activeBuffer)),this._parser.setCsiHandlerFallback((te,X)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(te),params:X.toArray()})}),this._parser.setEscHandlerFallback(te=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(te)})}),this._parser.setExecuteHandlerFallback(te=>{this._logService.debug("Unknown EXECUTE code: ",{code:te})}),this._parser.setOscHandlerFallback((te,X,ce)=>{this._logService.debug("Unknown OSC code: ",{identifier:te,action:X,data:ce})}),this._parser.setDcsHandlerFallback((te,X,ce)=>{X==="HOOK"&&(ce=ce.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(te),action:X,payload:ce})}),this._parser.setPrintHandler((te,X,ce)=>this.print(te,X,ce)),this._parser.registerCsiHandler({final:"@"},te=>this.insertChars(te)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},te=>this.scrollLeft(te)),this._parser.registerCsiHandler({final:"A"},te=>this.cursorUp(te)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},te=>this.scrollRight(te)),this._parser.registerCsiHandler({final:"B"},te=>this.cursorDown(te)),this._parser.registerCsiHandler({final:"C"},te=>this.cursorForward(te)),this._parser.registerCsiHandler({final:"D"},te=>this.cursorBackward(te)),this._parser.registerCsiHandler({final:"E"},te=>this.cursorNextLine(te)),this._parser.registerCsiHandler({final:"F"},te=>this.cursorPrecedingLine(te)),this._parser.registerCsiHandler({final:"G"},te=>this.cursorCharAbsolute(te)),this._parser.registerCsiHandler({final:"H"},te=>this.cursorPosition(te)),this._parser.registerCsiHandler({final:"I"},te=>this.cursorForwardTab(te)),this._parser.registerCsiHandler({final:"J"},te=>this.eraseInDisplay(te,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},te=>this.eraseInDisplay(te,!0)),this._parser.registerCsiHandler({final:"K"},te=>this.eraseInLine(te,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},te=>this.eraseInLine(te,!0)),this._parser.registerCsiHandler({final:"L"},te=>this.insertLines(te)),this._parser.registerCsiHandler({final:"M"},te=>this.deleteLines(te)),this._parser.registerCsiHandler({final:"P"},te=>this.deleteChars(te)),this._parser.registerCsiHandler({final:"S"},te=>this.scrollUp(te)),this._parser.registerCsiHandler({final:"T"},te=>this.scrollDown(te)),this._parser.registerCsiHandler({final:"X"},te=>this.eraseChars(te)),this._parser.registerCsiHandler({final:"Z"},te=>this.cursorBackwardTab(te)),this._parser.registerCsiHandler({final:"`"},te=>this.charPosAbsolute(te)),this._parser.registerCsiHandler({final:"a"},te=>this.hPositionRelative(te)),this._parser.registerCsiHandler({final:"b"},te=>this.repeatPrecedingCharacter(te)),this._parser.registerCsiHandler({final:"c"},te=>this.sendDeviceAttributesPrimary(te)),this._parser.registerCsiHandler({prefix:">",final:"c"},te=>this.sendDeviceAttributesSecondary(te)),this._parser.registerCsiHandler({final:"d"},te=>this.linePosAbsolute(te)),this._parser.registerCsiHandler({final:"e"},te=>this.vPositionRelative(te)),this._parser.registerCsiHandler({final:"f"},te=>this.hVPosition(te)),this._parser.registerCsiHandler({final:"g"},te=>this.tabClear(te)),this._parser.registerCsiHandler({final:"h"},te=>this.setMode(te)),this._parser.registerCsiHandler({prefix:"?",final:"h"},te=>this.setModePrivate(te)),this._parser.registerCsiHandler({final:"l"},te=>this.resetMode(te)),this._parser.registerCsiHandler({prefix:"?",final:"l"},te=>this.resetModePrivate(te)),this._parser.registerCsiHandler({final:"m"},te=>this.charAttributes(te)),this._parser.registerCsiHandler({final:"n"},te=>this.deviceStatus(te)),this._parser.registerCsiHandler({prefix:"?",final:"n"},te=>this.deviceStatusPrivate(te)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},te=>this.softReset(te)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},te=>this.setCursorStyle(te)),this._parser.registerCsiHandler({final:"r"},te=>this.setScrollRegion(te)),this._parser.registerCsiHandler({final:"s"},te=>this.saveCursor(te)),this._parser.registerCsiHandler({final:"t"},te=>this.windowOptions(te)),this._parser.registerCsiHandler({final:"u"},te=>this.restoreCursor(te)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},te=>this.insertColumns(te)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},te=>this.deleteColumns(te)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},te=>this.selectProtected(te)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},te=>this.requestMode(te,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},te=>this.requestMode(te,!1)),this._parser.setExecuteHandler(k.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(k.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(k.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(k.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(k.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(k.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(k.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(k.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(k.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(k.C1.IND,()=>this.index()),this._parser.setExecuteHandler(k.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(k.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new L.OscHandler(te=>(this.setTitle(te),this.setIconName(te),!0))),this._parser.registerOscHandler(1,new L.OscHandler(te=>this.setIconName(te))),this._parser.registerOscHandler(2,new L.OscHandler(te=>this.setTitle(te))),this._parser.registerOscHandler(4,new L.OscHandler(te=>this.setOrReportIndexedColor(te))),this._parser.registerOscHandler(8,new L.OscHandler(te=>this.setHyperlink(te))),this._parser.registerOscHandler(10,new L.OscHandler(te=>this.setOrReportFgColor(te))),this._parser.registerOscHandler(11,new L.OscHandler(te=>this.setOrReportBgColor(te))),this._parser.registerOscHandler(12,new L.OscHandler(te=>this.setOrReportCursorColor(te))),this._parser.registerOscHandler(104,new L.OscHandler(te=>this.restoreIndexedColor(te))),this._parser.registerOscHandler(110,new L.OscHandler(te=>this.restoreFgColor(te))),this._parser.registerOscHandler(111,new L.OscHandler(te=>this.restoreBgColor(te))),this._parser.registerOscHandler(112,new L.OscHandler(te=>this.restoreCursorColor(te))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const te in v.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:te},()=>this.selectCharset("("+te)),this._parser.registerEscHandler({intermediates:")",final:te},()=>this.selectCharset(")"+te)),this._parser.registerEscHandler({intermediates:"*",final:te},()=>this.selectCharset("*"+te)),this._parser.registerEscHandler({intermediates:"+",final:te},()=>this.selectCharset("+"+te)),this._parser.registerEscHandler({intermediates:"-",final:te},()=>this.selectCharset("-"+te)),this._parser.registerEscHandler({intermediates:".",final:te},()=>this.selectCharset("."+te)),this._parser.registerEscHandler({intermediates:"/",final:te},()=>this.selectCharset("/"+te));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(te=>(this._logService.error("Parsing error: ",te),te)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new j.DcsHandler((te,X)=>this.requestStatusString(te,X)))}getAttrData(){return this._curAttrData}_preserveStack(W,J,q,ae){this._parseStack.paused=!0,this._parseStack.cursorStartX=W,this._parseStack.cursorStartY=J,this._parseStack.decodedLength=q,this._parseStack.position=ae}_logSlowResolvingAsync(W){this._logService.logLevel<=R.LogLevelEnum.WARN&&Promise.race([W,new Promise((J,q)=>setTimeout(()=>q("#SLOW_TIMEOUT"),5e3))]).catch(J=>{if(J!=="#SLOW_TIMEOUT")throw J;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(W,J){let q,ae=this._activeBuffer.x,be=this._activeBuffer.y,ke=0;const se=this._parseStack.paused;if(se){if(q=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,J))return this._logSlowResolvingAsync(q),q;ae=this._parseStack.cursorStartX,be=this._parseStack.cursorStartY,this._parseStack.paused=!1,W.length>Z&&(ke=this._parseStack.position+Z)}if(this._logService.logLevel<=R.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof W=="string"?` "${W}"`:` "${Array.prototype.map.call(W,ee=>String.fromCharCode(ee)).join("")}"`),typeof W=="string"?W.split("").map(ee=>ee.charCodeAt(0)):W),this._parseBuffer.length<W.length&&this._parseBuffer.length<Z&&(this._parseBuffer=new Uint32Array(Math.min(W.length,Z))),se||this._dirtyRowTracker.clearRange(),W.length>Z)for(let ee=ke;ee<W.length;ee+=Z){const le=ee+Z<W.length?ee+Z:W.length,te=typeof W=="string"?this._stringDecoder.decode(W.substring(ee,le),this._parseBuffer):this._utf8Decoder.decode(W.subarray(ee,le),this._parseBuffer);if(q=this._parser.parse(this._parseBuffer,te))return this._preserveStack(ae,be,te,ee),this._logSlowResolvingAsync(q),q}else if(!se){const ee=typeof W=="string"?this._stringDecoder.decode(W,this._parseBuffer):this._utf8Decoder.decode(W,this._parseBuffer);if(q=this._parser.parse(this._parseBuffer,ee))return this._preserveStack(ae,be,ee,0),this._logSlowResolvingAsync(q),q}this._activeBuffer.x===ae&&this._activeBuffer.y===be||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(W,J,q){let ae,be;const ke=this._charsetService.charset,se=this._optionsService.rawOptions.screenReaderMode,ee=this._bufferService.cols,le=this._coreService.decPrivateModes.wraparound,te=this._coreService.modes.insertMode,X=this._curAttrData;let ce=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&q-J>0&&ce.getWidth(this._activeBuffer.x-1)===2&&ce.setCellFromCodePoint(this._activeBuffer.x-1,0,1,X.fg,X.bg,X.extended);for(let pe=J;pe<q;++pe){if(ae=W[pe],be=this._unicodeService.wcwidth(ae),ae<127&&ke){const we=ke[String.fromCharCode(ae)];we&&(ae=we.charCodeAt(0))}if(se&&this._onA11yChar.fire((0,x.stringFromCodePoint)(ae)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),be||!this._activeBuffer.x){if(this._activeBuffer.x+be-1>=ee){if(le){for(;this._activeBuffer.x<ee;)ce.setCellFromCodePoint(this._activeBuffer.x++,0,1,X.fg,X.bg,X.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),ce=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=ee-1,be===2)continue}if(te&&(ce.insertCells(this._activeBuffer.x,be,this._activeBuffer.getNullCell(X),X),ce.getWidth(ee-1)===2&&ce.setCellFromCodePoint(ee-1,S.NULL_CELL_CODE,S.NULL_CELL_WIDTH,X.fg,X.bg,X.extended)),ce.setCellFromCodePoint(this._activeBuffer.x++,ae,be,X.fg,X.bg,X.extended),be>0)for(;--be;)ce.setCellFromCodePoint(this._activeBuffer.x++,0,0,X.fg,X.bg,X.extended)}else ce.getWidth(this._activeBuffer.x-1)?ce.addCodepointToCell(this._activeBuffer.x-1,ae):ce.addCodepointToCell(this._activeBuffer.x-2,ae)}q-J>0&&(ce.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<ee&&q-J>0&&ce.getWidth(this._activeBuffer.x)===0&&!ce.hasContent(this._activeBuffer.x)&&ce.setCellFromCodePoint(this._activeBuffer.x,0,1,X.fg,X.bg,X.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(W,J){return W.final!=="t"||W.prefix||W.intermediates?this._parser.registerCsiHandler(W,J):this._parser.registerCsiHandler(W,q=>!K(q.params[0],this._optionsService.rawOptions.windowOptions)||J(q))}registerDcsHandler(W,J){return this._parser.registerDcsHandler(W,new j.DcsHandler(J))}registerEscHandler(W,J){return this._parser.registerEscHandler(W,J)}registerOscHandler(W,J){return this._parser.registerOscHandler(W,new L.OscHandler(J))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var W;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(!((W=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||W===void 0)&&W.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const J=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);J.hasWidth(this._activeBuffer.x)&&!J.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const W=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-W),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(W=this._bufferService.cols-1){this._activeBuffer.x=Math.min(W,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(W,J){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=W,this._activeBuffer.y=this._activeBuffer.scrollTop+J):(this._activeBuffer.x=W,this._activeBuffer.y=J),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(W,J){this._restrictCursor(),this._setCursor(this._activeBuffer.x+W,this._activeBuffer.y+J)}cursorUp(W){const J=this._activeBuffer.y-this._activeBuffer.scrollTop;return J>=0?this._moveCursor(0,-Math.min(J,W.params[0]||1)):this._moveCursor(0,-(W.params[0]||1)),!0}cursorDown(W){const J=this._activeBuffer.scrollBottom-this._activeBuffer.y;return J>=0?this._moveCursor(0,Math.min(J,W.params[0]||1)):this._moveCursor(0,W.params[0]||1),!0}cursorForward(W){return this._moveCursor(W.params[0]||1,0),!0}cursorBackward(W){return this._moveCursor(-(W.params[0]||1),0),!0}cursorNextLine(W){return this.cursorDown(W),this._activeBuffer.x=0,!0}cursorPrecedingLine(W){return this.cursorUp(W),this._activeBuffer.x=0,!0}cursorCharAbsolute(W){return this._setCursor((W.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(W){return this._setCursor(W.length>=2?(W.params[1]||1)-1:0,(W.params[0]||1)-1),!0}charPosAbsolute(W){return this._setCursor((W.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(W){return this._moveCursor(W.params[0]||1,0),!0}linePosAbsolute(W){return this._setCursor(this._activeBuffer.x,(W.params[0]||1)-1),!0}vPositionRelative(W){return this._moveCursor(0,W.params[0]||1),!0}hVPosition(W){return this.cursorPosition(W),!0}tabClear(W){const J=W.params[0];return J===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:J===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(W){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let J=W.params[0]||1;for(;J--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(W){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let J=W.params[0]||1;for(;J--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(W){const J=W.params[0];return J===1&&(this._curAttrData.bg|=536870912),J!==2&&J!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(W,J,q,ae=!1,be=!1){const ke=this._activeBuffer.lines.get(this._activeBuffer.ybase+W);ke.replaceCells(J,q,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),be),ae&&(ke.isWrapped=!1)}_resetBufferLine(W,J=!1){const q=this._activeBuffer.lines.get(this._activeBuffer.ybase+W);q&&(q.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),J),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+W),q.isWrapped=!1)}eraseInDisplay(W,J=!1){let q;switch(this._restrictCursor(this._bufferService.cols),W.params[0]){case 0:for(q=this._activeBuffer.y,this._dirtyRowTracker.markDirty(q),this._eraseInBufferLine(q++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,J);q<this._bufferService.rows;q++)this._resetBufferLine(q,J);this._dirtyRowTracker.markDirty(q);break;case 1:for(q=this._activeBuffer.y,this._dirtyRowTracker.markDirty(q),this._eraseInBufferLine(q,0,this._activeBuffer.x+1,!0,J),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(q+1).isWrapped=!1);q--;)this._resetBufferLine(q,J);this._dirtyRowTracker.markDirty(0);break;case 2:for(q=this._bufferService.rows,this._dirtyRowTracker.markDirty(q-1);q--;)this._resetBufferLine(q,J);this._dirtyRowTracker.markDirty(0);break;case 3:const ae=this._activeBuffer.lines.length-this._bufferService.rows;ae>0&&(this._activeBuffer.lines.trimStart(ae),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-ae,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-ae,0),this._onScroll.fire(0))}return!0}eraseInLine(W,J=!1){switch(this._restrictCursor(this._bufferService.cols),W.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,J);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,J);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,J)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(W){this._restrictCursor();let J=W.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const q=this._activeBuffer.ybase+this._activeBuffer.y,ae=this._bufferService.rows-1-this._activeBuffer.scrollBottom,be=this._bufferService.rows-1+this._activeBuffer.ybase-ae+1;for(;J--;)this._activeBuffer.lines.splice(be-1,1),this._activeBuffer.lines.splice(q,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(W){this._restrictCursor();let J=W.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const q=this._activeBuffer.ybase+this._activeBuffer.y;let ae;for(ae=this._bufferService.rows-1-this._activeBuffer.scrollBottom,ae=this._bufferService.rows-1+this._activeBuffer.ybase-ae;J--;)this._activeBuffer.lines.splice(q,1),this._activeBuffer.lines.splice(ae,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(W){this._restrictCursor();const J=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return J&&(J.insertCells(this._activeBuffer.x,W.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(W){this._restrictCursor();const J=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return J&&(J.deleteCells(this._activeBuffer.x,W.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(W){let J=W.params[0]||1;for(;J--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(W){let J=W.params[0]||1;for(;J--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(C.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(W){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const J=W.params[0]||1;for(let q=this._activeBuffer.scrollTop;q<=this._activeBuffer.scrollBottom;++q){const ae=this._activeBuffer.lines.get(this._activeBuffer.ybase+q);ae.deleteCells(0,J,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),ae.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(W){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const J=W.params[0]||1;for(let q=this._activeBuffer.scrollTop;q<=this._activeBuffer.scrollBottom;++q){const ae=this._activeBuffer.lines.get(this._activeBuffer.ybase+q);ae.insertCells(0,J,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),ae.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(W){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const J=W.params[0]||1;for(let q=this._activeBuffer.scrollTop;q<=this._activeBuffer.scrollBottom;++q){const ae=this._activeBuffer.lines.get(this._activeBuffer.ybase+q);ae.insertCells(this._activeBuffer.x,J,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),ae.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(W){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const J=W.params[0]||1;for(let q=this._activeBuffer.scrollTop;q<=this._activeBuffer.scrollBottom;++q){const ae=this._activeBuffer.lines.get(this._activeBuffer.ybase+q);ae.deleteCells(this._activeBuffer.x,J,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),ae.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(W){this._restrictCursor();const J=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return J&&(J.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(W.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(W){if(!this._parser.precedingCodepoint)return!0;const J=W.params[0]||1,q=new Uint32Array(J);for(let ae=0;ae<J;++ae)q[ae]=this._parser.precedingCodepoint;return this.print(q,0,q.length),!0}sendDeviceAttributesPrimary(W){return W.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(k.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(k.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(W){return W.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(k.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(k.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(W.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(k.C0.ESC+"[>83;40003;0c")),!0}_is(W){return(this._optionsService.rawOptions.termName+"").indexOf(W)===0}setMode(W){for(let J=0;J<W.length;J++)switch(W.params[J]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(W){for(let J=0;J<W.length;J++)switch(W.params[J]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,v.DEFAULT_CHARSET),this._charsetService.setgCharset(1,v.DEFAULT_CHARSET),this._charsetService.setgCharset(2,v.DEFAULT_CHARSET),this._charsetService.setgCharset(3,v.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(W){for(let J=0;J<W.length;J++)switch(W.params[J]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(W){for(let J=0;J<W.length;J++)switch(W.params[J]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),W.params[J]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(W,J){const q=this._coreService.decPrivateModes,{activeProtocol:ae,activeEncoding:be}=this._coreMouseService,ke=this._coreService,{buffers:se,cols:ee}=this._bufferService,{active:le,alt:te}=se,X=this._optionsService.rawOptions,ce=ne=>ne?1:2,pe=W.params[0];return we=pe,Ze=J?pe===2?4:pe===4?ce(ke.modes.insertMode):pe===12?3:pe===20?ce(X.convertEol):0:pe===1?ce(q.applicationCursorKeys):pe===3?X.windowOptions.setWinLines?ee===80?2:ee===132?1:0:0:pe===6?ce(q.origin):pe===7?ce(q.wraparound):pe===8?3:pe===9?ce(ae==="X10"):pe===12?ce(X.cursorBlink):pe===25?ce(!ke.isCursorHidden):pe===45?ce(q.reverseWraparound):pe===66?ce(q.applicationKeypad):pe===67?4:pe===1e3?ce(ae==="VT200"):pe===1002?ce(ae==="DRAG"):pe===1003?ce(ae==="ANY"):pe===1004?ce(q.sendFocus):pe===1005?4:pe===1006?ce(be==="SGR"):pe===1015?4:pe===1016?ce(be==="SGR_PIXELS"):pe===1048?1:pe===47||pe===1047||pe===1049?ce(le===te):pe===2004?ce(q.bracketedPasteMode):0,ke.triggerDataEvent(`${k.C0.ESC}[${J?"":"?"}${we};${Ze}$y`),!0;var we,Ze}_updateAttrColor(W,J,q,ae,be){return J===2?(W|=50331648,W&=-16777216,W|=B.AttributeData.fromColorRGB([q,ae,be])):J===5&&(W&=-50331904,W|=33554432|255&q),W}_extractColor(W,J,q){const ae=[0,0,-1,0,0,0];let be=0,ke=0;do{if(ae[ke+be]=W.params[J+ke],W.hasSubParams(J+ke)){const se=W.getSubParams(J+ke);let ee=0;do ae[1]===5&&(be=1),ae[ke+ee+1+be]=se[ee];while(++ee<se.length&&ee+ke+1+be<ae.length);break}if(ae[1]===5&&ke+be>=2||ae[1]===2&&ke+be>=5)break;ae[1]&&(be=1)}while(++ke+J<W.length&&ke+be<ae.length);for(let se=2;se<ae.length;++se)ae[se]===-1&&(ae[se]=0);switch(ae[0]){case 38:q.fg=this._updateAttrColor(q.fg,ae[1],ae[3],ae[4],ae[5]);break;case 48:q.bg=this._updateAttrColor(q.bg,ae[1],ae[3],ae[4],ae[5]);break;case 58:q.extended=q.extended.clone(),q.extended.underlineColor=this._updateAttrColor(q.extended.underlineColor,ae[1],ae[3],ae[4],ae[5])}return ke}_processUnderline(W,J){J.extended=J.extended.clone(),(!~W||W>5)&&(W=1),J.extended.underlineStyle=W,J.fg|=268435456,W===0&&(J.fg&=-268435457),J.updateExtended()}_processSGR0(W){W.fg=C.DEFAULT_ATTR_DATA.fg,W.bg=C.DEFAULT_ATTR_DATA.bg,W.extended=W.extended.clone(),W.extended.underlineStyle=0,W.extended.underlineColor&=-67108864,W.updateExtended()}charAttributes(W){if(W.length===1&&W.params[0]===0)return this._processSGR0(this._curAttrData),!0;const J=W.length;let q;const ae=this._curAttrData;for(let be=0;be<J;be++)q=W.params[be],q>=30&&q<=37?(ae.fg&=-50331904,ae.fg|=16777216|q-30):q>=40&&q<=47?(ae.bg&=-50331904,ae.bg|=16777216|q-40):q>=90&&q<=97?(ae.fg&=-50331904,ae.fg|=16777224|q-90):q>=100&&q<=107?(ae.bg&=-50331904,ae.bg|=16777224|q-100):q===0?this._processSGR0(ae):q===1?ae.fg|=134217728:q===3?ae.bg|=67108864:q===4?(ae.fg|=268435456,this._processUnderline(W.hasSubParams(be)?W.getSubParams(be)[0]:1,ae)):q===5?ae.fg|=536870912:q===7?ae.fg|=67108864:q===8?ae.fg|=1073741824:q===9?ae.fg|=2147483648:q===2?ae.bg|=134217728:q===21?this._processUnderline(2,ae):q===22?(ae.fg&=-134217729,ae.bg&=-134217729):q===23?ae.bg&=-67108865:q===24?(ae.fg&=-268435457,this._processUnderline(0,ae)):q===25?ae.fg&=-536870913:q===27?ae.fg&=-67108865:q===28?ae.fg&=-1073741825:q===29?ae.fg&=2147483647:q===39?(ae.fg&=-67108864,ae.fg|=16777215&C.DEFAULT_ATTR_DATA.fg):q===49?(ae.bg&=-67108864,ae.bg|=16777215&C.DEFAULT_ATTR_DATA.bg):q===38||q===48||q===58?be+=this._extractColor(W,be,ae):q===53?ae.bg|=1073741824:q===55?ae.bg&=-1073741825:q===59?(ae.extended=ae.extended.clone(),ae.extended.underlineColor=-1,ae.updateExtended()):q===100?(ae.fg&=-67108864,ae.fg|=16777215&C.DEFAULT_ATTR_DATA.fg,ae.bg&=-67108864,ae.bg|=16777215&C.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",q);return!0}deviceStatus(W){switch(W.params[0]){case 5:this._coreService.triggerDataEvent(`${k.C0.ESC}[0n`);break;case 6:const J=this._activeBuffer.y+1,q=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${k.C0.ESC}[${J};${q}R`)}return!0}deviceStatusPrivate(W){if(W.params[0]===6){const J=this._activeBuffer.y+1,q=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${k.C0.ESC}[?${J};${q}R`)}return!0}softReset(W){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=C.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(W){const J=W.params[0]||1;switch(J){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const q=J%2==1;return this._optionsService.options.cursorBlink=q,!0}setScrollRegion(W){const J=W.params[0]||1;let q;return(W.length<2||(q=W.params[1])>this._bufferService.rows||q===0)&&(q=this._bufferService.rows),q>J&&(this._activeBuffer.scrollTop=J-1,this._activeBuffer.scrollBottom=q-1,this._setCursor(0,0)),!0}windowOptions(W){if(!K(W.params[0],this._optionsService.rawOptions.windowOptions))return!0;const J=W.length>1?W.params[1]:0;switch(W.params[0]){case 14:J!==2&&this._onRequestWindowsOptionsReport.fire(H.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(H.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${k.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:J!==0&&J!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),J!==0&&J!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:J!==0&&J!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),J!==0&&J!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(W){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(W){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(W){return this._windowTitle=W,this._onTitleChange.fire(W),!0}setIconName(W){return this._iconName=W,!0}setOrReportIndexedColor(W){const J=[],q=W.split(";");for(;q.length>1;){const ae=q.shift(),be=q.shift();if(/^\d+$/.exec(ae)){const ke=parseInt(ae);if(0<=ke&&ke<256)if(be==="?")J.push({type:0,index:ke});else{const se=(0,N.parseColor)(be);se&&J.push({type:1,index:ke,color:se})}}}return J.length&&this._onColor.fire(J),!0}setHyperlink(W){const J=W.split(";");return!(J.length<2)&&(J[1]?this._createHyperlink(J[0],J[1]):!J[0]&&this._finishHyperlink())}_createHyperlink(W,J){this._getCurrentLinkId()&&this._finishHyperlink();const q=W.split(":");let ae;const be=q.findIndex(ke=>ke.startsWith("id="));return be!==-1&&(ae=q[be].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:ae,uri:J}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(W,J){const q=W.split(";");for(let ae=0;ae<q.length&&!(J>=this._specialColors.length);++ae,++J)if(q[ae]==="?")this._onColor.fire([{type:0,index:this._specialColors[J]}]);else{const be=(0,N.parseColor)(q[ae]);be&&this._onColor.fire([{type:1,index:this._specialColors[J],color:be}])}return!0}setOrReportFgColor(W){return this._setOrReportSpecialColor(W,0)}setOrReportBgColor(W){return this._setOrReportSpecialColor(W,1)}setOrReportCursorColor(W){return this._setOrReportSpecialColor(W,2)}restoreIndexedColor(W){if(!W)return this._onColor.fire([{type:2}]),!0;const J=[],q=W.split(";");for(let ae=0;ae<q.length;++ae)if(/^\d+$/.exec(q[ae])){const be=parseInt(q[ae]);0<=be&&be<256&&J.push({type:2,index:be})}return J.length&&this._onColor.fire(J),!0}restoreFgColor(W){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(W){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(W){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,v.DEFAULT_CHARSET),!0}selectCharset(W){return W.length!==2?(this.selectDefaultCharset(),!0):(W[0]==="/"||this._charsetService.setgCharset(z[W[0]],v.CHARSETS[W[1]]||v.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const W=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,W,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=C.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=C.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(W){return this._charsetService.setgLevel(W),!0}screenAlignmentPattern(){const W=new M.CellData;W.content=4194304|"E".charCodeAt(0),W.fg=this._curAttrData.fg,W.bg=this._curAttrData.bg,this._setCursor(0,0);for(let J=0;J<this._bufferService.rows;++J){const q=this._activeBuffer.ybase+this._activeBuffer.y+J,ae=this._activeBuffer.lines.get(q);ae&&(ae.fill(W),ae.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(W,J){const q=this._bufferService.buffer,ae=this._optionsService.rawOptions;return(be=>(this._coreService.triggerDataEvent(`${k.C0.ESC}${be}${k.C0.ESC}\\`),!0))(W==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:W==='"p'?'P1$r61;1"p':W==="r"?`P1$r${q.scrollTop+1};${q.scrollBottom+1}r`:W==="m"?"P1$r0m":W===" q"?`P1$r${{block:2,underline:4,bar:6}[ae.cursorStyle]-(ae.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(W,J){this._dirtyRowTracker.markRangeDirty(W,J)}}h.InputHandler=oe;let me=class{constructor(re){this._bufferService=re,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(re){re<this.start?this.start=re:re>this.end&&(this.end=re)}markRangeDirty(re,W){re>W&&(Y=re,re=W,W=Y),re<this.start&&(this.start=re),W>this.end&&(this.end=W)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};me=g([y(0,R.IBufferService)],me)},844:(u,h)=>{function f(g){for(const y of g)y.dispose();g.length=0}Object.defineProperty(h,"__esModule",{value:!0}),h.getDisposeArrayDisposable=h.disposeArray=h.toDisposable=h.Disposable=void 0,h.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const g of this._disposables)g.dispose();this._disposables.length=0}register(g){return this._disposables.push(g),g}unregister(g){const y=this._disposables.indexOf(g);y!==-1&&this._disposables.splice(y,1)}},h.toDisposable=function(g){return{dispose:g}},h.disposeArray=f,h.getDisposeArrayDisposable=function(g){return{dispose:()=>f(g)}}},1505:(u,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.FourKeyMap=h.TwoKeyMap=void 0;class f{constructor(){this._data={}}set(y,k,v){this._data[y]||(this._data[y]={}),this._data[y][k]=v}get(y,k){return this._data[y]?this._data[y][k]:void 0}clear(){this._data={}}}h.TwoKeyMap=f,h.FourKeyMap=class{constructor(){this._data=new f}set(g,y,k,v,A){this._data.get(g,y)||this._data.set(g,y,new f),this._data.get(g,y).set(k,v,A)}get(g,y,k,v){var A;return(A=this._data.get(g,y))===null||A===void 0?void 0:A.get(k,v)}clear(){this._data.clear()}}},6114:(u,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.isChromeOS=h.isLinux=h.isWindows=h.isIphone=h.isIpad=h.isMac=h.getSafariVersion=h.isSafari=h.isLegacyEdge=h.isFirefox=h.isNode=void 0,h.isNode=typeof navigator>"u";const f=h.isNode?"node":navigator.userAgent,g=h.isNode?"node":navigator.platform;h.isFirefox=f.includes("Firefox"),h.isLegacyEdge=f.includes("Edge"),h.isSafari=/^((?!chrome|android).)*safari/i.test(f),h.getSafariVersion=function(){if(!h.isSafari)return 0;const y=f.match(/Version\/(\d+)/);return y===null||y.length<2?0:parseInt(y[1])},h.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(g),h.isIpad=g==="iPad",h.isIphone=g==="iPhone",h.isWindows=["Windows","Win16","Win32","WinCE"].includes(g),h.isLinux=g.indexOf("Linux")>=0,h.isChromeOS=/\bCrOS\b/.test(f)},6106:(u,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.SortedList=void 0;let f=0;h.SortedList=class{constructor(g){this._getKey=g,this._array=[]}clear(){this._array.length=0}insert(g){this._array.length!==0?(f=this._search(this._getKey(g),0,this._array.length-1),this._array.splice(f,0,g)):this._array.push(g)}delete(g){if(this._array.length===0)return!1;const y=this._getKey(g);if(y===void 0||(f=this._search(y,0,this._array.length-1),f===-1)||this._getKey(this._array[f])!==y)return!1;do if(this._array[f]===g)return this._array.splice(f,1),!0;while(++f<this._array.length&&this._getKey(this._array[f])===y);return!1}*getKeyIterator(g){if(this._array.length!==0&&(f=this._search(g,0,this._array.length-1),!(f<0||f>=this._array.length)&&this._getKey(this._array[f])===g))do yield this._array[f];while(++f<this._array.length&&this._getKey(this._array[f])===g)}forEachByKey(g,y){if(this._array.length!==0&&(f=this._search(g,0,this._array.length-1),!(f<0||f>=this._array.length)&&this._getKey(this._array[f])===g))do y(this._array[f]);while(++f<this._array.length&&this._getKey(this._array[f])===g)}values(){return this._array.values()}_search(g,y,k){if(k<y)return y;let v=Math.floor((y+k)/2);const A=this._getKey(this._array[v]);if(A>g)return this._search(g,y,v-1);if(A<g)return this._search(g,v+1,k);for(;v>0&&this._getKey(this._array[v-1])===g;)v--;return v}}},7226:(u,h,f)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DebouncedIdleTask=h.IdleTaskQueue=h.PriorityTaskQueue=void 0;const g=f(6114);class y{constructor(){this._tasks=[],this._i=0}enqueue(A){this._tasks.push(A),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(A){this._idleCallback=void 0;let T=0,x=0,C=A.timeRemaining(),D=0;for(;this._i<this._tasks.length;){if(T=Date.now(),this._tasks[this._i]()||this._i++,T=Math.max(1,Date.now()-T),x=Math.max(T,x),D=A.timeRemaining(),1.5*x>D)return C-T<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(C-T))}ms`),void this._start();C=D}this.clear()}}class k extends y{_requestCallback(A){return setTimeout(()=>A(this._createDeadline(16)))}_cancelCallback(A){clearTimeout(A)}_createDeadline(A){const T=Date.now()+A;return{timeRemaining:()=>Math.max(0,T-Date.now())}}}h.PriorityTaskQueue=k,h.IdleTaskQueue=!g.isNode&&"requestIdleCallback"in window?class extends y{_requestCallback(v){return requestIdleCallback(v)}_cancelCallback(v){cancelIdleCallback(v)}}:k,h.DebouncedIdleTask=class{constructor(){this._queue=new h.IdleTaskQueue}set(v){this._queue.clear(),this._queue.enqueue(v)}flush(){this._queue.flush()}}},9282:(u,h,f)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.updateWindowsModeWrappedState=void 0;const g=f(643);h.updateWindowsModeWrappedState=function(y){const k=y.buffer.lines.get(y.buffer.ybase+y.buffer.y-1),v=k==null?void 0:k.get(y.cols-1),A=y.buffer.lines.get(y.buffer.ybase+y.buffer.y);A&&v&&(A.isWrapped=v[g.CHAR_DATA_CODE_INDEX]!==g.NULL_CELL_CODE&&v[g.CHAR_DATA_CODE_INDEX]!==g.WHITESPACE_CELL_CODE)}},3734:(u,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ExtendedAttrs=h.AttributeData=void 0;class f{constructor(){this.fg=0,this.bg=0,this.extended=new g}static toColorRGB(k){return[k>>>16&255,k>>>8&255,255&k]}static fromColorRGB(k){return(255&k[0])<<16|(255&k[1])<<8|255&k[2]}clone(){const k=new f;return k.fg=this.fg,k.bg=this.bg,k.extended=this.extended.clone(),k}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}h.AttributeData=f;class g{constructor(k=0,v=0){this._ext=0,this._urlId=0,this._ext=k,this._urlId=v}get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(k){this._ext=k}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(k){this._ext&=-469762049,this._ext|=k<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(k){this._ext&=-67108864,this._ext|=67108863&k}get urlId(){return this._urlId}set urlId(k){this._urlId=k}clone(){return new g(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}h.ExtendedAttrs=g},9092:(u,h,f)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Buffer=h.MAX_BUFFER_SIZE=void 0;const g=f(6349),y=f(8437),k=f(511),v=f(643),A=f(4634),T=f(4863),x=f(7116),C=f(3734),D=f(7226);h.MAX_BUFFER_SIZE=4294967295,h.Buffer=class{constructor(S,M,B){this._hasScrollback=S,this._optionsService=M,this._bufferService=B,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=y.DEFAULT_ATTR_DATA.clone(),this.savedCharset=x.DEFAULT_CHARSET,this.markers=[],this._nullCell=k.CellData.fromCharData([0,v.NULL_CELL_CHAR,v.NULL_CELL_WIDTH,v.NULL_CELL_CODE]),this._whitespaceCell=k.CellData.fromCharData([0,v.WHITESPACE_CELL_CHAR,v.WHITESPACE_CELL_WIDTH,v.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new D.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new g.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(S){return S?(this._nullCell.fg=S.fg,this._nullCell.bg=S.bg,this._nullCell.extended=S.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new C.ExtendedAttrs),this._nullCell}getWhitespaceCell(S){return S?(this._whitespaceCell.fg=S.fg,this._whitespaceCell.bg=S.bg,this._whitespaceCell.extended=S.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new C.ExtendedAttrs),this._whitespaceCell}getBlankLine(S,M){return new y.BufferLine(this._bufferService.cols,this.getNullCell(S),M)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const S=this.ybase+this.y-this.ydisp;return S>=0&&S<this._rows}_getCorrectBufferLength(S){if(!this._hasScrollback)return S;const M=S+this._optionsService.rawOptions.scrollback;return M>h.MAX_BUFFER_SIZE?h.MAX_BUFFER_SIZE:M}fillViewportRows(S){if(this.lines.length===0){S===void 0&&(S=y.DEFAULT_ATTR_DATA);let M=this._rows;for(;M--;)this.lines.push(this.getBlankLine(S))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new g.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(S,M){const B=this.getNullCell(y.DEFAULT_ATTR_DATA);let R=0;const L=this._getCorrectBufferLength(M);if(L>this.lines.maxLength&&(this.lines.maxLength=L),this.lines.length>0){if(this._cols<S)for(let N=0;N<this.lines.length;N++)R+=+this.lines.get(N).resize(S,B);let j=0;if(this._rows<M)for(let N=this._rows;N<M;N++)this.lines.length<M+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new y.BufferLine(S,B)):this.ybase>0&&this.lines.length<=this.ybase+this.y+j+1?(this.ybase--,j++,this.ydisp>0&&this.ydisp--):this.lines.push(new y.BufferLine(S,B)));else for(let N=this._rows;N>M;N--)this.lines.length>M+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(L<this.lines.maxLength){const N=this.lines.length-L;N>0&&(this.lines.trimStart(N),this.ybase=Math.max(this.ybase-N,0),this.ydisp=Math.max(this.ydisp-N,0),this.savedY=Math.max(this.savedY-N,0)),this.lines.maxLength=L}this.x=Math.min(this.x,S-1),this.y=Math.min(this.y,M-1),j&&(this.y+=j),this.savedX=Math.min(this.savedX,S-1),this.scrollTop=0}if(this.scrollBottom=M-1,this._isReflowEnabled&&(this._reflow(S,M),this._cols>S))for(let j=0;j<this.lines.length;j++)R+=+this.lines.get(j).resize(S,B);this._cols=S,this._rows=M,this._memoryCleanupQueue.clear(),R>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let S=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,S=!1);let M=0;for(;this._memoryCleanupPosition<this.lines.length;)if(M+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),M>100)return!0;return S}get _isReflowEnabled(){const S=this._optionsService.rawOptions.windowsPty;return S&&S.buildNumber?this._hasScrollback&&S.backend==="conpty"&&S.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(S,M){this._cols!==S&&(S>this._cols?this._reflowLarger(S,M):this._reflowSmaller(S,M))}_reflowLarger(S,M){const B=(0,A.reflowLargerGetLinesToRemove)(this.lines,this._cols,S,this.ybase+this.y,this.getNullCell(y.DEFAULT_ATTR_DATA));if(B.length>0){const R=(0,A.reflowLargerCreateNewLayout)(this.lines,B);(0,A.reflowLargerApplyNewLayout)(this.lines,R.layout),this._reflowLargerAdjustViewport(S,M,R.countRemoved)}}_reflowLargerAdjustViewport(S,M,B){const R=this.getNullCell(y.DEFAULT_ATTR_DATA);let L=B;for(;L-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<M&&this.lines.push(new y.BufferLine(S,R))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-B,0)}_reflowSmaller(S,M){const B=this.getNullCell(y.DEFAULT_ATTR_DATA),R=[];let L=0;for(let j=this.lines.length-1;j>=0;j--){let N=this.lines.get(j);if(!N||!N.isWrapped&&N.getTrimmedLength()<=S)continue;const z=[N];for(;N.isWrapped&&j>0;)N=this.lines.get(--j),z.unshift(N);const Z=this.ybase+this.y;if(Z>=j&&Z<j+z.length)continue;const K=z[z.length-1].getTrimmedLength(),H=(0,A.reflowSmallerGetNewLineLengths)(z,this._cols,S),Y=H.length-z.length;let oe;oe=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+Y):Math.max(0,this.lines.length-this.lines.maxLength+Y);const me=[];for(let be=0;be<Y;be++){const ke=this.getBlankLine(y.DEFAULT_ATTR_DATA,!0);me.push(ke)}me.length>0&&(R.push({start:j+z.length+L,newLines:me}),L+=me.length),z.push(...me);let re=H.length-1,W=H[re];W===0&&(re--,W=H[re]);let J=z.length-Y-1,q=K;for(;J>=0;){const be=Math.min(q,W);if(z[re]===void 0)break;if(z[re].copyCellsFrom(z[J],q-be,W-be,be,!0),W-=be,W===0&&(re--,W=H[re]),q-=be,q===0){J--;const ke=Math.max(J,0);q=(0,A.getWrappedLineTrimmedLength)(z,ke,this._cols)}}for(let be=0;be<z.length;be++)H[be]<S&&z[be].setCell(H[be],B);let ae=Y-oe;for(;ae-- >0;)this.ybase===0?this.y<M-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+L)-M&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+Y,this.ybase+M-1)}if(R.length>0){const j=[],N=[];for(let re=0;re<this.lines.length;re++)N.push(this.lines.get(re));const z=this.lines.length;let Z=z-1,K=0,H=R[K];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+L);let Y=0;for(let re=Math.min(this.lines.maxLength-1,z+L-1);re>=0;re--)if(H&&H.start>Z+Y){for(let W=H.newLines.length-1;W>=0;W--)this.lines.set(re--,H.newLines[W]);re++,j.push({index:Z+1,amount:H.newLines.length}),Y+=H.newLines.length,H=R[++K]}else this.lines.set(re,N[Z--]);let oe=0;for(let re=j.length-1;re>=0;re--)j[re].index+=oe,this.lines.onInsertEmitter.fire(j[re]),oe+=j[re].amount;const me=Math.max(0,z+L-this.lines.maxLength);me>0&&this.lines.onTrimEmitter.fire(me)}}translateBufferLineToString(S,M,B=0,R){const L=this.lines.get(S);return L?L.translateToString(M,B,R):""}getWrappedRangeForLine(S){let M=S,B=S;for(;M>0&&this.lines.get(M).isWrapped;)M--;for(;B+1<this.lines.length&&this.lines.get(B+1).isWrapped;)B++;return{first:M,last:B}}setupTabStops(S){for(S!=null?this.tabs[S]||(S=this.prevStop(S)):(this.tabs={},S=0);S<this._cols;S+=this._optionsService.rawOptions.tabStopWidth)this.tabs[S]=!0}prevStop(S){for(S==null&&(S=this.x);!this.tabs[--S]&&S>0;);return S>=this._cols?this._cols-1:S<0?0:S}nextStop(S){for(S==null&&(S=this.x);!this.tabs[++S]&&S<this._cols;);return S>=this._cols?this._cols-1:S<0?0:S}clearMarkers(S){this._isClearing=!0;for(let M=0;M<this.markers.length;M++)this.markers[M].line===S&&(this.markers[M].dispose(),this.markers.splice(M--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let S=0;S<this.markers.length;S++)this.markers[S].dispose(),this.markers.splice(S--,1);this._isClearing=!1}addMarker(S){const M=new T.Marker(S);return this.markers.push(M),M.register(this.lines.onTrim(B=>{M.line-=B,M.line<0&&M.dispose()})),M.register(this.lines.onInsert(B=>{M.line>=B.index&&(M.line+=B.amount)})),M.register(this.lines.onDelete(B=>{M.line>=B.index&&M.line<B.index+B.amount&&M.dispose(),M.line>B.index&&(M.line-=B.amount)})),M.register(M.onDispose(()=>this._removeMarker(M))),M}_removeMarker(S){this._isClearing||this.markers.splice(this.markers.indexOf(S),1)}}},8437:(u,h,f)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.BufferLine=h.DEFAULT_ATTR_DATA=void 0;const g=f(482),y=f(643),k=f(511),v=f(3734);h.DEFAULT_ATTR_DATA=Object.freeze(new v.AttributeData);let A=0;class T{constructor(C,D,S=!1){this.isWrapped=S,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*C);const M=D||k.CellData.fromCharData([0,y.NULL_CELL_CHAR,y.NULL_CELL_WIDTH,y.NULL_CELL_CODE]);for(let B=0;B<C;++B)this.setCell(B,M);this.length=C}get(C){const D=this._data[3*C+0],S=2097151&D;return[this._data[3*C+1],2097152&D?this._combined[C]:S?(0,g.stringFromCodePoint)(S):"",D>>22,2097152&D?this._combined[C].charCodeAt(this._combined[C].length-1):S]}set(C,D){this._data[3*C+1]=D[y.CHAR_DATA_ATTR_INDEX],D[y.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[C]=D[1],this._data[3*C+0]=2097152|C|D[y.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*C+0]=D[y.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|D[y.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(C){return this._data[3*C+0]>>22}hasWidth(C){return 12582912&this._data[3*C+0]}getFg(C){return this._data[3*C+1]}getBg(C){return this._data[3*C+2]}hasContent(C){return 4194303&this._data[3*C+0]}getCodePoint(C){const D=this._data[3*C+0];return 2097152&D?this._combined[C].charCodeAt(this._combined[C].length-1):2097151&D}isCombined(C){return 2097152&this._data[3*C+0]}getString(C){const D=this._data[3*C+0];return 2097152&D?this._combined[C]:2097151&D?(0,g.stringFromCodePoint)(2097151&D):""}isProtected(C){return 536870912&this._data[3*C+2]}loadCell(C,D){return A=3*C,D.content=this._data[A+0],D.fg=this._data[A+1],D.bg=this._data[A+2],2097152&D.content&&(D.combinedData=this._combined[C]),268435456&D.bg&&(D.extended=this._extendedAttrs[C]),D}setCell(C,D){2097152&D.content&&(this._combined[C]=D.combinedData),268435456&D.bg&&(this._extendedAttrs[C]=D.extended),this._data[3*C+0]=D.content,this._data[3*C+1]=D.fg,this._data[3*C+2]=D.bg}setCellFromCodePoint(C,D,S,M,B,R){268435456&B&&(this._extendedAttrs[C]=R),this._data[3*C+0]=D|S<<22,this._data[3*C+1]=M,this._data[3*C+2]=B}addCodepointToCell(C,D){let S=this._data[3*C+0];2097152&S?this._combined[C]+=(0,g.stringFromCodePoint)(D):(2097151&S?(this._combined[C]=(0,g.stringFromCodePoint)(2097151&S)+(0,g.stringFromCodePoint)(D),S&=-2097152,S|=2097152):S=D|4194304,this._data[3*C+0]=S)}insertCells(C,D,S,M){if((C%=this.length)&&this.getWidth(C-1)===2&&this.setCellFromCodePoint(C-1,0,1,(M==null?void 0:M.fg)||0,(M==null?void 0:M.bg)||0,(M==null?void 0:M.extended)||new v.ExtendedAttrs),D<this.length-C){const B=new k.CellData;for(let R=this.length-C-D-1;R>=0;--R)this.setCell(C+D+R,this.loadCell(C+R,B));for(let R=0;R<D;++R)this.setCell(C+R,S)}else for(let B=C;B<this.length;++B)this.setCell(B,S);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(M==null?void 0:M.fg)||0,(M==null?void 0:M.bg)||0,(M==null?void 0:M.extended)||new v.ExtendedAttrs)}deleteCells(C,D,S,M){if(C%=this.length,D<this.length-C){const B=new k.CellData;for(let R=0;R<this.length-C-D;++R)this.setCell(C+R,this.loadCell(C+D+R,B));for(let R=this.length-D;R<this.length;++R)this.setCell(R,S)}else for(let B=C;B<this.length;++B)this.setCell(B,S);C&&this.getWidth(C-1)===2&&this.setCellFromCodePoint(C-1,0,1,(M==null?void 0:M.fg)||0,(M==null?void 0:M.bg)||0,(M==null?void 0:M.extended)||new v.ExtendedAttrs),this.getWidth(C)!==0||this.hasContent(C)||this.setCellFromCodePoint(C,0,1,(M==null?void 0:M.fg)||0,(M==null?void 0:M.bg)||0,(M==null?void 0:M.extended)||new v.ExtendedAttrs)}replaceCells(C,D,S,M,B=!1){if(B)for(C&&this.getWidth(C-1)===2&&!this.isProtected(C-1)&&this.setCellFromCodePoint(C-1,0,1,(M==null?void 0:M.fg)||0,(M==null?void 0:M.bg)||0,(M==null?void 0:M.extended)||new v.ExtendedAttrs),D<this.length&&this.getWidth(D-1)===2&&!this.isProtected(D)&&this.setCellFromCodePoint(D,0,1,(M==null?void 0:M.fg)||0,(M==null?void 0:M.bg)||0,(M==null?void 0:M.extended)||new v.ExtendedAttrs);C<D&&C<this.length;)this.isProtected(C)||this.setCell(C,S),C++;else for(C&&this.getWidth(C-1)===2&&this.setCellFromCodePoint(C-1,0,1,(M==null?void 0:M.fg)||0,(M==null?void 0:M.bg)||0,(M==null?void 0:M.extended)||new v.ExtendedAttrs),D<this.length&&this.getWidth(D-1)===2&&this.setCellFromCodePoint(D,0,1,(M==null?void 0:M.fg)||0,(M==null?void 0:M.bg)||0,(M==null?void 0:M.extended)||new v.ExtendedAttrs);C<D&&C<this.length;)this.setCell(C++,S)}resize(C,D){if(C===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const S=3*C;if(C>this.length){if(this._data.buffer.byteLength>=4*S)this._data=new Uint32Array(this._data.buffer,0,S);else{const M=new Uint32Array(S);M.set(this._data),this._data=M}for(let M=this.length;M<C;++M)this.setCell(M,D)}else{this._data=this._data.subarray(0,S);const M=Object.keys(this._combined);for(let R=0;R<M.length;R++){const L=parseInt(M[R],10);L>=C&&delete this._combined[L]}const B=Object.keys(this._extendedAttrs);for(let R=0;R<B.length;R++){const L=parseInt(B[R],10);L>=C&&delete this._extendedAttrs[L]}}return this.length=C,4*S*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const C=new Uint32Array(this._data.length);return C.set(this._data),this._data=C,1}return 0}fill(C,D=!1){if(D)for(let S=0;S<this.length;++S)this.isProtected(S)||this.setCell(S,C);else{this._combined={},this._extendedAttrs={};for(let S=0;S<this.length;++S)this.setCell(S,C)}}copyFrom(C){this.length!==C.length?this._data=new Uint32Array(C._data):this._data.set(C._data),this.length=C.length,this._combined={};for(const D in C._combined)this._combined[D]=C._combined[D];this._extendedAttrs={};for(const D in C._extendedAttrs)this._extendedAttrs[D]=C._extendedAttrs[D];this.isWrapped=C.isWrapped}clone(){const C=new T(0);C._data=new Uint32Array(this._data),C.length=this.length;for(const D in this._combined)C._combined[D]=this._combined[D];for(const D in this._extendedAttrs)C._extendedAttrs[D]=this._extendedAttrs[D];return C.isWrapped=this.isWrapped,C}getTrimmedLength(){for(let C=this.length-1;C>=0;--C)if(4194303&this._data[3*C+0])return C+(this._data[3*C+0]>>22);return 0}copyCellsFrom(C,D,S,M,B){const R=C._data;if(B)for(let j=M-1;j>=0;j--){for(let N=0;N<3;N++)this._data[3*(S+j)+N]=R[3*(D+j)+N];268435456&R[3*(D+j)+2]&&(this._extendedAttrs[S+j]=C._extendedAttrs[D+j])}else for(let j=0;j<M;j++){for(let N=0;N<3;N++)this._data[3*(S+j)+N]=R[3*(D+j)+N];268435456&R[3*(D+j)+2]&&(this._extendedAttrs[S+j]=C._extendedAttrs[D+j])}const L=Object.keys(C._combined);for(let j=0;j<L.length;j++){const N=parseInt(L[j],10);N>=D&&(this._combined[N-D+S]=C._combined[N])}}translateToString(C=!1,D=0,S=this.length){C&&(S=Math.min(S,this.getTrimmedLength()));let M="";for(;D<S;){const B=this._data[3*D+0],R=2097151&B;M+=2097152&B?this._combined[D]:R?(0,g.stringFromCodePoint)(R):y.WHITESPACE_CELL_CHAR,D+=B>>22||1}return M}}h.BufferLine=T},4841:(u,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.getRangeLength=void 0,h.getRangeLength=function(f,g){if(f.start.y>f.end.y)throw new Error(`Buffer range end (${f.end.x}, ${f.end.y}) cannot be before start (${f.start.x}, ${f.start.y})`);return g*(f.end.y-f.start.y)+(f.end.x-f.start.x+1)}},4634:(u,h)=>{function f(g,y,k){if(y===g.length-1)return g[y].getTrimmedLength();const v=!g[y].hasContent(k-1)&&g[y].getWidth(k-1)===1,A=g[y+1].getWidth(0)===2;return v&&A?k-1:k}Object.defineProperty(h,"__esModule",{value:!0}),h.getWrappedLineTrimmedLength=h.reflowSmallerGetNewLineLengths=h.reflowLargerApplyNewLayout=h.reflowLargerCreateNewLayout=h.reflowLargerGetLinesToRemove=void 0,h.reflowLargerGetLinesToRemove=function(g,y,k,v,A){const T=[];for(let x=0;x<g.length-1;x++){let C=x,D=g.get(++C);if(!D.isWrapped)continue;const S=[g.get(x)];for(;C<g.length&&D.isWrapped;)S.push(D),D=g.get(++C);if(v>=x&&v<C){x+=S.length-1;continue}let M=0,B=f(S,M,y),R=1,L=0;for(;R<S.length;){const N=f(S,R,y),z=N-L,Z=k-B,K=Math.min(z,Z);S[M].copyCellsFrom(S[R],L,B,K,!1),B+=K,B===k&&(M++,B=0),L+=K,L===N&&(R++,L=0),B===0&&M!==0&&S[M-1].getWidth(k-1)===2&&(S[M].copyCellsFrom(S[M-1],k-1,B++,1,!1),S[M-1].setCell(k-1,A))}S[M].replaceCells(B,k,A);let j=0;for(let N=S.length-1;N>0&&(N>M||S[N].getTrimmedLength()===0);N--)j++;j>0&&(T.push(x+S.length-j),T.push(j)),x+=S.length-1}return T},h.reflowLargerCreateNewLayout=function(g,y){const k=[];let v=0,A=y[v],T=0;for(let x=0;x<g.length;x++)if(A===x){const C=y[++v];g.onDeleteEmitter.fire({index:x-T,amount:C}),x+=C-1,T+=C,A=y[++v]}else k.push(x);return{layout:k,countRemoved:T}},h.reflowLargerApplyNewLayout=function(g,y){const k=[];for(let v=0;v<y.length;v++)k.push(g.get(y[v]));for(let v=0;v<k.length;v++)g.set(v,k[v]);g.length=y.length},h.reflowSmallerGetNewLineLengths=function(g,y,k){const v=[],A=g.map((D,S)=>f(g,S,y)).reduce((D,S)=>D+S);let T=0,x=0,C=0;for(;C<A;){if(A-C<k){v.push(A-C);break}T+=k;const D=f(g,x,y);T>D&&(T-=D,x++);const S=g[x].getWidth(T-1)===2;S&&T--;const M=S?k-1:k;v.push(M),C+=M}return v},h.getWrappedLineTrimmedLength=f},5295:(u,h,f)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.BufferSet=void 0;const g=f(9092),y=f(8460),k=f(844);class v extends k.Disposable{constructor(T,x){super(),this._optionsService=T,this._bufferService=x,this._onBufferActivate=this.register(new y.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new g.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new g.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(T){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(T),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(T,x){this._normal.resize(T,x),this._alt.resize(T,x),this.setupTabStops(T)}setupTabStops(T){this._normal.setupTabStops(T),this._alt.setupTabStops(T)}}h.BufferSet=v},511:(u,h,f)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CellData=void 0;const g=f(482),y=f(643),k=f(3734);class v extends k.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new k.ExtendedAttrs,this.combinedData=""}static fromCharData(T){const x=new v;return x.setFromCharData(T),x}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,g.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(T){this.fg=T[y.CHAR_DATA_ATTR_INDEX],this.bg=0;let x=!1;if(T[y.CHAR_DATA_CHAR_INDEX].length>2)x=!0;else if(T[y.CHAR_DATA_CHAR_INDEX].length===2){const C=T[y.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=C&&C<=56319){const D=T[y.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=D&&D<=57343?this.content=1024*(C-55296)+D-56320+65536|T[y.CHAR_DATA_WIDTH_INDEX]<<22:x=!0}else x=!0}else this.content=T[y.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|T[y.CHAR_DATA_WIDTH_INDEX]<<22;x&&(this.combinedData=T[y.CHAR_DATA_CHAR_INDEX],this.content=2097152|T[y.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}h.CellData=v},643:(u,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.WHITESPACE_CELL_CODE=h.WHITESPACE_CELL_WIDTH=h.WHITESPACE_CELL_CHAR=h.NULL_CELL_CODE=h.NULL_CELL_WIDTH=h.NULL_CELL_CHAR=h.CHAR_DATA_CODE_INDEX=h.CHAR_DATA_WIDTH_INDEX=h.CHAR_DATA_CHAR_INDEX=h.CHAR_DATA_ATTR_INDEX=h.DEFAULT_EXT=h.DEFAULT_ATTR=h.DEFAULT_COLOR=void 0,h.DEFAULT_COLOR=0,h.DEFAULT_ATTR=256|h.DEFAULT_COLOR<<9,h.DEFAULT_EXT=0,h.CHAR_DATA_ATTR_INDEX=0,h.CHAR_DATA_CHAR_INDEX=1,h.CHAR_DATA_WIDTH_INDEX=2,h.CHAR_DATA_CODE_INDEX=3,h.NULL_CELL_CHAR="",h.NULL_CELL_WIDTH=1,h.NULL_CELL_CODE=0,h.WHITESPACE_CELL_CHAR=" ",h.WHITESPACE_CELL_WIDTH=1,h.WHITESPACE_CELL_CODE=32},4863:(u,h,f)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Marker=void 0;const g=f(8460),y=f(844);class k{constructor(A){this.line=A,this.isDisposed=!1,this._disposables=[],this._id=k._nextId++,this._onDispose=this.register(new g.EventEmitter),this.onDispose=this._onDispose.event}get id(){return this._id}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,y.disposeArray)(this._disposables),this._disposables.length=0)}register(A){return this._disposables.push(A),A}}h.Marker=k,k._nextId=1},7116:(u,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DEFAULT_CHARSET=h.CHARSETS=void 0,h.CHARSETS={},h.DEFAULT_CHARSET=h.CHARSETS.B,h.CHARSETS[0]={"`":"◆",a:"▒",b:"␉",c:"␌",d:"␍",e:"␊",f:"°",g:"±",h:"␤",i:"␋",j:"┘",k:"┐",l:"┌",m:"└",n:"┼",o:"⎺",p:"⎻",q:"─",r:"⎼",s:"⎽",t:"├",u:"┤",v:"┴",w:"┬",x:"│",y:"≤",z:"≥","{":"π","|":"≠","}":"£","~":"·"},h.CHARSETS.A={"#":"£"},h.CHARSETS.B=void 0,h.CHARSETS[4]={"#":"£","@":"¾","[":"ij","\\":"½","]":"|","{":"¨","|":"f","}":"¼","~":"´"},h.CHARSETS.C=h.CHARSETS[5]={"[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},h.CHARSETS.R={"#":"£","@":"à","[":"°","\\":"ç","]":"§","{":"é","|":"ù","}":"è","~":"¨"},h.CHARSETS.Q={"@":"à","[":"â","\\":"ç","]":"ê","^":"î","`":"ô","{":"é","|":"ù","}":"è","~":"û"},h.CHARSETS.K={"@":"§","[":"Ä","\\":"Ö","]":"Ü","{":"ä","|":"ö","}":"ü","~":"ß"},h.CHARSETS.Y={"#":"£","@":"§","[":"°","\\":"ç","]":"é","`":"ù","{":"à","|":"ò","}":"è","~":"ì"},h.CHARSETS.E=h.CHARSETS[6]={"@":"Ä","[":"Æ","\\":"Ø","]":"Å","^":"Ü","`":"ä","{":"æ","|":"ø","}":"å","~":"ü"},h.CHARSETS.Z={"#":"£","@":"§","[":"¡","\\":"Ñ","]":"¿","{":"°","|":"ñ","}":"ç"},h.CHARSETS.H=h.CHARSETS[7]={"@":"É","[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},h.CHARSETS["="]={"#":"ù","@":"à","[":"é","\\":"ç","]":"ê","^":"î",_:"è","`":"ô","{":"ä","|":"ö","}":"ü","~":"û"}},2584:(u,h)=>{var f,g;Object.defineProperty(h,"__esModule",{value:!0}),h.C1_ESCAPED=h.C1=h.C0=void 0,function(y){y.NUL="\0",y.SOH="",y.STX="",y.ETX="",y.EOT="",y.ENQ="",y.ACK="",y.BEL="\x07",y.BS="\b",y.HT="	",y.LF=`
`,y.VT="\v",y.FF="\f",y.CR="\r",y.SO="",y.SI="",y.DLE="",y.DC1="",y.DC2="",y.DC3="",y.DC4="",y.NAK="",y.SYN="",y.ETB="",y.CAN="",y.EM="",y.SUB="",y.ESC="\x1B",y.FS="",y.GS="",y.RS="",y.US="",y.SP=" ",y.DEL=""}(f=h.C0||(h.C0={})),(g=h.C1||(h.C1={})).PAD="",g.HOP="",g.BPH="",g.NBH="",g.IND="",g.NEL="",g.SSA="",g.ESA="",g.HTS="",g.HTJ="",g.VTS="",g.PLD="",g.PLU="",g.RI="",g.SS2="",g.SS3="",g.DCS="",g.PU1="",g.PU2="",g.STS="",g.CCH="",g.MW="",g.SPA="",g.EPA="",g.SOS="",g.SGCI="",g.SCI="",g.CSI="",g.ST="",g.OSC="",g.PM="",g.APC="",(h.C1_ESCAPED||(h.C1_ESCAPED={})).ST=`${f.ESC}\\`},7399:(u,h,f)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.evaluateKeyboardEvent=void 0;const g=f(2584),y={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};h.evaluateKeyboardEvent=function(k,v,A,T){const x={type:0,cancel:!1,key:void 0},C=(k.shiftKey?1:0)|(k.altKey?2:0)|(k.ctrlKey?4:0)|(k.metaKey?8:0);switch(k.keyCode){case 0:k.key==="UIKeyInputUpArrow"?x.key=v?g.C0.ESC+"OA":g.C0.ESC+"[A":k.key==="UIKeyInputLeftArrow"?x.key=v?g.C0.ESC+"OD":g.C0.ESC+"[D":k.key==="UIKeyInputRightArrow"?x.key=v?g.C0.ESC+"OC":g.C0.ESC+"[C":k.key==="UIKeyInputDownArrow"&&(x.key=v?g.C0.ESC+"OB":g.C0.ESC+"[B");break;case 8:if(k.altKey){x.key=g.C0.ESC+g.C0.DEL;break}x.key=g.C0.DEL;break;case 9:if(k.shiftKey){x.key=g.C0.ESC+"[Z";break}x.key=g.C0.HT,x.cancel=!0;break;case 13:x.key=k.altKey?g.C0.ESC+g.C0.CR:g.C0.CR,x.cancel=!0;break;case 27:x.key=g.C0.ESC,k.altKey&&(x.key=g.C0.ESC+g.C0.ESC),x.cancel=!0;break;case 37:if(k.metaKey)break;C?(x.key=g.C0.ESC+"[1;"+(C+1)+"D",x.key===g.C0.ESC+"[1;3D"&&(x.key=g.C0.ESC+(A?"b":"[1;5D"))):x.key=v?g.C0.ESC+"OD":g.C0.ESC+"[D";break;case 39:if(k.metaKey)break;C?(x.key=g.C0.ESC+"[1;"+(C+1)+"C",x.key===g.C0.ESC+"[1;3C"&&(x.key=g.C0.ESC+(A?"f":"[1;5C"))):x.key=v?g.C0.ESC+"OC":g.C0.ESC+"[C";break;case 38:if(k.metaKey)break;C?(x.key=g.C0.ESC+"[1;"+(C+1)+"A",A||x.key!==g.C0.ESC+"[1;3A"||(x.key=g.C0.ESC+"[1;5A")):x.key=v?g.C0.ESC+"OA":g.C0.ESC+"[A";break;case 40:if(k.metaKey)break;C?(x.key=g.C0.ESC+"[1;"+(C+1)+"B",A||x.key!==g.C0.ESC+"[1;3B"||(x.key=g.C0.ESC+"[1;5B")):x.key=v?g.C0.ESC+"OB":g.C0.ESC+"[B";break;case 45:k.shiftKey||k.ctrlKey||(x.key=g.C0.ESC+"[2~");break;case 46:x.key=C?g.C0.ESC+"[3;"+(C+1)+"~":g.C0.ESC+"[3~";break;case 36:x.key=C?g.C0.ESC+"[1;"+(C+1)+"H":v?g.C0.ESC+"OH":g.C0.ESC+"[H";break;case 35:x.key=C?g.C0.ESC+"[1;"+(C+1)+"F":v?g.C0.ESC+"OF":g.C0.ESC+"[F";break;case 33:k.shiftKey?x.type=2:k.ctrlKey?x.key=g.C0.ESC+"[5;"+(C+1)+"~":x.key=g.C0.ESC+"[5~";break;case 34:k.shiftKey?x.type=3:k.ctrlKey?x.key=g.C0.ESC+"[6;"+(C+1)+"~":x.key=g.C0.ESC+"[6~";break;case 112:x.key=C?g.C0.ESC+"[1;"+(C+1)+"P":g.C0.ESC+"OP";break;case 113:x.key=C?g.C0.ESC+"[1;"+(C+1)+"Q":g.C0.ESC+"OQ";break;case 114:x.key=C?g.C0.ESC+"[1;"+(C+1)+"R":g.C0.ESC+"OR";break;case 115:x.key=C?g.C0.ESC+"[1;"+(C+1)+"S":g.C0.ESC+"OS";break;case 116:x.key=C?g.C0.ESC+"[15;"+(C+1)+"~":g.C0.ESC+"[15~";break;case 117:x.key=C?g.C0.ESC+"[17;"+(C+1)+"~":g.C0.ESC+"[17~";break;case 118:x.key=C?g.C0.ESC+"[18;"+(C+1)+"~":g.C0.ESC+"[18~";break;case 119:x.key=C?g.C0.ESC+"[19;"+(C+1)+"~":g.C0.ESC+"[19~";break;case 120:x.key=C?g.C0.ESC+"[20;"+(C+1)+"~":g.C0.ESC+"[20~";break;case 121:x.key=C?g.C0.ESC+"[21;"+(C+1)+"~":g.C0.ESC+"[21~";break;case 122:x.key=C?g.C0.ESC+"[23;"+(C+1)+"~":g.C0.ESC+"[23~";break;case 123:x.key=C?g.C0.ESC+"[24;"+(C+1)+"~":g.C0.ESC+"[24~";break;default:if(!k.ctrlKey||k.shiftKey||k.altKey||k.metaKey)if(A&&!T||!k.altKey||k.metaKey)!A||k.altKey||k.ctrlKey||k.shiftKey||!k.metaKey?k.key&&!k.ctrlKey&&!k.altKey&&!k.metaKey&&k.keyCode>=48&&k.key.length===1?x.key=k.key:k.key&&k.ctrlKey&&(k.key==="_"&&(x.key=g.C0.US),k.key==="@"&&(x.key=g.C0.NUL)):k.keyCode===65&&(x.type=1);else{const D=y[k.keyCode],S=D==null?void 0:D[k.shiftKey?1:0];if(S)x.key=g.C0.ESC+S;else if(k.keyCode>=65&&k.keyCode<=90){const M=k.ctrlKey?k.keyCode-64:k.keyCode+32;let B=String.fromCharCode(M);k.shiftKey&&(B=B.toUpperCase()),x.key=g.C0.ESC+B}else if(k.keyCode===32)x.key=g.C0.ESC+(k.ctrlKey?g.C0.NUL:" ");else if(k.key==="Dead"&&k.code.startsWith("Key")){let M=k.code.slice(3,4);k.shiftKey||(M=M.toLowerCase()),x.key=g.C0.ESC+M,x.cancel=!0}}else k.keyCode>=65&&k.keyCode<=90?x.key=String.fromCharCode(k.keyCode-64):k.keyCode===32?x.key=g.C0.NUL:k.keyCode>=51&&k.keyCode<=55?x.key=String.fromCharCode(k.keyCode-51+27):k.keyCode===56?x.key=g.C0.DEL:k.keyCode===219?x.key=g.C0.ESC:k.keyCode===220?x.key=g.C0.FS:k.keyCode===221&&(x.key=g.C0.GS)}return x}},482:(u,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Utf8ToUtf32=h.StringToUtf32=h.utf32ToString=h.stringFromCodePoint=void 0,h.stringFromCodePoint=function(f){return f>65535?(f-=65536,String.fromCharCode(55296+(f>>10))+String.fromCharCode(f%1024+56320)):String.fromCharCode(f)},h.utf32ToString=function(f,g=0,y=f.length){let k="";for(let v=g;v<y;++v){let A=f[v];A>65535?(A-=65536,k+=String.fromCharCode(55296+(A>>10))+String.fromCharCode(A%1024+56320)):k+=String.fromCharCode(A)}return k},h.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(f,g){const y=f.length;if(!y)return 0;let k=0,v=0;if(this._interim){const A=f.charCodeAt(v++);56320<=A&&A<=57343?g[k++]=1024*(this._interim-55296)+A-56320+65536:(g[k++]=this._interim,g[k++]=A),this._interim=0}for(let A=v;A<y;++A){const T=f.charCodeAt(A);if(55296<=T&&T<=56319){if(++A>=y)return this._interim=T,k;const x=f.charCodeAt(A);56320<=x&&x<=57343?g[k++]=1024*(T-55296)+x-56320+65536:(g[k++]=T,g[k++]=x)}else T!==65279&&(g[k++]=T)}return k}},h.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(f,g){const y=f.length;if(!y)return 0;let k,v,A,T,x=0,C=0,D=0;if(this.interim[0]){let B=!1,R=this.interim[0];R&=(224&R)==192?31:(240&R)==224?15:7;let L,j=0;for(;(L=63&this.interim[++j])&&j<4;)R<<=6,R|=L;const N=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,z=N-j;for(;D<z;){if(D>=y)return 0;if(L=f[D++],(192&L)!=128){D--,B=!0;break}this.interim[j++]=L,R<<=6,R|=63&L}B||(N===2?R<128?D--:g[x++]=R:N===3?R<2048||R>=55296&&R<=57343||R===65279||(g[x++]=R):R<65536||R>1114111||(g[x++]=R)),this.interim.fill(0)}const S=y-4;let M=D;for(;M<y;){for(;!(!(M<S)||128&(k=f[M])||128&(v=f[M+1])||128&(A=f[M+2])||128&(T=f[M+3]));)g[x++]=k,g[x++]=v,g[x++]=A,g[x++]=T,M+=4;if(k=f[M++],k<128)g[x++]=k;else if((224&k)==192){if(M>=y)return this.interim[0]=k,x;if(v=f[M++],(192&v)!=128){M--;continue}if(C=(31&k)<<6|63&v,C<128){M--;continue}g[x++]=C}else if((240&k)==224){if(M>=y)return this.interim[0]=k,x;if(v=f[M++],(192&v)!=128){M--;continue}if(M>=y)return this.interim[0]=k,this.interim[1]=v,x;if(A=f[M++],(192&A)!=128){M--;continue}if(C=(15&k)<<12|(63&v)<<6|63&A,C<2048||C>=55296&&C<=57343||C===65279)continue;g[x++]=C}else if((248&k)==240){if(M>=y)return this.interim[0]=k,x;if(v=f[M++],(192&v)!=128){M--;continue}if(M>=y)return this.interim[0]=k,this.interim[1]=v,x;if(A=f[M++],(192&A)!=128){M--;continue}if(M>=y)return this.interim[0]=k,this.interim[1]=v,this.interim[2]=A,x;if(T=f[M++],(192&T)!=128){M--;continue}if(C=(7&k)<<18|(63&v)<<12|(63&A)<<6|63&T,C<65536||C>1114111)continue;g[x++]=C}}return x}}},225:(u,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.UnicodeV6=void 0;const f=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],g=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let y;h.UnicodeV6=class{constructor(){if(this.version="6",!y){y=new Uint8Array(65536),y.fill(1),y[0]=0,y.fill(0,1,32),y.fill(0,127,160),y.fill(2,4352,4448),y[9001]=2,y[9002]=2,y.fill(2,11904,42192),y[12351]=1,y.fill(2,44032,55204),y.fill(2,63744,64256),y.fill(2,65040,65050),y.fill(2,65072,65136),y.fill(2,65280,65377),y.fill(2,65504,65511);for(let k=0;k<f.length;++k)y.fill(0,f[k][0],f[k][1]+1)}}wcwidth(k){return k<32?0:k<127?1:k<65536?y[k]:function(v,A){let T,x=0,C=A.length-1;if(v<A[0][0]||v>A[C][1])return!1;for(;C>=x;)if(T=x+C>>1,v>A[T][1])x=T+1;else{if(!(v<A[T][0]))return!0;C=T-1}return!1}(k,g)?0:k>=131072&&k<=196605||k>=196608&&k<=262141?2:1}}},5981:(u,h,f)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.WriteBuffer=void 0;const g=f(8460),y=f(844);class k extends y.Disposable{constructor(A){super(),this._action=A,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new g.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(A,T){if(T!==void 0&&this._syncCalls>T)return void(this._syncCalls=0);if(this._pendingData+=A.length,this._writeBuffer.push(A),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let x;for(this._isSyncWriting=!0;x=this._writeBuffer.shift();){this._action(x);const C=this._callbacks.shift();C&&C()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(A,T){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=A.length,this._writeBuffer.push(A),this._callbacks.push(T),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=A.length,this._writeBuffer.push(A),this._callbacks.push(T)}_innerWrite(A=0,T=!0){const x=A||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const C=this._writeBuffer[this._bufferOffset],D=this._action(C,T);if(D){const M=B=>Date.now()-x>=12?setTimeout(()=>this._innerWrite(0,B)):this._innerWrite(x,B);return void D.catch(B=>(queueMicrotask(()=>{throw B}),Promise.resolve(!1))).then(M)}const S=this._callbacks[this._bufferOffset];if(S&&S(),this._bufferOffset++,this._pendingData-=C.length,Date.now()-x>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}h.WriteBuffer=k},5941:(u,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.toRgbString=h.parseColor=void 0;const f=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,g=/^[\da-f]+$/;function y(k,v){const A=k.toString(16),T=A.length<2?"0"+A:A;switch(v){case 4:return A[0];case 8:return T;case 12:return(T+T).slice(0,3);default:return T+T}}h.parseColor=function(k){if(!k)return;let v=k.toLowerCase();if(v.indexOf("rgb:")===0){v=v.slice(4);const A=f.exec(v);if(A){const T=A[1]?15:A[4]?255:A[7]?4095:65535;return[Math.round(parseInt(A[1]||A[4]||A[7]||A[10],16)/T*255),Math.round(parseInt(A[2]||A[5]||A[8]||A[11],16)/T*255),Math.round(parseInt(A[3]||A[6]||A[9]||A[12],16)/T*255)]}}else if(v.indexOf("#")===0&&(v=v.slice(1),g.exec(v)&&[3,6,9,12].includes(v.length))){const A=v.length/3,T=[0,0,0];for(let x=0;x<3;++x){const C=parseInt(v.slice(A*x,A*x+A),16);T[x]=A===1?C<<4:A===2?C:A===3?C>>4:C>>8}return T}},h.toRgbString=function(k,v=16){const[A,T,x]=k;return`rgb:${y(A,v)}/${y(T,v)}/${y(x,v)}`}},5770:(u,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.PAYLOAD_LIMIT=void 0,h.PAYLOAD_LIMIT=1e7},6351:(u,h,f)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DcsHandler=h.DcsParser=void 0;const g=f(482),y=f(8742),k=f(5770),v=[];h.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=v,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=v}registerHandler(T,x){this._handlers[T]===void 0&&(this._handlers[T]=[]);const C=this._handlers[T];return C.push(x),{dispose:()=>{const D=C.indexOf(x);D!==-1&&C.splice(D,1)}}}clearHandler(T){this._handlers[T]&&delete this._handlers[T]}setHandlerFallback(T){this._handlerFb=T}reset(){if(this._active.length)for(let T=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;T>=0;--T)this._active[T].unhook(!1);this._stack.paused=!1,this._active=v,this._ident=0}hook(T,x){if(this.reset(),this._ident=T,this._active=this._handlers[T]||v,this._active.length)for(let C=this._active.length-1;C>=0;C--)this._active[C].hook(x);else this._handlerFb(this._ident,"HOOK",x)}put(T,x,C){if(this._active.length)for(let D=this._active.length-1;D>=0;D--)this._active[D].put(T,x,C);else this._handlerFb(this._ident,"PUT",(0,g.utf32ToString)(T,x,C))}unhook(T,x=!0){if(this._active.length){let C=!1,D=this._active.length-1,S=!1;if(this._stack.paused&&(D=this._stack.loopPosition-1,C=x,S=this._stack.fallThrough,this._stack.paused=!1),!S&&C===!1){for(;D>=0&&(C=this._active[D].unhook(T),C!==!0);D--)if(C instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=D,this._stack.fallThrough=!1,C;D--}for(;D>=0;D--)if(C=this._active[D].unhook(!1),C instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=D,this._stack.fallThrough=!0,C}else this._handlerFb(this._ident,"UNHOOK",T);this._active=v,this._ident=0}};const A=new y.Params;A.addParam(0),h.DcsHandler=class{constructor(T){this._handler=T,this._data="",this._params=A,this._hitLimit=!1}hook(T){this._params=T.length>1||T.params[0]?T.clone():A,this._data="",this._hitLimit=!1}put(T,x,C){this._hitLimit||(this._data+=(0,g.utf32ToString)(T,x,C),this._data.length>k.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(T){let x=!1;if(this._hitLimit)x=!1;else if(T&&(x=this._handler(this._data,this._params),x instanceof Promise))return x.then(C=>(this._params=A,this._data="",this._hitLimit=!1,C));return this._params=A,this._data="",this._hitLimit=!1,x}}},2015:(u,h,f)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.EscapeSequenceParser=h.VT500_TRANSITION_TABLE=h.TransitionTable=void 0;const g=f(844),y=f(8742),k=f(6242),v=f(6351);class A{constructor(D){this.table=new Uint8Array(D)}setDefault(D,S){this.table.fill(D<<4|S)}add(D,S,M,B){this.table[S<<8|D]=M<<4|B}addMany(D,S,M,B){for(let R=0;R<D.length;R++)this.table[S<<8|D[R]]=M<<4|B}}h.TransitionTable=A;const T=160;h.VT500_TRANSITION_TABLE=function(){const C=new A(4095),D=Array.apply(null,Array(256)).map((j,N)=>N),S=(j,N)=>D.slice(j,N),M=S(32,127),B=S(0,24);B.push(25),B.push.apply(B,S(28,32));const R=S(0,14);let L;for(L in C.setDefault(1,0),C.addMany(M,0,2,0),R)C.addMany([24,26,153,154],L,3,0),C.addMany(S(128,144),L,3,0),C.addMany(S(144,152),L,3,0),C.add(156,L,0,0),C.add(27,L,11,1),C.add(157,L,4,8),C.addMany([152,158,159],L,0,7),C.add(155,L,11,3),C.add(144,L,11,9);return C.addMany(B,0,3,0),C.addMany(B,1,3,1),C.add(127,1,0,1),C.addMany(B,8,0,8),C.addMany(B,3,3,3),C.add(127,3,0,3),C.addMany(B,4,3,4),C.add(127,4,0,4),C.addMany(B,6,3,6),C.addMany(B,5,3,5),C.add(127,5,0,5),C.addMany(B,2,3,2),C.add(127,2,0,2),C.add(93,1,4,8),C.addMany(M,8,5,8),C.add(127,8,5,8),C.addMany([156,27,24,26,7],8,6,0),C.addMany(S(28,32),8,0,8),C.addMany([88,94,95],1,0,7),C.addMany(M,7,0,7),C.addMany(B,7,0,7),C.add(156,7,0,0),C.add(127,7,0,7),C.add(91,1,11,3),C.addMany(S(64,127),3,7,0),C.addMany(S(48,60),3,8,4),C.addMany([60,61,62,63],3,9,4),C.addMany(S(48,60),4,8,4),C.addMany(S(64,127),4,7,0),C.addMany([60,61,62,63],4,0,6),C.addMany(S(32,64),6,0,6),C.add(127,6,0,6),C.addMany(S(64,127),6,0,0),C.addMany(S(32,48),3,9,5),C.addMany(S(32,48),5,9,5),C.addMany(S(48,64),5,0,6),C.addMany(S(64,127),5,7,0),C.addMany(S(32,48),4,9,5),C.addMany(S(32,48),1,9,2),C.addMany(S(32,48),2,9,2),C.addMany(S(48,127),2,10,0),C.addMany(S(48,80),1,10,0),C.addMany(S(81,88),1,10,0),C.addMany([89,90,92],1,10,0),C.addMany(S(96,127),1,10,0),C.add(80,1,11,9),C.addMany(B,9,0,9),C.add(127,9,0,9),C.addMany(S(28,32),9,0,9),C.addMany(S(32,48),9,9,12),C.addMany(S(48,60),9,8,10),C.addMany([60,61,62,63],9,9,10),C.addMany(B,11,0,11),C.addMany(S(32,128),11,0,11),C.addMany(S(28,32),11,0,11),C.addMany(B,10,0,10),C.add(127,10,0,10),C.addMany(S(28,32),10,0,10),C.addMany(S(48,60),10,8,10),C.addMany([60,61,62,63],10,0,11),C.addMany(S(32,48),10,9,12),C.addMany(B,12,0,12),C.add(127,12,0,12),C.addMany(S(28,32),12,0,12),C.addMany(S(32,48),12,9,12),C.addMany(S(48,64),12,0,11),C.addMany(S(64,127),12,12,13),C.addMany(S(64,127),10,12,13),C.addMany(S(64,127),9,12,13),C.addMany(B,13,13,13),C.addMany(M,13,13,13),C.add(127,13,0,13),C.addMany([27,156,24,26],13,14,0),C.add(T,0,2,0),C.add(T,8,5,8),C.add(T,6,0,6),C.add(T,11,0,11),C.add(T,13,13,13),C}();class x extends g.Disposable{constructor(D=h.VT500_TRANSITION_TABLE){super(),this._transitions=D,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new y.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(S,M,B)=>{},this._executeHandlerFb=S=>{},this._csiHandlerFb=(S,M)=>{},this._escHandlerFb=S=>{},this._errorHandlerFb=S=>S,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,g.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new k.OscParser),this._dcsParser=this.register(new v.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(D,S=[64,126]){let M=0;if(D.prefix){if(D.prefix.length>1)throw new Error("only one byte as prefix supported");if(M=D.prefix.charCodeAt(0),M&&60>M||M>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(D.intermediates){if(D.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let R=0;R<D.intermediates.length;++R){const L=D.intermediates.charCodeAt(R);if(32>L||L>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");M<<=8,M|=L}}if(D.final.length!==1)throw new Error("final must be a single byte");const B=D.final.charCodeAt(0);if(S[0]>B||B>S[1])throw new Error(`final must be in range ${S[0]} .. ${S[1]}`);return M<<=8,M|=B,M}identToString(D){const S=[];for(;D;)S.push(String.fromCharCode(255&D)),D>>=8;return S.reverse().join("")}setPrintHandler(D){this._printHandler=D}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(D,S){const M=this._identifier(D,[48,126]);this._escHandlers[M]===void 0&&(this._escHandlers[M]=[]);const B=this._escHandlers[M];return B.push(S),{dispose:()=>{const R=B.indexOf(S);R!==-1&&B.splice(R,1)}}}clearEscHandler(D){this._escHandlers[this._identifier(D,[48,126])]&&delete this._escHandlers[this._identifier(D,[48,126])]}setEscHandlerFallback(D){this._escHandlerFb=D}setExecuteHandler(D,S){this._executeHandlers[D.charCodeAt(0)]=S}clearExecuteHandler(D){this._executeHandlers[D.charCodeAt(0)]&&delete this._executeHandlers[D.charCodeAt(0)]}setExecuteHandlerFallback(D){this._executeHandlerFb=D}registerCsiHandler(D,S){const M=this._identifier(D);this._csiHandlers[M]===void 0&&(this._csiHandlers[M]=[]);const B=this._csiHandlers[M];return B.push(S),{dispose:()=>{const R=B.indexOf(S);R!==-1&&B.splice(R,1)}}}clearCsiHandler(D){this._csiHandlers[this._identifier(D)]&&delete this._csiHandlers[this._identifier(D)]}setCsiHandlerFallback(D){this._csiHandlerFb=D}registerDcsHandler(D,S){return this._dcsParser.registerHandler(this._identifier(D),S)}clearDcsHandler(D){this._dcsParser.clearHandler(this._identifier(D))}setDcsHandlerFallback(D){this._dcsParser.setHandlerFallback(D)}registerOscHandler(D,S){return this._oscParser.registerHandler(D,S)}clearOscHandler(D){this._oscParser.clearHandler(D)}setOscHandlerFallback(D){this._oscParser.setHandlerFallback(D)}setErrorHandler(D){this._errorHandler=D}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(D,S,M,B,R){this._parseStack.state=D,this._parseStack.handlers=S,this._parseStack.handlerPos=M,this._parseStack.transition=B,this._parseStack.chunkPos=R}parse(D,S,M){let B,R=0,L=0,j=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,j=this._parseStack.chunkPos+1;else{if(M===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const N=this._parseStack.handlers;let z=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(M===!1&&z>-1){for(;z>=0&&(B=N[z](this._params),B!==!0);z--)if(B instanceof Promise)return this._parseStack.handlerPos=z,B}this._parseStack.handlers=[];break;case 4:if(M===!1&&z>-1){for(;z>=0&&(B=N[z](),B!==!0);z--)if(B instanceof Promise)return this._parseStack.handlerPos=z,B}this._parseStack.handlers=[];break;case 6:if(R=D[this._parseStack.chunkPos],B=this._dcsParser.unhook(R!==24&&R!==26,M),B)return B;R===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(R=D[this._parseStack.chunkPos],B=this._oscParser.end(R!==24&&R!==26,M),B)return B;R===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,j=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let N=j;N<S;++N){switch(R=D[N],L=this._transitions.table[this.currentState<<8|(R<160?R:T)],L>>4){case 2:for(let Y=N+1;;++Y){if(Y>=S||(R=D[Y])<32||R>126&&R<T){this._printHandler(D,N,Y),N=Y-1;break}if(++Y>=S||(R=D[Y])<32||R>126&&R<T){this._printHandler(D,N,Y),N=Y-1;break}if(++Y>=S||(R=D[Y])<32||R>126&&R<T){this._printHandler(D,N,Y),N=Y-1;break}if(++Y>=S||(R=D[Y])<32||R>126&&R<T){this._printHandler(D,N,Y),N=Y-1;break}}break;case 3:this._executeHandlers[R]?this._executeHandlers[R]():this._executeHandlerFb(R),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:N,code:R,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const z=this._csiHandlers[this._collect<<8|R];let Z=z?z.length-1:-1;for(;Z>=0&&(B=z[Z](this._params),B!==!0);Z--)if(B instanceof Promise)return this._preserveStack(3,z,Z,L,N),B;Z<0&&this._csiHandlerFb(this._collect<<8|R,this._params),this.precedingCodepoint=0;break;case 8:do switch(R){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(R-48)}while(++N<S&&(R=D[N])>47&&R<60);N--;break;case 9:this._collect<<=8,this._collect|=R;break;case 10:const K=this._escHandlers[this._collect<<8|R];let H=K?K.length-1:-1;for(;H>=0&&(B=K[H](),B!==!0);H--)if(B instanceof Promise)return this._preserveStack(4,K,H,L,N),B;H<0&&this._escHandlerFb(this._collect<<8|R),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|R,this._params);break;case 13:for(let Y=N+1;;++Y)if(Y>=S||(R=D[Y])===24||R===26||R===27||R>127&&R<T){this._dcsParser.put(D,N,Y),N=Y-1;break}break;case 14:if(B=this._dcsParser.unhook(R!==24&&R!==26),B)return this._preserveStack(6,[],0,L,N),B;R===27&&(L|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let Y=N+1;;Y++)if(Y>=S||(R=D[Y])<32||R>127&&R<T){this._oscParser.put(D,N,Y),N=Y-1;break}break;case 6:if(B=this._oscParser.end(R!==24&&R!==26),B)return this._preserveStack(5,[],0,L,N),B;R===27&&(L|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&L}}}h.EscapeSequenceParser=x},6242:(u,h,f)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.OscHandler=h.OscParser=void 0;const g=f(5770),y=f(482),k=[];h.OscParser=class{constructor(){this._state=0,this._active=k,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(v,A){this._handlers[v]===void 0&&(this._handlers[v]=[]);const T=this._handlers[v];return T.push(A),{dispose:()=>{const x=T.indexOf(A);x!==-1&&T.splice(x,1)}}}clearHandler(v){this._handlers[v]&&delete this._handlers[v]}setHandlerFallback(v){this._handlerFb=v}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=k}reset(){if(this._state===2)for(let v=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;v>=0;--v)this._active[v].end(!1);this._stack.paused=!1,this._active=k,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||k,this._active.length)for(let v=this._active.length-1;v>=0;v--)this._active[v].start();else this._handlerFb(this._id,"START")}_put(v,A,T){if(this._active.length)for(let x=this._active.length-1;x>=0;x--)this._active[x].put(v,A,T);else this._handlerFb(this._id,"PUT",(0,y.utf32ToString)(v,A,T))}start(){this.reset(),this._state=1}put(v,A,T){if(this._state!==3){if(this._state===1)for(;A<T;){const x=v[A++];if(x===59){this._state=2,this._start();break}if(x<48||57<x)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+x-48}this._state===2&&T-A>0&&this._put(v,A,T)}}end(v,A=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let T=!1,x=this._active.length-1,C=!1;if(this._stack.paused&&(x=this._stack.loopPosition-1,T=A,C=this._stack.fallThrough,this._stack.paused=!1),!C&&T===!1){for(;x>=0&&(T=this._active[x].end(v),T!==!0);x--)if(T instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=x,this._stack.fallThrough=!1,T;x--}for(;x>=0;x--)if(T=this._active[x].end(!1),T instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=x,this._stack.fallThrough=!0,T}else this._handlerFb(this._id,"END",v);this._active=k,this._id=-1,this._state=0}}},h.OscHandler=class{constructor(v){this._handler=v,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(v,A,T){this._hitLimit||(this._data+=(0,y.utf32ToString)(v,A,T),this._data.length>g.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(v){let A=!1;if(this._hitLimit)A=!1;else if(v&&(A=this._handler(this._data),A instanceof Promise))return A.then(T=>(this._data="",this._hitLimit=!1,T));return this._data="",this._hitLimit=!1,A}}},8742:(u,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.Params=void 0;const f=2147483647;class g{constructor(k=32,v=32){if(this.maxLength=k,this.maxSubParamsLength=v,v>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(k),this.length=0,this._subParams=new Int32Array(v),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(k),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}static fromArray(k){const v=new g;if(!k.length)return v;for(let A=Array.isArray(k[0])?1:0;A<k.length;++A){const T=k[A];if(Array.isArray(T))for(let x=0;x<T.length;++x)v.addSubParam(T[x]);else v.addParam(T)}return v}clone(){const k=new g(this.maxLength,this.maxSubParamsLength);return k.params.set(this.params),k.length=this.length,k._subParams.set(this._subParams),k._subParamsLength=this._subParamsLength,k._subParamsIdx.set(this._subParamsIdx),k._rejectDigits=this._rejectDigits,k._rejectSubDigits=this._rejectSubDigits,k._digitIsSub=this._digitIsSub,k}toArray(){const k=[];for(let v=0;v<this.length;++v){k.push(this.params[v]);const A=this._subParamsIdx[v]>>8,T=255&this._subParamsIdx[v];T-A>0&&k.push(Array.prototype.slice.call(this._subParams,A,T))}return k}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(k){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(k<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=k>f?f:k}}addSubParam(k){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(k<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=k>f?f:k,this._subParamsIdx[this.length-1]++}}hasSubParams(k){return(255&this._subParamsIdx[k])-(this._subParamsIdx[k]>>8)>0}getSubParams(k){const v=this._subParamsIdx[k]>>8,A=255&this._subParamsIdx[k];return A-v>0?this._subParams.subarray(v,A):null}getSubParamsAll(){const k={};for(let v=0;v<this.length;++v){const A=this._subParamsIdx[v]>>8,T=255&this._subParamsIdx[v];T-A>0&&(k[v]=this._subParams.slice(A,T))}return k}addDigit(k){let v;if(this._rejectDigits||!(v=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const A=this._digitIsSub?this._subParams:this.params,T=A[v-1];A[v-1]=~T?Math.min(10*T+k,f):k}}h.Params=g},5741:(u,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.AddonManager=void 0,h.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let f=this._addons.length-1;f>=0;f--)this._addons[f].instance.dispose()}loadAddon(f,g){const y={instance:g,dispose:g.dispose,isDisposed:!1};this._addons.push(y),g.dispose=()=>this._wrappedAddonDispose(y),g.activate(f)}_wrappedAddonDispose(f){if(f.isDisposed)return;let g=-1;for(let y=0;y<this._addons.length;y++)if(this._addons[y]===f){g=y;break}if(g===-1)throw new Error("Could not dispose an addon that has not been loaded");f.isDisposed=!0,f.dispose.apply(f.instance),this._addons.splice(g,1)}}},8771:(u,h,f)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.BufferApiView=void 0;const g=f(3785),y=f(511);h.BufferApiView=class{constructor(k,v){this._buffer=k,this.type=v}init(k){return this._buffer=k,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(k){const v=this._buffer.lines.get(k);if(v)return new g.BufferLineApiView(v)}getNullCell(){return new y.CellData}}},3785:(u,h,f)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.BufferLineApiView=void 0;const g=f(511);h.BufferLineApiView=class{constructor(y){this._line=y}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(y,k){if(!(y<0||y>=this._line.length))return k?(this._line.loadCell(y,k),k):this._line.loadCell(y,new g.CellData)}translateToString(y,k,v){return this._line.translateToString(y,k,v)}}},8285:(u,h,f)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.BufferNamespaceApi=void 0;const g=f(8771),y=f(8460);h.BufferNamespaceApi=class{constructor(k){this._core=k,this._onBufferChange=new y.EventEmitter,this.onBufferChange=this._onBufferChange.event,this._normal=new g.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new g.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}},7975:(u,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.ParserApi=void 0,h.ParserApi=class{constructor(f){this._core=f}registerCsiHandler(f,g){return this._core.registerCsiHandler(f,y=>g(y.toArray()))}addCsiHandler(f,g){return this.registerCsiHandler(f,g)}registerDcsHandler(f,g){return this._core.registerDcsHandler(f,(y,k)=>g(y,k.toArray()))}addDcsHandler(f,g){return this.registerDcsHandler(f,g)}registerEscHandler(f,g){return this._core.registerEscHandler(f,g)}addEscHandler(f,g){return this.registerEscHandler(f,g)}registerOscHandler(f,g){return this._core.registerOscHandler(f,g)}addOscHandler(f,g){return this.registerOscHandler(f,g)}}},7090:(u,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.UnicodeApi=void 0,h.UnicodeApi=class{constructor(f){this._core=f}register(f){this._core.unicodeService.register(f)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(f){this._core.unicodeService.activeVersion=f}}},744:function(u,h,f){var g=this&&this.__decorate||function(C,D,S,M){var B,R=arguments.length,L=R<3?D:M===null?M=Object.getOwnPropertyDescriptor(D,S):M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(C,D,S,M);else for(var j=C.length-1;j>=0;j--)(B=C[j])&&(L=(R<3?B(L):R>3?B(D,S,L):B(D,S))||L);return R>3&&L&&Object.defineProperty(D,S,L),L},y=this&&this.__param||function(C,D){return function(S,M){D(S,M,C)}};Object.defineProperty(h,"__esModule",{value:!0}),h.BufferService=h.MINIMUM_ROWS=h.MINIMUM_COLS=void 0;const k=f(2585),v=f(5295),A=f(8460),T=f(844);h.MINIMUM_COLS=2,h.MINIMUM_ROWS=1;let x=class extends T.Disposable{constructor(C){super(),this.isUserScrolling=!1,this._onResize=this.register(new A.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new A.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(C.rawOptions.cols||0,h.MINIMUM_COLS),this.rows=Math.max(C.rawOptions.rows||0,h.MINIMUM_ROWS),this.buffers=this.register(new v.BufferSet(C,this))}get buffer(){return this.buffers.active}resize(C,D){this.cols=C,this.rows=D,this.buffers.resize(C,D),this._onResize.fire({cols:C,rows:D})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(C,D=!1){const S=this.buffer;let M;M=this._cachedBlankLine,M&&M.length===this.cols&&M.getFg(0)===C.fg&&M.getBg(0)===C.bg||(M=S.getBlankLine(C,D),this._cachedBlankLine=M),M.isWrapped=D;const B=S.ybase+S.scrollTop,R=S.ybase+S.scrollBottom;if(S.scrollTop===0){const L=S.lines.isFull;R===S.lines.length-1?L?S.lines.recycle().copyFrom(M):S.lines.push(M.clone()):S.lines.splice(R+1,0,M.clone()),L?this.isUserScrolling&&(S.ydisp=Math.max(S.ydisp-1,0)):(S.ybase++,this.isUserScrolling||S.ydisp++)}else{const L=R-B+1;S.lines.shiftElements(B+1,L-1,-1),S.lines.set(R,M.clone())}this.isUserScrolling||(S.ydisp=S.ybase),this._onScroll.fire(S.ydisp)}scrollLines(C,D,S){const M=this.buffer;if(C<0){if(M.ydisp===0)return;this.isUserScrolling=!0}else C+M.ydisp>=M.ybase&&(this.isUserScrolling=!1);const B=M.ydisp;M.ydisp=Math.max(Math.min(M.ydisp+C,M.ybase),0),B!==M.ydisp&&(D||this._onScroll.fire(M.ydisp))}scrollPages(C){this.scrollLines(C*(this.rows-1))}scrollToTop(){this.scrollLines(-this.buffer.ydisp)}scrollToBottom(){this.scrollLines(this.buffer.ybase-this.buffer.ydisp)}scrollToLine(C){const D=C-this.buffer.ydisp;D!==0&&this.scrollLines(D)}};x=g([y(0,k.IOptionsService)],x),h.BufferService=x},7994:(u,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.CharsetService=void 0,h.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(f){this.glevel=f,this.charset=this._charsets[f]}setgCharset(f,g){this._charsets[f]=g,this.glevel===f&&(this.charset=g)}}},1753:function(u,h,f){var g=this&&this.__decorate||function(M,B,R,L){var j,N=arguments.length,z=N<3?B:L===null?L=Object.getOwnPropertyDescriptor(B,R):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")z=Reflect.decorate(M,B,R,L);else for(var Z=M.length-1;Z>=0;Z--)(j=M[Z])&&(z=(N<3?j(z):N>3?j(B,R,z):j(B,R))||z);return N>3&&z&&Object.defineProperty(B,R,z),z},y=this&&this.__param||function(M,B){return function(R,L){B(R,L,M)}};Object.defineProperty(h,"__esModule",{value:!0}),h.CoreMouseService=void 0;const k=f(2585),v=f(8460),A=f(844),T={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:M=>M.button!==4&&M.action===1&&(M.ctrl=!1,M.alt=!1,M.shift=!1,!0)},VT200:{events:19,restrict:M=>M.action!==32},DRAG:{events:23,restrict:M=>M.action!==32||M.button!==3},ANY:{events:31,restrict:M=>!0}};function x(M,B){let R=(M.ctrl?16:0)|(M.shift?4:0)|(M.alt?8:0);return M.button===4?(R|=64,R|=M.action):(R|=3&M.button,4&M.button&&(R|=64),8&M.button&&(R|=128),M.action===32?R|=32:M.action!==0||B||(R|=3)),R}const C=String.fromCharCode,D={DEFAULT:M=>{const B=[x(M,!1)+32,M.col+32,M.row+32];return B[0]>255||B[1]>255||B[2]>255?"":`\x1B[M${C(B[0])}${C(B[1])}${C(B[2])}`},SGR:M=>{const B=M.action===0&&M.button!==4?"m":"M";return`\x1B[<${x(M,!0)};${M.col};${M.row}${B}`},SGR_PIXELS:M=>{const B=M.action===0&&M.button!==4?"m":"M";return`\x1B[<${x(M,!0)};${M.x};${M.y}${B}`}};let S=class extends A.Disposable{constructor(M,B){super(),this._bufferService=M,this._coreService=B,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new v.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const R of Object.keys(T))this.addProtocol(R,T[R]);for(const R of Object.keys(D))this.addEncoding(R,D[R]);this.reset()}addProtocol(M,B){this._protocols[M]=B}addEncoding(M,B){this._encodings[M]=B}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(M){if(!this._protocols[M])throw new Error(`unknown protocol "${M}"`);this._activeProtocol=M,this._onProtocolChange.fire(this._protocols[M].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(M){if(!this._encodings[M])throw new Error(`unknown encoding "${M}"`);this._activeEncoding=M}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(M){if(M.col<0||M.col>=this._bufferService.cols||M.row<0||M.row>=this._bufferService.rows||M.button===4&&M.action===32||M.button===3&&M.action!==32||M.button!==4&&(M.action===2||M.action===3)||(M.col++,M.row++,M.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,M,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(M))return!1;const B=this._encodings[this._activeEncoding](M);return B&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(B):this._coreService.triggerDataEvent(B,!0)),this._lastEvent=M,!0}explainEvents(M){return{down:!!(1&M),up:!!(2&M),drag:!!(4&M),move:!!(8&M),wheel:!!(16&M)}}_equalEvents(M,B,R){if(R){if(M.x!==B.x||M.y!==B.y)return!1}else if(M.col!==B.col||M.row!==B.row)return!1;return M.button===B.button&&M.action===B.action&&M.ctrl===B.ctrl&&M.alt===B.alt&&M.shift===B.shift}};S=g([y(0,k.IBufferService),y(1,k.ICoreService)],S),h.CoreMouseService=S},6975:function(u,h,f){var g=this&&this.__decorate||function(S,M,B,R){var L,j=arguments.length,N=j<3?M:R===null?R=Object.getOwnPropertyDescriptor(M,B):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(S,M,B,R);else for(var z=S.length-1;z>=0;z--)(L=S[z])&&(N=(j<3?L(N):j>3?L(M,B,N):L(M,B))||N);return j>3&&N&&Object.defineProperty(M,B,N),N},y=this&&this.__param||function(S,M){return function(B,R){M(B,R,S)}};Object.defineProperty(h,"__esModule",{value:!0}),h.CoreService=void 0;const k=f(2585),v=f(8460),A=f(1439),T=f(844),x=Object.freeze({insertMode:!1}),C=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let D=class extends T.Disposable{constructor(S,M,B){super(),this._bufferService=S,this._logService=M,this._optionsService=B,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new v.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new v.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new v.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new v.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,A.clone)(x),this.decPrivateModes=(0,A.clone)(C)}reset(){this.modes=(0,A.clone)(x),this.decPrivateModes=(0,A.clone)(C)}triggerDataEvent(S,M=!1){if(this._optionsService.rawOptions.disableStdin)return;const B=this._bufferService.buffer;M&&this._optionsService.rawOptions.scrollOnUserInput&&B.ybase!==B.ydisp&&this._onRequestScrollToBottom.fire(),M&&this._onUserInput.fire(),this._logService.debug(`sending data "${S}"`,()=>S.split("").map(R=>R.charCodeAt(0))),this._onData.fire(S)}triggerBinaryEvent(S){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${S}"`,()=>S.split("").map(M=>M.charCodeAt(0))),this._onBinary.fire(S))}};D=g([y(0,k.IBufferService),y(1,k.ILogService),y(2,k.IOptionsService)],D),h.CoreService=D},9074:(u,h,f)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.DecorationService=void 0;const g=f(8055),y=f(8460),k=f(844),v=f(6106);let A=0,T=0;class x extends k.Disposable{constructor(){super(),this._decorations=new v.SortedList(S=>S==null?void 0:S.marker.line),this._onDecorationRegistered=this.register(new y.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new y.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,k.toDisposable)(()=>{for(const S of this._decorations.values())this._onDecorationRemoved.fire(S);this.reset()}))}get decorations(){return this._decorations.values()}registerDecoration(S){if(S.marker.isDisposed)return;const M=new C(S);if(M){const B=M.marker.onDispose(()=>M.dispose());M.onDispose(()=>{M&&(this._decorations.delete(M)&&this._onDecorationRemoved.fire(M),B.dispose())}),this._decorations.insert(M),this._onDecorationRegistered.fire(M)}return M}reset(){for(const S of this._decorations.values())S.dispose();this._decorations.clear()}*getDecorationsAtCell(S,M,B){var R,L,j;let N=0,z=0;for(const Z of this._decorations.getKeyIterator(M))N=(R=Z.options.x)!==null&&R!==void 0?R:0,z=N+((L=Z.options.width)!==null&&L!==void 0?L:1),S>=N&&S<z&&(!B||((j=Z.options.layer)!==null&&j!==void 0?j:"bottom")===B)&&(yield Z)}forEachDecorationAtCell(S,M,B,R){this._decorations.forEachByKey(M,L=>{var j,N,z;A=(j=L.options.x)!==null&&j!==void 0?j:0,T=A+((N=L.options.width)!==null&&N!==void 0?N:1),S>=A&&S<T&&(!B||((z=L.options.layer)!==null&&z!==void 0?z:"bottom")===B)&&R(L)})}dispose(){for(const S of this._decorations.values())this._onDecorationRemoved.fire(S);this.reset()}}h.DecorationService=x;class C extends k.Disposable{constructor(S){super(),this.options=S,this.onRenderEmitter=this.register(new y.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new y.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=S.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=g.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=g.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(u,h,f)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.InstantiationService=h.ServiceCollection=void 0;const g=f(2585),y=f(8343);class k{constructor(...A){this._entries=new Map;for(const[T,x]of A)this.set(T,x)}set(A,T){const x=this._entries.get(A);return this._entries.set(A,T),x}forEach(A){for(const[T,x]of this._entries.entries())A(T,x)}has(A){return this._entries.has(A)}get(A){return this._entries.get(A)}}h.ServiceCollection=k,h.InstantiationService=class{constructor(){this._services=new k,this._services.set(g.IInstantiationService,this)}setService(v,A){this._services.set(v,A)}getService(v){return this._services.get(v)}createInstance(v,...A){const T=(0,y.getServiceDependencies)(v).sort((D,S)=>D.index-S.index),x=[];for(const D of T){const S=this._services.get(D.id);if(!S)throw new Error(`[createInstance] ${v.name} depends on UNKNOWN service ${D.id}.`);x.push(S)}const C=T.length>0?T[0].index:A.length;if(A.length!==C)throw new Error(`[createInstance] First service dependency of ${v.name} at position ${C+1} conflicts with ${A.length} static arguments`);return new v(...A,...x)}}},7866:function(u,h,f){var g=this&&this.__decorate||function(x,C,D,S){var M,B=arguments.length,R=B<3?C:S===null?S=Object.getOwnPropertyDescriptor(C,D):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(x,C,D,S);else for(var L=x.length-1;L>=0;L--)(M=x[L])&&(R=(B<3?M(R):B>3?M(C,D,R):M(C,D))||R);return B>3&&R&&Object.defineProperty(C,D,R),R},y=this&&this.__param||function(x,C){return function(D,S){C(D,S,x)}};Object.defineProperty(h,"__esModule",{value:!0}),h.LogService=void 0;const k=f(844),v=f(2585),A={debug:v.LogLevelEnum.DEBUG,info:v.LogLevelEnum.INFO,warn:v.LogLevelEnum.WARN,error:v.LogLevelEnum.ERROR,off:v.LogLevelEnum.OFF};let T=class extends k.Disposable{constructor(x){super(),this._optionsService=x,this.logLevel=v.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel()))}_updateLogLevel(){this.logLevel=A[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(x){for(let C=0;C<x.length;C++)typeof x[C]=="function"&&(x[C]=x[C]())}_log(x,C,D){this._evalLazyOptionalParams(D),x.call(console,"xterm.js: "+C,...D)}debug(x,...C){this.logLevel<=v.LogLevelEnum.DEBUG&&this._log(console.log,x,C)}info(x,...C){this.logLevel<=v.LogLevelEnum.INFO&&this._log(console.info,x,C)}warn(x,...C){this.logLevel<=v.LogLevelEnum.WARN&&this._log(console.warn,x,C)}error(x,...C){this.logLevel<=v.LogLevelEnum.ERROR&&this._log(console.error,x,C)}};T=g([y(0,v.IOptionsService)],T),h.LogService=T},7302:(u,h,f)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.OptionsService=h.DEFAULT_OPTIONS=void 0;const g=f(8460),y=f(6114),k=f(844);h.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:y.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const v=["normal","bold","100","200","300","400","500","600","700","800","900"];class A extends k.Disposable{constructor(x){super(),this._onOptionChange=this.register(new g.EventEmitter),this.onOptionChange=this._onOptionChange.event;const C=Object.assign({},h.DEFAULT_OPTIONS);for(const D in x)if(D in C)try{const S=x[D];C[D]=this._sanitizeAndValidateOption(D,S)}catch(S){console.error(S)}this.rawOptions=C,this.options=Object.assign({},C),this._setupOptions()}onSpecificOptionChange(x,C){return this.onOptionChange(D=>{D===x&&C(this.rawOptions[x])})}onMultipleOptionChange(x,C){return this.onOptionChange(D=>{x.indexOf(D)!==-1&&C()})}_setupOptions(){const x=D=>{if(!(D in h.DEFAULT_OPTIONS))throw new Error(`No option with key "${D}"`);return this.rawOptions[D]},C=(D,S)=>{if(!(D in h.DEFAULT_OPTIONS))throw new Error(`No option with key "${D}"`);S=this._sanitizeAndValidateOption(D,S),this.rawOptions[D]!==S&&(this.rawOptions[D]=S,this._onOptionChange.fire(D))};for(const D in this.rawOptions){const S={get:x.bind(this,D),set:C.bind(this,D)};Object.defineProperty(this.options,D,S)}}_sanitizeAndValidateOption(x,C){switch(x){case"cursorStyle":if(C||(C=h.DEFAULT_OPTIONS[x]),!function(D){return D==="block"||D==="underline"||D==="bar"}(C))throw new Error(`"${C}" is not a valid value for ${x}`);break;case"wordSeparator":C||(C=h.DEFAULT_OPTIONS[x]);break;case"fontWeight":case"fontWeightBold":if(typeof C=="number"&&1<=C&&C<=1e3)break;C=v.includes(C)?C:h.DEFAULT_OPTIONS[x];break;case"cursorWidth":C=Math.floor(C);case"lineHeight":case"tabStopWidth":if(C<1)throw new Error(`${x} cannot be less than 1, value: ${C}`);break;case"minimumContrastRatio":C=Math.max(1,Math.min(21,Math.round(10*C)/10));break;case"scrollback":if((C=Math.min(C,4294967295))<0)throw new Error(`${x} cannot be less than 0, value: ${C}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(C<=0)throw new Error(`${x} cannot be less than or equal to 0, value: ${C}`);break;case"rows":case"cols":if(!C&&C!==0)throw new Error(`${x} must be numeric, value: ${C}`);break;case"windowsPty":C=C??{}}return C}}h.OptionsService=A},2660:function(u,h,f){var g=this&&this.__decorate||function(A,T,x,C){var D,S=arguments.length,M=S<3?T:C===null?C=Object.getOwnPropertyDescriptor(T,x):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(A,T,x,C);else for(var B=A.length-1;B>=0;B--)(D=A[B])&&(M=(S<3?D(M):S>3?D(T,x,M):D(T,x))||M);return S>3&&M&&Object.defineProperty(T,x,M),M},y=this&&this.__param||function(A,T){return function(x,C){T(x,C,A)}};Object.defineProperty(h,"__esModule",{value:!0}),h.OscLinkService=void 0;const k=f(2585);let v=class{constructor(A){this._bufferService=A,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(A){const T=this._bufferService.buffer;if(A.id===void 0){const B=T.addMarker(T.ybase+T.y),R={data:A,id:this._nextId++,lines:[B]};return B.onDispose(()=>this._removeMarkerFromLink(R,B)),this._dataByLinkId.set(R.id,R),R.id}const x=A,C=this._getEntryIdKey(x),D=this._entriesWithId.get(C);if(D)return this.addLineToLink(D.id,T.ybase+T.y),D.id;const S=T.addMarker(T.ybase+T.y),M={id:this._nextId++,key:this._getEntryIdKey(x),data:x,lines:[S]};return S.onDispose(()=>this._removeMarkerFromLink(M,S)),this._entriesWithId.set(M.key,M),this._dataByLinkId.set(M.id,M),M.id}addLineToLink(A,T){const x=this._dataByLinkId.get(A);if(x&&x.lines.every(C=>C.line!==T)){const C=this._bufferService.buffer.addMarker(T);x.lines.push(C),C.onDispose(()=>this._removeMarkerFromLink(x,C))}}getLinkData(A){var T;return(T=this._dataByLinkId.get(A))===null||T===void 0?void 0:T.data}_getEntryIdKey(A){return`${A.id};;${A.uri}`}_removeMarkerFromLink(A,T){const x=A.lines.indexOf(T);x!==-1&&(A.lines.splice(x,1),A.lines.length===0&&(A.data.id!==void 0&&this._entriesWithId.delete(A.key),this._dataByLinkId.delete(A.id)))}};v=g([y(0,k.IBufferService)],v),h.OscLinkService=v},8343:(u,h)=>{function f(g,y,k){y.di$target===y?y.di$dependencies.push({id:g,index:k}):(y.di$dependencies=[{id:g,index:k}],y.di$target=y)}Object.defineProperty(h,"__esModule",{value:!0}),h.createDecorator=h.getServiceDependencies=h.serviceRegistry=void 0,h.serviceRegistry=new Map,h.getServiceDependencies=function(g){return g.di$dependencies||[]},h.createDecorator=function(g){if(h.serviceRegistry.has(g))return h.serviceRegistry.get(g);const y=function(k,v,A){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");f(y,k,A)};return y.toString=()=>g,h.serviceRegistry.set(g,y),y}},2585:(u,h,f)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.IDecorationService=h.IUnicodeService=h.IOscLinkService=h.IOptionsService=h.ILogService=h.LogLevelEnum=h.IInstantiationService=h.ICharsetService=h.ICoreService=h.ICoreMouseService=h.IBufferService=void 0;const g=f(8343);var y;h.IBufferService=(0,g.createDecorator)("BufferService"),h.ICoreMouseService=(0,g.createDecorator)("CoreMouseService"),h.ICoreService=(0,g.createDecorator)("CoreService"),h.ICharsetService=(0,g.createDecorator)("CharsetService"),h.IInstantiationService=(0,g.createDecorator)("InstantiationService"),(y=h.LogLevelEnum||(h.LogLevelEnum={}))[y.DEBUG=0]="DEBUG",y[y.INFO=1]="INFO",y[y.WARN=2]="WARN",y[y.ERROR=3]="ERROR",y[y.OFF=4]="OFF",h.ILogService=(0,g.createDecorator)("LogService"),h.IOptionsService=(0,g.createDecorator)("OptionsService"),h.IOscLinkService=(0,g.createDecorator)("OscLinkService"),h.IUnicodeService=(0,g.createDecorator)("UnicodeService"),h.IDecorationService=(0,g.createDecorator)("DecorationService")},1480:(u,h,f)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.UnicodeService=void 0;const g=f(8460),y=f(225);h.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new g.EventEmitter,this.onChange=this._onChange.event;const k=new y.UnicodeV6;this.register(k),this._active=k.version,this._activeProvider=k}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(k){if(!this._providers[k])throw new Error(`unknown Unicode version "${k}"`);this._active=k,this._activeProvider=this._providers[k],this._onChange.fire(k)}register(k){this._providers[k.version]=k}wcwidth(k){return this._activeProvider.wcwidth(k)}getStringCellWidth(k){let v=0;const A=k.length;for(let T=0;T<A;++T){let x=k.charCodeAt(T);if(55296<=x&&x<=56319){if(++T>=A)return v+this.wcwidth(x);const C=k.charCodeAt(T);56320<=C&&C<=57343?x=1024*(x-55296)+C-56320+65536:v+=this.wcwidth(C)}v+=this.wcwidth(x)}return v}}}},o={};function d(u){var h=o[u];if(h!==void 0)return h.exports;var f=o[u]={exports:{}};return l[u].call(f.exports,f,f.exports,d),f.exports}var m={};return(()=>{var u=m;Object.defineProperty(u,"__esModule",{value:!0}),u.Terminal=void 0;const h=d(3236),f=d(9042),g=d(7975),y=d(7090),k=d(5741),v=d(8285),A=["cols","rows"];u.Terminal=class{constructor(T){this._core=new h.Terminal(T),this._addonManager=new k.AddonManager,this._publicOptions=Object.assign({},this._core.options);const x=D=>this._core.options[D],C=(D,S)=>{this._checkReadonlyOptions(D),this._core.options[D]=S};for(const D in this._core.options){const S={get:x.bind(this,D),set:C.bind(this,D)};Object.defineProperty(this._publicOptions,D,S)}}_checkReadonlyOptions(T){if(A.includes(T))throw new Error(`Option "${T}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new g.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new y.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=new v.BufferNamespaceApi(this._core)),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const T=this._core.coreService.decPrivateModes;let x="none";switch(this._core.coreMouseService.activeProtocol){case"X10":x="x10";break;case"VT200":x="vt200";break;case"DRAG":x="drag";break;case"ANY":x="any"}return{applicationCursorKeysMode:T.applicationCursorKeys,applicationKeypadMode:T.applicationKeypad,bracketedPasteMode:T.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:x,originMode:T.origin,reverseWraparoundMode:T.reverseWraparound,sendFocusMode:T.sendFocus,wraparoundMode:T.wraparound}}get options(){return this._publicOptions}set options(T){for(const x in T)this._publicOptions[x]=T[x]}blur(){this._core.blur()}focus(){this._core.focus()}resize(T,x){this._verifyIntegers(T,x),this._core.resize(T,x)}open(T){this._core.open(T)}attachCustomKeyEventHandler(T){this._core.attachCustomKeyEventHandler(T)}registerLinkProvider(T){return this._core.registerLinkProvider(T)}registerCharacterJoiner(T){return this._checkProposedApi(),this._core.registerCharacterJoiner(T)}deregisterCharacterJoiner(T){this._checkProposedApi(),this._core.deregisterCharacterJoiner(T)}registerMarker(T=0){return this._verifyIntegers(T),this._core.addMarker(T)}registerDecoration(T){var x,C,D;return this._checkProposedApi(),this._verifyPositiveIntegers((x=T.x)!==null&&x!==void 0?x:0,(C=T.width)!==null&&C!==void 0?C:0,(D=T.height)!==null&&D!==void 0?D:0),this._core.registerDecoration(T)}hasSelection(){return this._core.hasSelection()}select(T,x,C){this._verifyIntegers(T,x,C),this._core.select(T,x,C)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(T,x){this._verifyIntegers(T,x),this._core.selectLines(T,x)}dispose(){this._addonManager.dispose(),this._core.dispose()}scrollLines(T){this._verifyIntegers(T),this._core.scrollLines(T)}scrollPages(T){this._verifyIntegers(T),this._core.scrollPages(T)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(T){this._verifyIntegers(T),this._core.scrollToLine(T)}clear(){this._core.clear()}write(T,x){this._core.write(T,x)}writeln(T,x){this._core.write(T),this._core.write(`\r
`,x)}paste(T){this._core.paste(T)}refresh(T,x){this._verifyIntegers(T,x),this._core.refresh(T,x)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(T){return this._addonManager.loadAddon(this,T)}static get strings(){return f}_verifyIntegers(...T){for(const x of T)if(x===1/0||isNaN(x)||x%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...T){for(const x of T)if(x&&(x===1/0||isNaN(x)||x%1!=0||x<0))throw new Error("This API only accepts positive integers")}}})(),m})())})($6);var Dve=$6.exports,z6={exports:{}};(function(i,r){(function(l,o){i.exports=o()})(self,function(){return(()=>{var l={};return(()=>{var o=l;Object.defineProperty(o,"__esModule",{value:!0}),o.FitAddon=void 0,o.FitAddon=class{constructor(){}activate(d){this._terminal=d}dispose(){}fit(){const d=this.proposeDimensions();if(!d||!this._terminal||isNaN(d.cols)||isNaN(d.rows))return;const m=this._terminal._core;this._terminal.rows===d.rows&&this._terminal.cols===d.cols||(m._renderService.clear(),this._terminal.resize(d.cols,d.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const d=this._terminal._core,m=d._renderService.dimensions;if(m.css.cell.width===0||m.css.cell.height===0)return;const u=this._terminal.options.scrollback===0?0:d.viewport.scrollBarWidth,h=window.getComputedStyle(this._terminal.element.parentElement),f=parseInt(h.getPropertyValue("height")),g=Math.max(0,parseInt(h.getPropertyValue("width"))),y=window.getComputedStyle(this._terminal.element),k=f-(parseInt(y.getPropertyValue("padding-top"))+parseInt(y.getPropertyValue("padding-bottom"))),v=g-(parseInt(y.getPropertyValue("padding-right"))+parseInt(y.getPropertyValue("padding-left")))-u;return{cols:Math.max(2,Math.floor(v/m.css.cell.width)),rows:Math.max(1,Math.floor(k/m.css.cell.height))}}}})(),l})()})})(z6);var Tve=z6.exports,F6={exports:{}};(function(i,r){(function(l,o){i.exports=o()})(self,function(){return(()=>{var l={};return(()=>{var o=l;function d(m,u,h){return m.addEventListener(u,h),{dispose:()=>{h&&m.removeEventListener(u,h)}}}Object.defineProperty(o,"__esModule",{value:!0}),o.AttachAddon=void 0,o.AttachAddon=class{constructor(m,u){this._disposables=[],this._socket=m,this._socket.binaryType="arraybuffer",this._bidirectional=!(u&&u.bidirectional===!1)}activate(m){this._disposables.push(d(this._socket,"message",u=>{const h=u.data;m.write(typeof h=="string"?h:new Uint8Array(h))})),this._bidirectional&&(this._disposables.push(m.onData(u=>this._sendData(u))),this._disposables.push(m.onBinary(u=>this._sendBinary(u)))),this._disposables.push(d(this._socket,"close",()=>this.dispose())),this._disposables.push(d(this._socket,"error",()=>this.dispose()))}dispose(){for(const m of this._disposables)m.dispose()}_sendData(m){this._checkOpenSocket()&&this._socket.send(m)}_sendBinary(m){if(!this._checkOpenSocket())return;const u=new Uint8Array(m.length);for(let h=0;h<m.length;++h)u[h]=255&m.charCodeAt(h);this._socket.send(u)}_checkOpenSocket(){switch(this._socket.readyState){case WebSocket.OPEN:return!0;case WebSocket.CONNECTING:throw new Error("Attach addon was loaded before socket was open");case WebSocket.CLOSING:return console.warn("Attach addon socket is closing"),!1;case WebSocket.CLOSED:throw new Error("Attach addon socket is closed");default:throw new Error("Unexpected socket state")}}}})(),l})()})})(F6);var Ive=F6.exports;const Mve={class:"console w-100",id:"xterm"},Pve={__name:"ws",setup(i){const{proxy:r}=Ke();let l=tt(),o=Ve({team:l.params.team,terminal:l.params.terminal});Ue(()=>{d(),m()});let d=()=>{r.get(r.urls.terminal_browse.format(o.team,o.terminal)).then(function(u){u!=null&&u.data&&(document.title=u.data.mark)})},m=()=>{let u="wss://jitask.com/api/team/"+o.team+"/ws/"+o.terminal,h=new WebSocket(u,localStorage.getItem("token")),f=new Dve.Terminal({fontSize:14,cursorBlink:!0});h.onopen=()=>{const g=new Ive.AttachAddon(h),y=new Tve.FitAddon;f.open(document.getElementById("xterm")),f.loadAddon(g),f.loadAddon(y),y.fit(),f.focus(),f.write("Hello from \x1B[1;3;31mjitask.com\x1B[0m"),f.writeln(""),window.onresize=function(){y.fit()}},h.onclose=()=>{f.writeln(""),f.write(`
\x1B[1;3;31mConnection close!\x1B[0m`),f.writeln("")},h.onerror=()=>{f.writeln(""),f.write(`
\x1B[1;3;31mAn error occurred!\x1B[0m`),f.writeln("")}};return(u,h)=>(F(),U("div",Mve))}},Ove=[{path:"/",meta:{title:"爱斯园 - 水善利万物而不争"},name:"Index",component:UH},{path:"/reg",meta:{title:"注册 - 爱斯园"},name:"Reg",component:kW},{path:"/logout",meta:{title:"退出登录"},name:"Logout",component:HW},{path:"/forgot",meta:{title:"忘记密码"},name:"Forgot",component:fG},{path:"/help",meta:{title:"帮助文档 - 爱斯园"},name:"Help",component:wG},{path:"/ws/:team/:terminal",meta:{title:"web terminal"},name:"WS",component:Pve},{path:"/",meta:{title:"我的工作台"},name:"Layout",component:AU,children:[{path:"select",meta:{title:"等待加入团队或创建团队"},name:"Select",component:FW},{path:"team/:team/center/:type",meta:{title:"个人中心"},name:"Center",component:Yfe},{path:"team/:team",meta:{title:"我的工作台"},name:"Main",component:e5,children:[{path:"overview",meta:{title:"我的工作台",tagIndex:1},name:"Overview",component:_K},{path:"dashboard",meta:{title:"任务看板",tagIndex:33},name:"Dashboard",component:YK},{path:"project_list",meta:{title:"项目管理",tagIndex:21},name:"Projects",component:AY},{path:"project_add",meta:{title:"项目管理",tagIndex:21},name:"AddProject",component:npe},{path:"project/:project",meta:{title:"项目管理",tagIndex:21},name:"Project",component:ipe},{path:"wiki",meta:{title:"文档管理",tagIndex:23},name:"Spaces",component:eq},{path:"setting/wiki/:type",meta:{title:"文档配置中心",tagIndex:83},name:"WikiSetting",component:sZ},{path:"manager",meta:{title:"团队管理",tagIndex:26},name:"Manager",component:UZ},{path:"member",meta:{title:"成员管理",tagIndex:27},name:"Member",component:wQ},{path:"info",meta:{title:"团队信息修改",tagIndex:26},name:"TeamInfo",component:DQ},{path:"setting/team/:type",meta:{title:"团队配置中心",tagIndex:81},name:"TeamSetting",component:mZ},{path:"setting/okr/:type",meta:{title:"目标配置中心",tagIndex:84},name:"OKRSetting",component:_J},{path:"okr/team",meta:{title:"目标管理",tagIndex:55},name:"TeamObjective",component:Ite},{path:"okr/user",meta:{title:"目标管理",tagIndex:55},name:"UserObjective",component:Pne},{path:"setting/terminal",meta:{title:"终端配置中心",tagIndex:90},name:"TerminalSetting",component:E_e,children:[{path:"server",meta:{title:"终端配置中心",tagIndex:90},name:"TerminalServer",component:ive},{path:"tag",meta:{title:"终端配置中心",tagIndex:90},name:"TerminalTag",component:Eve},{path:"permission",meta:{title:"终端配置中心",tagIndex:90},name:"TerminalPermissions",component:G_e},{path:":terminal/permission",meta:{title:"终端配置中心",tagIndex:90},name:"TerminalPermission",component:Y_e}]},{path:"terminal",meta:{title:"终端管理",tagIndex:44},name:"Terminal",component:H_e},{path:"setting/project",meta:{title:"项目配置中心"},name:"ProjectSetting",component:t5,children:[{path:"manager",meta:{title:"项目配置中心",tagIndex:82},name:"ProjectSettingManager",component:cpe},{path:"field",meta:{title:"项目配置中心",tagIndex:82},name:"ProjectSettingField",component:kpe},{path:"status",meta:{title:"项目配置中心",tagIndex:82},name:"ProjectSettingStatus",component:Dpe},{path:"permission",meta:{title:"项目配置中心",tagIndex:82},name:"ProjectSettingPermission",component:Mpe},{path:":project/permission",meta:{title:"项目配置中心",tagIndex:82},name:"ProjectPermissionSetting",component:Qme}]},{path:"setting/issue_type",meta:{title:"项目配置中心"},name:"TeamIssueTypeSetting",component:t5,children:[{path:"manager",meta:{title:"项目配置中心",tagIndex:82},name:"IssueTypeSettingManager",component:qpe},{path:"field",meta:{title:"项目配置中心",tagIndex:82},name:"IssueTypeSettingField",component:Rme},{path:"status",meta:{title:"项目配置中心",tagIndex:82},name:"IssueTypeSettingStatus",component:Vme},{path:"priority",meta:{title:"项目配置中心",tagIndex:82},name:"IssueTypeSettingPriority",component:qme},{path:":issue_type/:type",meta:{title:"项目配置中心",tagIndex:82},name:"IssueTypeSetting",component:r0e}]}]},{path:"team/:team/project",meta:{title:"项目配置中心"},name:"ProjectMain",component:e5,children:[{path:":project/component/:com",meta:{title:"项目管理",tagIndex:21,tab:"project"},name:"Component",component:oh},{path:":project/component/:com/:attr",meta:{title:"项目管理",tagIndex:21,tab:"project"},name:"ComponentDesigner",component:oh},{path:":project/component/:com/issue_type/:issue_type/:attr",meta:{title:"项目管理",tagIndex:21,tab:"project"},name:"ComponentIssueTypeDesigner",component:oh},{path:":project/component/:com/task/:task",meta:{title:"项目管理",tagIndex:21,tab:"project"},name:"Task",component:oh}]},{path:"/team/:team/space",meta:{title:"文档"},name:"Wiki",component:_G,children:[{path:":space",meta:{title:"文档管理"},name:"Space",component:s0e},{path:":space/article",meta:{title:"文档管理"},name:"Article",component:U0e,children:[{path:"page/:page",meta:{title:"文档管理"},name:"Page",component:y1e},{path:"draft/:draft",meta:{title:"文档管理"},name:"Draft",component:j1e}]},{path:":space/page/:page/add",meta:{title:"新建页面"},name:"AddPage",component:q1e},{path:":space/page/:page/edit",meta:{title:"编辑页面"},name:"EditPage",component:w5},{path:":space/draft/:draft/edit",meta:{title:"编辑页面"},name:"EditDraft",component:w5},{path:":space/settings/:type",meta:{title:"页面组设置",tagIndex:83},name:"SpaceSettings",component:b_e}]}]}],V6=MF({history:Kz(),routes:Ove});String.prototype.format=function(){let i=arguments;return this.replace(/\{(\d+)\}/g,function(r,l){return i[l]})};let Bve={user_create:"/api/user_create",login_url:"/api/login",user_send_email:"/api/send_email",user_send_email_forgot:"/api/send_email_forgot",check_login_status:"/api/check_login_status",send_phone_code:"/api/send_phone_code",logout:"/api/logout",password_redo:"/api/redo_password",user_get:"/api/user/{0}",user_update:"/api/user/{0}/update",user_password_change:"/api/user/{0}/change_password",teams:"/api/teams",teams_create:"/api/teams/create",team_get:"/api/team/{0}",team_default_set:"/api/team/{0}/set_team_default",team_global_setting:"/api/team/{0}/global_setting",team_global_setting_update:"/api/team/{0}/global_setting_update",team_update:"/api/team/{0}/update",team_member_list:"/api/team/{0}/members",team_member_add:"/api/team/{0}/member/add",team_member_update:"/api/team/{0}/member/update",team_member_delete:"/api/team/{0}/member/delete",team_project_list:"/api/team/{0}/projects",team_recent_projects:"/api/team/{0}/projects/recent",team_user_get:"/api/team/{0}/user/{1}",team_upload:"/api/team/{0}/upload",team_okr_period_add:"/api/team/{0}/okr_period/add",team_okr_period_update:"/api/team/{0}/okr_period/update",team_okr_period_archived:"/api/team/{0}/okr_period/archived",team_okr_period_delete:"/api/team/{0}/okr_period/delete",team_okr_period_list:"/api/team/{0}/okr_period/list",team_okr_list:"/api/team/{0}/okr/list/team",team_okr_add:"/api/team/{0}/okr/add",team_objective_sort:"/api/team/{0}/sort/objective",team_key_result_sort:"/api/team/{0}/sort/key_result",okr_change_assign:"/api/team/{0}/okr/change_assign",team_okr_update:"/api/team/{0}/okr/update",team_okr_delete:"/api/team/{0}/okr/delete/{1}",okr_assign_key_result:"/api/team/{0}/okr/assign/{1}",okr_list_assignTo:"/api/team/{0}/okr/assignTo/list/{1}",okr_delete_assignTo:"/api/team/{0}/okr/assignTo/delete/{1}",user_okr_list:"/api/team/{0}/okr/list/user",user_okr_progress_update:"/api/team/{0}/okr/update/progress",terminal_list:"/api/team/{0}/terminal/list",terminal_my_list:"/api/team/{0}/terminal/my_list",terminal_add:"/api/team/{0}/terminal/add",terminal_update:"/api/team/{0}/terminal/update",terminal_delete:"/api/team/{0}/terminal/delete/{1}",terminal_get:"/api/team/{0}/terminal/get/{1}",terminal_browse:"/api/team/{0}/terminal/browse/{1}",terminal_user_domain_group:"/api/team/{0}/terminal/{1}/user_domain_group",terminal_tags_by_terminal:"/api/team/{0}/terminal/{1}/tags",terminal_tag_config_add:"/api/team/{0}/terminal/{1}/tag/{2}/add",terminal_tag_config_delete:"/api/team/{0}/terminal/{1}/tag/{2}/delete",terminal_tag_list:"/api/team/{0}/terminal_tag/list",terminal_tag_save:"/api/team/{0}/terminal_tag/save",terminal_tag_delete:"/api/team/{0}/terminal_tag/delete/{1}",terminal_tag_get:"/api/team/{0}/terminal_tag/get/{1}",spaces:"/api/team/{0}/spaces",spaces_recent:"/api/team/{0}/spaces/recent",spaces_my:"/api/team/{0}/spaces/my",spaces_add:"/api/team/{0}/spaces/add",space_get:"/api/team/{0}/space/{1}",space_update:"/api/team/{0}/space/{1}/update",space_delete:"/api/team/{0}/space/{1}/delete",space_pin:"/api/team/{0}/space/{1}/pin",space_unpin:"/api/team/{0}/space/{1}/unpin",space_user_domain_group:"/api/team/{0}/space/{1}/user_domain_group",page_tree_get:"/api/team/{0}/space/{1}/page_tree_get",page_main:"/api/team/{0}/space/{1}/main_page",page_get:"/api/team/{0}/space/{1}/page/{2}",page_move:"/api/team/{0}/space/{1}/move_page",page_draft_add:"/api/team/{0}/space/{1}/page_draft_add",page_draft_update:"/api/team/{0}/space/{1}/draft/{2}/update",page_version_list:"/api/team/{0}/space/{1}/page/{2}/version_list",drafts:"/api/team/{0}/space/{1}/drafts",draft_get:"/api/team/{0}/space/{1}/draft/{2}",draft_delete:"/api/team/{0}/space/{1}/draft/{2}/delete",issue_type_get:"/api/team/{0}/issue_type/{1}",issue_type_template_field_add:"/api/team/{0}/issue_type/{1}/issue_type_template_field_add",issue_type_template_field_delete:"/api/team/{0}/issue_type/{1}/field/{2}/delete",issue_type_template_get:"/api/team/{0}/issue_type/{1}/get_issue_type_template",issue_type_field_list:"/api/team/{0}/issue_type_field",issue_type_field_not_in:"/api/team/{0}/issue_type/{1}/issue_type_field_not_in_list",issue_type_field_option_list:"/api/team/{0}/issue_type_field_options/{1}",issue_type_field_add:"/api/team/{0}/issue_type_field/add",issue_type_field_update:"/api/team/{0}/issue_type_field/{1}/update",issue_type_flow_update:"/api/team/{0}/issue_type/{1}/update_issue_type_flow",issue_type_list:"/api/team/{0}/issue_type_list",issue_type_priority:"/api/team/{0}/issue_type_priority",issue_type_status:"/api/team/{0}/issue_type_status",issue_type_task_status_list:"/api/team/{0}/issue_type/{1}/issue_type_task_status_list",project_field:"/api/team/{0}/projects/field",project_list:"/api/team/{0}/projects/list",project_status:"/api/team/{0}/projects/status",project_add:"/api/team/{0}/projects/add",project_update:"/api/team/{0}/project/{1}/update",project_pin:"/api/team/{0}/project/{1}/pin",project_unpin:"/api/team/{0}/project/{1}/unpin",project_plan_update:"/api/team/{0}/project/{1}/update_plan",project_first_component:"/api/team/{0}/project/{1}/components/first",project_template:"/api/team/{0}/project/{1}/setting/template",project_get:"/api/team/{0}/project/{1}",project_status_list:"/api/team/{0}/project/{1}/status_data_list",project_change_assign:"/api/team/{0}/project/{1}/change_assign",project_members:"/api/team/{0}/project/{1}/project_members",project_member_add:"/api/team/{0}/project/{1}/members/add",project_member_delete:"/api/team/{0}/project/{1}/members/delete",project_change_status:"/api/team/{0}/project/{1}/change_status",project_user_domain_group:"/api/team/{0}/project/{1}/user_domain_group",project_delete:"/api/team/{0}/project/{1}/delete",project_notice_save:"/api/team/{0}/project/{1}/save_notice",project_record_list:"/api/team/{0}/project/{1}/project_record_list",project_issue_type_field:"/api/team/{0}/project/{1}/issue_type/{2}/field",project_issue_type_flow:"/api/team/{0}/project/{1}/issue_type/{2}/get_project_issue_type_flow",project_issue_type_flow_submit:"/api/team/{0}/project/{1}/issue_type/{2}/update_project_issue_type_flow",project_issue_type_next_status_list:"/api/team/{0}/project/{1}/issue_type/{2}/next_status_list/{3}",versions_get:"/api/team/{0}/project/{1}/versions_get",versions_list:"/api/team/{0}/project/{1}/versions_list",version_add:"/api/team/{0}/project/{1}/version_add",version_delete:"/api/team/{0}/project/{1}/version_delete/{2}",component_get:"/api/team/{0}/project/{1}/component/{2}",component_router:"/api/team/{0}/project/{1}/task/{2}/component_router_get",component_update:"/api/team/{0}/project/{1}/component/{2}/update",components:"/api/team/{0}/project/{1}/components",tasks:"/api/team/{0}/project/{1}/issue_type/{2}/tasks",tasks_add:"/api/team/{0}/project/{1}/issue_type/{2}/tasks/add",tasks_group_by_versions:"/api/team/{0}/project/{1}/tasks_group",task_update:"/api/team/{0}/project/{1}/task/{2}/update",task_delete:"/api/team/{0}/project/{1}/task/{2}/delete",task_first_get:"/api/team/{0}/project/{1}/issue_type/{2}/first_task_get",task_get:"/api/team/{0}/task/{1}",task_priority_options:"/api/team/{0}/task_priority_options",task_change_assign:"/api/team/{0}/task/{1}/update/assign",task_change_status:"/api/team/{0}/task/{1}/update/status",task_change_priority:"/api/team/{0}/task/{1}/update/priority",task_stat_by_team:"/api/team/{0}/tasks/stat_by_team",task_list_by_assign:"/api/team/{0}/tasks/by_assign",task_list_by_owner:"/api/team/{0}/tasks/by_owner",task_list_by_watcher:"/api/team/{0}/tasks/by_watcher",watchers_update:"/api/team/{0}/project/{1}/task/{2}/watchers/{3}",link_tasks:"/api/team/{0}/project/{1}/link_tasks",linked_tasks_add:"/api/team/{0}/task/{1}/linked/tasks_add",linked_tasks:"/api/team/{0}/task/{1}/linked/linked_tasks",linked_source_tasks:"/api/team/{0}/task/{1}/linked/source_tasks",linked_tasks_del:"/api/team/{0}/task/{1}/linked/tasks_delete/{2}",report_task_show:"/api/team/{0}/project/{1}/report/task",permission_rules_add:"/api/team/{0}/permission_rules/add",permission_rule_delete:"/api/team/{0}/permission_rule/{1}/delete",permission_rules:"/api/team/{0}/permission_rules",field_option_value_list:"/api/team/{0}/project/{1}/issue_type/{2}/field/{3}/list",field_option_update:"/api/team/{0}/project/{1}/issue_type/{2}/update_field_option",field_issue_type_delete:"/api/team/{0}/project/{1}/issue_type/{2}/field/{3}/delete"};const Lve=()=>new Promise(i=>{i("Bearer "+localStorage.getItem("token"))}),Rve=Object.freeze(Object.defineProperty({__proto__:null,refreshToken:Lve},Symbol.toStringTag,{value:"Module"}));function Mo(i){"@babel/helpers - typeof";return Mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Mo(i)}function Dt(i){if(i===null||i===!0||i===!1)return NaN;var r=Number(i);return isNaN(r)?r:r<0?Math.ceil(r):Math.floor(r)}function xt(i,r){if(r.length<i)throw new TypeError(i+" argument"+(i>1?"s":"")+" required, but only "+r.length+" present")}function Lt(i){xt(1,arguments);var r=Object.prototype.toString.call(i);return i instanceof Date||Mo(i)==="object"&&r==="[object Date]"?new Date(i.getTime()):typeof i=="number"||r==="[object Number]"?new Date(i):((typeof i=="string"||r==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Rr(i,r){xt(2,arguments);var l=Lt(i),o=Dt(r);return isNaN(o)?new Date(NaN):(o&&l.setDate(l.getDate()+o),l)}function hr(i,r){xt(2,arguments);var l=Lt(i),o=Dt(r);if(isNaN(o))return new Date(NaN);if(!o)return l;var d=l.getDate(),m=new Date(l.getTime());m.setMonth(l.getMonth()+o+1,0);var u=m.getDate();return d>=u?m:(l.setFullYear(m.getFullYear(),m.getMonth(),d),l)}function U6(i,r){if(xt(2,arguments),!r||Mo(r)!=="object")return new Date(NaN);var l=r.years?Dt(r.years):0,o=r.months?Dt(r.months):0,d=r.weeks?Dt(r.weeks):0,m=r.days?Dt(r.days):0,u=r.hours?Dt(r.hours):0,h=r.minutes?Dt(r.minutes):0,f=r.seconds?Dt(r.seconds):0,g=Lt(i),y=o||l?hr(g,o+l*12):g,k=m||d?Rr(y,m+d*7):y,v=h+u*60,A=f+v*60,T=A*1e3,x=new Date(k.getTime()+T);return x}function Nve(i,r){xt(2,arguments);var l=Lt(i).getTime(),o=Dt(r);return new Date(l+o)}var $ve={};function wr(){return $ve}function va(i,r){var l,o,d,m,u,h,f,g;xt(1,arguments);var y=wr(),k=Dt((l=(o=(d=(m=r==null?void 0:r.weekStartsOn)!==null&&m!==void 0?m:r==null||(u=r.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&d!==void 0?d:y.weekStartsOn)!==null&&o!==void 0?o:(f=y.locale)===null||f===void 0||(g=f.options)===null||g===void 0?void 0:g.weekStartsOn)!==null&&l!==void 0?l:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=Lt(i),A=v.getDay(),T=(A<k?7:0)+A-k;return v.setDate(v.getDate()-T),v.setHours(0,0,0,0),v}function $h(i){return xt(1,arguments),va(i,{weekStartsOn:1})}function jve(i){xt(1,arguments);var r=Lt(i),l=r.getFullYear(),o=new Date(0);o.setFullYear(l+1,0,4),o.setHours(0,0,0,0);var d=$h(o),m=new Date(0);m.setFullYear(l,0,4),m.setHours(0,0,0,0);var u=$h(m);return r.getTime()>=d.getTime()?l+1:r.getTime()>=u.getTime()?l:l-1}function zve(i){xt(1,arguments);var r=jve(i),l=new Date(0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);var o=$h(l);return o}function jh(i){var r=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()));return r.setUTCFullYear(i.getFullYear()),i.getTime()-r.getTime()}function C5(i){xt(1,arguments);var r=Lt(i);return r.setHours(0,0,0,0),r}var Fve=864e5;function Vve(i,r){xt(2,arguments);var l=C5(i),o=C5(r),d=l.getTime()-jh(l),m=o.getTime()-jh(o);return Math.round((d-m)/Fve)}function H6(i,r){xt(2,arguments);var l=Dt(r);return hr(i,l*12)}var A1=6e4,x1=36e5,Uve=1e3;function W6(i){return xt(1,arguments),i instanceof Date||Mo(i)==="object"&&Object.prototype.toString.call(i)==="[object Date]"}function Qc(i){if(xt(1,arguments),!W6(i)&&typeof i!="number")return!1;var r=Lt(i);return!isNaN(Number(r))}function A5(i,r){var l;xt(1,arguments);var o=i||{},d=Lt(o.start),m=Lt(o.end),u=m.getTime();if(!(d.getTime()<=u))throw new RangeError("Invalid interval");var h=[],f=d;f.setHours(0,0,0,0);var g=Number((l=r==null?void 0:r.step)!==null&&l!==void 0?l:1);if(g<1||isNaN(g))throw new RangeError("`options.step` must be a number greater than 1");for(;f.getTime()<=u;)h.push(Lt(f)),f.setDate(f.getDate()+g),f.setHours(0,0,0,0);return h}function Hve(i,r){var l,o,d,m,u,h,f,g;xt(1,arguments);var y=wr(),k=Dt((l=(o=(d=(m=r==null?void 0:r.weekStartsOn)!==null&&m!==void 0?m:r==null||(u=r.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&d!==void 0?d:y.weekStartsOn)!==null&&o!==void 0?o:(f=y.locale)===null||f===void 0||(g=f.options)===null||g===void 0?void 0:g.weekStartsOn)!==null&&l!==void 0?l:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=Lt(i),A=v.getDay(),T=(A<k?-7:0)+6-(A-k);return v.setDate(v.getDate()+T),v.setHours(23,59,59,999),v}function G6(i,r){xt(2,arguments);var l=Dt(r);return Nve(i,-l)}var Wve=864e5;function Gve(i){xt(1,arguments);var r=Lt(i),l=r.getTime();r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0);var o=r.getTime(),d=l-o;return Math.floor(d/Wve)+1}function Il(i){xt(1,arguments);var r=1,l=Lt(i),o=l.getUTCDay(),d=(o<r?7:0)+o-r;return l.setUTCDate(l.getUTCDate()-d),l.setUTCHours(0,0,0,0),l}function K6(i){xt(1,arguments);var r=Lt(i),l=r.getUTCFullYear(),o=new Date(0);o.setUTCFullYear(l+1,0,4),o.setUTCHours(0,0,0,0);var d=Il(o),m=new Date(0);m.setUTCFullYear(l,0,4),m.setUTCHours(0,0,0,0);var u=Il(m);return r.getTime()>=d.getTime()?l+1:r.getTime()>=u.getTime()?l:l-1}function Kve(i){xt(1,arguments);var r=K6(i),l=new Date(0);l.setUTCFullYear(r,0,4),l.setUTCHours(0,0,0,0);var o=Il(l);return o}var Yve=6048e5;function Y6(i){xt(1,arguments);var r=Lt(i),l=Il(r).getTime()-Kve(r).getTime();return Math.round(l/Yve)+1}function ka(i,r){var l,o,d,m,u,h,f,g;xt(1,arguments);var y=wr(),k=Dt((l=(o=(d=(m=r==null?void 0:r.weekStartsOn)!==null&&m!==void 0?m:r==null||(u=r.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&d!==void 0?d:y.weekStartsOn)!==null&&o!==void 0?o:(f=y.locale)===null||f===void 0||(g=f.options)===null||g===void 0?void 0:g.weekStartsOn)!==null&&l!==void 0?l:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=Lt(i),A=v.getUTCDay(),T=(A<k?7:0)+A-k;return v.setUTCDate(v.getUTCDate()-T),v.setUTCHours(0,0,0,0),v}function S1(i,r){var l,o,d,m,u,h,f,g;xt(1,arguments);var y=Lt(i),k=y.getUTCFullYear(),v=wr(),A=Dt((l=(o=(d=(m=r==null?void 0:r.firstWeekContainsDate)!==null&&m!==void 0?m:r==null||(u=r.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&d!==void 0?d:v.firstWeekContainsDate)!==null&&o!==void 0?o:(f=v.locale)===null||f===void 0||(g=f.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&l!==void 0?l:1);if(!(A>=1&&A<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var T=new Date(0);T.setUTCFullYear(k+1,0,A),T.setUTCHours(0,0,0,0);var x=ka(T,r),C=new Date(0);C.setUTCFullYear(k,0,A),C.setUTCHours(0,0,0,0);var D=ka(C,r);return y.getTime()>=x.getTime()?k+1:y.getTime()>=D.getTime()?k:k-1}function qve(i,r){var l,o,d,m,u,h,f,g;xt(1,arguments);var y=wr(),k=Dt((l=(o=(d=(m=r==null?void 0:r.firstWeekContainsDate)!==null&&m!==void 0?m:r==null||(u=r.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&d!==void 0?d:y.firstWeekContainsDate)!==null&&o!==void 0?o:(f=y.locale)===null||f===void 0||(g=f.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&l!==void 0?l:1),v=S1(i,r),A=new Date(0);A.setUTCFullYear(v,0,k),A.setUTCHours(0,0,0,0);var T=ka(A,r);return T}var Zve=6048e5;function q6(i,r){xt(1,arguments);var l=Lt(i),o=ka(l,r).getTime()-qve(l,r).getTime();return Math.round(o/Zve)+1}function _n(i,r){for(var l=i<0?"-":"",o=Math.abs(i).toString();o.length<r;)o="0"+o;return l+o}var Qve={y:function(r,l){var o=r.getUTCFullYear(),d=o>0?o:1-o;return _n(l==="yy"?d%100:d,l.length)},M:function(r,l){var o=r.getUTCMonth();return l==="M"?String(o+1):_n(o+1,2)},d:function(r,l){return _n(r.getUTCDate(),l.length)},a:function(r,l){var o=r.getUTCHours()/12>=1?"pm":"am";switch(l){case"a":case"aa":return o.toUpperCase();case"aaa":return o;case"aaaaa":return o[0];case"aaaa":default:return o==="am"?"a.m.":"p.m."}},h:function(r,l){return _n(r.getUTCHours()%12||12,l.length)},H:function(r,l){return _n(r.getUTCHours(),l.length)},m:function(r,l){return _n(r.getUTCMinutes(),l.length)},s:function(r,l){return _n(r.getUTCSeconds(),l.length)},S:function(r,l){var o=l.length,d=r.getUTCMilliseconds(),m=Math.floor(d*Math.pow(10,o-3));return _n(m,l.length)}};const us=Qve;var sl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Jve={G:function(r,l,o){var d=r.getUTCFullYear()>0?1:0;switch(l){case"G":case"GG":case"GGG":return o.era(d,{width:"abbreviated"});case"GGGGG":return o.era(d,{width:"narrow"});case"GGGG":default:return o.era(d,{width:"wide"})}},y:function(r,l,o){if(l==="yo"){var d=r.getUTCFullYear(),m=d>0?d:1-d;return o.ordinalNumber(m,{unit:"year"})}return us.y(r,l)},Y:function(r,l,o,d){var m=S1(r,d),u=m>0?m:1-m;if(l==="YY"){var h=u%100;return _n(h,2)}return l==="Yo"?o.ordinalNumber(u,{unit:"year"}):_n(u,l.length)},R:function(r,l){var o=K6(r);return _n(o,l.length)},u:function(r,l){var o=r.getUTCFullYear();return _n(o,l.length)},Q:function(r,l,o){var d=Math.ceil((r.getUTCMonth()+1)/3);switch(l){case"Q":return String(d);case"QQ":return _n(d,2);case"Qo":return o.ordinalNumber(d,{unit:"quarter"});case"QQQ":return o.quarter(d,{width:"abbreviated",context:"formatting"});case"QQQQQ":return o.quarter(d,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(d,{width:"wide",context:"formatting"})}},q:function(r,l,o){var d=Math.ceil((r.getUTCMonth()+1)/3);switch(l){case"q":return String(d);case"qq":return _n(d,2);case"qo":return o.ordinalNumber(d,{unit:"quarter"});case"qqq":return o.quarter(d,{width:"abbreviated",context:"standalone"});case"qqqqq":return o.quarter(d,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(d,{width:"wide",context:"standalone"})}},M:function(r,l,o){var d=r.getUTCMonth();switch(l){case"M":case"MM":return us.M(r,l);case"Mo":return o.ordinalNumber(d+1,{unit:"month"});case"MMM":return o.month(d,{width:"abbreviated",context:"formatting"});case"MMMMM":return o.month(d,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(d,{width:"wide",context:"formatting"})}},L:function(r,l,o){var d=r.getUTCMonth();switch(l){case"L":return String(d+1);case"LL":return _n(d+1,2);case"Lo":return o.ordinalNumber(d+1,{unit:"month"});case"LLL":return o.month(d,{width:"abbreviated",context:"standalone"});case"LLLLL":return o.month(d,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(d,{width:"wide",context:"standalone"})}},w:function(r,l,o,d){var m=q6(r,d);return l==="wo"?o.ordinalNumber(m,{unit:"week"}):_n(m,l.length)},I:function(r,l,o){var d=Y6(r);return l==="Io"?o.ordinalNumber(d,{unit:"week"}):_n(d,l.length)},d:function(r,l,o){return l==="do"?o.ordinalNumber(r.getUTCDate(),{unit:"date"}):us.d(r,l)},D:function(r,l,o){var d=Gve(r);return l==="Do"?o.ordinalNumber(d,{unit:"dayOfYear"}):_n(d,l.length)},E:function(r,l,o){var d=r.getUTCDay();switch(l){case"E":case"EE":case"EEE":return o.day(d,{width:"abbreviated",context:"formatting"});case"EEEEE":return o.day(d,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(d,{width:"short",context:"formatting"});case"EEEE":default:return o.day(d,{width:"wide",context:"formatting"})}},e:function(r,l,o,d){var m=r.getUTCDay(),u=(m-d.weekStartsOn+8)%7||7;switch(l){case"e":return String(u);case"ee":return _n(u,2);case"eo":return o.ordinalNumber(u,{unit:"day"});case"eee":return o.day(m,{width:"abbreviated",context:"formatting"});case"eeeee":return o.day(m,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(m,{width:"short",context:"formatting"});case"eeee":default:return o.day(m,{width:"wide",context:"formatting"})}},c:function(r,l,o,d){var m=r.getUTCDay(),u=(m-d.weekStartsOn+8)%7||7;switch(l){case"c":return String(u);case"cc":return _n(u,l.length);case"co":return o.ordinalNumber(u,{unit:"day"});case"ccc":return o.day(m,{width:"abbreviated",context:"standalone"});case"ccccc":return o.day(m,{width:"narrow",context:"standalone"});case"cccccc":return o.day(m,{width:"short",context:"standalone"});case"cccc":default:return o.day(m,{width:"wide",context:"standalone"})}},i:function(r,l,o){var d=r.getUTCDay(),m=d===0?7:d;switch(l){case"i":return String(m);case"ii":return _n(m,l.length);case"io":return o.ordinalNumber(m,{unit:"day"});case"iii":return o.day(d,{width:"abbreviated",context:"formatting"});case"iiiii":return o.day(d,{width:"narrow",context:"formatting"});case"iiiiii":return o.day(d,{width:"short",context:"formatting"});case"iiii":default:return o.day(d,{width:"wide",context:"formatting"})}},a:function(r,l,o){var d=r.getUTCHours(),m=d/12>=1?"pm":"am";switch(l){case"a":case"aa":return o.dayPeriod(m,{width:"abbreviated",context:"formatting"});case"aaa":return o.dayPeriod(m,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return o.dayPeriod(m,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(m,{width:"wide",context:"formatting"})}},b:function(r,l,o){var d=r.getUTCHours(),m;switch(d===12?m=sl.noon:d===0?m=sl.midnight:m=d/12>=1?"pm":"am",l){case"b":case"bb":return o.dayPeriod(m,{width:"abbreviated",context:"formatting"});case"bbb":return o.dayPeriod(m,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return o.dayPeriod(m,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(m,{width:"wide",context:"formatting"})}},B:function(r,l,o){var d=r.getUTCHours(),m;switch(d>=17?m=sl.evening:d>=12?m=sl.afternoon:d>=4?m=sl.morning:m=sl.night,l){case"B":case"BB":case"BBB":return o.dayPeriod(m,{width:"abbreviated",context:"formatting"});case"BBBBB":return o.dayPeriod(m,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(m,{width:"wide",context:"formatting"})}},h:function(r,l,o){if(l==="ho"){var d=r.getUTCHours()%12;return d===0&&(d=12),o.ordinalNumber(d,{unit:"hour"})}return us.h(r,l)},H:function(r,l,o){return l==="Ho"?o.ordinalNumber(r.getUTCHours(),{unit:"hour"}):us.H(r,l)},K:function(r,l,o){var d=r.getUTCHours()%12;return l==="Ko"?o.ordinalNumber(d,{unit:"hour"}):_n(d,l.length)},k:function(r,l,o){var d=r.getUTCHours();return d===0&&(d=24),l==="ko"?o.ordinalNumber(d,{unit:"hour"}):_n(d,l.length)},m:function(r,l,o){return l==="mo"?o.ordinalNumber(r.getUTCMinutes(),{unit:"minute"}):us.m(r,l)},s:function(r,l,o){return l==="so"?o.ordinalNumber(r.getUTCSeconds(),{unit:"second"}):us.s(r,l)},S:function(r,l){return us.S(r,l)},X:function(r,l,o,d){var m=d._originalDate||r,u=m.getTimezoneOffset();if(u===0)return"Z";switch(l){case"X":return S5(u);case"XXXX":case"XX":return ia(u);case"XXXXX":case"XXX":default:return ia(u,":")}},x:function(r,l,o,d){var m=d._originalDate||r,u=m.getTimezoneOffset();switch(l){case"x":return S5(u);case"xxxx":case"xx":return ia(u);case"xxxxx":case"xxx":default:return ia(u,":")}},O:function(r,l,o,d){var m=d._originalDate||r,u=m.getTimezoneOffset();switch(l){case"O":case"OO":case"OOO":return"GMT"+x5(u,":");case"OOOO":default:return"GMT"+ia(u,":")}},z:function(r,l,o,d){var m=d._originalDate||r,u=m.getTimezoneOffset();switch(l){case"z":case"zz":case"zzz":return"GMT"+x5(u,":");case"zzzz":default:return"GMT"+ia(u,":")}},t:function(r,l,o,d){var m=d._originalDate||r,u=Math.floor(m.getTime()/1e3);return _n(u,l.length)},T:function(r,l,o,d){var m=d._originalDate||r,u=m.getTime();return _n(u,l.length)}};function x5(i,r){var l=i>0?"-":"+",o=Math.abs(i),d=Math.floor(o/60),m=o%60;if(m===0)return l+String(d);var u=r||"";return l+String(d)+u+_n(m,2)}function S5(i,r){if(i%60===0){var l=i>0?"-":"+";return l+_n(Math.abs(i)/60,2)}return ia(i,r)}function ia(i,r){var l=r||"",o=i>0?"-":"+",d=Math.abs(i),m=_n(Math.floor(d/60),2),u=_n(d%60,2);return o+m+l+u}const Xve=Jve;var E5=function(r,l){switch(r){case"P":return l.date({width:"short"});case"PP":return l.date({width:"medium"});case"PPP":return l.date({width:"long"});case"PPPP":default:return l.date({width:"full"})}},Z6=function(r,l){switch(r){case"p":return l.time({width:"short"});case"pp":return l.time({width:"medium"});case"ppp":return l.time({width:"long"});case"pppp":default:return l.time({width:"full"})}},eke=function(r,l){var o=r.match(/(P+)(p+)?/)||[],d=o[1],m=o[2];if(!m)return E5(r,l);var u;switch(d){case"P":u=l.dateTime({width:"short"});break;case"PP":u=l.dateTime({width:"medium"});break;case"PPP":u=l.dateTime({width:"long"});break;case"PPPP":default:u=l.dateTime({width:"full"});break}return u.replace("{{date}}",E5(d,l)).replace("{{time}}",Z6(m,l))},tke={p:Z6,P:eke};const p0=tke;var nke=["D","DD"],ike=["YY","YYYY"];function Q6(i){return nke.indexOf(i)!==-1}function J6(i){return ike.indexOf(i)!==-1}function zh(i,r,l){if(i==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(r,"`) for formatting years to the input `").concat(l,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(i==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(r,"`) for formatting years to the input `").concat(l,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(i==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(r,"`) for formatting days of the month to the input `").concat(l,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(i==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(r,"`) for formatting days of the month to the input `").concat(l,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var oke={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},rke=function(r,l,o){var d,m=oke[r];return typeof m=="string"?d=m:l===1?d=m.one:d=m.other.replace("{{count}}",l.toString()),o!=null&&o.addSuffix?o.comparison&&o.comparison>0?"in "+d:d+" ago":d};const ske=rke;function yg(i){return function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=r.width?String(r.width):i.defaultWidth,o=i.formats[l]||i.formats[i.defaultWidth];return o}}var ake={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},lke={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},cke={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},dke={date:yg({formats:ake,defaultWidth:"full"}),time:yg({formats:lke,defaultWidth:"full"}),dateTime:yg({formats:cke,defaultWidth:"full"})};const uke=dke;var hke={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},fke=function(r,l,o,d){return hke[r]};const pke=fke;function xc(i){return function(r,l){var o=l!=null&&l.context?String(l.context):"standalone",d;if(o==="formatting"&&i.formattingValues){var m=i.defaultFormattingWidth||i.defaultWidth,u=l!=null&&l.width?String(l.width):m;d=i.formattingValues[u]||i.formattingValues[m]}else{var h=i.defaultWidth,f=l!=null&&l.width?String(l.width):i.defaultWidth;d=i.values[f]||i.values[h]}var g=i.argumentCallback?i.argumentCallback(r):r;return d[g]}}var mke={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},gke={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_ke={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},bke={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},vke={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},kke={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},wke=function(r,l){var o=Number(r),d=o%100;if(d>20||d<10)switch(d%10){case 1:return o+"st";case 2:return o+"nd";case 3:return o+"rd"}return o+"th"},yke={ordinalNumber:wke,era:xc({values:mke,defaultWidth:"wide"}),quarter:xc({values:gke,defaultWidth:"wide",argumentCallback:function(r){return r-1}}),month:xc({values:_ke,defaultWidth:"wide"}),day:xc({values:bke,defaultWidth:"wide"}),dayPeriod:xc({values:vke,defaultWidth:"wide",formattingValues:kke,defaultFormattingWidth:"wide"})};const Cke=yke;function Sc(i){return function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=l.width,d=o&&i.matchPatterns[o]||i.matchPatterns[i.defaultMatchWidth],m=r.match(d);if(!m)return null;var u=m[0],h=o&&i.parsePatterns[o]||i.parsePatterns[i.defaultParseWidth],f=Array.isArray(h)?xke(h,function(k){return k.test(u)}):Ake(h,function(k){return k.test(u)}),g;g=i.valueCallback?i.valueCallback(f):f,g=l.valueCallback?l.valueCallback(g):g;var y=r.slice(u.length);return{value:g,rest:y}}}function Ake(i,r){for(var l in i)if(i.hasOwnProperty(l)&&r(i[l]))return l}function xke(i,r){for(var l=0;l<i.length;l++)if(r(i[l]))return l}function Ske(i){return function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=r.match(i.matchPattern);if(!o)return null;var d=o[0],m=r.match(i.parsePattern);if(!m)return null;var u=i.valueCallback?i.valueCallback(m[0]):m[0];u=l.valueCallback?l.valueCallback(u):u;var h=r.slice(d.length);return{value:u,rest:h}}}var Eke=/^(\d+)(th|st|nd|rd)?/i,Dke=/\d+/i,Tke={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ike={any:[/^b/i,/^(a|c)/i]},Mke={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Pke={any:[/1/i,/2/i,/3/i,/4/i]},Oke={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Bke={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Lke={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Rke={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Nke={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$ke={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},jke={ordinalNumber:Ske({matchPattern:Eke,parsePattern:Dke,valueCallback:function(r){return parseInt(r,10)}}),era:Sc({matchPatterns:Tke,defaultMatchWidth:"wide",parsePatterns:Ike,defaultParseWidth:"any"}),quarter:Sc({matchPatterns:Mke,defaultMatchWidth:"wide",parsePatterns:Pke,defaultParseWidth:"any",valueCallback:function(r){return r+1}}),month:Sc({matchPatterns:Oke,defaultMatchWidth:"wide",parsePatterns:Bke,defaultParseWidth:"any"}),day:Sc({matchPatterns:Lke,defaultMatchWidth:"wide",parsePatterns:Rke,defaultParseWidth:"any"}),dayPeriod:Sc({matchPatterns:Nke,defaultMatchWidth:"any",parsePatterns:$ke,defaultParseWidth:"any"})};const zke=jke;var Fke={code:"en-US",formatDistance:ske,formatLong:uke,formatRelative:pke,localize:Cke,match:zke,options:{weekStartsOn:0,firstWeekContainsDate:1}};const X6=Fke;var Vke=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Uke=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Hke=/^'([^]*?)'?$/,Wke=/''/g,Gke=/[a-zA-Z]/;function fa(i,r,l){var o,d,m,u,h,f,g,y,k,v,A,T,x,C,D,S,M,B;xt(2,arguments);var R=String(r),L=wr(),j=(o=(d=l==null?void 0:l.locale)!==null&&d!==void 0?d:L.locale)!==null&&o!==void 0?o:X6,N=Dt((m=(u=(h=(f=l==null?void 0:l.firstWeekContainsDate)!==null&&f!==void 0?f:l==null||(g=l.locale)===null||g===void 0||(y=g.options)===null||y===void 0?void 0:y.firstWeekContainsDate)!==null&&h!==void 0?h:L.firstWeekContainsDate)!==null&&u!==void 0?u:(k=L.locale)===null||k===void 0||(v=k.options)===null||v===void 0?void 0:v.firstWeekContainsDate)!==null&&m!==void 0?m:1);if(!(N>=1&&N<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var z=Dt((A=(T=(x=(C=l==null?void 0:l.weekStartsOn)!==null&&C!==void 0?C:l==null||(D=l.locale)===null||D===void 0||(S=D.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&x!==void 0?x:L.weekStartsOn)!==null&&T!==void 0?T:(M=L.locale)===null||M===void 0||(B=M.options)===null||B===void 0?void 0:B.weekStartsOn)!==null&&A!==void 0?A:0);if(!(z>=0&&z<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!j.localize)throw new RangeError("locale must contain localize property");if(!j.formatLong)throw new RangeError("locale must contain formatLong property");var Z=Lt(i);if(!Qc(Z))throw new RangeError("Invalid time value");var K=jh(Z),H=G6(Z,K),Y={firstWeekContainsDate:N,weekStartsOn:z,locale:j,_originalDate:Z},oe=R.match(Uke).map(function(me){var re=me[0];if(re==="p"||re==="P"){var W=p0[re];return W(me,j.formatLong)}return me}).join("").match(Vke).map(function(me){if(me==="''")return"'";var re=me[0];if(re==="'")return Kke(me);var W=Xve[re];if(W)return!(l!=null&&l.useAdditionalWeekYearTokens)&&J6(me)&&zh(me,r,String(i)),!(l!=null&&l.useAdditionalDayOfYearTokens)&&Q6(me)&&zh(me,r,String(i)),W(H,me,j.localize,Y);if(re.match(Gke))throw new RangeError("Format string contains an unescaped latin alphabet character `"+re+"`");return me}).join("");return oe}function Kke(i){var r=i.match(Hke);return r?r[1].replace(Wke,"'"):i}function Yke(i,r){if(i==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(i[l]=r[l]);return i}function qke(i){xt(1,arguments);var r=Lt(i),l=r.getDay();return l}function Zke(i){xt(1,arguments);var r=Lt(i),l=r.getFullYear(),o=r.getMonth(),d=new Date(0);return d.setFullYear(l,o+1,0),d.setHours(0,0,0,0),d.getDate()}function Or(i){xt(1,arguments);var r=Lt(i),l=r.getHours();return l}var Qke=6048e5;function Jke(i){xt(1,arguments);var r=Lt(i),l=$h(r).getTime()-zve(r).getTime();return Math.round(l/Qke)+1}function Br(i){xt(1,arguments);var r=Lt(i),l=r.getMinutes();return l}function In(i){xt(1,arguments);var r=Lt(i),l=r.getMonth();return l}function Ml(i){xt(1,arguments);var r=Lt(i),l=r.getSeconds();return l}function Xke(i,r){var l,o,d,m,u,h,f,g;xt(1,arguments);var y=Lt(i),k=y.getFullYear(),v=wr(),A=Dt((l=(o=(d=(m=r==null?void 0:r.firstWeekContainsDate)!==null&&m!==void 0?m:r==null||(u=r.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&d!==void 0?d:v.firstWeekContainsDate)!==null&&o!==void 0?o:(f=v.locale)===null||f===void 0||(g=f.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&l!==void 0?l:1);if(!(A>=1&&A<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var T=new Date(0);T.setFullYear(k+1,0,A),T.setHours(0,0,0,0);var x=va(T,r),C=new Date(0);C.setFullYear(k,0,A),C.setHours(0,0,0,0);var D=va(C,r);return y.getTime()>=x.getTime()?k+1:y.getTime()>=D.getTime()?k:k-1}function ewe(i,r){var l,o,d,m,u,h,f,g;xt(1,arguments);var y=wr(),k=Dt((l=(o=(d=(m=r==null?void 0:r.firstWeekContainsDate)!==null&&m!==void 0?m:r==null||(u=r.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&d!==void 0?d:y.firstWeekContainsDate)!==null&&o!==void 0?o:(f=y.locale)===null||f===void 0||(g=f.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&l!==void 0?l:1),v=Xke(i,r),A=new Date(0);A.setFullYear(v,0,k),A.setHours(0,0,0,0);var T=va(A,r);return T}var twe=6048e5;function nwe(i,r){xt(1,arguments);var l=Lt(i),o=va(l,r).getTime()-ewe(l,r).getTime();return Math.round(o/twe)+1}function Ln(i){return xt(1,arguments),Lt(i).getFullYear()}function ud(i,r){xt(2,arguments);var l=Lt(i),o=Lt(r);return l.getTime()>o.getTime()}function hd(i,r){xt(2,arguments);var l=Lt(i),o=Lt(r);return l.getTime()<o.getTime()}function aa(i,r){xt(2,arguments);var l=Lt(i),o=Lt(r);return l.getTime()===o.getTime()}function D5(i,r){(r==null||r>i.length)&&(r=i.length);for(var l=0,o=new Array(r);l<r;l++)o[l]=i[l];return o}function iwe(i,r){if(i){if(typeof i=="string")return D5(i,r);var l=Object.prototype.toString.call(i).slice(8,-1);if(l==="Object"&&i.constructor&&(l=i.constructor.name),l==="Map"||l==="Set")return Array.from(i);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return D5(i,r)}}function T5(i,r){var l=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!l){if(Array.isArray(i)||(l=iwe(i))||r&&i&&typeof i.length=="number"){l&&(i=l);var o=0,d=function(){};return{s:d,n:function(){return o>=i.length?{done:!0}:{done:!1,value:i[o++]}},e:function(g){throw g},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m=!0,u=!1,h;return{s:function(){l=l.call(i)},n:function(){var g=l.next();return m=g.done,g},e:function(g){u=!0,h=g},f:function(){try{!m&&l.return!=null&&l.return()}finally{if(u)throw h}}}}function _t(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function m0(i,r){return m0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,d){return o.__proto__=d,o},m0(i,r)}function cn(i,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(r&&r.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),r&&m0(i,r)}function Fh(i){return Fh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(l){return l.__proto__||Object.getPrototypeOf(l)},Fh(i)}function owe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rwe(i,r){if(r&&(Mo(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _t(i)}function dn(i){var r=owe();return function(){var o=Fh(i),d;if(r){var m=Fh(this).constructor;d=Reflect.construct(o,arguments,m)}else d=o.apply(this,arguments);return rwe(this,d)}}function en(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")}function swe(i,r){if(Mo(i)!=="object"||i===null)return i;var l=i[Symbol.toPrimitive];if(l!==void 0){var o=l.call(i,r||"default");if(Mo(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(i)}function e8(i){var r=swe(i,"string");return Mo(r)==="symbol"?r:String(r)}function I5(i,r){for(var l=0;l<r.length;l++){var o=r[l];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,e8(o.key),o)}}function tn(i,r,l){return r&&I5(i.prototype,r),l&&I5(i,l),Object.defineProperty(i,"prototype",{writable:!1}),i}function ft(i,r,l){return r=e8(r),r in i?Object.defineProperty(i,r,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[r]=l,i}var awe=10,t8=function(){function i(){en(this,i),ft(this,"priority",void 0),ft(this,"subPriority",0)}return tn(i,[{key:"validate",value:function(l,o){return!0}}]),i}(),lwe=function(i){cn(l,i);var r=dn(l);function l(o,d,m,u,h){var f;return en(this,l),f=r.call(this),f.value=o,f.validateValue=d,f.setValue=m,f.priority=u,h&&(f.subPriority=h),f}return tn(l,[{key:"validate",value:function(d,m){return this.validateValue(d,this.value,m)}},{key:"set",value:function(d,m,u){return this.setValue(d,m,this.value,u)}}]),l}(t8),cwe=function(i){cn(l,i);var r=dn(l);function l(){var o;en(this,l);for(var d=arguments.length,m=new Array(d),u=0;u<d;u++)m[u]=arguments[u];return o=r.call.apply(r,[this].concat(m)),ft(_t(o),"priority",awe),ft(_t(o),"subPriority",-1),o}return tn(l,[{key:"set",value:function(d,m){if(m.timestampIsSet)return d;var u=new Date(0);return u.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),u.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),u}}]),l}(t8),fn=function(){function i(){en(this,i),ft(this,"incompatibleTokens",void 0),ft(this,"priority",void 0),ft(this,"subPriority",void 0)}return tn(i,[{key:"run",value:function(l,o,d,m){var u=this.parse(l,o,d,m);return u?{setter:new lwe(u.value,this.validate,this.set,this.priority,this.subPriority),rest:u.rest}:null}},{key:"validate",value:function(l,o,d){return!0}}]),i}(),dwe=function(i){cn(l,i);var r=dn(l);function l(){var o;en(this,l);for(var d=arguments.length,m=new Array(d),u=0;u<d;u++)m[u]=arguments[u];return o=r.call.apply(r,[this].concat(m)),ft(_t(o),"priority",140),ft(_t(o),"incompatibleTokens",["R","u","t","T"]),o}return tn(l,[{key:"parse",value:function(d,m,u){switch(m){case"G":case"GG":case"GGG":return u.era(d,{width:"abbreviated"})||u.era(d,{width:"narrow"});case"GGGGG":return u.era(d,{width:"narrow"});case"GGGG":default:return u.era(d,{width:"wide"})||u.era(d,{width:"abbreviated"})||u.era(d,{width:"narrow"})}}},{key:"set",value:function(d,m,u){return m.era=u,d.setUTCFullYear(u,0,1),d.setUTCHours(0,0,0,0),d}}]),l}(fn),ni={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},cr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ii(i,r){return i&&{value:r(i.value),rest:i.rest}}function Un(i,r){var l=r.match(i);return l?{value:parseInt(l[0],10),rest:r.slice(l[0].length)}:null}function dr(i,r){var l=r.match(i);if(!l)return null;if(l[0]==="Z")return{value:0,rest:r.slice(1)};var o=l[1]==="+"?1:-1,d=l[2]?parseInt(l[2],10):0,m=l[3]?parseInt(l[3],10):0,u=l[5]?parseInt(l[5],10):0;return{value:o*(d*x1+m*A1+u*Uve),rest:r.slice(l[0].length)}}function n8(i){return Un(ni.anyDigitsSigned,i)}function Jn(i,r){switch(i){case 1:return Un(ni.singleDigit,r);case 2:return Un(ni.twoDigits,r);case 3:return Un(ni.threeDigits,r);case 4:return Un(ni.fourDigits,r);default:return Un(new RegExp("^\\d{1,"+i+"}"),r)}}function Vh(i,r){switch(i){case 1:return Un(ni.singleDigitSigned,r);case 2:return Un(ni.twoDigitsSigned,r);case 3:return Un(ni.threeDigitsSigned,r);case 4:return Un(ni.fourDigitsSigned,r);default:return Un(new RegExp("^-?\\d{1,"+i+"}"),r)}}function E1(i){switch(i){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function i8(i,r){var l=r>0,o=l?r:1-r,d;if(o<=50)d=i||100;else{var m=o+50,u=Math.floor(m/100)*100,h=i>=m%100;d=i+u-(h?100:0)}return l?d:1-d}function o8(i){return i%400===0||i%4===0&&i%100!==0}var uwe=function(i){cn(l,i);var r=dn(l);function l(){var o;en(this,l);for(var d=arguments.length,m=new Array(d),u=0;u<d;u++)m[u]=arguments[u];return o=r.call.apply(r,[this].concat(m)),ft(_t(o),"priority",130),ft(_t(o),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),o}return tn(l,[{key:"parse",value:function(d,m,u){var h=function(g){return{year:g,isTwoDigitYear:m==="yy"}};switch(m){case"y":return ii(Jn(4,d),h);case"yo":return ii(u.ordinalNumber(d,{unit:"year"}),h);default:return ii(Jn(m.length,d),h)}}},{key:"validate",value:function(d,m){return m.isTwoDigitYear||m.year>0}},{key:"set",value:function(d,m,u){var h=d.getUTCFullYear();if(u.isTwoDigitYear){var f=i8(u.year,h);return d.setUTCFullYear(f,0,1),d.setUTCHours(0,0,0,0),d}var g=!("era"in m)||m.era===1?u.year:1-u.year;return d.setUTCFullYear(g,0,1),d.setUTCHours(0,0,0,0),d}}]),l}(fn),hwe=function(i){cn(l,i);var r=dn(l);function l(){var o;en(this,l);for(var d=arguments.length,m=new Array(d),u=0;u<d;u++)m[u]=arguments[u];return o=r.call.apply(r,[this].concat(m)),ft(_t(o),"priority",130),ft(_t(o),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),o}return tn(l,[{key:"parse",value:function(d,m,u){var h=function(g){return{year:g,isTwoDigitYear:m==="YY"}};switch(m){case"Y":return ii(Jn(4,d),h);case"Yo":return ii(u.ordinalNumber(d,{unit:"year"}),h);default:return ii(Jn(m.length,d),h)}}},{key:"validate",value:function(d,m){return m.isTwoDigitYear||m.year>0}},{key:"set",value:function(d,m,u,h){var f=S1(d,h);if(u.isTwoDigitYear){var g=i8(u.year,f);return d.setUTCFullYear(g,0,h.firstWeekContainsDate),d.setUTCHours(0,0,0,0),ka(d,h)}var y=!("era"in m)||m.era===1?u.year:1-u.year;return d.setUTCFullYear(y,0,h.firstWeekContainsDate),d.setUTCHours(0,0,0,0),ka(d,h)}}]),l}(fn),fwe=function(i){cn(l,i);var r=dn(l);function l(){var o;en(this,l);for(var d=arguments.length,m=new Array(d),u=0;u<d;u++)m[u]=arguments[u];return o=r.call.apply(r,[this].concat(m)),ft(_t(o),"priority",130),ft(_t(o),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),o}return tn(l,[{key:"parse",value:function(d,m){return Vh(m==="R"?4:m.length,d)}},{key:"set",value:function(d,m,u){var h=new Date(0);return h.setUTCFullYear(u,0,4),h.setUTCHours(0,0,0,0),Il(h)}}]),l}(fn),pwe=function(i){cn(l,i);var r=dn(l);function l(){var o;en(this,l);for(var d=arguments.length,m=new Array(d),u=0;u<d;u++)m[u]=arguments[u];return o=r.call.apply(r,[this].concat(m)),ft(_t(o),"priority",130),ft(_t(o),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),o}return tn(l,[{key:"parse",value:function(d,m){return Vh(m==="u"?4:m.length,d)}},{key:"set",value:function(d,m,u){return d.setUTCFullYear(u,0,1),d.setUTCHours(0,0,0,0),d}}]),l}(fn),mwe=function(i){cn(l,i);var r=dn(l);function l(){var o;en(this,l);for(var d=arguments.length,m=new Array(d),u=0;u<d;u++)m[u]=arguments[u];return o=r.call.apply(r,[this].concat(m)),ft(_t(o),"priority",120),ft(_t(o),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),o}return tn(l,[{key:"parse",value:function(d,m,u){switch(m){case"Q":case"QQ":return Jn(m.length,d);case"Qo":return u.ordinalNumber(d,{unit:"quarter"});case"QQQ":return u.quarter(d,{width:"abbreviated",context:"formatting"})||u.quarter(d,{width:"narrow",context:"formatting"});case"QQQQQ":return u.quarter(d,{width:"narrow",context:"formatting"});case"QQQQ":default:return u.quarter(d,{width:"wide",context:"formatting"})||u.quarter(d,{width:"abbreviated",context:"formatting"})||u.quarter(d,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(d,m){return m>=1&&m<=4}},{key:"set",value:function(d,m,u){return d.setUTCMonth((u-1)*3,1),d.setUTCHours(0,0,0,0),d}}]),l}(fn),gwe=function(i){cn(l,i);var r=dn(l);function l(){var o;en(this,l);for(var d=arguments.length,m=new Array(d),u=0;u<d;u++)m[u]=arguments[u];return o=r.call.apply(r,[this].concat(m)),ft(_t(o),"priority",120),ft(_t(o),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),o}return tn(l,[{key:"parse",value:function(d,m,u){switch(m){case"q":case"qq":return Jn(m.length,d);case"qo":return u.ordinalNumber(d,{unit:"quarter"});case"qqq":return u.quarter(d,{width:"abbreviated",context:"standalone"})||u.quarter(d,{width:"narrow",context:"standalone"});case"qqqqq":return u.quarter(d,{width:"narrow",context:"standalone"});case"qqqq":default:return u.quarter(d,{width:"wide",context:"standalone"})||u.quarter(d,{width:"abbreviated",context:"standalone"})||u.quarter(d,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(d,m){return m>=1&&m<=4}},{key:"set",value:function(d,m,u){return d.setUTCMonth((u-1)*3,1),d.setUTCHours(0,0,0,0),d}}]),l}(fn),_we=function(i){cn(l,i);var r=dn(l);function l(){var o;en(this,l);for(var d=arguments.length,m=new Array(d),u=0;u<d;u++)m[u]=arguments[u];return o=r.call.apply(r,[this].concat(m)),ft(_t(o),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),ft(_t(o),"priority",110),o}return tn(l,[{key:"parse",value:function(d,m,u){var h=function(g){return g-1};switch(m){case"M":return ii(Un(ni.month,d),h);case"MM":return ii(Jn(2,d),h);case"Mo":return ii(u.ordinalNumber(d,{unit:"month"}),h);case"MMM":return u.month(d,{width:"abbreviated",context:"formatting"})||u.month(d,{width:"narrow",context:"formatting"});case"MMMMM":return u.month(d,{width:"narrow",context:"formatting"});case"MMMM":default:return u.month(d,{width:"wide",context:"formatting"})||u.month(d,{width:"abbreviated",context:"formatting"})||u.month(d,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(d,m){return m>=0&&m<=11}},{key:"set",value:function(d,m,u){return d.setUTCMonth(u,1),d.setUTCHours(0,0,0,0),d}}]),l}(fn),bwe=function(i){cn(l,i);var r=dn(l);function l(){var o;en(this,l);for(var d=arguments.length,m=new Array(d),u=0;u<d;u++)m[u]=arguments[u];return o=r.call.apply(r,[this].concat(m)),ft(_t(o),"priority",110),ft(_t(o),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),o}return tn(l,[{key:"parse",value:function(d,m,u){var h=function(g){return g-1};switch(m){case"L":return ii(Un(ni.month,d),h);case"LL":return ii(Jn(2,d),h);case"Lo":return ii(u.ordinalNumber(d,{unit:"month"}),h);case"LLL":return u.month(d,{width:"abbreviated",context:"standalone"})||u.month(d,{width:"narrow",context:"standalone"});case"LLLLL":return u.month(d,{width:"narrow",context:"standalone"});case"LLLL":default:return u.month(d,{width:"wide",context:"standalone"})||u.month(d,{width:"abbreviated",context:"standalone"})||u.month(d,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(d,m){return m>=0&&m<=11}},{key:"set",value:function(d,m,u){return d.setUTCMonth(u,1),d.setUTCHours(0,0,0,0),d}}]),l}(fn);function vwe(i,r,l){xt(2,arguments);var o=Lt(i),d=Dt(r),m=q6(o,l)-d;return o.setUTCDate(o.getUTCDate()-m*7),o}var kwe=function(i){cn(l,i);var r=dn(l);function l(){var o;en(this,l);for(var d=arguments.length,m=new Array(d),u=0;u<d;u++)m[u]=arguments[u];return o=r.call.apply(r,[this].concat(m)),ft(_t(o),"priority",100),ft(_t(o),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),o}return tn(l,[{key:"parse",value:function(d,m,u){switch(m){case"w":return Un(ni.week,d);case"wo":return u.ordinalNumber(d,{unit:"week"});default:return Jn(m.length,d)}}},{key:"validate",value:function(d,m){return m>=1&&m<=53}},{key:"set",value:function(d,m,u,h){return ka(vwe(d,u,h),h)}}]),l}(fn);function wwe(i,r){xt(2,arguments);var l=Lt(i),o=Dt(r),d=Y6(l)-o;return l.setUTCDate(l.getUTCDate()-d*7),l}var ywe=function(i){cn(l,i);var r=dn(l);function l(){var o;en(this,l);for(var d=arguments.length,m=new Array(d),u=0;u<d;u++)m[u]=arguments[u];return o=r.call.apply(r,[this].concat(m)),ft(_t(o),"priority",100),ft(_t(o),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),o}return tn(l,[{key:"parse",value:function(d,m,u){switch(m){case"I":return Un(ni.week,d);case"Io":return u.ordinalNumber(d,{unit:"week"});default:return Jn(m.length,d)}}},{key:"validate",value:function(d,m){return m>=1&&m<=53}},{key:"set",value:function(d,m,u){return Il(wwe(d,u))}}]),l}(fn),Cwe=[31,28,31,30,31,30,31,31,30,31,30,31],Awe=[31,29,31,30,31,30,31,31,30,31,30,31],xwe=function(i){cn(l,i);var r=dn(l);function l(){var o;en(this,l);for(var d=arguments.length,m=new Array(d),u=0;u<d;u++)m[u]=arguments[u];return o=r.call.apply(r,[this].concat(m)),ft(_t(o),"priority",90),ft(_t(o),"subPriority",1),ft(_t(o),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),o}return tn(l,[{key:"parse",value:function(d,m,u){switch(m){case"d":return Un(ni.date,d);case"do":return u.ordinalNumber(d,{unit:"date"});default:return Jn(m.length,d)}}},{key:"validate",value:function(d,m){var u=d.getUTCFullYear(),h=o8(u),f=d.getUTCMonth();return h?m>=1&&m<=Awe[f]:m>=1&&m<=Cwe[f]}},{key:"set",value:function(d,m,u){return d.setUTCDate(u),d.setUTCHours(0,0,0,0),d}}]),l}(fn),Swe=function(i){cn(l,i);var r=dn(l);function l(){var o;en(this,l);for(var d=arguments.length,m=new Array(d),u=0;u<d;u++)m[u]=arguments[u];return o=r.call.apply(r,[this].concat(m)),ft(_t(o),"priority",90),ft(_t(o),"subpriority",1),ft(_t(o),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),o}return tn(l,[{key:"parse",value:function(d,m,u){switch(m){case"D":case"DD":return Un(ni.dayOfYear,d);case"Do":return u.ordinalNumber(d,{unit:"date"});default:return Jn(m.length,d)}}},{key:"validate",value:function(d,m){var u=d.getUTCFullYear(),h=o8(u);return h?m>=1&&m<=366:m>=1&&m<=365}},{key:"set",value:function(d,m,u){return d.setUTCMonth(0,u),d.setUTCHours(0,0,0,0),d}}]),l}(fn);function D1(i,r,l){var o,d,m,u,h,f,g,y;xt(2,arguments);var k=wr(),v=Dt((o=(d=(m=(u=l==null?void 0:l.weekStartsOn)!==null&&u!==void 0?u:l==null||(h=l.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.weekStartsOn)!==null&&m!==void 0?m:k.weekStartsOn)!==null&&d!==void 0?d:(g=k.locale)===null||g===void 0||(y=g.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&o!==void 0?o:0);if(!(v>=0&&v<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var A=Lt(i),T=Dt(r),x=A.getUTCDay(),C=T%7,D=(C+7)%7,S=(D<v?7:0)+T-x;return A.setUTCDate(A.getUTCDate()+S),A}var Ewe=function(i){cn(l,i);var r=dn(l);function l(){var o;en(this,l);for(var d=arguments.length,m=new Array(d),u=0;u<d;u++)m[u]=arguments[u];return o=r.call.apply(r,[this].concat(m)),ft(_t(o),"priority",90),ft(_t(o),"incompatibleTokens",["D","i","e","c","t","T"]),o}return tn(l,[{key:"parse",value:function(d,m,u){switch(m){case"E":case"EE":case"EEE":return u.day(d,{width:"abbreviated",context:"formatting"})||u.day(d,{width:"short",context:"formatting"})||u.day(d,{width:"narrow",context:"formatting"});case"EEEEE":return u.day(d,{width:"narrow",context:"formatting"});case"EEEEEE":return u.day(d,{width:"short",context:"formatting"})||u.day(d,{width:"narrow",context:"formatting"});case"EEEE":default:return u.day(d,{width:"wide",context:"formatting"})||u.day(d,{width:"abbreviated",context:"formatting"})||u.day(d,{width:"short",context:"formatting"})||u.day(d,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(d,m){return m>=0&&m<=6}},{key:"set",value:function(d,m,u,h){return d=D1(d,u,h),d.setUTCHours(0,0,0,0),d}}]),l}(fn),Dwe=function(i){cn(l,i);var r=dn(l);function l(){var o;en(this,l);for(var d=arguments.length,m=new Array(d),u=0;u<d;u++)m[u]=arguments[u];return o=r.call.apply(r,[this].concat(m)),ft(_t(o),"priority",90),ft(_t(o),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),o}return tn(l,[{key:"parse",value:function(d,m,u,h){var f=function(y){var k=Math.floor((y-1)/7)*7;return(y+h.weekStartsOn+6)%7+k};switch(m){case"e":case"ee":return ii(Jn(m.length,d),f);case"eo":return ii(u.ordinalNumber(d,{unit:"day"}),f);case"eee":return u.day(d,{width:"abbreviated",context:"formatting"})||u.day(d,{width:"short",context:"formatting"})||u.day(d,{width:"narrow",context:"formatting"});case"eeeee":return u.day(d,{width:"narrow",context:"formatting"});case"eeeeee":return u.day(d,{width:"short",context:"formatting"})||u.day(d,{width:"narrow",context:"formatting"});case"eeee":default:return u.day(d,{width:"wide",context:"formatting"})||u.day(d,{width:"abbreviated",context:"formatting"})||u.day(d,{width:"short",context:"formatting"})||u.day(d,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(d,m){return m>=0&&m<=6}},{key:"set",value:function(d,m,u,h){return d=D1(d,u,h),d.setUTCHours(0,0,0,0),d}}]),l}(fn),Twe=function(i){cn(l,i);var r=dn(l);function l(){var o;en(this,l);for(var d=arguments.length,m=new Array(d),u=0;u<d;u++)m[u]=arguments[u];return o=r.call.apply(r,[this].concat(m)),ft(_t(o),"priority",90),ft(_t(o),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),o}return tn(l,[{key:"parse",value:function(d,m,u,h){var f=function(y){var k=Math.floor((y-1)/7)*7;return(y+h.weekStartsOn+6)%7+k};switch(m){case"c":case"cc":return ii(Jn(m.length,d),f);case"co":return ii(u.ordinalNumber(d,{unit:"day"}),f);case"ccc":return u.day(d,{width:"abbreviated",context:"standalone"})||u.day(d,{width:"short",context:"standalone"})||u.day(d,{width:"narrow",context:"standalone"});case"ccccc":return u.day(d,{width:"narrow",context:"standalone"});case"cccccc":return u.day(d,{width:"short",context:"standalone"})||u.day(d,{width:"narrow",context:"standalone"});case"cccc":default:return u.day(d,{width:"wide",context:"standalone"})||u.day(d,{width:"abbreviated",context:"standalone"})||u.day(d,{width:"short",context:"standalone"})||u.day(d,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(d,m){return m>=0&&m<=6}},{key:"set",value:function(d,m,u,h){return d=D1(d,u,h),d.setUTCHours(0,0,0,0),d}}]),l}(fn);function Iwe(i,r){xt(2,arguments);var l=Dt(r);l%7===0&&(l=l-7);var o=1,d=Lt(i),m=d.getUTCDay(),u=l%7,h=(u+7)%7,f=(h<o?7:0)+l-m;return d.setUTCDate(d.getUTCDate()+f),d}var Mwe=function(i){cn(l,i);var r=dn(l);function l(){var o;en(this,l);for(var d=arguments.length,m=new Array(d),u=0;u<d;u++)m[u]=arguments[u];return o=r.call.apply(r,[this].concat(m)),ft(_t(o),"priority",90),ft(_t(o),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),o}return tn(l,[{key:"parse",value:function(d,m,u){var h=function(g){return g===0?7:g};switch(m){case"i":case"ii":return Jn(m.length,d);case"io":return u.ordinalNumber(d,{unit:"day"});case"iii":return ii(u.day(d,{width:"abbreviated",context:"formatting"})||u.day(d,{width:"short",context:"formatting"})||u.day(d,{width:"narrow",context:"formatting"}),h);case"iiiii":return ii(u.day(d,{width:"narrow",context:"formatting"}),h);case"iiiiii":return ii(u.day(d,{width:"short",context:"formatting"})||u.day(d,{width:"narrow",context:"formatting"}),h);case"iiii":default:return ii(u.day(d,{width:"wide",context:"formatting"})||u.day(d,{width:"abbreviated",context:"formatting"})||u.day(d,{width:"short",context:"formatting"})||u.day(d,{width:"narrow",context:"formatting"}),h)}}},{key:"validate",value:function(d,m){return m>=1&&m<=7}},{key:"set",value:function(d,m,u){return d=Iwe(d,u),d.setUTCHours(0,0,0,0),d}}]),l}(fn),Pwe=function(i){cn(l,i);var r=dn(l);function l(){var o;en(this,l);for(var d=arguments.length,m=new Array(d),u=0;u<d;u++)m[u]=arguments[u];return o=r.call.apply(r,[this].concat(m)),ft(_t(o),"priority",80),ft(_t(o),"incompatibleTokens",["b","B","H","k","t","T"]),o}return tn(l,[{key:"parse",value:function(d,m,u){switch(m){case"a":case"aa":case"aaa":return u.dayPeriod(d,{width:"abbreviated",context:"formatting"})||u.dayPeriod(d,{width:"narrow",context:"formatting"});case"aaaaa":return u.dayPeriod(d,{width:"narrow",context:"formatting"});case"aaaa":default:return u.dayPeriod(d,{width:"wide",context:"formatting"})||u.dayPeriod(d,{width:"abbreviated",context:"formatting"})||u.dayPeriod(d,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(d,m,u){return d.setUTCHours(E1(u),0,0,0),d}}]),l}(fn),Owe=function(i){cn(l,i);var r=dn(l);function l(){var o;en(this,l);for(var d=arguments.length,m=new Array(d),u=0;u<d;u++)m[u]=arguments[u];return o=r.call.apply(r,[this].concat(m)),ft(_t(o),"priority",80),ft(_t(o),"incompatibleTokens",["a","B","H","k","t","T"]),o}return tn(l,[{key:"parse",value:function(d,m,u){switch(m){case"b":case"bb":case"bbb":return u.dayPeriod(d,{width:"abbreviated",context:"formatting"})||u.dayPeriod(d,{width:"narrow",context:"formatting"});case"bbbbb":return u.dayPeriod(d,{width:"narrow",context:"formatting"});case"bbbb":default:return u.dayPeriod(d,{width:"wide",context:"formatting"})||u.dayPeriod(d,{width:"abbreviated",context:"formatting"})||u.dayPeriod(d,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(d,m,u){return d.setUTCHours(E1(u),0,0,0),d}}]),l}(fn),Bwe=function(i){cn(l,i);var r=dn(l);function l(){var o;en(this,l);for(var d=arguments.length,m=new Array(d),u=0;u<d;u++)m[u]=arguments[u];return o=r.call.apply(r,[this].concat(m)),ft(_t(o),"priority",80),ft(_t(o),"incompatibleTokens",["a","b","t","T"]),o}return tn(l,[{key:"parse",value:function(d,m,u){switch(m){case"B":case"BB":case"BBB":return u.dayPeriod(d,{width:"abbreviated",context:"formatting"})||u.dayPeriod(d,{width:"narrow",context:"formatting"});case"BBBBB":return u.dayPeriod(d,{width:"narrow",context:"formatting"});case"BBBB":default:return u.dayPeriod(d,{width:"wide",context:"formatting"})||u.dayPeriod(d,{width:"abbreviated",context:"formatting"})||u.dayPeriod(d,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(d,m,u){return d.setUTCHours(E1(u),0,0,0),d}}]),l}(fn),Lwe=function(i){cn(l,i);var r=dn(l);function l(){var o;en(this,l);for(var d=arguments.length,m=new Array(d),u=0;u<d;u++)m[u]=arguments[u];return o=r.call.apply(r,[this].concat(m)),ft(_t(o),"priority",70),ft(_t(o),"incompatibleTokens",["H","K","k","t","T"]),o}return tn(l,[{key:"parse",value:function(d,m,u){switch(m){case"h":return Un(ni.hour12h,d);case"ho":return u.ordinalNumber(d,{unit:"hour"});default:return Jn(m.length,d)}}},{key:"validate",value:function(d,m){return m>=1&&m<=12}},{key:"set",value:function(d,m,u){var h=d.getUTCHours()>=12;return h&&u<12?d.setUTCHours(u+12,0,0,0):!h&&u===12?d.setUTCHours(0,0,0,0):d.setUTCHours(u,0,0,0),d}}]),l}(fn),Rwe=function(i){cn(l,i);var r=dn(l);function l(){var o;en(this,l);for(var d=arguments.length,m=new Array(d),u=0;u<d;u++)m[u]=arguments[u];return o=r.call.apply(r,[this].concat(m)),ft(_t(o),"priority",70),ft(_t(o),"incompatibleTokens",["a","b","h","K","k","t","T"]),o}return tn(l,[{key:"parse",value:function(d,m,u){switch(m){case"H":return Un(ni.hour23h,d);case"Ho":return u.ordinalNumber(d,{unit:"hour"});default:return Jn(m.length,d)}}},{key:"validate",value:function(d,m){return m>=0&&m<=23}},{key:"set",value:function(d,m,u){return d.setUTCHours(u,0,0,0),d}}]),l}(fn),Nwe=function(i){cn(l,i);var r=dn(l);function l(){var o;en(this,l);for(var d=arguments.length,m=new Array(d),u=0;u<d;u++)m[u]=arguments[u];return o=r.call.apply(r,[this].concat(m)),ft(_t(o),"priority",70),ft(_t(o),"incompatibleTokens",["h","H","k","t","T"]),o}return tn(l,[{key:"parse",value:function(d,m,u){switch(m){case"K":return Un(ni.hour11h,d);case"Ko":return u.ordinalNumber(d,{unit:"hour"});default:return Jn(m.length,d)}}},{key:"validate",value:function(d,m){return m>=0&&m<=11}},{key:"set",value:function(d,m,u){var h=d.getUTCHours()>=12;return h&&u<12?d.setUTCHours(u+12,0,0,0):d.setUTCHours(u,0,0,0),d}}]),l}(fn),$we=function(i){cn(l,i);var r=dn(l);function l(){var o;en(this,l);for(var d=arguments.length,m=new Array(d),u=0;u<d;u++)m[u]=arguments[u];return o=r.call.apply(r,[this].concat(m)),ft(_t(o),"priority",70),ft(_t(o),"incompatibleTokens",["a","b","h","H","K","t","T"]),o}return tn(l,[{key:"parse",value:function(d,m,u){switch(m){case"k":return Un(ni.hour24h,d);case"ko":return u.ordinalNumber(d,{unit:"hour"});default:return Jn(m.length,d)}}},{key:"validate",value:function(d,m){return m>=1&&m<=24}},{key:"set",value:function(d,m,u){var h=u<=24?u%24:u;return d.setUTCHours(h,0,0,0),d}}]),l}(fn),jwe=function(i){cn(l,i);var r=dn(l);function l(){var o;en(this,l);for(var d=arguments.length,m=new Array(d),u=0;u<d;u++)m[u]=arguments[u];return o=r.call.apply(r,[this].concat(m)),ft(_t(o),"priority",60),ft(_t(o),"incompatibleTokens",["t","T"]),o}return tn(l,[{key:"parse",value:function(d,m,u){switch(m){case"m":return Un(ni.minute,d);case"mo":return u.ordinalNumber(d,{unit:"minute"});default:return Jn(m.length,d)}}},{key:"validate",value:function(d,m){return m>=0&&m<=59}},{key:"set",value:function(d,m,u){return d.setUTCMinutes(u,0,0),d}}]),l}(fn),zwe=function(i){cn(l,i);var r=dn(l);function l(){var o;en(this,l);for(var d=arguments.length,m=new Array(d),u=0;u<d;u++)m[u]=arguments[u];return o=r.call.apply(r,[this].concat(m)),ft(_t(o),"priority",50),ft(_t(o),"incompatibleTokens",["t","T"]),o}return tn(l,[{key:"parse",value:function(d,m,u){switch(m){case"s":return Un(ni.second,d);case"so":return u.ordinalNumber(d,{unit:"second"});default:return Jn(m.length,d)}}},{key:"validate",value:function(d,m){return m>=0&&m<=59}},{key:"set",value:function(d,m,u){return d.setUTCSeconds(u,0),d}}]),l}(fn),Fwe=function(i){cn(l,i);var r=dn(l);function l(){var o;en(this,l);for(var d=arguments.length,m=new Array(d),u=0;u<d;u++)m[u]=arguments[u];return o=r.call.apply(r,[this].concat(m)),ft(_t(o),"priority",30),ft(_t(o),"incompatibleTokens",["t","T"]),o}return tn(l,[{key:"parse",value:function(d,m){var u=function(f){return Math.floor(f*Math.pow(10,-m.length+3))};return ii(Jn(m.length,d),u)}},{key:"set",value:function(d,m,u){return d.setUTCMilliseconds(u),d}}]),l}(fn),Vwe=function(i){cn(l,i);var r=dn(l);function l(){var o;en(this,l);for(var d=arguments.length,m=new Array(d),u=0;u<d;u++)m[u]=arguments[u];return o=r.call.apply(r,[this].concat(m)),ft(_t(o),"priority",10),ft(_t(o),"incompatibleTokens",["t","T","x"]),o}return tn(l,[{key:"parse",value:function(d,m){switch(m){case"X":return dr(cr.basicOptionalMinutes,d);case"XX":return dr(cr.basic,d);case"XXXX":return dr(cr.basicOptionalSeconds,d);case"XXXXX":return dr(cr.extendedOptionalSeconds,d);case"XXX":default:return dr(cr.extended,d)}}},{key:"set",value:function(d,m,u){return m.timestampIsSet?d:new Date(d.getTime()-u)}}]),l}(fn),Uwe=function(i){cn(l,i);var r=dn(l);function l(){var o;en(this,l);for(var d=arguments.length,m=new Array(d),u=0;u<d;u++)m[u]=arguments[u];return o=r.call.apply(r,[this].concat(m)),ft(_t(o),"priority",10),ft(_t(o),"incompatibleTokens",["t","T","X"]),o}return tn(l,[{key:"parse",value:function(d,m){switch(m){case"x":return dr(cr.basicOptionalMinutes,d);case"xx":return dr(cr.basic,d);case"xxxx":return dr(cr.basicOptionalSeconds,d);case"xxxxx":return dr(cr.extendedOptionalSeconds,d);case"xxx":default:return dr(cr.extended,d)}}},{key:"set",value:function(d,m,u){return m.timestampIsSet?d:new Date(d.getTime()-u)}}]),l}(fn),Hwe=function(i){cn(l,i);var r=dn(l);function l(){var o;en(this,l);for(var d=arguments.length,m=new Array(d),u=0;u<d;u++)m[u]=arguments[u];return o=r.call.apply(r,[this].concat(m)),ft(_t(o),"priority",40),ft(_t(o),"incompatibleTokens","*"),o}return tn(l,[{key:"parse",value:function(d){return n8(d)}},{key:"set",value:function(d,m,u){return[new Date(u*1e3),{timestampIsSet:!0}]}}]),l}(fn),Wwe=function(i){cn(l,i);var r=dn(l);function l(){var o;en(this,l);for(var d=arguments.length,m=new Array(d),u=0;u<d;u++)m[u]=arguments[u];return o=r.call.apply(r,[this].concat(m)),ft(_t(o),"priority",20),ft(_t(o),"incompatibleTokens","*"),o}return tn(l,[{key:"parse",value:function(d){return n8(d)}},{key:"set",value:function(d,m,u){return[new Date(u),{timestampIsSet:!0}]}}]),l}(fn),Gwe={G:new dwe,y:new uwe,Y:new hwe,R:new fwe,u:new pwe,Q:new mwe,q:new gwe,M:new _we,L:new bwe,w:new kwe,I:new ywe,d:new xwe,D:new Swe,E:new Ewe,e:new Dwe,c:new Twe,i:new Mwe,a:new Pwe,b:new Owe,B:new Bwe,h:new Lwe,H:new Rwe,K:new Nwe,k:new $we,m:new jwe,s:new zwe,S:new Fwe,X:new Vwe,x:new Uwe,t:new Hwe,T:new Wwe},Kwe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ywe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qwe=/^'([^]*?)'?$/,Zwe=/''/g,Qwe=/\S/,Jwe=/[a-zA-Z]/;function g0(i,r,l,o){var d,m,u,h,f,g,y,k,v,A,T,x,C,D,S,M,B,R;xt(3,arguments);var L=String(i),j=String(r),N=wr(),z=(d=(m=o==null?void 0:o.locale)!==null&&m!==void 0?m:N.locale)!==null&&d!==void 0?d:X6;if(!z.match)throw new RangeError("locale must contain match property");var Z=Dt((u=(h=(f=(g=o==null?void 0:o.firstWeekContainsDate)!==null&&g!==void 0?g:o==null||(y=o.locale)===null||y===void 0||(k=y.options)===null||k===void 0?void 0:k.firstWeekContainsDate)!==null&&f!==void 0?f:N.firstWeekContainsDate)!==null&&h!==void 0?h:(v=N.locale)===null||v===void 0||(A=v.options)===null||A===void 0?void 0:A.firstWeekContainsDate)!==null&&u!==void 0?u:1);if(!(Z>=1&&Z<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var K=Dt((T=(x=(C=(D=o==null?void 0:o.weekStartsOn)!==null&&D!==void 0?D:o==null||(S=o.locale)===null||S===void 0||(M=S.options)===null||M===void 0?void 0:M.weekStartsOn)!==null&&C!==void 0?C:N.weekStartsOn)!==null&&x!==void 0?x:(B=N.locale)===null||B===void 0||(R=B.options)===null||R===void 0?void 0:R.weekStartsOn)!==null&&T!==void 0?T:0);if(!(K>=0&&K<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(j==="")return L===""?Lt(l):new Date(NaN);var H={firstWeekContainsDate:Z,weekStartsOn:K,locale:z},Y=[new cwe],oe=j.match(Ywe).map(function(ce){var pe=ce[0];if(pe in p0){var we=p0[pe];return we(ce,z.formatLong)}return ce}).join("").match(Kwe),me=[],re=T5(oe),W;try{var J=function(){var pe=W.value;!(o!=null&&o.useAdditionalWeekYearTokens)&&J6(pe)&&zh(pe,j,i),!(o!=null&&o.useAdditionalDayOfYearTokens)&&Q6(pe)&&zh(pe,j,i);var we=pe[0],Ze=Gwe[we];if(Ze){var ne=Ze.incompatibleTokens;if(Array.isArray(ne)){var de=me.find(function(Ee){return ne.includes(Ee.token)||Ee.token===we});if(de)throw new RangeError("The format string mustn't contain `".concat(de.fullToken,"` and `").concat(pe,"` at the same time"))}else if(Ze.incompatibleTokens==="*"&&me.length>0)throw new RangeError("The format string mustn't contain `".concat(pe,"` and any other token at the same time"));me.push({token:we,fullToken:pe});var ge=Ze.run(L,pe,z.match,H);if(!ge)return{v:new Date(NaN)};Y.push(ge.setter),L=ge.rest}else{if(we.match(Jwe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+we+"`");if(pe==="''"?pe="'":we==="'"&&(pe=Xwe(pe)),L.indexOf(pe)===0)L=L.slice(pe.length);else return{v:new Date(NaN)}}};for(re.s();!(W=re.n()).done;){var q=J();if(Mo(q)==="object")return q.v}}catch(ce){re.e(ce)}finally{re.f()}if(L.length>0&&Qwe.test(L))return new Date(NaN);var ae=Y.map(function(ce){return ce.priority}).sort(function(ce,pe){return pe-ce}).filter(function(ce,pe,we){return we.indexOf(ce)===pe}).map(function(ce){return Y.filter(function(pe){return pe.priority===ce}).sort(function(pe,we){return we.subPriority-pe.subPriority})}).map(function(ce){return ce[0]}),be=Lt(l);if(isNaN(be.getTime()))return new Date(NaN);var ke=G6(be,jh(be)),se={},ee=T5(ae),le;try{for(ee.s();!(le=ee.n()).done;){var te=le.value;if(!te.validate(ke,H))return new Date(NaN);var X=te.set(ke,se,H);Array.isArray(X)?(ke=X[0],Yke(se,X[1])):ke=X}}catch(ce){ee.e(ce)}finally{ee.f()}return ke}function Xwe(i){return i.match(qwe)[1].replace(Zwe,"'")}function e2e(i,r){xt(2,arguments);var l=Dt(r);return Rr(i,-l)}function t2e(i,r){var l;xt(1,arguments);var o=Dt((l=r==null?void 0:r.additionalDigits)!==null&&l!==void 0?l:2);if(o!==2&&o!==1&&o!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof i=="string"||Object.prototype.toString.call(i)==="[object String]"))return new Date(NaN);var d=r2e(i),m;if(d.date){var u=s2e(d.date,o);m=a2e(u.restDateString,u.year)}if(!m||isNaN(m.getTime()))return new Date(NaN);var h=m.getTime(),f=0,g;if(d.time&&(f=l2e(d.time),isNaN(f)))return new Date(NaN);if(d.timezone){if(g=c2e(d.timezone),isNaN(g))return new Date(NaN)}else{var y=new Date(h+f),k=new Date(0);return k.setFullYear(y.getUTCFullYear(),y.getUTCMonth(),y.getUTCDate()),k.setHours(y.getUTCHours(),y.getUTCMinutes(),y.getUTCSeconds(),y.getUTCMilliseconds()),k}return new Date(h+f+g)}var rh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},n2e=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,i2e=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,o2e=/^([+-])(\d{2})(?::?(\d{2}))?$/;function r2e(i){var r={},l=i.split(rh.dateTimeDelimiter),o;if(l.length>2)return r;if(/:/.test(l[0])?o=l[0]:(r.date=l[0],o=l[1],rh.timeZoneDelimiter.test(r.date)&&(r.date=i.split(rh.timeZoneDelimiter)[0],o=i.substr(r.date.length,i.length))),o){var d=rh.timezone.exec(o);d?(r.time=o.replace(d[1],""),r.timezone=d[1]):r.time=o}return r}function s2e(i,r){var l=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+r)+"})|(\\d{2}|[+-]\\d{"+(2+r)+"})$)"),o=i.match(l);if(!o)return{year:NaN,restDateString:""};var d=o[1]?parseInt(o[1]):null,m=o[2]?parseInt(o[2]):null;return{year:m===null?d:m*100,restDateString:i.slice((o[1]||o[2]).length)}}function a2e(i,r){if(r===null)return new Date(NaN);var l=i.match(n2e);if(!l)return new Date(NaN);var o=!!l[4],d=Ec(l[1]),m=Ec(l[2])-1,u=Ec(l[3]),h=Ec(l[4]),f=Ec(l[5])-1;if(o)return p2e(r,h,f)?d2e(r,h,f):new Date(NaN);var g=new Date(0);return!h2e(r,m,u)||!f2e(r,d)?new Date(NaN):(g.setUTCFullYear(r,m,Math.max(d,u)),g)}function Ec(i){return i?parseInt(i):1}function l2e(i){var r=i.match(i2e);if(!r)return NaN;var l=Cg(r[1]),o=Cg(r[2]),d=Cg(r[3]);return m2e(l,o,d)?l*x1+o*A1+d*1e3:NaN}function Cg(i){return i&&parseFloat(i.replace(",","."))||0}function c2e(i){if(i==="Z")return 0;var r=i.match(o2e);if(!r)return 0;var l=r[1]==="+"?-1:1,o=parseInt(r[2]),d=r[3]&&parseInt(r[3])||0;return g2e(o,d)?l*(o*x1+d*A1):NaN}function d2e(i,r,l){var o=new Date(0);o.setUTCFullYear(i,0,4);var d=o.getUTCDay()||7,m=(r-1)*7+l+1-d;return o.setUTCDate(o.getUTCDate()+m),o}var u2e=[31,null,31,30,31,30,31,31,30,31,30,31];function r8(i){return i%400===0||i%4===0&&i%100!==0}function h2e(i,r,l){return r>=0&&r<=11&&l>=1&&l<=(u2e[r]||(r8(i)?29:28))}function f2e(i,r){return r>=1&&r<=(r8(i)?366:365)}function p2e(i,r,l){return r>=1&&r<=53&&l>=0&&l<=6}function m2e(i,r,l){return i===24?r===0&&l===0:l>=0&&l<60&&r>=0&&r<60&&i>=0&&i<25}function g2e(i,r){return r>=0&&r<=59}function hl(i,r){xt(2,arguments);var l=Lt(i),o=Dt(r),d=l.getFullYear(),m=l.getDate(),u=new Date(0);u.setFullYear(d,o,15),u.setHours(0,0,0,0);var h=Zke(u);return l.setMonth(o,Math.min(m,h)),l}function fi(i,r){if(xt(2,arguments),Mo(r)!=="object"||r===null)throw new RangeError("values parameter must be an object");var l=Lt(i);return isNaN(l.getTime())?new Date(NaN):(r.year!=null&&l.setFullYear(r.year),r.month!=null&&(l=hl(l,r.month)),r.date!=null&&l.setDate(Dt(r.date)),r.hours!=null&&l.setHours(Dt(r.hours)),r.minutes!=null&&l.setMinutes(Dt(r.minutes)),r.seconds!=null&&l.setSeconds(Dt(r.seconds)),r.milliseconds!=null&&l.setMilliseconds(Dt(r.milliseconds)),l)}function s8(i,r){xt(2,arguments);var l=Lt(i),o=Dt(r);return l.setHours(o),l}function T1(i,r){xt(2,arguments);var l=Lt(i),o=Dt(r);return l.setMilliseconds(o),l}function a8(i,r){xt(2,arguments);var l=Lt(i),o=Dt(r);return l.setMinutes(o),l}function l8(i,r){xt(2,arguments);var l=Lt(i),o=Dt(r);return l.setSeconds(o),l}function Nr(i,r){xt(2,arguments);var l=Lt(i),o=Dt(r);return isNaN(l.getTime())?new Date(NaN):(l.setFullYear(o),l)}function bl(i,r){xt(2,arguments);var l=Dt(r);return hr(i,-l)}function _2e(i,r){if(xt(2,arguments),!r||Mo(r)!=="object")return new Date(NaN);var l=r.years?Dt(r.years):0,o=r.months?Dt(r.months):0,d=r.weeks?Dt(r.weeks):0,m=r.days?Dt(r.days):0,u=r.hours?Dt(r.hours):0,h=r.minutes?Dt(r.minutes):0,f=r.seconds?Dt(r.seconds):0,g=bl(i,o+l*12),y=e2e(g,m+d*7),k=h+u*60,v=f+k*60,A=v*1e3,T=new Date(y.getTime()-A);return T}function b2e(i,r){xt(2,arguments);var l=Dt(r);return H6(i,-l)}function xf(){return F(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[b("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),b("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),b("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),b("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}function v2e(){return F(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[b("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),b("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}function M5(){return F(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[b("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}function P5(){return F(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[b("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}function c8(){return F(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[b("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),b("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}function d8(){return F(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[b("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}function u8(){return F(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[b("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}const O5=(i,r,l,o,d)=>{const m=g0(i,r.slice(0,i.length),new Date);return Qc(m)&&W6(m)?o||d?m:fi(m,{hours:+l.hours,minutes:+(l==null?void 0:l.minutes),seconds:+(l==null?void 0:l.seconds),milliseconds:0}):null},k2e=(i,r,l,o,d)=>{const m=Array.isArray(l)?l[0]:l;if(typeof r=="string")return O5(i,r,m,o,d);if(Array.isArray(r)){let u=null;for(const h of r)if(u=O5(i,h,m,o,d),u)break;return u}return typeof r=="function"?r(i):null},nt=i=>i?new Date(i):new Date,w2e=(i,r,l)=>{if(r){const d=(i.getMonth()+1).toString().padStart(2,"0"),m=i.getDate().toString().padStart(2,"0"),u=i.getHours().toString().padStart(2,"0"),h=i.getMinutes().toString().padStart(2,"0"),f=l?i.getSeconds().toString().padStart(2,"0"):"00";return`${i.getFullYear()}-${d}-${m}T${u}:${h}:${f}.000Z`}const o=Date.UTC(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds());return new Date(o).toISOString()},To=i=>{let r=nt(JSON.parse(JSON.stringify(i)));return r=s8(r,0),r=a8(r,0),r=l8(r,0),r=T1(r,0),r},xo=(i,r,l,o)=>{let d=i?nt(i):nt();return(r||r===0)&&(d=s8(d,+r)),(l||l===0)&&(d=a8(d,+l)),(o||o===0)&&(d=l8(d,+o)),T1(d,0)},Ii=(i,r)=>!i||!r?!1:hd(To(i),To(r)),vn=(i,r)=>!i||!r?!1:aa(To(i),To(r)),ji=(i,r)=>!i||!r?!1:ud(To(i),To(r)),h8=(i,r,l)=>i&&i[0]&&i[1]?ji(l,i[0])&&Ii(l,i[1]):i&&i[0]&&r?ji(l,i[0])&&Ii(l,r)||Ii(l,i[0])&&ji(l,r):!1,Dc=i=>{const r=fi(new Date(i),{date:1});return To(r)},Ag=(i,r,l)=>r&&(l||l===0)?Object.fromEntries(["hours","minutes","seconds"].map(o=>o===r?[o,l]:[o,isNaN(+i[o])?void 0:+i[o]])):{hours:isNaN(+i.hours)?void 0:+i.hours,minutes:isNaN(+i.minutes)?void 0:+i.minutes,seconds:isNaN(+i.seconds)?void 0:+i.seconds},sh=i=>({hours:Or(i),minutes:Br(i),seconds:Ml(i)}),Tc=Ve({menuFocused:!1,shiftKeyInMenu:!1}),f8=()=>{const i=l=>{Tc.menuFocused=l},r=l=>{Tc.shiftKeyInMenu!==l&&(Tc.shiftKeyInMenu=l)};return{control:Ge(()=>({shiftKeyInMenu:Tc.shiftKeyInMenu,menuFocused:Tc.menuFocused})),setMenuFocused:i,setShiftKey:r}};function I1(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var p8={exports:{}};(function(i){function r(l){return l&&l.__esModule?l:{default:l}}i.exports=r,i.exports.__esModule=!0,i.exports.default=i.exports})(p8);var y2e=p8.exports,_0={exports:{}};(function(i,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=l;function l(o){if(o===null||o===!0||o===!1)return NaN;var d=Number(o);return isNaN(d)?d:d<0?Math.ceil(d):Math.floor(d)}i.exports=r.default})(_0,_0.exports);var C2e=_0.exports;const A2e=I1(C2e);var b0={exports:{}};(function(i,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=l;function l(o){var d=new Date(Date.UTC(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()));return d.setUTCFullYear(o.getFullYear()),o.getTime()-d.getTime()}i.exports=r.default})(b0,b0.exports);var x2e=b0.exports;const B5=I1(x2e);function S2e(i,r){var l=I2e(r);return l.formatToParts?D2e(l,i):T2e(l,i)}var E2e={year:0,month:1,day:2,hour:3,minute:4,second:5};function D2e(i,r){try{for(var l=i.formatToParts(r),o=[],d=0;d<l.length;d++){var m=E2e[l[d].type];m>=0&&(o[m]=parseInt(l[d].value,10))}return o}catch(u){if(u instanceof RangeError)return[NaN];throw u}}function T2e(i,r){var l=i.format(r).replace(/\u200E/g,""),o=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(l);return[o[3],o[1],o[2],o[4],o[5],o[6]]}var xg={};function I2e(i){if(!xg[i]){var r=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),l=r==="06/25/2014, 00:00:00"||r==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";xg[i]=l?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:i,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:i,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return xg[i]}function M1(i,r,l,o,d,m,u){var h=new Date(0);return h.setUTCFullYear(i,r,l),h.setUTCHours(o,d,m,u),h}var L5=36e5,M2e=6e4,Sg={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function P1(i,r,l){var o,d;if(!i||(o=Sg.timezoneZ.exec(i),o))return 0;var m;if(o=Sg.timezoneHH.exec(i),o)return m=parseInt(o[1],10),R5(m)?-(m*L5):NaN;if(o=Sg.timezoneHHMM.exec(i),o){m=parseInt(o[1],10);var u=parseInt(o[2],10);return R5(m,u)?(d=Math.abs(m)*L5+u*M2e,m>0?-d:d):NaN}if(B2e(i)){r=new Date(r||Date.now());var h=l?r:P2e(r),f=v0(h,i),g=l?f:O2e(r,f,i);return-g}return NaN}function P2e(i){return M1(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds())}function v0(i,r){var l=S2e(i,r),o=M1(l[0],l[1]-1,l[2],l[3]%24,l[4],l[5],0).getTime(),d=i.getTime(),m=d%1e3;return d-=m>=0?m:1e3+m,o-d}function O2e(i,r,l){var o=i.getTime(),d=o-r,m=v0(new Date(d),l);if(r===m)return r;d-=m-r;var u=v0(new Date(d),l);return m===u?m:Math.max(m,u)}function R5(i,r){return-23<=i&&i<=23&&(r==null||0<=r&&r<=59)}var N5={};function B2e(i){if(N5[i])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:i}),N5[i]=!0,!0}catch{return!1}}var L2e=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/;const m8=L2e;var Eg=36e5,$5=6e4,R2e=2,$i={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:m8};function k0(i,r){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(i===null)return new Date(NaN);var l=r||{},o=l.additionalDigits==null?R2e:A2e(l.additionalDigits);if(o!==2&&o!==1&&o!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(i instanceof Date||typeof i=="object"&&Object.prototype.toString.call(i)==="[object Date]")return new Date(i.getTime());if(typeof i=="number"||Object.prototype.toString.call(i)==="[object Number]")return new Date(i);if(!(typeof i=="string"||Object.prototype.toString.call(i)==="[object String]"))return new Date(NaN);var d=N2e(i),m=$2e(d.date,o),u=m.year,h=m.restDateString,f=j2e(h,u);if(isNaN(f))return new Date(NaN);if(f){var g=f.getTime(),y=0,k;if(d.time&&(y=z2e(d.time),isNaN(y)))return new Date(NaN);if(d.timeZone||l.timeZone){if(k=P1(d.timeZone||l.timeZone,new Date(g+y)),isNaN(k))return new Date(NaN)}else k=B5(new Date(g+y)),k=B5(new Date(g+y+k));return new Date(g+y+k)}else return new Date(NaN)}function N2e(i){var r={},l=$i.dateTimePattern.exec(i),o;if(l?(r.date=l[1],o=l[3]):(l=$i.datePattern.exec(i),l?(r.date=l[1],o=l[2]):(r.date=null,o=i)),o){var d=$i.timeZone.exec(o);d?(r.time=o.replace(d[1],""),r.timeZone=d[1].trim()):r.time=o}return r}function $2e(i,r){var l=$i.YYY[r],o=$i.YYYYY[r],d;if(d=$i.YYYY.exec(i)||o.exec(i),d){var m=d[1];return{year:parseInt(m,10),restDateString:i.slice(m.length)}}if(d=$i.YY.exec(i)||l.exec(i),d){var u=d[1];return{year:parseInt(u,10)*100,restDateString:i.slice(u.length)}}return{year:null}}function j2e(i,r){if(r===null)return null;var l,o,d,m;if(i.length===0)return o=new Date(0),o.setUTCFullYear(r),o;if(l=$i.MM.exec(i),l)return o=new Date(0),d=parseInt(l[1],10)-1,z5(r,d)?(o.setUTCFullYear(r,d),o):new Date(NaN);if(l=$i.DDD.exec(i),l){o=new Date(0);var u=parseInt(l[1],10);return U2e(r,u)?(o.setUTCFullYear(r,0,u),o):new Date(NaN)}if(l=$i.MMDD.exec(i),l){o=new Date(0),d=parseInt(l[1],10)-1;var h=parseInt(l[2],10);return z5(r,d,h)?(o.setUTCFullYear(r,d,h),o):new Date(NaN)}if(l=$i.Www.exec(i),l)return m=parseInt(l[1],10)-1,F5(r,m)?j5(r,m):new Date(NaN);if(l=$i.WwwD.exec(i),l){m=parseInt(l[1],10)-1;var f=parseInt(l[2],10)-1;return F5(r,m,f)?j5(r,m,f):new Date(NaN)}return null}function z2e(i){var r,l,o;if(r=$i.HH.exec(i),r)return l=parseFloat(r[1].replace(",",".")),Dg(l)?l%24*Eg:NaN;if(r=$i.HHMM.exec(i),r)return l=parseInt(r[1],10),o=parseFloat(r[2].replace(",",".")),Dg(l,o)?l%24*Eg+o*$5:NaN;if(r=$i.HHMMSS.exec(i),r){l=parseInt(r[1],10),o=parseInt(r[2],10);var d=parseFloat(r[3].replace(",","."));return Dg(l,o,d)?l%24*Eg+o*$5+d*1e3:NaN}return null}function j5(i,r,l){r=r||0,l=l||0;var o=new Date(0);o.setUTCFullYear(i,0,4);var d=o.getUTCDay()||7,m=r*7+l+1-d;return o.setUTCDate(o.getUTCDate()+m),o}var F2e=[31,28,31,30,31,30,31,31,30,31,30,31],V2e=[31,29,31,30,31,30,31,31,30,31,30,31];function g8(i){return i%400===0||i%4===0&&i%100!==0}function z5(i,r,l){if(r<0||r>11)return!1;if(l!=null){if(l<1)return!1;var o=g8(i);if(o&&l>V2e[r]||!o&&l>F2e[r])return!1}return!0}function U2e(i,r){if(r<1)return!1;var l=g8(i);return!(l&&r>366||!l&&r>365)}function F5(i,r,l){return!(r<0||r>52||l!=null&&(l<0||l>6))}function Dg(i,r,l){return!(i!=null&&(i<0||i>=25)||r!=null&&(r<0||r>=60)||l!=null&&(l<0||l>=60))}var w0={exports:{}},y0={exports:{}};(function(i,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=l;function l(o,d){if(o==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(o[m]=d[m]);return o}i.exports=r.default})(y0,y0.exports);var H2e=y0.exports;(function(i,r){var l=y2e.default;Object.defineProperty(r,"__esModule",{value:!0}),r.default=d;var o=l(H2e);function d(m){return(0,o.default)({},m)}i.exports=r.default})(w0,w0.exports);var W2e=w0.exports;const G2e=I1(W2e);function K2e(i,r,l){var o=k0(i,l),d=P1(r,o,!0),m=new Date(o.getTime()-d),u=new Date(0);return u.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),u.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),u}function Y2e(i,r,l){if(typeof i=="string"&&!i.match(m8)){var o=G2e(l);return o.timeZone=r,k0(i,o)}var d=k0(i,l),m=M1(d.getFullYear(),d.getMonth(),d.getDate(),d.getHours(),d.getMinutes(),d.getSeconds(),d.getMilliseconds()).getTime(),u=P1(r,new Date(m));return new Date(m+u)}const q2e=(i,r=3)=>{const l=[];for(let o=0;o<i.length;o+=r)l.push([i[o],i[o+1],i[o+2]]);return l};function V5(i){return r=>new Intl.DateTimeFormat(i,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${r}T00:00:00+00:00`)).slice(0,2)}function Z2e(i){return r=>fa(new Date(`2017-01-0${r}T00:00:00+00:00`),"EEEEEE",{locale:i})}const Q2e=(i,r,l)=>{const o=[1,2,3,4,5,6,7];let d;if(i!==null)try{d=o.map(Z2e(i))}catch{d=o.map(V5(r))}else d=o.map(V5(r));const m=d.slice(0,l),u=d.slice(l+1,d.length);return[d[l]].concat(...u).concat(...m)},J2e=(i,r)=>{const l=[];for(let o=+i[0];o<=+i[1];o++)l.push({value:+o,text:`${o}`});return r?l.reverse():l},X2e=(i,r,l)=>{const o=[1,2,3,4,5,6,7,8,9,10,11,12].map(m=>{const u=m<10?`0${m}`:m;return new Date(`2017-${u}-01T00:00:00+00:00`)});if(i!==null)try{const m=l==="long"?"MMMM":"MMM";return o.map((u,h)=>{const f=fa(u,m,{locale:i});return{text:f.charAt(0).toUpperCase()+f.substring(1),value:h}})}catch{}const d=new Intl.DateTimeFormat(r,{month:l,timeZone:"UTC"});return o.map((m,u)=>{const h=d.format(m);return{text:h.charAt(0).toUpperCase()+h.substring(1),value:u}})},eye=i=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][i],Qn=i=>{const r=P(i);return r!=null&&r.$el?r==null?void 0:r.$el:r},tye=i=>Object.assign({type:"dot"},i),_8=i=>Array.isArray(i)?!!i[0]&&!!i[1]:!1,Uh={prop:i=>`"${i}" prop must be enabled!`,dateArr:i=>`You need to use array as "model-value" binding in order to support "${i}"`},Ei=i=>i,U5=i=>i===0?i:!i||isNaN(+i)?null:+i,nye=i=>i===0?!0:!!i,H5=i=>i===null,iye=i=>{if(i)return[...i.querySelectorAll("input, button, select, textarea, a[href]")][0]},W5=i=>Object.assign({menuAppear:"",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down"},i),oye=i=>Object.assign({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:r=>`Increment ${r}`,decrementValue:r=>`Decrement ${r}`,openTpOverlay:r=>`Open ${r} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",day:()=>""},i),rye=i=>i===null?0:typeof i=="boolean"?i?2:0:+i>=2?+i:2,sye=(i,r,l)=>i||(typeof l=="string"?l:r),aye=i=>typeof i=="boolean"?i?W5({}):!1:W5(i),lye=()=>({enterSubmit:!0,tabSubmit:!0,openMenu:!0,rangeSeparator:" - "}),cye=i=>Object.assign({months:[],years:[],times:{hours:[],minutes:[],seconds:[]}},i),dye=i=>Object.assign({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0},i),_o=i=>{const r=()=>{if(i.partialRange)return null;throw new Error(Uh.prop("partial-range"))},l=Ge(()=>({ariaLabels:oye(i.ariaLabels),textInputOptions:Object.assign(lye(),i.textInputOptions),multiCalendars:rye(i.multiCalendars),previewFormat:sye(i.previewFormat,i.format,m()),filters:cye(i.filters),transitions:aye(i.transitions),startTime:A(),actionRow:dye(i.actionRow)})),o=se=>{if(i.range)return se();throw new Error(Uh.prop("range"))},d=()=>{const se=i.enableSeconds?":ss":"";return i.is24?`HH:mm${se}`:`hh:mm${se} aa`},m=()=>i.format?i.format:i.monthPicker?"MM/yyyy":i.timePicker?d():i.weekPicker?"MM/dd/yyyy":i.yearPicker?"yyyy":i.enableTimePicker?`MM/dd/yyyy, ${d()}`:"MM/dd/yyyy",u=(se,ee)=>{if(typeof i.format=="function")return i.format(se);const le=ee||m(),te=i.formatLocale?{locale:i.formatLocale}:void 0;return Array.isArray(se)?`${fa(se[0],le,te)}${i.modelAuto&&!se[1]?"":l.value.textInputOptions.rangeSeparator||"-"}${se[1]?fa(se[1],le,te):""}`:fa(se,le,te)},h=se=>i.timezone?K2e(se,i.timezone):se,f=se=>i.timezone?Y2e(se,i.timezone):se,g=Ge(()=>se=>{var ee;return(ee=i.hideNavigation)==null?void 0:ee.includes(se)}),y=se=>{var ee,le,te,X;return Array.isArray(i.allowedDates)&&!((ee=i.allowedDates)!=null&&ee.length)?!0:(le=i.arrMapValues)!=null&&le.allowedDates?!S(se,i.arrMapValues.allowedDates):(te=i.allowedDates)!=null&&te.length?!((X=i.allowedDates)!=null&&X.some(ce=>vn(h(nt(ce)),h(se)))):!1},k=se=>{var ee;const le=i.maxDate?ji(h(se),h(nt(i.maxDate))):!1,te=i.minDate?Ii(h(se),h(nt(i.minDate))):!1,X=S(se,(ee=i.arrMapValues)!=null&&ee.disabledDates?i.arrMapValues.disabledDates:i.disabledDates),ce=l.value.filters.months.map(de=>+de).includes(In(se)),pe=i.disabledWeekDays.length?i.disabledWeekDays.some(de=>+de===qke(se)):!1,we=y(se),Ze=Ln(se),ne=Ze<+i.yearRange[0]||Ze>+i.yearRange[1];return!(le||te||X||ce||ne||pe||we)},v=se=>{const ee={hours:Or(nt()),minutes:Br(nt()),seconds:i.enableSeconds?Ml(nt()):0};return Object.assign(ee,se)},A=()=>i.range?i.startTime&&Array.isArray(i.startTime)?[v(i.startTime[0]),v(i.startTime[1])]:null:i.startTime&&!Array.isArray(i.startTime)?v(i.startTime):null,T=se=>!k(se),x=se=>Array.isArray(se)?Qc(se[0])&&(se[1]?Qc(se[1]):!0):se?Qc(se):!1,C=se=>se instanceof Date?se:t2e(se),D=se=>{const ee=va(h(se),{weekStartsOn:+i.weekStart}),le=Hve(h(se),{weekStartsOn:+i.weekStart});return[ee,le]},S=(se,ee)=>se?ee instanceof Map?!!ee.get(ae(se)):Array.isArray(ee)?ee.some(le=>vn(h(nt(le)),h(se))):ee(nt(JSON.parse(JSON.stringify(se)))):!0,M=(se,ee,le)=>{let te=se?nt(se):nt();return(ee||ee===0)&&(te=hl(te,ee)),le&&(te=Nr(te,le)),te},B=se=>fi(nt(),sh(se)),R=se=>fi(nt(),{hours:+se.hours||0,minutes:+se.minutes||0,seconds:+se.seconds||0}),L=(se,ee,le,te)=>{if(!se)return!0;if(te){const X=le==="max"?hd(se,ee):ud(se,ee),ce={seconds:0,milliseconds:0};return X||aa(fi(se,ce),fi(ee,ce))}return le==="max"?se.getTime()<=ee.getTime():se.getTime()>=ee.getTime()},j=()=>!i.enableTimePicker||i.monthPicker||i.yearPicker||i.ignoreTimeValidation,N=se=>Array.isArray(se)?[se[0]?B(se[0]):null,se[1]?B(se[1]):null]:B(se),z=se=>{const ee=i.maxTime?R(i.maxTime):nt(i.maxDate);return Array.isArray(se)?L(se[0],ee,"max",!!i.maxDate)&&L(se[1],ee,"max",!!i.maxDate):L(se,ee,"max",!!i.maxDate)},Z=(se,ee)=>{const le=i.minTime?R(i.minTime):nt(i.minDate);return Array.isArray(se)?L(se[0],le,"min",!!i.minDate)&&L(se[1],le,"min",!!i.minDate)&&ee:L(se,le,"min",!!i.minDate)&&ee},K=se=>{let ee=!0;if(!se||j())return!0;const le=!i.minDate&&!i.maxDate?N(se):se;if((i.maxTime||i.maxDate)&&(ee=z(Ei(le))),(i.minTime||i.minDate)&&(ee=Z(Ei(le),ee)),i.disabledTimes){const te=Array.isArray(se)?[sh(se[0]),se[1]?sh(se[1]):void 0]:sh(se);ee=!i.disabledTimes(te)}return ee},H=(se,ee)=>{const le=nt(JSON.parse(JSON.stringify(se))),te=[];for(let X=0;X<7;X++){const ce=Rr(le,X),pe=In(ce)!==ee;te.push({text:i.hideOffsetDates&&pe?"":ce.getDate(),value:ce,current:!pe,classData:{}})}return te},Y=(se,ee)=>{switch(i.sixWeeks===!0?"append":i.sixWeeks){case"prepend":return[!0,!1];case"center":return[se==0,!0];case"fair":return[se==0||ee>se,!0];case"append":return[!1,!1];default:return[!1,!1]}},oe=(se,ee)=>{const le=[],te=nt(h(new Date(ee,se))),X=nt(h(new Date(ee,se+1,0))),ce=i.weekStart,pe=va(te,{weekStartsOn:ce}),we=Ze=>{const ne=H(Ze,se);if(le.push({days:ne}),!le[le.length-1].days.some(de=>vn(To(de.value),To(X)))){const de=Rr(Ze,7);we(de)}};if(we(pe),i.sixWeeks&&le.length<6){const Ze=6-le.length,ne=(te.getDay()+7-ce)%7,de=6-(X.getDay()+7-ce)%7,[ge,Ee]=Y(ne,de);for(let Ie=1;Ie<=Ze;Ie++)if(Ee?!!(Ie%2)==ge:ge){const Le=le[0].days[0],ot=H(Rr(Le.value,-7),In(te));le.unshift({days:ot})}else{const Le=le[le.length-1],ot=Le.days[Le.days.length-1],We=H(Rr(ot.value,1),In(te));le.push({days:We})}}return le},me=(se,ee,le)=>[fi(nt(se),{date:1}),fi(nt(),{month:ee,year:le,date:1})],re=(se,ee)=>Ii(...me(i.minDate,se,ee))||vn(...me(i.minDate,se,ee)),W=(se,ee)=>ji(...me(i.maxDate,se,ee))||vn(...me(i.maxDate,se,ee)),J=(se,ee,le)=>{let te=!1;return i.maxDate&&le&&W(se,ee)&&(te=!0),i.minDate&&!le&&re(se,ee)&&(te=!0),te},q=(se,ee,le,te)=>{let X=!1;return te?i.minDate&&i.maxDate?X=J(se,ee,le):(i.minDate&&re(se,ee)||i.maxDate&&W(se,ee))&&(X=!0):X=!0,X},ae=se=>{const ee=To(h(nt(se))).toISOString(),[le]=ee.split("T");return le},be=se=>new Map(se.map(ee=>[ae(ee),!0])),ke=se=>Array.isArray(se)&&se.length>0;return{checkPartialRangeValue:r,checkRangeEnabled:o,getZonedDate:h,getZonedToUtc:f,formatDate:u,getDefaultPattern:m,validateDate:k,getDefaultStartTime:A,isDisabled:T,isValidDate:x,sanitizeDate:C,getWeekFromDate:D,matchDate:S,setDateMonthOrYear:M,isValidTime:K,getCalendarDays:oe,validateMonthYearInRange:q,validateMaxDate:W,validateMinDate:re,assignDefaultTime:v,mapDatesArrToMap:se=>{ke(i.allowedDates)&&(se.allowedDates=be(i.allowedDates)),ke(i.highlight)&&(se.highlightedDates=be(i.highlight)),ke(i.disabledDates)&&(se.disabledDates=be(i.disabledDates))},defaults:l,hideNavigationButtons:g}},Bn=Ve({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Tg=et(null),ah=et(!1),Ig=et(!1),Mg=et(!1),Pg=et(!1),Bi=et(0),vi=et(0),Es=()=>{const i=Ge(()=>ah.value?[...Bn.selectionGrid,Bn.actionRow].filter(k=>k.length):Ig.value?[...Bn.timePicker[0],...Bn.timePicker[1],Pg.value?[]:[Tg.value],Bn.actionRow].filter(k=>k.length):Mg.value?[...Bn.monthPicker,Bn.actionRow]:[Bn.monthYear,...Bn.calendar,Bn.time,Bn.actionRow].filter(k=>k.length)),r=k=>{Bi.value=k?Bi.value+1:Bi.value-1;let v=null;i.value[vi.value]&&(v=i.value[vi.value][Bi.value]),v||(Bi.value=k?Bi.value-1:Bi.value+1)},l=k=>{vi.value===0&&!k||vi.value===i.value.length&&k||(vi.value=k?vi.value+1:vi.value-1,i.value[vi.value]?i.value[vi.value]&&!i.value[vi.value][Bi.value]&&Bi.value!==0&&(Bi.value=i.value[vi.value].length-1):vi.value=k?vi.value-1:vi.value+1)},o=k=>{let v=null;i.value[vi.value]&&(v=i.value[vi.value][Bi.value]),v?v.focus({preventScroll:!ah.value}):Bi.value=k?Bi.value-1:Bi.value+1},d=()=>{r(!0),o(!0)},m=()=>{r(!1),o(!1)},u=()=>{l(!1),o(!0)},h=()=>{l(!0),o(!0)},f=(k,v)=>{Bn[v]=k},g=(k,v)=>{Bn[v]=k},y=()=>{Bi.value=0,vi.value=0};return{buildMatrix:f,buildMultiLevelMatrix:g,setTimePickerBackRef:k=>{Tg.value=k},setSelectionGrid:k=>{ah.value=k,y(),k||(Bn.selectionGrid=[])},setTimePicker:(k,v=!1)=>{Ig.value=k,Pg.value=v,y(),k||(Bn.timePicker[0]=[],Bn.timePicker[1]=[])},setTimePickerElements:(k,v=0)=>{Bn.timePicker[v]=k},arrowRight:d,arrowLeft:m,arrowUp:u,arrowDown:h,clearArrowNav:()=>{Bn.monthYear=[],Bn.calendar=[],Bn.time=[],Bn.actionRow=[],Bn.selectionGrid=[],Bn.timePicker[0]=[],Bn.timePicker[1]=[],ah.value=!1,Ig.value=!1,Pg.value=!1,Mg.value=!1,y(),Tg.value=null},setMonthPicker:k=>{Mg.value=k,y()},refSets:Bn}},G5=i=>Array.isArray(i),ta=i=>Array.isArray(i),K5=i=>Array.isArray(i)&&i.length===2,uye=(i,r,l,o,d)=>{const{getDefaultStartTime:m,isDisabled:u,sanitizeDate:h,getWeekFromDate:f,setDateMonthOrYear:g,validateMonthYearInRange:y,defaults:k}=_o(i),v=Ge({get:()=>i.internalModelValue,set:fe=>{!i.readonly&&!i.disabled&&r("update:internal-model-value",fe)}}),A=et([]);Bt(v,(fe,Se)=>{i.range?j():aa(fe,Se)||j()});const T=kl(i,"multiCalendars");Bt(T,()=>{Ae(0)});const x=et([{month:In(nt()),year:Ln(nt())}]);Bt(x,()=>{x.value.forEach((fe,Se)=>{r("update-month-year",{instance:Se,month:fe.month,year:fe.year})})},{deep:!0});const C=Ve({hours:i.range?[Or(nt()),Or(nt())]:Or(nt()),minutes:i.range?[Br(nt()),Br(nt())]:Br(nt()),seconds:i.range?[0,0]:0}),D=Ge(()=>fe=>x.value[fe]?x.value[fe].month:0),S=Ge(()=>fe=>x.value[fe]?x.value[fe].year:0),M=Ge(()=>{var fe;return(fe=i.flow)!=null&&fe.length&&!i.partialFlow?d.value===i.flow.length:!0}),B=(fe,Se,Re)=>{var Je,Et;x.value[fe]||(x.value[fe]={month:0,year:0}),x.value[fe].month=H5(Se)?(Je=x.value[fe])==null?void 0:Je.month:Se,x.value[fe].year=H5(Re)?(Et=x.value[fe])==null?void 0:Et.year:Re},R=(fe,Se)=>{C[fe]=Se},L=()=>{i.startDate&&(B(0,In(nt(i.startDate)),Ln(nt(i.startDate))),k.value.multiCalendars&&Ae(0))};Ue(()=>{v.value||(L(),k.value.startTime&&W()),j(!0),i.focusStartDate&&i.startDate&&L()});const j=(fe=!1)=>{if(v.value)return Array.isArray(v.value)?(A.value=v.value,H(fe)):z(v.value,fe);if(i.timePicker)return Y();if(i.monthPicker&&!i.range)return oe();if(i.yearPicker&&!i.range)return me();if(k.value.multiCalendars&&fe&&!i.startDate)return N(nt(),fe)},N=(fe,Se=!1)=>{if((!k.value.multiCalendars||!i.multiStatic||Se)&&B(0,In(fe),Ln(fe)),k.value.multiCalendars)for(let Re=1;Re<k.value.multiCalendars;Re++){const Je=fi(nt(),{month:D.value(Re-1),year:S.value(Re-1)}),Et=U6(Je,{months:1});x.value[Re]={month:In(Et),year:Ln(Et)}}},z=(fe,Se)=>{N(fe),R("hours",Or(fe)),R("minutes",Br(fe)),R("seconds",Ml(fe)),k.value.multiCalendars&&Se&&q()},Z=(fe,Se)=>{fe[1]&&i.showLastInRange?N(fe[1],Se):N(fe[0],Se);const Re=(Je,Et)=>[Je(fe[0]),fe[1]?Je(fe[1]):C[Et][1]];R("hours",Re(Or,"hours")),R("minutes",Re(Br,"minutes")),R("seconds",Re(Ml,"seconds"))},K=(fe,Se)=>{if((i.range||i.weekPicker)&&!i.multiDates)return Z(fe,Se);if(i.multiDates){const Re=fe[fe.length-1];return z(Re,Se)}},H=fe=>{const Se=v.value;K(Se,fe),k.value.multiCalendars&&i.multiCalendarsSolo&&q()},Y=()=>{if(W(),!i.range)v.value=xo(nt(),C.hours,C.minutes,re());else{const fe=C.hours,Se=C.minutes;v.value=[xo(nt(),fe[0],Se[0],re()),xo(nt(),fe[1],Se[1],re(!1))]}},oe=()=>{i.multiDates?v.value=[g(nt(),D.value(0),S.value(0))]:v.value=g(nt(),D.value(0),S.value(0))},me=()=>{v.value=nt()},re=(fe=!0)=>i.enableSeconds?Array.isArray(C.seconds)?fe?C.seconds[0]:C.seconds[1]:C.seconds:0,W=()=>{const fe=m();if(fe){const Se=Array.isArray(fe),Re=Se?[+fe[0].hours,+fe[1].hours]:+fe.hours,Je=Se?[+fe[0].minutes,+fe[1].minutes]:+fe.minutes,Et=Se?[+fe[0].seconds,+fe[1].seconds]:+fe.seconds;R("hours",Re),R("minutes",Je),i.enableSeconds&&R("seconds",Et)}},J=()=>Array.isArray(v.value)&&v.value.length?v.value[v.value.length-1]:null,q=()=>{if(Array.isArray(v.value)&&v.value.length===2){const fe=nt(nt(v.value[1]?v.value[1]:hr(v.value[0],1))),[Se,Re]=[In(v.value[0]),Ln(v.value[0])],[Je,Et]=[In(v.value[1]),Ln(v.value[1])];(Se!==Je||Se===Je&&Re!==Et)&&i.multiCalendarsSolo&&B(1,In(fe),Ln(fe))}else v.value&&!Array.isArray(v.value)&&B(0,In(v.value),Ln(v.value))},ae=fe=>{const Se=hr(fe,1);return{month:In(Se),year:Ln(Se)}},be=fe=>{const Se=In(nt(fe)),Re=Ln(nt(fe));if(B(0,Se,Re),k.value.multiCalendars>0)for(let Je=1;Je<k.value.multiCalendars;Je++){const Et=ae(fi(nt(fe),{year:D.value(Je-1),month:S.value(Je-1)}));B(Je,Et.month,Et.year)}},ke=fe=>{if(v.value&&Array.isArray(v.value))if(v.value.some(Se=>vn(fe,Se))){const Se=v.value.filter(Re=>!vn(Re,fe));v.value=Se.length?Se:null}else(i.multiDatesLimit&&+i.multiDatesLimit>v.value.length||!i.multiDatesLimit)&&v.value.push(fe);else v.value=[fe]},se=(fe,Se)=>{const Re=ji(fe,Se)?Se:fe,Je=ji(Se,fe)?Se:fe;return A5({start:Re,end:Je})},ee=(fe,Se=0)=>{if(Array.isArray(v.value)&&v.value[Se]){const Re=Vve(fe,v.value[Se]),Je=se(v.value[Se],fe),Et=Je.length===1?0:Je.filter(ht=>u(ht)).length,yt=Math.abs(Re)-Et;if(i.minRange&&i.maxRange)return yt>=+i.minRange&&yt<=+i.maxRange;if(i.minRange)return yt>=+i.minRange;if(i.maxRange)return yt<=+i.maxRange}return!0},le=fe=>Array.isArray(v.value)&&v.value.length===2?i.fixedStart&&(ji(fe,v.value[0])||vn(fe,v.value[0]))?[v.value[0],fe]:i.fixedEnd&&(Ii(fe,v.value[1])||vn(fe,v.value[1]))?[fe,v.value[1]]:(r("invalid-fixed-range",fe),v.value):[],te=()=>{i.autoApply&&M.value&&r("auto-apply",i.partialFlow)},X=()=>{i.autoApply&&r("select-date")},ce=fe=>!A5({start:fe[0],end:fe[1]}).some(Se=>u(Se)),pe=fe=>(v.value=f(nt(fe.value)),te()),we=fe=>{const Se=xo(nt(fe.value),C.hours,C.minutes,re());i.multiDates?ke(Se):v.value=Se,l(),te()},Ze=()=>{A.value=v.value?v.value.slice():[],A.value.length===2&&!(i.fixedStart||i.fixedEnd)&&(A.value=[])},ne=(fe,Se)=>{const Re=[nt(fe.value),Rr(nt(fe.value),+i.autoRange)];ce(Re)&&(Se&&be(fe.value),A.value=Re)},de=fe=>{ge(fe.value)||!ee(fe.value,i.fixedStart?0:1)||(A.value=le(nt(fe.value)))},ge=fe=>i.noDisabledRange?se(A.value[0],fe).some(Se=>u(Se)):!1,Ee=(fe,Se)=>{if(Ze(),i.autoRange)return ne(fe,Se);if(i.fixedStart||i.fixedEnd)return de(fe);A.value[0]?ee(nt(fe.value))&&!ge(fe.value)&&(Ii(nt(fe.value),nt(A.value[0]))?(A.value.unshift(nt(fe.value)),r("range-end",A.value[0])):(A.value[1]=nt(fe.value),r("range-end",A.value[1]))):(A.value[0]=nt(fe.value),r("range-start",A.value[0]))},Ie=fe=>{A.value[fe]=xo(A.value[fe],C.hours[fe],C.minutes[fe],re(fe!==1))},Le=()=>{var fe,Se;A.value[0]&&A.value[1]&&+((fe=A.value)==null?void 0:fe[0])>+((Se=A.value)==null?void 0:Se[1])&&(A.value.reverse(),r("range-start",A.value[0]),r("range-end",A.value[1]))},ot=()=>{A.value.length&&(A.value[0]&&!A.value[1]?Ie(0):(Ie(0),Ie(1),l()),Le(),v.value=A.value.slice(),A.value[0]&&A.value[1]&&i.autoApply&&r("auto-apply"),A.value[0]&&!A.value[1]&&i.modelAuto&&i.autoApply&&r("auto-apply"))},We=(fe,Se=!1)=>{if(!(u(fe.value)||!fe.current&&i.hideOffsetDates)){if(i.weekPicker)return pe(fe);if(!i.range)return we(fe);ta(C.hours)&&ta(C.minutes)&&!i.multiDates&&(Ee(fe,Se),ot())}},Fe=fe=>{const Se=fe[0];return i.weekNumbers==="local"?nwe(Se.value,{weekStartsOn:+i.weekStart}):i.weekNumbers==="iso"?Jke(Se.value):typeof i.weekNumbers=="function"?i.weekNumbers(Se.value):""},Ae=fe=>{for(let Se=fe-1;Se>=0;Se--){const Re=bl(fi(nt(),{month:D.value(Se+1),year:S.value(Se+1)}),1);B(Se,In(Re),Ln(Re))}for(let Se=fe+1;Se<=k.value.multiCalendars-1;Se++){const Re=hr(fi(nt(),{month:D.value(Se-1),year:S.value(Se-1)}),1);B(Se,In(Re),Ln(Re))}},Be=fe=>g(nt(),D.value(fe),S.value(fe)),$e=fe=>xo(fe,C.hours,C.minutes,re()),dt=fe=>{ke(Be(fe))},mt=(fe,Se)=>{const Re=i.monthPicker?D.value(fe)!==Se.month||!Se.fromNav:S.value(fe)!==Se.year||!Se.fromNav;if(B(fe,Se.month,Se.year),k.value.multiCalendars&&!i.multiCalendarsSolo&&Ae(fe),i.monthPicker||i.yearPicker)if(i.multiDates)Re&&dt(fe);else if(i.range){if(Re&&ee(Be(fe))){let Je=v.value?v.value.slice():[];Je.length===2&&Je[1]!==null&&(Je=[]),Je.length?Ii(Be(fe),Je[0])?Je.unshift(Be(fe)):Je[1]=Be(fe):Je=[Be(fe)],v.value=Je}}else(i.autoApplyMonth||Re)&&(v.value=Be(fe));o(i.multiCalendarsSolo?fe:void 0)},It=async(fe=!1)=>{if(i.autoApply&&(i.monthPicker||i.yearPicker)){await eo();const Se=i.monthPicker?fe:!1;i.range?r("auto-apply",Se||!v.value||v.value.length===1):r("auto-apply",Se)}l()},Wt=(fe,Se)=>{const Re=fi(nt(),{month:D.value(Se),year:S.value(Se)}),Je=fe<0?hr(Re,1):bl(Re,1);y(In(Je),Ln(Je),fe<0,i.preventMinMaxNavigation)&&(B(Se,In(Je),Ln(Je)),k.value.multiCalendars&&!i.multiCalendarsSolo&&Ae(Se),o())},zt=fe=>{G5(fe)&&G5(v.value)&&ta(C.hours)&&ta(C.minutes)?(fe[0]&&v.value[0]&&(v.value[0]=xo(fe[0],C.hours[0],C.minutes[0],re())),fe[1]&&v.value[1]&&(v.value[1]=xo(fe[1],C.hours[1],C.minutes[1],re(!1)))):i.multiDates&&Array.isArray(v.value)?v.value[v.value.length-1]=$e(fe):!i.range&&!K5(fe)&&(v.value=$e(fe)),r("time-update")},Ce=(fe,Se=!0,Re=!1)=>{const Je=Se?fe:C.hours,Et=!Se&&!Re?fe:C.minutes,yt=Re?fe:C.seconds;if(i.range&&K5(v.value)&&ta(Je)&&ta(Et)&&ta(yt)&&!i.disableTimeRangeValidation){const ht=He=>xo(v.value[He],Je[He],Et[He],yt[He]),Te=He=>T1(v.value[He],0);if(vn(v.value[0],v.value[1])&&(ud(ht(0),Te(1))||hd(ht(1),Te(0))))return}if(R("hours",Je),R("minutes",Et),R("seconds",yt),v.value)if(i.multiDates){const ht=J();ht&&zt(ht)}else zt(v.value);else i.timePicker&&zt(i.range?[nt(),nt()]:nt());l()},De=(fe,Se)=>{i.monthChangeOnScroll&&Wt(i.monthChangeOnScroll!=="inverse"?-fe.deltaY:fe.deltaY,Se)},Me=(fe,Se,Re=!1)=>{i.monthChangeOnArrows&&i.vertical===Re&&Qe(fe,Se)},Qe=(fe,Se)=>{Wt(fe==="right"?-1:1,Se)};return{time:C,month:D,year:S,modelValue:v,calendars:x,monthYearSelect:It,isDisabled:u,updateTime:Ce,getWeekNum:Fe,selectDate:We,updateMonthYear:mt,handleScroll:De,getMarker:fe=>i.markers.find(Se=>vn(h(fe.value),h(Se.date))),handleArrow:Me,handleSwipe:Qe,selectCurrentDate:()=>{i.range?v.value&&Array.isArray(v.value)&&v.value[0]?v.value=Ii(nt(),v.value[0])?[nt(),v.value[0]]:[v.value[0],nt()]:v.value=[nt()]:v.value=nt(),X()},presetDateRange:(fe,Se)=>{Se||fe.length&&fe.length<=2&&i.range&&(v.value=fe.map(Re=>nt(Re)),X(),i.multiCalendars&&eo().then(()=>j(!0)))}}},hye=(i,r,l)=>{const o=et(),{getZonedToUtc:d,getZonedDate:m,formatDate:u,getDefaultPattern:h,checkRangeEnabled:f,checkPartialRangeValue:g,isValidDate:y,setDateMonthOrYear:k,defaults:v}=_o(r),A=et(""),T=kl(r,"format");Bt(o,()=>{i("internal-model-change",o.value)}),Bt(T,()=>{J()});const x=ee=>{const le=ee||nt();return r.modelType?ae(le):{hours:Or(le),minutes:Br(le),seconds:r.enableSeconds?Ml(le):0}},C=ee=>r.modelType?ae(ee):{month:In(ee),year:Ln(ee)},D=ee=>Array.isArray(ee)?f(()=>[Nr(nt(),ee[0]),ee[1]?Nr(nt(),ee[1]):g()]):Nr(nt(),+ee),S=(ee,le)=>(typeof ee=="string"||typeof ee=="number")&&r.modelType?q(ee):le,M=ee=>Array.isArray(ee)?[S(ee[0],xo(null,+ee[0].hours,+ee[0].minutes,ee[0].seconds)),S(ee[1],xo(null,+ee[1].hours,+ee[1].minutes,ee[1].seconds))]:S(ee,xo(null,ee.hours,ee.minutes,ee.seconds)),B=ee=>Array.isArray(ee)?r.multiDates?ee.map(le=>S(le,k(null,+le.month,+le.year))):f(()=>[S(ee[0],k(null,+ee[0].month,+ee[0].year)),S(ee[1],ee[1]?k(null,+ee[1].month,+ee[1].year):g())]):S(ee,k(null,+ee.month,+ee.year)),R=ee=>{if(Array.isArray(ee))return ee.map(le=>q(le));throw new Error(Uh.dateArr("multi-dates"))},L=ee=>{if(Array.isArray(ee))return[nt(ee[0]),nt(ee[1])];throw new Error(Uh.dateArr("week-picker"))},j=ee=>r.modelAuto?Array.isArray(ee)?[q(ee[0]),q(ee[1])]:r.autoApply?[q(ee)]:[q(ee),null]:Array.isArray(ee)?f(()=>[q(ee[0]),ee[1]?q(ee[1]):g()]):q(ee),N=()=>{Array.isArray(o.value)&&r.range&&o.value.length===1&&o.value.push(g())},z=()=>{const ee=o.value;return[ae(ee[0]),ee[1]?ae(ee[1]):g()]},Z=()=>o.value[1]?z():ae(Ei(o.value[0])),K=()=>(o.value||[]).map(ee=>ae(ee)),H=()=>(N(),r.modelAuto?Z():r.multiDates?K():Array.isArray(o.value)?f(()=>z()):ae(Ei(o.value))),Y=ee=>ee?r.timePicker?M(Ei(ee)):r.monthPicker?B(Ei(ee)):r.yearPicker?D(Ei(ee)):r.multiDates?R(Ei(ee)):r.weekPicker?L(Ei(ee)):j(Ei(ee)):null,oe=ee=>{const le=Y(ee);y(Ei(le))?(o.value=Ei(le),J()):(o.value=null,A.value="")},me=()=>{var ee;const le=te=>{var X;return fa(te,(X=v.value.textInputOptions)==null?void 0:X.format)};return`${le(o.value[0])} ${(ee=v.value.textInputOptions)==null?void 0:ee.rangeSeparator} ${o.value[1]?le(o.value[1]):""}`},re=()=>{var ee;return l.value&&o.value?Array.isArray(o.value)?me():fa(o.value,(ee=v.value.textInputOptions)==null?void 0:ee.format):u(o.value)},W=()=>{var ee;return o.value?r.multiDates?o.value.map(le=>u(le)).join("; "):r.textInput&&typeof((ee=v.value.textInputOptions)==null?void 0:ee.format)=="string"?re():u(o.value):""},J=()=>{!r.format||typeof r.format=="string"||r.textInput&&typeof r.textInputOptions.format=="string"?A.value=W():A.value=r.format(o.value)},q=ee=>{if(r.utc){const le=new Date(ee);return r.utc==="preserve"?new Date(le.getTime()+le.getTimezoneOffset()*6e4):le}return r.modelType?r.modelType==="date"||r.modelType==="timestamp"?m(new Date(ee)):r.modelType==="format"&&(typeof r.format=="string"||!r.format)?g0(ee,h(),new Date):m(g0(ee,r.modelType,new Date)):m(new Date(ee))},ae=ee=>ee?r.utc?w2e(ee,r.utc==="preserve",r.enableSeconds):r.modelType?r.modelType==="timestamp"?+d(ee):r.modelType==="format"&&(typeof r.format=="string"||!r.format)?u(d(ee)):u(d(ee),r.modelType):d(ee):"",be=ee=>{i("update:model-value",ee)},ke=ee=>Array.isArray(o.value)?r.multiDates?o.value.map(le=>ee(le)):[ee(o.value[0]),o.value[1]?ee(o.value[1]):g()]:ee(Ei(o.value)),se=ee=>be(Ei(ke(ee)));return{inputValue:A,internalModelValue:o,checkBeforeEmit:()=>o.value?r.range?r.partialRange?o.value.length>=1:o.value.length===2:!!o.value:!1,parseExternalModelValue:oe,formatInputValue:J,emitModelValue:()=>(J(),r.monthPicker?se(C):r.timePicker?se(x):r.yearPicker?se(Ln):r.weekPicker?be(o.value):be(H()))}},fye=(i,r)=>{const{validateMonthYearInRange:l,validateMaxDate:o,validateMinDate:d,defaults:m}=_o(i),u=(k,v)=>{let A=k;return m.value.filters.months.includes(In(A))?(A=v?hr(k,1):bl(k,1),u(A,v)):A},h=(k,v)=>{let A=k;return m.value.filters.years.includes(Ln(A))?(A=v?H6(k,1):b2e(k,1),h(A,v)):A},f=k=>{const v=fi(new Date,{month:i.month,year:i.year});let A=k?hr(v,1):bl(v,1);i.disableYearSelect&&(A=Nr(A,i.year));let T=In(A),x=Ln(A);m.value.filters.months.includes(T)&&(A=u(A,k),T=In(A),x=Ln(A)),m.value.filters.years.includes(x)&&(A=h(A,k),x=Ln(A)),l(T,x,k,i.preventMinMaxNavigation)&&g(T,x)},g=(k,v)=>{r("update-month-year",{month:k,year:v})},y=Ge(()=>k=>{if(!i.preventMinMaxNavigation||k&&!i.maxDate||!k&&!i.minDate)return!1;const v=fi(new Date,{month:i.month,year:i.year}),A=k?hr(v,1):bl(v,1),T=[In(A),Ln(A)];return k?!o(...T):!d(...T)});return{handleMonthYearChange:f,isDisabled:y,updateMonthYear:g}};var vh=(i=>(i.center="center",i.left="left",i.right="right",i))(vh||{});const pye=(i,r,l,o)=>{const d=et({top:"0",left:"0",transform:"none",opacity:"0"}),m=et(!1),u=kl(o,"teleportCenter"),h=Ge(()=>m.value?"-100%":"0"),f=()=>{g(),d.value.opacity="0"};Bt(u,()=>{S()}),Ue(()=>{g()});const g=()=>{const H=Qn(r);if(H){const{top:Y,left:oe,width:me,height:re}=T(H);d.value.top=`${Y+re/2}px`,A(oe,me,50)}},y=H=>{if(o.teleport){const Y=H.getBoundingClientRect();return{left:Y.left+window.scrollX,top:Y.top+window.scrollY}}return{top:0,left:0}},k=(H,Y)=>{d.value.left=`${H+Y}px`,d.value.transform=`translate(-100%, ${h.value})`},v=H=>{d.value.left=`${H}px`,d.value.transform=`translate(0, ${h.value})`},A=(H,Y,oe)=>{o.position===vh.left&&v(H),o.position===vh.right&&k(H,Y),o.position===vh.center&&(d.value.left=`${H+Y/2}px`,d.value.transform=oe?`translate(-50%, -${oe}%)`:`translate(-50%, ${h.value})`)},T=H=>{const{width:Y,height:oe}=H.getBoundingClientRect(),{top:me,left:re}=o.altPosition?o.altPosition(H):y(H);return{top:+me,left:+re,width:Y,height:oe}},x=()=>{const H=Qn(r);if(H){const{top:Y,left:oe,width:me,height:re}=T(H),W=j();d.value.top=`${Y+re/2}px`,A(oe,me,W==="top"?100:0)}},C=()=>{d.value.left="50%",d.value.top="50%",d.value.transform="translate(-50%, -50%)",d.value.position="fixed",delete d.value.opacity},D=()=>{const H=Qn(r),{top:Y,left:oe,transform:me}=o.altPosition(H);d.value={top:`${Y}px`,left:`${oe}px`,transform:me||""}},S=(H=!0)=>{if(!o.inline)return u.value?C():o.altPosition!==null?D():(H&&l("recalculate-position"),z())},M=({inputEl:H,menuEl:Y,left:oe,width:me})=>{window.screen.width>768&&A(oe,me),L(H,Y)},B=(H,Y)=>{const{top:oe,left:me,height:re,width:W}=T(H);d.value.top=`${re+oe+ +o.offset}px`,m.value=!1,M({inputEl:H,menuEl:Y,left:me,width:W})},R=(H,Y)=>{const{top:oe,left:me,width:re}=T(H);d.value.top=`${oe-+o.offset}px`,m.value=!0,M({inputEl:H,menuEl:Y,left:me,width:re})},L=(H,Y)=>{if(o.autoPosition){const{left:oe,width:me}=T(H),{left:re,right:W}=Y.getBoundingClientRect();return re<=0?v(oe):W>=document.documentElement.clientWidth?k(oe,me):A(oe,me)}},j=()=>{const H=Qn(i),Y=Qn(r);if(H&&Y){const{height:oe}=H.getBoundingClientRect(),{top:me,height:re}=Y.getBoundingClientRect(),W=window.innerHeight-me-re,J=me;return oe<=W?"bottom":oe>W&&oe<=J?"top":W>=J?"bottom":"top"}return"bottom"},N=(H,Y)=>j()==="bottom"?B(H,Y):R(H,Y),z=()=>{const H=Qn(r),Y=Qn(i);if(H&&Y)return o.autoPosition?N(H,Y):B(H,Y)},Z=function(H){if(H){const Y=H.scrollHeight>H.clientHeight,oe=window.getComputedStyle(H).overflowY.indexOf("hidden")!==-1;return Y&&!oe}return!0},K=function(H){return!H||H===document.body||H.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:Z(H)?H:K(H.parentNode)};return{openOnTop:m,menuStyle:d,resetPosition:f,setMenuPosition:S,setInitialPosition:x,getScrollableParent:K}},al=[{name:"clock-icon",use:["time","calendar"]},{name:"arrow-left",use:["month-year","calendar"]},{name:"arrow-right",use:["month-year","calendar"]},{name:"arrow-up",use:["time","calendar","month-year"]},{name:"arrow-down",use:["time","calendar","month-year"]},{name:"calendar-icon",use:["month-year","time","calendar"]},{name:"day",use:["calendar"]},{name:"month-overlay-value",use:["calendar","month-year"]},{name:"year-overlay-value",use:["calendar","month-year"]},{name:"year-overlay",use:["month-year"]},{name:"month-overlay",use:["month-year"]},{name:"month-overlay-header",use:["month-year"]},{name:"year-overlay-header",use:["month-year"]},{name:"hours-overlay-value",use:["calendar","time"]},{name:"minutes-overlay-value",use:["calendar","time"]},{name:"seconds-overlay-value",use:["calendar","time"]},{name:"hours",use:["calendar","time"]},{name:"minutes",use:["calendar","time"]},{name:"month",use:["calendar","month-year"]},{name:"year",use:["calendar","month-year"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar"]},{name:"marker-tooltip",use:["calendar"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time"]},{name:"am-pm-button",use:["calendar","time"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year"]},{name:"time-picker",use:["menu"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar"]}],mye=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],gye={all:()=>al,monthYear:()=>al.filter(i=>i.use.includes("month-year")),input:()=>mye,timePicker:()=>al.filter(i=>i.use.includes("time")),action:()=>al.filter(i=>i.use.includes("action")),calendar:()=>al.filter(i=>i.use.includes("calendar")),menu:()=>al.filter(i=>i.use.includes("menu"))},la=(i,r,l)=>{const o=[];return gye[r]().forEach(d=>{i[d.name]&&o.push(d.name)}),l&&l.length&&l.forEach(d=>{d.slot&&o.push(d.slot)}),o},Sf=i=>({transitionName:Ge(()=>r=>i&&typeof i!="boolean"?r?i.open:i.close:""),showTransition:!!i}),Ds={multiCalendars:{type:[Boolean,Number,String],default:null},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},closeOnScroll:{type:Boolean,default:!1},autoPosition:{type:Boolean,default:!0},closeOnAutoApply:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},multiCalendarsSolo:{type:Boolean,default:!1},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},showNowButton:{type:Boolean,default:!1},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},modeHeight:{type:[Number,String],default:255},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetRanges:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},keepActionRow:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},multiStatic:{type:Boolean,default:!0},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function],default:null},calendarClassName:{type:String,default:null},noSwipe:{type:Boolean,default:!1},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},inlineWithInput:{type:Boolean,default:!1},textInputOptions:{type:Object,default:()=>null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},onClickOutside:{type:Function,default:null},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},allowPreventDefault:{type:Boolean,default:!1},closeOnClearValue:{type:Boolean,default:!0},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:Function,default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},autoApplyMonth:{type:Boolean,default:!0}},_ye={key:1,class:"dp__input_wrap"},bye=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","onKeydown"],vye={key:2,class:"dp__clear_icon"},kye=Pi({__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Ds},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(i,{expose:r,emit:l}){const o=i,{getDefaultPattern:d,isValidDate:m,defaults:u,getDefaultStartTime:h,assignDefaultTime:f}=_o(o),g=et(),y=et(null),k=et(!1),v=et(!1),A=Ge(()=>({dp__pointer:!o.disabled&&!o.readonly&&!o.textInput,dp__disabled:o.disabled,dp__input_readonly:!o.textInput,dp__input:!0,dp__input_icon_pad:!o.hideInputIcon,dp__input_valid:o.state,dp__input_invalid:o.state===!1,dp__input_focus:k.value||o.isMenuOpen,dp__input_reg:!o.textInput,[o.inputClassName]:!!o.inputClassName})),T=()=>{l("set-input-date",null),o.autoApply&&(l("set-empty-date"),g.value=null)},x=K=>{var H;const Y=h();return k2e(K,((H=u.value.textInputOptions)==null?void 0:H.format)||d(),Y||f({}),o.inputValue,v.value)},C=K=>{const{rangeSeparator:H}=u.value.textInputOptions,[Y,oe]=K.split(`${H}`);if(Y){const me=x(Y.trim()),re=oe?x(oe.trim()):null,W=me&&re?[me,re]:[me];g.value=me?W:null}},D=()=>{v.value=!0},S=K=>{if(o.range)C(K);else if(o.multiDates){const H=K.split(";");g.value=H.map(Y=>x(Y.trim())).filter(Y=>Y)}else g.value=x(K)},M=K=>{var H,Y;const oe=typeof K=="string"?K:(H=K.target)==null?void 0:H.value;oe!==""?((Y=u.value.textInputOptions)!=null&&Y.openMenu&&!o.isMenuOpen&&l("open"),S(oe),l("set-input-date",g.value)):T(),v.value=!1,l("update:input-value",oe)},B=K=>{var H,Y;o.textInput?(S(K.target.value),(H=u.value.textInputOptions)!=null&&H.enterSubmit&&m(g.value)&&o.inputValue!==""?(l("set-input-date",g.value,!0),g.value=null):(Y=u.value.textInputOptions)!=null&&Y.enterSubmit&&o.inputValue===""&&(g.value=null,l("clear"))):j(K)},R=K=>{var H,Y,oe;o.textInput&&(H=u.value.textInputOptions)!=null&&H.tabSubmit&&S(K.target.value),(Y=u.value.textInputOptions)!=null&&Y.tabSubmit&&m(g.value)&&o.inputValue!==""?(l("set-input-date",g.value,!0),g.value=null):(oe=u.value.textInputOptions)!=null&&oe.tabSubmit&&o.inputValue===""&&(g.value=null,l("clear"))},L=()=>{k.value=!0,l("focus")},j=K=>{var H;K.preventDefault(),K.stopImmediatePropagation(),K.stopPropagation(),o.textInput&&(H=u.value.textInputOptions)!=null&&H.openMenu&&!o.inlineWithInput?(l("toggle"),u.value.textInputOptions.enterSubmit&&l("select-date")):o.textInput||l("toggle")},N=()=>{l("real-blur"),k.value=!1,(!o.isMenuOpen||o.inline&&o.inlineWithInput)&&l("blur"),o.autoApply&&o.textInput&&g.value&&!o.isMenuOpen&&(l("set-input-date",g.value),l("select-date"),g.value=null)},z=()=>{l("clear")},Z=K=>{if(!o.textInput){if(K.code==="Tab")return;K.preventDefault()}};return r({focusInput:()=>{var K;(K=y.value)==null||K.focus({preventScroll:!0})},setParsedDate:K=>{g.value=K}}),(K,H)=>{var Y;return F(),U("div",{onClick:j},[K.$slots.trigger&&!K.$slots["dp-input"]&&!K.inline?bt(K.$slots,"trigger",{key:0}):ve("",!0),!K.$slots.trigger&&(!K.inline||K.inlineWithInput)?(F(),U("div",_ye,[K.$slots["dp-input"]&&!K.$slots.trigger&&!K.inline?bt(K.$slots,"dp-input",{key:0,value:i.inputValue,isMenuOpen:i.isMenuOpen,onInput:M,onEnter:B,onTab:R,onClear:z,onBlur:N,onKeypress:Z,onPaste:D}):ve("",!0),K.$slots["dp-input"]?ve("",!0):(F(),U("input",{key:1,ref_key:"inputRef",ref:y,id:K.uid?`dp-input-${K.uid}`:void 0,name:K.name,class:je(A.value),inputmode:K.textInput?"text":"none",placeholder:K.placeholder,disabled:K.disabled,readonly:K.readonly,required:K.required,value:i.inputValue,autocomplete:K.autocomplete,"aria-label":(Y=P(u).ariaLabels)==null?void 0:Y.input,onInput:M,onKeydown:[St(B,["enter"]),St(R,["tab"]),Z],onBlur:N,onFocus:L,onKeypress:Z,onPaste:D},null,42,bye)),b("div",{onClick:H[2]||(H[2]=oe=>l("toggle"))},[K.$slots["input-icon"]&&!K.hideInputIcon?(F(),U("span",{key:0,class:"dp__input_icon",onClick:H[0]||(H[0]=oe=>l("toggle"))},[bt(K.$slots,"input-icon")])):ve("",!0),!K.$slots["input-icon"]&&!K.hideInputIcon&&!K.$slots["dp-input"]?(F(),lt(P(xf),{key:1,onClick:H[1]||(H[1]=oe=>l("toggle")),class:"dp__input_icon dp__input_icons"})):ve("",!0)]),K.$slots["clear-icon"]&&i.inputValue&&K.clearable&&!K.disabled&&!K.readonly?(F(),U("span",vye,[bt(K.$slots,"clear-icon",{clear:z})])):ve("",!0),K.clearable&&!K.$slots["clear-icon"]&&i.inputValue&&!K.disabled&&!K.readonly?(F(),lt(P(v2e),{key:3,class:"dp__clear_icon dp__input_icons",onClick:mi(z,["stop","prevent"])},null,8,["onClick"])):ve("",!0)])):ve("",!0)])}}}),wye=["title"],yye={class:"dp__action_buttons"},Cye=["onKeydown","disabled"],Aye=Pi({__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},calendarWidth:{type:Number,default:0},...Ds},emits:["close-picker","select-date","select-now","invalid-select"],setup(i,{emit:r}){const l=i,{formatDate:o,isValidTime:d,defaults:m}=_o(l),{buildMatrix:u}=Es(),h=et(null),f=et(null);Ue(()=>{l.arrowNavigation&&u([Qn(h),Qn(f)],"actionRow")});const g=Ge(()=>l.range&&!l.partialRange&&l.internalModelValue?l.internalModelValue.length===2:!0),y=Ge(()=>!k.value||!v.value||!g.value),k=Ge(()=>!l.enableTimePicker||l.ignoreTimeValidation?!0:d(l.internalModelValue)),v=Ge(()=>l.monthPicker?l.range&&Array.isArray(l.internalModelValue)?!l.internalModelValue.filter(R=>!M(R)).length:M(l.internalModelValue):!0),A=()=>{const R=m.value.previewFormat;return l.timePicker||l.monthPicker,R(Ei(l.internalModelValue))},T=()=>{const R=l.internalModelValue;return m.value.multiCalendars>0?`${x(R[0])} - ${x(R[1])}`:[x(R[0]),x(R[1])]},x=R=>o(R,m.value.previewFormat),C=Ge(()=>!l.internalModelValue||!l.menuMount?"":typeof m.value.previewFormat=="string"?Array.isArray(l.internalModelValue)?l.internalModelValue.length===2&&l.internalModelValue[1]?T():l.multiDates?l.internalModelValue.map(R=>`${x(R)}`):l.modelAuto?`${x(l.internalModelValue[0])}`:`${x(l.internalModelValue[0])} -`:x(l.internalModelValue):A()),D=()=>l.multiDates?"; ":" - ",S=Ge(()=>Array.isArray(C.value)?C.value.join(D()):C.value),M=R=>{if(!l.monthPicker)return!0;let L=!0;const j=nt(Dc(R));if(l.minDate&&l.maxDate){const N=nt(Dc(l.minDate)),z=nt(Dc(l.maxDate));return ji(j,N)&&Ii(j,z)||vn(j,N)||vn(j,z)}if(l.minDate){const N=nt(Dc(l.minDate));L=ji(j,N)||vn(j,N)}if(l.maxDate){const N=nt(Dc(l.maxDate));L=Ii(j,N)||vn(j,N)}return L},B=()=>{k.value&&v.value&&g.value?r("select-date"):r("invalid-select")};return(R,L)=>(F(),U("div",{class:"dp__action_row",style:Vn(i.calendarWidth?{width:`${i.calendarWidth}px`}:{})},[R.$slots["action-row"]?bt(R.$slots,"action-row",yi(ai({key:0},{internalModelValue:i.internalModelValue,disabled:y.value,selectDate:()=>R.$emit("select-date"),closePicker:()=>R.$emit("close-picker")}))):(F(),U(xe,{key:1},[P(m).actionRow.showPreview?(F(),U("div",{key:0,class:"dp__selection_preview",title:S.value},[R.$slots["action-preview"]?bt(R.$slots,"action-preview",{key:0,value:i.internalModelValue}):ve("",!0),R.$slots["action-preview"]?ve("",!0):(F(),U(xe,{key:1},[rt(_e(S.value),1)],64))],8,wye)):ve("",!0),b("div",yye,[R.$slots["action-buttons"]?bt(R.$slots,"action-buttons",{key:0,value:i.internalModelValue}):ve("",!0),R.$slots["action-buttons"]?ve("",!0):(F(),U(xe,{key:1},[!R.inline&&P(m).actionRow.showCancel?(F(),U("button",{key:0,type:"button",ref_key:"cancelButtonRef",ref:h,class:"dp__action_button dp__action_cancel",onClick:L[0]||(L[0]=j=>R.$emit("close-picker")),onKeydown:[L[1]||(L[1]=St(j=>R.$emit("close-picker"),["enter"])),L[2]||(L[2]=St(j=>R.$emit("close-picker"),["space"]))]},_e(R.cancelText),545)):ve("",!0),R.showNowButton||P(m).actionRow.showNow?(F(),U("button",{key:1,type:"button",ref_key:"cancelButtonRef",ref:h,class:"dp__action_button dp__action_cancel",onClick:L[3]||(L[3]=j=>R.$emit("select-now")),onKeydown:[L[4]||(L[4]=St(j=>R.$emit("select-now"),["enter"])),L[5]||(L[5]=St(j=>R.$emit("select-now"),["space"]))]},_e(R.nowButtonLabel),545)):ve("",!0),P(m).actionRow.showSelect?(F(),U("button",{key:2,type:"button",class:"dp__action_button dp__action_select",onKeydown:[St(B,["enter"]),St(B,["space"])],onClick:B,disabled:y.value,ref_key:"selectButtonRef",ref:f},_e(R.selectText),41,Cye)):ve("",!0)],64))])],64))],4))}}),xye=["aria-label"],Sye={class:"dp__calendar_header",role:"row"},Eye={key:0,class:"dp__calendar_header_item",role:"gridcell"},Dye=b("div",{class:"dp__calendar_header_separator"},null,-1),Tye=["aria-label"],Iye={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},Mye={class:"dp__cell_inner"},Pye=["aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],Oye=Pi({__name:"Calendar",props:{mappedDates:{type:Array,default:()=>[]},getWeekNum:{type:Function,default:()=>""},specificMode:{type:Boolean,default:!1},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Ds},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(i,{expose:r,emit:l}){const o=i,{buildMultiLevelMatrix:d}=Es(),{setDateMonthOrYear:m,defaults:u}=_o(o),h=et(null),f=et({bottom:"",left:"",transform:""}),g=et([]),y=et(null),k=et(!0),v=et(""),A=et({startX:0,endX:0,startY:0,endY:0}),T=et([]),x=et({left:"50%"}),C=Ge(()=>o.calendar?o.calendar(o.mappedDates):o.mappedDates),D=Ge(()=>o.dayNames?Array.isArray(o.dayNames)?o.dayNames:o.dayNames(o.locale,+o.weekStart):Q2e(o.formatLocale,o.locale,+o.weekStart));Ue(()=>{l("mount",{cmp:"calendar",refs:g}),o.noSwipe||y.value&&(y.value.addEventListener("touchstart",H,{passive:!1}),y.value.addEventListener("touchend",Y,{passive:!1}),y.value.addEventListener("touchmove",oe,{passive:!1})),o.monthChangeOnScroll&&y.value&&y.value.addEventListener("wheel",W,{passive:!1})});const S=J=>J?o.vertical?"vNext":"next":o.vertical?"vPrevious":"previous",M=(J,q)=>{if(o.transitions){const ae=To(m(nt(),o.month,o.year));v.value=ji(To(m(nt(),J,q)),ae)?u.value.transitions[S(!0)]:u.value.transitions[S(!1)],k.value=!1,eo(()=>{k.value=!0})}},B=Ge(()=>({[o.calendarClassName]:!!o.calendarClassName})),R=Ge(()=>J=>{const q=tye(J);return{dp__marker_dot:q.type==="dot",dp__marker_line:q.type==="line"}}),L=Ge(()=>J=>vn(J,h.value)),j=Ge(()=>({dp__calendar:!0,dp__calendar_next:u.value.multiCalendars>0&&o.instance!==0})),N=Ge(()=>J=>o.hideOffsetDates?J.current:!0),z=Ge(()=>o.specificMode?{height:`${o.modeHeight}px`}:void 0),Z=async(J,q,ae)=>{var be,ke;if(l("set-hover-date",J),(ke=(be=J.marker)==null?void 0:be.tooltip)!=null&&ke.length){const se=Qn(g.value[q][ae]);if(se){const{width:ee,height:le}=se.getBoundingClientRect();h.value=J.value;let te={left:`${ee/2}px`},X=-50;if(await eo(),T.value[0]){const{left:ce,width:pe}=T.value[0].getBoundingClientRect();ce<0&&(te={left:"0"},X=0,x.value.left=`${ee/2}px`),window.innerWidth<ce+pe&&(te={right:"0"},X=0,x.value.left=`${pe-ee/2}px`)}f.value={bottom:`${le}px`,...te,transform:`translateX(${X}%)`},l("tooltip-open",J.marker)}}},K=J=>{h.value&&(h.value=null,f.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),l("tooltip-close",J.marker))},H=J=>{A.value.startX=J.changedTouches[0].screenX,A.value.startY=J.changedTouches[0].screenY},Y=J=>{A.value.endX=J.changedTouches[0].screenX,A.value.endY=J.changedTouches[0].screenY,me()},oe=J=>{o.vertical&&!o.inline&&J.preventDefault()},me=()=>{const J=o.vertical?"Y":"X";Math.abs(A.value[`start${J}`]-A.value[`end${J}`])>10&&l("handle-swipe",A.value[`start${J}`]>A.value[`end${J}`]?"right":"left")},re=(J,q,ae)=>{J&&(Array.isArray(g.value[q])?g.value[q][ae]=J:g.value[q]=[J]),o.arrowNavigation&&d(g.value,"calendar")},W=J=>{o.monthChangeOnScroll&&(J.preventDefault(),l("handle-scroll",J))};return r({triggerTransition:M}),(J,q)=>{var ae;return F(),U("div",{class:je(j.value)},[b("div",{style:Vn(z.value),ref_key:"calendarWrapRef",ref:y,role:"grid",class:je(B.value),"aria-label":(ae=P(u).ariaLabels)==null?void 0:ae.calendarWrap},[i.specificMode?ve("",!0):(F(),U(xe,{key:0},[b("div",Sye,[J.weekNumbers?(F(),U("div",Eye,_e(J.weekNumName),1)):ve("",!0),(F(!0),U(xe,null,Xe(D.value,(be,ke)=>(F(),U("div",{class:"dp__calendar_header_item",role:"gridcell",key:ke},[J.$slots["calendar-header"]?bt(J.$slots,"calendar-header",{key:0,day:be,index:ke}):ve("",!0),J.$slots["calendar-header"]?ve("",!0):(F(),U(xe,{key:1},[rt(_e(be),1)],64))]))),128))]),Dye,ue(Wr,{name:v.value,css:!!J.transitions},{default:qe(()=>{var be;return[k.value?(F(),U("div",{key:0,class:"dp__calendar",role:"grid","aria-label":(be=P(u).ariaLabels)==null?void 0:be.calendarDays},[(F(!0),U(xe,null,Xe(C.value,(ke,se)=>(F(),U("div",{class:"dp__calendar_row",role:"row",key:se},[J.weekNumbers?(F(),U("div",Iye,[b("div",Mye,_e(i.getWeekNum(ke.days)),1)])):ve("",!0),(F(!0),U(xe,null,Xe(ke.days,(ee,le)=>{var te,X,ce;return F(),U("div",{role:"gridcell",class:"dp__calendar_item",ref_for:!0,ref:pe=>re(pe,se,le),key:le+se,"aria-selected":ee.classData.dp__active_date||ee.classData.dp__range_start||ee.classData.dp__range_start,"aria-disabled":ee.classData.dp__cell_disabled,"aria-label":(X=(te=P(u).ariaLabels)==null?void 0:te.day)==null?void 0:X.call(te,ee),tabindex:"0",onClick:mi(pe=>J.$emit("select-date",ee),["stop","prevent"]),onKeydown:[St(pe=>J.$emit("select-date",ee),["enter"]),St(pe=>J.$emit("handle-space",ee),["space"])],onMouseenter:pe=>Z(ee,se,le),onMouseleave:pe=>K(ee)},[b("div",{class:je(["dp__cell_inner",ee.classData])},[J.$slots.day&&N.value(ee)?bt(J.$slots,"day",{key:0,day:+ee.text,date:ee.value}):ve("",!0),J.$slots.day?ve("",!0):(F(),U(xe,{key:1},[rt(_e(ee.text),1)],64)),ee.marker&&N.value(ee)?(F(),U(xe,{key:2},[J.$slots.marker?bt(J.$slots,"marker",{key:0,marker:ee.marker,day:+ee.text,date:ee.value}):(F(),U("div",{key:1,class:je(R.value(ee.marker)),style:Vn(ee.marker.color?{backgroundColor:ee.marker.color}:{})},null,6))],64)):ve("",!0),L.value(ee.value)?(F(),U("div",{key:3,class:"dp__marker_tooltip",ref_for:!0,ref_key:"activeTooltip",ref:T,style:Vn(f.value)},[(ce=ee.marker)!=null&&ce.tooltip?(F(),U("div",{key:0,class:"dp__tooltip_content",onClick:q[0]||(q[0]=mi(()=>{},["stop"]))},[(F(!0),U(xe,null,Xe(ee.marker.tooltip,(pe,we)=>(F(),U("div",{key:we,class:"dp__tooltip_text"},[J.$slots["marker-tooltip"]?bt(J.$slots,"marker-tooltip",{key:0,tooltip:pe,day:ee.value}):ve("",!0),J.$slots["marker-tooltip"]?ve("",!0):(F(),U(xe,{key:1},[b("div",{class:"dp__tooltip_mark",style:Vn(pe.color?{backgroundColor:pe.color}:{})},null,4),b("div",null,_e(pe.text),1)],64))]))),128)),b("div",{class:"dp__arrow_bottom_tp",style:Vn(x.value)},null,4)])):ve("",!0)],4)):ve("",!0)],2)],40,Pye)}),128))]))),128))],8,Tye)):ve("",!0)]}),_:3},8,["name","css"])],64))],14,xye)],2)}}}),Bye=["aria-label","aria-disabled"],Og=Pi({__name:"ActionIcon",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(i,{emit:r}){const l=et(null);return Ue(()=>r("set-ref",l)),(o,d)=>(F(),U("button",{type:"button",class:"dp__btn dp__month_year_col_nav",onClick:d[0]||(d[0]=m=>o.$emit("activate")),onKeydown:[d[1]||(d[1]=St(mi(m=>o.$emit("activate"),["prevent"]),["enter"])),d[2]||(d[2]=St(mi(m=>o.$emit("activate"),["prevent"]),["space"]))],tabindex:"0","aria-label":o.ariaLabel,"aria-disabled":o.disabled,ref_key:"elRef",ref:l},[b("span",{class:je(["dp__inner_nav",{dp__inner_nav_disabled:o.disabled}])},[bt(o.$slots,"default")],2)],40,Bye))}}),Lye=["onKeydown"],Rye={class:"dp__selection_grid_header"},Nye=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],$ye=["aria-label","onKeydown"],Jc=Pi({__name:"SelectionGrid",props:{items:{type:Array,default:()=>[]},modelValue:{type:[String,Number],default:null},multiModelValue:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:[Number,String],default:null},maxValue:{type:[Number,String],default:null},year:{type:Number,default:0},skipActive:{type:Boolean,default:!1},headerRefs:{type:Array,default:()=>[]},skipButtonRef:{type:Boolean,default:!1},monthPicker:{type:Boolean,default:!1},yearPicker:{type:Boolean,default:!1},escClose:{type:Boolean,default:!0},type:{type:String,default:null},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]},internalModelValue:{type:[Date,Array],default:null},autoApplyMonth:{type:Boolean,default:!1}},emits:["update:model-value","selected","toggle","reset-flow"],setup(i,{expose:r,emit:l}){const o=i,{setSelectionGrid:d,buildMultiLevelMatrix:m,setMonthPicker:u}=Es(),{hideNavigationButtons:h}=_o(o),f=et(!1),g=et(null),y=et(null),k=et([]),v=et(),A=et(null),T=et(0),x=et(null);H0(()=>{g.value=null}),Ue(()=>{var W;eo().then(()=>z()),D(),C(!0),(W=g.value)==null||W.focus({preventScroll:!0})}),Aa(()=>C(!1));const C=W=>{var J;o.arrowNavigation&&((J=o.headerRefs)!=null&&J.length?u(W):d(W))},D=()=>{const W=Qn(y);W&&(o.textInput||W.focus({preventScroll:!0}),f.value=W.clientHeight<W.scrollHeight)},S=Ge(()=>({dp__overlay:!0})),M=Ge(()=>({dp__overlay_col:!0})),B=W=>o.monthPicker&&!o.autoApplyMonth?vn(o.internalModelValue,Nr(hl(new Date,W.value),o.year)):o.skipActive?!1:W.value===o.modelValue,R=Ge(()=>o.items.map(W=>W.filter(J=>J).map(J=>{var q,ae,be;const ke=o.disabledValues.some(ee=>ee===J.value)||N(J.value),se=(q=o.multiModelValue)!=null&&q.length?(ae=o.multiModelValue)==null?void 0:ae.some(ee=>vn(ee,Nr(o.monthPicker?hl(new Date,J.value):new Date,o.monthPicker?o.year:J.value))):B(J);return{...J,className:{dp__overlay_cell_active:se,dp__overlay_cell:!se,dp__overlay_cell_disabled:ke,dp__overlay_cell_active_disabled:ke&&se,dp__overlay_cell_pad:!0,dp__cell_in_between:(be=o.multiModelValue)!=null&&be.length&&o.skipActive?K(J.value):!1}}}))),L=Ge(()=>({dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:f.value,dp__button_bottom:o.autoApply})),j=Ge(()=>{var W,J;return{dp__overlay_container:!0,dp__container_flex:((W=o.items)==null?void 0:W.length)<=6,dp__container_block:((J=o.items)==null?void 0:J.length)>6}}),N=W=>{const J=o.maxValue||o.maxValue===0,q=o.minValue||o.minValue===0;return!J&&!q?!1:J&&q?+W>+o.maxValue||+W<+o.minValue:J?+W>+o.maxValue:q?+W<+o.minValue:!1},z=()=>{const W=Qn(g),J=Qn(y),q=Qn(A),ae=Qn(x),be=q?q.getBoundingClientRect().height:0;J&&(T.value=J.getBoundingClientRect().height-be),W&&ae&&(ae.scrollTop=W.offsetTop-ae.offsetTop-(T.value/2-W.getBoundingClientRect().height)-be)},Z=W=>{!o.disabledValues.some(J=>J===W)&&!N(W)&&(l("update:model-value",W),l("selected"))},K=W=>{const J=o.monthPicker?o.year:W;return h8(o.multiModelValue,Nr(o.monthPicker?hl(new Date,v.value||0):new Date,o.monthPicker?J:v.value||J),Nr(o.monthPicker?hl(new Date,W):new Date,J))},H=()=>{l("toggle"),l("reset-flow")},Y=()=>{o.escClose&&H()},oe=(W,J,q,ae)=>{W&&(J.value===+o.modelValue&&!o.disabledValues.includes(J.value)&&(g.value=W),o.arrowNavigation&&(Array.isArray(k.value[q])?k.value[q][ae]=W:k.value[q]=[W],me()))},me=()=>{var W,J;const q=(W=o.headerRefs)!=null&&W.length?[o.headerRefs].concat(k.value):k.value.concat([o.skipButtonRef?[]:[A.value]]);m(Ei(q),(J=o.headerRefs)!=null&&J.length?"monthPicker":"selectionGrid")},re=W=>{o.arrowNavigation||W.stopImmediatePropagation()};return r({focusGrid:D}),(W,J)=>{var q;return F(),U("div",{ref_key:"gridWrapRef",ref:y,class:je(S.value),role:"dialog",tabindex:"0",onKeydown:[St(Y,["esc"]),J[0]||(J[0]=St(ae=>re(ae),["left"])),J[1]||(J[1]=St(ae=>re(ae),["up"])),J[2]||(J[2]=St(ae=>re(ae),["down"])),J[3]||(J[3]=St(ae=>re(ae),["right"]))]},[b("div",{class:je(j.value),ref_key:"containerRef",ref:x,role:"grid",style:Vn({height:`${T.value}px`})},[b("div",Rye,[bt(W.$slots,"header")]),W.$slots.overlay?bt(W.$slots,"overlay",{key:0}):(F(!0),U(xe,{key:1},Xe(R.value,(ae,be)=>(F(),U("div",{class:je(["dp__overlay_row",{dp__flex_row:R.value.length>=3}]),key:be,role:"row"},[(F(!0),U(xe,null,Xe(ae,(ke,se)=>(F(),U("div",{role:"gridcell",class:je(M.value),key:ke.value,"aria-selected":ke.value===i.modelValue&&!i.disabledValues.includes(ke.value),"aria-disabled":ke.className.dp__overlay_cell_disabled,ref_for:!0,ref:ee=>oe(ee,ke,be,se),tabindex:"0",onClick:ee=>Z(ke.value),onKeydown:[St(ee=>Z(ke.value),["enter"]),St(ee=>Z(ke.value),["space"])],onMouseover:ee=>v.value=ke.value},[b("div",{class:je(ke.className)},[W.$slots.item?bt(W.$slots,"item",{key:0,item:ke}):ve("",!0),W.$slots.item?ve("",!0):(F(),U(xe,{key:1},[rt(_e(ke.text),1)],64))],2)],42,Nye))),128))],2))),128))],6),W.$slots["button-icon"]?ct((F(),U("div",{key:0,role:"button","aria-label":(q=i.ariaLabels)==null?void 0:q.toggleOverlay,class:je(L.value),tabindex:"0",ref_key:"toggleButton",ref:A,onClick:H,onKeydown:[St(H,["enter"]),St(H,["tab"])]},[bt(W.$slots,"button-icon")],42,$ye)),[[fr,!P(h)(i.type)]]):ve("",!0)],42,Lye)}}}),jye=["aria-label"],Y5=Pi({__name:"RegularPicker",props:{ariaLabel:{type:String,default:""},showSelectionGrid:{type:Boolean,default:!1},modelValue:{type:Number,default:null},items:{type:Array,default:()=>[]},disabledValues:{type:Array,default:()=>[]},minValue:{type:Number,default:null},maxValue:{type:Number,default:null},slotName:{type:String,default:""},overlaySlot:{type:String,default:""},headerRefs:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},type:{type:String,default:null},transitions:{type:[Object,Boolean],default:!1},arrowNavigation:{type:Boolean,default:!1},autoApply:{type:Boolean,default:!1},textInput:{type:Boolean,default:!1},ariaLabels:{type:Object,default:()=>({})},hideNavigation:{type:Array,default:()=>[]}},emits:["update:model-value","toggle","set-ref"],setup(i,{emit:r}){const l=i,{transitionName:o,showTransition:d}=Sf(l.transitions),m=et(null);return Ue(()=>r("set-ref",m)),(u,h)=>(F(),U(xe,null,[b("button",{type:"button",class:"dp__btn dp__month_year_select",onClick:h[0]||(h[0]=f=>u.$emit("toggle")),onKeydown:[h[1]||(h[1]=St(mi(f=>u.$emit("toggle"),["prevent"]),["enter"])),h[2]||(h[2]=St(mi(f=>u.$emit("toggle"),["prevent"]),["space"]))],"aria-label":i.ariaLabel,tabindex:"0",ref_key:"elRef",ref:m},[bt(u.$slots,"default")],40,jye),ue(Wr,{name:P(o)(i.showSelectionGrid),css:P(d)},{default:qe(()=>[i.showSelectionGrid?(F(),lt(Jc,ai({key:0},{modelValue:i.modelValue,items:i.items,disabledValues:i.disabledValues,minValue:i.minValue,maxValue:i.maxValue,escClose:i.escClose,type:i.type,arrowNavigation:i.arrowNavigation,textInput:i.textInput,autoApply:i.autoApply,ariaLabels:i.ariaLabels,hideNavigation:i.hideNavigation},{"header-refs":[],"onUpdate:modelValue":h[3]||(h[3]=f=>u.$emit("update:model-value",f)),onToggle:h[4]||(h[4]=f=>u.$emit("toggle"))}),Ni({"button-icon":qe(()=>[u.$slots["calendar-icon"]?bt(u.$slots,"calendar-icon",{key:0}):ve("",!0),u.$slots["calendar-icon"]?ve("",!0):(F(),lt(P(xf),{key:1}))]),_:2},[u.$slots[i.slotName]?{name:"item",fn:qe(({item:f})=>[bt(u.$slots,i.slotName,{item:f})]),key:"0"}:void 0,u.$slots[i.overlaySlot]?{name:"overlay",fn:qe(()=>[bt(u.$slots,i.overlaySlot)]),key:"1"}:void 0,u.$slots[`${i.overlaySlot}-header`]?{name:"header",fn:qe(()=>[bt(u.$slots,`${i.overlaySlot}-header`)]),key:"2"}:void 0]),1040)):ve("",!0)]),_:3},8,["name","css"])],64))}}),zye={class:"dp__month_year_row"},Fye={class:"dp__month_picker_header"},Vye=["aria-label"],Uye=["aria-label"],Hye=["aria-label"],Wye=Pi({__name:"MonthYearPicker",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},internalModelValue:{type:[Date,Array],default:null},...Ds},emits:["update-month-year","month-year-select","mount","reset-flow","overlay-closed"],setup(i,{expose:r,emit:l}){const o=i,{defaults:d}=_o(o),{transitionName:m,showTransition:u}=Sf(d.value.transitions),{buildMatrix:h}=Es(),{handleMonthYearChange:f,isDisabled:g,updateMonthYear:y}=fye(o,l),k=et(!1),v=et(!1),A=et([null,null,null,null]),T=et(null),x=et(null),C=et(null);Ue(()=>{l("mount")});const D=le=>({get:()=>o[le],set:te=>{const X=le==="month"?"year":"month";l("update-month-year",{[le]:te,[X]:o[X]}),l("month-year-select",le==="year"),le==="month"?ae(!0):be(!0)}}),S=Ge(D("month")),M=Ge(D("year")),B=le=>{const te=Ln(nt(le));return o.year===te},R=Ge(()=>o.monthPicker?Array.isArray(o.disabledDates)?o.disabledDates.map(le=>nt(le)).filter(le=>B(le)).map(le=>In(le)):[]:[]),L=Ge(()=>le=>{const te=le==="month";return{showSelectionGrid:(te?k:v).value,items:(te?me:re).value,disabledValues:d.value.filters[te?"months":"years"].concat(R.value),minValue:(te?Z:N).value,maxValue:(te?K:z).value,headerRefs:te&&o.monthPicker?[T.value,x.value,C.value]:[],escClose:o.escClose,transitions:d.value.transitions,ariaLabels:d.value.ariaLabels,textInput:o.textInput,autoApply:o.autoApply,arrowNavigation:o.arrowNavigation,hideNavigation:o.hideNavigation}}),j=Ge(()=>le=>({month:o.month,year:o.year,items:le==="month"?o.months:o.years,instance:o.instance,updateMonthYear:y,toggle:le==="month"?ae:be})),N=Ge(()=>o.minDate?Ln(nt(o.minDate)):null),z=Ge(()=>o.maxDate?Ln(nt(o.maxDate)):null),Z=Ge(()=>{if(o.minDate&&N.value){if(N.value>o.year)return 12;if(N.value===o.year)return In(nt(o.minDate))}return null}),K=Ge(()=>o.maxDate&&z.value?z.value<o.year?-1:z.value===o.year?In(nt(o.maxDate)):null:null),H=Ge(()=>(o.range||o.multiDates)&&o.internalModelValue&&(o.monthPicker||o.yearPicker)?o.internalModelValue:[]),Y=le=>{const te=[],X=ce=>ce;for(let ce=0;ce<le.length;ce+=3){const pe=[le[ce],le[ce+1],le[ce+2]];te.push(X(pe))}return te},oe=Ge(()=>o.months.find(te=>te.value===o.month)||{text:"",value:0}),me=Ge(()=>Y(o.months)),re=Ge(()=>Y(o.years)),W=Ge(()=>d.value.multiCalendars?o.multiCalendarsSolo?!0:o.instance===0:!0),J=Ge(()=>d.value.multiCalendars?o.multiCalendarsSolo?!0:o.instance===d.value.multiCalendars-1:!0),q=(le,te)=>{te!==void 0?le.value=te:le.value=!le.value},ae=(le=!1,te)=>{ke(le),q(k,te),k.value||l("overlay-closed")},be=(le=!1,te)=>{ke(le),q(v,te),v.value||l("overlay-closed")},ke=le=>{le||l("reset-flow")},se=(le=!1)=>{g.value(le)||l("update-month-year",{year:le?o.year+1:o.year-1,month:o.month,fromNav:!0})},ee=(le,te)=>{o.arrowNavigation&&(A.value[te]=Qn(le),h(A.value,"monthYear"))};return r({toggleMonthPicker:ae,toggleYearPicker:be,handleMonthYearChange:f}),(le,te)=>{var X,ce,pe,we,Ze;return F(),U("div",zye,[le.$slots["month-year"]?bt(le.$slots,"month-year",yi(ai({key:0},{month:i.month,year:i.year,months:i.months,years:i.years,updateMonthYear:P(y),handleMonthYearChange:P(f),instance:i.instance}))):(F(),U(xe,{key:1},[!le.monthPicker&&!le.yearPicker?(F(),U(xe,{key:0},[W.value&&!le.vertical?(F(),lt(Og,{key:0,"aria-label":(X=P(d).ariaLabels)==null?void 0:X.prevMonth,disabled:P(g)(!1),onActivate:te[0]||(te[0]=ne=>P(f)(!1)),onSetRef:te[1]||(te[1]=ne=>ee(ne,0))},{default:qe(()=>[le.$slots["arrow-left"]?bt(le.$slots,"arrow-left",{key:0}):ve("",!0),le.$slots["arrow-left"]?ve("",!0):(F(),lt(P(M5),{key:1}))]),_:3},8,["aria-label","disabled"])):ve("",!0),b("div",{class:je(["dp__month_year_wrap",{dp__year_disable_select:o.disableYearSelect}])},[ue(Y5,ai({type:"month","slot-name":"month-overlay-val","overlay-slot":"overlay-month","aria-label":(ce=P(d).ariaLabels)==null?void 0:ce.openMonthsOverlay,modelValue:S.value,"onUpdate:modelValue":te[2]||(te[2]=ne=>S.value=ne)},L.value("month"),{onToggle:ae,onSetRef:te[3]||(te[3]=ne=>ee(ne,1))}),Ni({default:qe(()=>[le.$slots.month?bt(le.$slots,"month",yi(ai({key:0},oe.value))):ve("",!0),le.$slots.month?ve("",!0):(F(),U(xe,{key:1},[rt(_e(oe.value.text),1)],64))]),_:2},[le.$slots["calendar-icon"]?{name:"calendar-icon",fn:qe(()=>[bt(le.$slots,"calendar-icon")]),key:"0"}:void 0,le.$slots["month-overlay-value"]?{name:"month-overlay-val",fn:qe(({item:ne})=>[bt(le.$slots,"month-overlay-value",{text:ne.text,value:ne.value})]),key:"1"}:void 0,le.$slots["month-overlay"]?{name:"overlay-month",fn:qe(()=>[bt(le.$slots,"month-overlay",yi(po(j.value("month"))))]),key:"2"}:void 0,le.$slots["month-overlay-header"]?{name:"overlay-month-header",fn:qe(()=>[bt(le.$slots,"month-overlay-header",{toggle:ae})]),key:"3"}:void 0]),1040,["aria-label","modelValue"]),o.disableYearSelect?ve("",!0):(F(),lt(Y5,ai({key:0,type:"year","slot-name":"year-overlay-val","overlay-slot":"overlay-year","aria-label":(pe=P(d).ariaLabels)==null?void 0:pe.openYearsOverlay,modelValue:M.value,"onUpdate:modelValue":te[4]||(te[4]=ne=>M.value=ne)},L.value("year"),{onToggle:be,onSetRef:te[5]||(te[5]=ne=>ee(ne,2))}),Ni({default:qe(()=>[le.$slots.year?bt(le.$slots,"year",{key:0,year:i.year}):ve("",!0),le.$slots.year?ve("",!0):(F(),U(xe,{key:1},[rt(_e(i.year),1)],64))]),_:2},[le.$slots["calendar-icon"]?{name:"calendar-icon",fn:qe(()=>[bt(le.$slots,"calendar-icon")]),key:"0"}:void 0,le.$slots["year-overlay-value"]?{name:"year-overlay-val",fn:qe(({item:ne})=>[bt(le.$slots,"year-overlay-value",{text:ne.text,value:ne.value})]),key:"1"}:void 0,le.$slots["year-overlay"]?{name:"overlay-year",fn:qe(()=>[bt(le.$slots,"year-overlay",yi(po(j.value("year"))))]),key:"2"}:void 0,le.$slots["year-overlay-header"]?{name:"overlay-year-header",fn:qe(()=>[bt(le.$slots,"year-overlay-header",{toggle:be})]),key:"3"}:void 0]),1040,["aria-label","modelValue"]))],2),W.value&&le.vertical?(F(),lt(Og,{key:1,"aria-label":(we=P(d).ariaLabels)==null?void 0:we.prevMonth,disabled:P(g)(!1),onActivate:te[6]||(te[6]=ne=>P(f)(!1))},{default:qe(()=>[le.$slots["arrow-up"]?bt(le.$slots,"arrow-up",{key:0}):ve("",!0),le.$slots["arrow-up"]?ve("",!0):(F(),lt(P(d8),{key:1}))]),_:3},8,["aria-label","disabled"])):ve("",!0),J.value?(F(),lt(Og,{key:2,ref:"rightIcon",disabled:P(g)(!0),"aria-label":(Ze=P(d).ariaLabels)==null?void 0:Ze.nextMonth,onActivate:te[7]||(te[7]=ne=>P(f)(!0)),onSetRef:te[8]||(te[8]=ne=>ee(ne,3))},{default:qe(()=>[le.$slots[le.vertical?"arrow-down":"arrow-right"]?bt(le.$slots,le.vertical?"arrow-down":"arrow-right",{key:0}):ve("",!0),le.$slots[le.vertical?"arrow-down":"arrow-right"]?ve("",!0):(F(),lt(Yo(le.vertical?P(u8):P(P5)),{key:1}))]),_:3},8,["disabled","aria-label"])):ve("",!0)],64)):ve("",!0),le.monthPicker?(F(),lt(Jc,ai({key:1},L.value("month"),{"skip-active":le.range,"internal-model-value":i.internalModelValue,year:i.year,"auto-apply-month":le.autoApplyMonth,"multi-model-value":H.value,"month-picker":"",modelValue:S.value,"onUpdate:modelValue":te[17]||(te[17]=ne=>S.value=ne),onToggle:ae,onSelected:te[18]||(te[18]=ne=>le.$emit("overlay-closed"))}),Ni({header:qe(()=>{var ne,de,ge;return[b("div",Fye,[b("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpPrevIconRef",ref:T,onClick:te[9]||(te[9]=Ee=>se(!1)),onKeydown:te[10]||(te[10]=St(Ee=>se(!1),["enter"]))},[b("div",{class:je(["dp__inner_nav",{dp__inner_nav_disabled:P(g)(!1)}]),role:"button","aria-label":(ne=P(d).ariaLabels)==null?void 0:ne.prevMonth},[le.$slots["arrow-left"]?bt(le.$slots,"arrow-left",{key:0}):ve("",!0),le.$slots["arrow-left"]?ve("",!0):(F(),lt(P(M5),{key:1}))],10,Vye)],544),b("div",{class:"dp__pointer",role:"button",ref_key:"mpYearButtonRef",ref:x,"aria-label":(de=P(d).ariaLabels)==null?void 0:de.openYearsOverlay,tabindex:"0",onClick:te[11]||(te[11]=()=>be(!1)),onKeydown:te[12]||(te[12]=St(()=>be(!1),["enter"]))},[le.$slots.year?bt(le.$slots,"year",{key:0,year:i.year}):ve("",!0),le.$slots.year?ve("",!0):(F(),U(xe,{key:1},[rt(_e(i.year),1)],64))],40,Uye),b("div",{class:"dp__month_year_col_nav",tabindex:"0",ref_key:"mpNextIconRef",ref:C,onClick:te[13]||(te[13]=Ee=>se(!0)),onKeydown:te[14]||(te[14]=St(Ee=>se(!0),["enter"]))},[b("div",{class:je(["dp__inner_nav",{dp__inner_nav_disabled:P(g)(!0)}]),role:"button","aria-label":(ge=P(d).ariaLabels)==null?void 0:ge.nextMonth},[le.$slots["arrow-right"]?bt(le.$slots,"arrow-right",{key:0}):ve("",!0),le.$slots["arrow-right"]?ve("",!0):(F(),lt(P(P5),{key:1}))],10,Hye)],544)]),ue(Wr,{name:P(m)(v.value),css:P(u)},{default:qe(()=>[v.value?(F(),lt(Jc,ai({key:0},L.value("year"),{modelValue:M.value,"onUpdate:modelValue":te[15]||(te[15]=Ee=>M.value=Ee),onToggle:be,onSelected:te[16]||(te[16]=Ee=>le.$emit("overlay-closed"))}),Ni({"button-icon":qe(()=>[le.$slots["calendar-icon"]?bt(le.$slots,"calendar-icon",{key:0}):ve("",!0),le.$slots["calendar-icon"]?ve("",!0):(F(),lt(P(xf),{key:1}))]),_:2},[le.$slots["year-overlay-value"]?{name:"item",fn:qe(({item:Ee})=>[bt(le.$slots,"year-overlay-value",{text:Ee.text,value:Ee.value})]),key:"0"}:void 0]),1040,["modelValue"])):ve("",!0)]),_:3},8,["name","css"])]}),_:2},[le.$slots["month-overlay-value"]?{name:"item",fn:qe(({item:ne})=>[bt(le.$slots,"month-overlay-value",{text:ne.text,value:ne.value})]),key:"0"}:void 0]),1040,["skip-active","internal-model-value","year","auto-apply-month","multi-model-value","modelValue"])):ve("",!0),le.yearPicker?(F(),lt(Jc,ai({key:2},L.value("year"),{modelValue:M.value,"onUpdate:modelValue":te[19]||(te[19]=ne=>M.value=ne),"multi-model-value":H.value,"skip-active":le.range,"skip-button-ref":"","year-picker":"",onToggle:be,onSelected:te[20]||(te[20]=ne=>le.$emit("overlay-closed"))}),Ni({_:2},[le.$slots["year-overlay-value"]?{name:"item",fn:qe(({item:ne})=>[bt(le.$slots,"year-overlay-value",{text:ne.text,value:ne.value})]),key:"0"}:void 0]),1040,["modelValue","multi-model-value","skip-active"])):ve("",!0)],64))])}}}),Gye={key:0,class:"dp__time_input"},Kye=["aria-label","onKeydown","onClick"],Yye=b("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),qye=b("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),Zye=["aria-label","onKeydown","onClick"],Qye=["aria-label","onKeydown","onClick"],Jye=b("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),Xye=b("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),eCe={key:0},tCe=["aria-label","onKeydown"],nCe=Pi({__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},...Ds},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(i,{expose:r,emit:l}){const o=i,{setTimePickerElements:d,setTimePickerBackRef:m}=Es(),{defaults:u}=_o(o),{transitionName:h,showTransition:f}=Sf(u.value.transitions),g=Ve({hours:!1,minutes:!1,seconds:!1}),y=et("AM"),k=et(null),v=et([]);Ue(()=>{l("mounted")});const A=q=>fi(new Date,{hours:q.hours,minutes:q.minutes,seconds:o.enableSeconds?q.seconds:0,milliseconds:0}),T=Ge(()=>({hours:o.hours,minutes:o.minutes,seconds:o.seconds})),x=Ge(()=>q=>!N(+o[q]+ +o[`${q}Increment`],q)),C=Ge(()=>q=>!N(+o[q]-+o[`${q}Increment`],q)),D=(q,ae)=>U6(fi(nt(),q),ae),S=(q,ae)=>_2e(fi(nt(),q),ae),M=Ge(()=>({dp__time_col:!0,dp__time_col_block:!o.timePickerInline,dp__time_col_reg_block:!o.enableSeconds&&o.is24&&!o.timePickerInline,dp__time_col_reg_inline:!o.enableSeconds&&o.is24&&o.timePickerInline,dp__time_col_reg_with_button:!o.enableSeconds&&!o.is24,dp__time_col_sec:o.enableSeconds&&o.is24,dp__time_col_sec_with_button:o.enableSeconds&&!o.is24})),B=Ge(()=>{const q=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return o.enableSeconds?q.concat([{type:"",separator:!0},{type:"seconds"}]):q}),R=Ge(()=>B.value.filter(q=>!q.separator)),L=Ge(()=>q=>{if(q==="hours"){const ae=oe(+o.hours);return{text:ae<10?`0${ae}`:`${ae}`,value:ae}}return{text:o[q]<10?`0${o[q]}`:`${o[q]}`,value:o[q]}}),j=q=>{const ae=o.is24?24:12,be=q==="hours"?ae:60,ke=+o[`${q}GridIncrement`],se=q==="hours"&&!o.is24?ke:0,ee=[];for(let le=se;le<be;le+=ke)ee.push({value:le,text:le<10?`0${le}`:`${le}`});return q==="hours"&&!o.is24&&ee.push({value:0,text:"12"}),q2e(ee)},N=(q,ae)=>{const be=o.minTime?A(Ag(o.minTime)):null,ke=o.maxTime?A(Ag(o.maxTime)):null,se=A(Ag(T.value,ae,q));return be&&ke?(hd(se,ke)||aa(se,ke))&&(ud(se,be)||aa(se,be)):be?ud(se,be)||aa(se,be):ke?hd(se,ke)||aa(se,ke):!0},z=Ge(()=>q=>j(q).flat().filter(ae=>nye(ae.value)).map(ae=>ae.value).filter(ae=>!N(ae,q))),Z=q=>o[`no${q[0].toUpperCase()+q.slice(1)}Overlay`],K=q=>{Z(q)||(g[q]=!g[q],g[q]||l("overlay-closed"))},H=q=>q==="hours"?Or:q==="minutes"?Br:Ml,Y=(q,ae=!0)=>{const be=ae?D:S,ke=ae?+o[`${q}Increment`]:-+o[`${q}Increment`];N(+o[q]+ke,q)&&l(`update:${q}`,H(q)(be({[q]:+o[q]},{[q]:+o[`${q}Increment`]})))},oe=q=>o.is24?q:(q>=12?y.value="PM":y.value="AM",eye(q)),me=()=>{y.value==="PM"?(y.value="AM",l("update:hours",o.hours-12)):(y.value="PM",l("update:hours",o.hours+12)),l("am-pm-change",y.value)},re=q=>{g[q]=!0},W=(q,ae,be)=>{if(q&&o.arrowNavigation){Array.isArray(v.value[ae])?v.value[ae][be]=q:v.value[ae]=[q];const ke=v.value.reduce((se,ee)=>ee.map((le,te)=>[...se[te]||[],ee[te]]),[]);m(o.closeTimePickerBtn),k.value&&(ke[1]=ke[1].concat(k.value)),d(ke,o.order)}},J=(q,ae)=>q==="hours"&&!o.is24?l(`update:${q}`,y.value==="PM"?ae+12:ae):l(`update:${q}`,ae);return r({openChildCmp:re}),(q,ae)=>{var be;return q.disabled?ve("",!0):(F(),U("div",Gye,[(F(!0),U(xe,null,Xe(B.value,(ke,se)=>{var ee,le,te;return F(),U("div",{key:se,class:je(M.value)},[ke.separator?(F(),U(xe,{key:0},[rt(" : ")],64)):(F(),U(xe,{key:1},[b("button",{type:"button",class:je({dp__btn:!0,dp__inc_dec_button:!o.timePickerInline,dp__inc_dec_button_inline:o.timePickerInline,dp__tp_inline_btn_top:o.timePickerInline,dp__inc_dec_button_disabled:x.value(ke.type)}),"aria-label":(ee=P(u).ariaLabels)==null?void 0:ee.incrementValue(ke.type),tabindex:"0",onKeydown:[St(X=>Y(ke.type),["enter"]),St(X=>Y(ke.type),["space"])],onClick:X=>Y(ke.type),ref_for:!0,ref:X=>W(X,se,0)},[o.timePickerInline?(F(),U(xe,{key:1},[Yye,qye],64)):(F(),U(xe,{key:0},[q.$slots["arrow-up"]?bt(q.$slots,"arrow-up",{key:0}):ve("",!0),q.$slots["arrow-up"]?ve("",!0):(F(),lt(P(d8),{key:1}))],64))],42,Kye),b("button",{type:"button","aria-label":(le=P(u).ariaLabels)==null?void 0:le.openTpOverlay(ke.type),class:je(["dp__btn",Z(ke.type)?void 0:{dp__time_display:!0,dp__time_display_block:!o.timePickerInline,dp__time_display_inline:o.timePickerInline}]),tabindex:"0",onKeydown:[St(X=>K(ke.type),["enter"]),St(X=>K(ke.type),["space"])],onClick:X=>K(ke.type),ref_for:!0,ref:X=>W(X,se,1)},[q.$slots[ke.type]?bt(q.$slots,ke.type,{key:0,text:L.value(ke.type).text,value:L.value(ke.type).value}):ve("",!0),q.$slots[ke.type]?ve("",!0):(F(),U(xe,{key:1},[rt(_e(L.value(ke.type).text),1)],64))],42,Zye),b("button",{type:"button",class:je({dp__btn:!0,dp__inc_dec_button:!o.timePickerInline,dp__inc_dec_button_inline:o.timePickerInline,dp__tp_inline_btn_bottom:o.timePickerInline,dp__inc_dec_button_disabled:C.value(ke.type)}),"aria-label":(te=P(u).ariaLabels)==null?void 0:te.decrementValue(ke.type),tabindex:"0",onKeydown:[St(X=>Y(ke.type,!1),["enter"]),St(X=>Y(ke.type,!1),["space"])],onClick:X=>Y(ke.type,!1),ref_for:!0,ref:X=>W(X,se,2)},[o.timePickerInline?(F(),U(xe,{key:1},[Jye,Xye],64)):(F(),U(xe,{key:0},[q.$slots["arrow-down"]?bt(q.$slots,"arrow-down",{key:0}):ve("",!0),q.$slots["arrow-down"]?ve("",!0):(F(),lt(P(u8),{key:1}))],64))],42,Qye)],64))],2)}),128)),q.is24?ve("",!0):(F(),U("div",eCe,[q.$slots["am-pm-button"]?bt(q.$slots,"am-pm-button",{key:0,toggle:me,value:y.value}):ve("",!0),q.$slots["am-pm-button"]?ve("",!0):(F(),U("button",{key:1,ref_key:"amPmButton",ref:k,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(be=P(u).ariaLabels)==null?void 0:be.amPmButton,tabindex:"0",onClick:me,onKeydown:[St(mi(me,["prevent"]),["enter"]),St(mi(me,["prevent"]),["space"])]},_e(y.value),41,tCe))])),(F(!0),U(xe,null,Xe(R.value,(ke,se)=>(F(),lt(Wr,{key:se,name:P(h)(g[ke.type]),css:P(f)},{default:qe(()=>[g[ke.type]?(F(),lt(Jc,{key:0,items:j(ke.type),"disabled-values":P(u).filters.times[ke.type].concat(z.value(ke.type)),"esc-close":q.escClose,"aria-labels":P(u).ariaLabels,"hide-navigation":q.hideNavigation,"onUpdate:modelValue":ee=>J(ke.type,ee),onSelected:ee=>K(ke.type),onToggle:ee=>K(ke.type),onResetFlow:ae[0]||(ae[0]=ee=>q.$emit("reset-flow")),type:ke.type},Ni({"button-icon":qe(()=>[q.$slots["clock-icon"]?bt(q.$slots,"clock-icon",{key:0}):ve("",!0),q.$slots["clock-icon"]?ve("",!0):(F(),lt(P(c8),{key:1}))]),_:2},[q.$slots[`${ke.type}-overlay-value`]?{name:"item",fn:qe(({item:ee})=>[bt(q.$slots,`${ke.type}-overlay-value`,{text:ee.text,value:ee.value})]),key:"0"}:void 0]),1032,["items","disabled-values","esc-close","aria-labels","hide-navigation","onUpdate:modelValue","onSelected","onToggle","type"])):ve("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),iCe=["aria-label"],oCe=["tabindex"],rCe=["aria-label"],sCe=Pi({__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},internalModelValue:{type:[Date,Array],default:null},...Ds},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(i,{expose:r,emit:l}){const o=i,{buildMatrix:d,setTimePicker:m}=Es(),u=rf(),{hideNavigationButtons:h,defaults:f}=_o(o),{transitionName:g,showTransition:y}=Sf(f.value.transitions),k=et(null),v=et(null),A=et([]),T=et(null);Ue(()=>{l("mount"),!o.timePicker&&o.arrowNavigation?d([Qn(k.value)],"time"):m(!0,o.timePicker)});const x=Ge(()=>o.range&&o.modelAuto?_8(o.internalModelValue):!0),C=et(!1),D=K=>({hours:Array.isArray(o.hours)?o.hours[K]:o.hours,minutes:Array.isArray(o.minutes)?o.minutes[K]:o.minutes,seconds:Array.isArray(o.seconds)?o.seconds[K]:o.seconds}),S=Ge(()=>{const K=[];if(o.range)for(let H=0;H<2;H++)K.push(D(H));else K.push(D(0));return K}),M=(K,H=!1,Y="")=>{H||l("reset-flow"),C.value=K,l(K?"overlay-opened":"overlay-closed"),o.arrowNavigation&&m(K),eo(()=>{Y!==""&&A.value[0]&&A.value[0].openChildCmp(Y)})},B=Ge(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:o.autoApply&&!o.keepActionRow})),R=la(u,"timePicker"),L=(K,H,Y)=>o.range?H===0?[K,S.value[1][Y]]:[S.value[0][Y],K]:K,j=K=>{l("update:hours",K)},N=K=>{l("update:minutes",K)},z=K=>{l("update:seconds",K)},Z=()=>{if(T.value){const K=iye(T.value);K&&K.focus({preventScroll:!0})}};return r({toggleTimePicker:M}),(K,H)=>{var Y;return F(),U("div",null,[!K.timePicker&&!K.timePickerInline?ct((F(),U("button",{key:0,type:"button",class:je(B.value),"aria-label":(Y=P(f).ariaLabels)==null?void 0:Y.openTimePicker,tabindex:"0",ref_key:"openTimePickerBtn",ref:k,onKeydown:[H[0]||(H[0]=St(oe=>M(!0),["enter"])),H[1]||(H[1]=St(oe=>M(!0),["space"]))],onClick:H[2]||(H[2]=oe=>M(!0))},[K.$slots["clock-icon"]?bt(K.$slots,"clock-icon",{key:0}):ve("",!0),K.$slots["clock-icon"]?ve("",!0):(F(),lt(P(c8),{key:1}))],42,iCe)),[[fr,!P(h)("time")]]):ve("",!0),ue(Wr,{name:P(g)(C.value),css:P(y)&&!K.timePickerInline},{default:qe(()=>{var oe;return[C.value||K.timePicker||K.timePickerInline?(F(),U("div",{key:0,class:je({dp__overlay:!K.timePickerInline}),ref_key:"overlayRef",ref:T,tabindex:K.timePickerInline?void 0:0},[b("div",{class:je(K.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[K.$slots["time-picker-overlay"]?bt(K.$slots,"time-picker-overlay",{key:0,hours:i.hours,minutes:i.minutes,seconds:i.seconds,setHours:j,setMinutes:N,setSeconds:z}):ve("",!0),K.$slots["time-picker-overlay"]?ve("",!0):(F(),U("div",{key:1,class:je(K.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(F(!0),U(xe,null,Xe(S.value,(me,re)=>ct((F(),lt(nCe,ai({key:re},{...K.$props,order:re,hours:me.hours,minutes:me.minutes,seconds:me.seconds,closeTimePickerBtn:v.value,disabled:re===0?K.fixedStart:K.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:A,"onUpdate:hours":W=>j(L(W,re,"hours")),"onUpdate:minutes":W=>N(L(W,re,"minutes")),"onUpdate:seconds":W=>z(L(W,re,"seconds")),onMounted:Z,onOverlayClosed:Z,onAmPmChange:H[3]||(H[3]=W=>K.$emit("am-pm-change",W))}),Ni({_:2},[Xe(P(R),(W,J)=>({name:W,fn:qe(q=>[bt(K.$slots,W,yi(po(q)))])}))]),1040,["onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[fr,re===0?!0:x.value]])),128))],2)),!K.timePicker&&!K.timePickerInline?ct((F(),U("button",{key:2,type:"button",ref_key:"closeTimePickerBtn",ref:v,class:je(B.value),"aria-label":(oe=P(f).ariaLabels)==null?void 0:oe.closeTimePicker,tabindex:"0",onKeydown:[H[4]||(H[4]=St(me=>M(!1),["enter"])),H[5]||(H[5]=St(me=>M(!1),["space"]))],onClick:H[6]||(H[6]=me=>M(!1))},[K.$slots["calendar-icon"]?bt(K.$slots,"calendar-icon",{key:0}):ve("",!0),K.$slots["calendar-icon"]?ve("",!0):(F(),lt(P(xf),{key:1}))],42,rCe)),[[fr,!P(h)("time")]]):ve("",!0)],2)],10,oCe)):ve("",!0)]}),_:3},8,["name","css"])])}}}),aCe=(i,r)=>{const{isDisabled:l,matchDate:o,getWeekFromDate:d,defaults:m}=_o(r),u=et(null),h=et(nt()),f=q=>{!q.current&&r.hideOffsetDates||(u.value=q.value)},g=()=>{u.value=null},y=q=>Array.isArray(i.value)&&r.range&&i.value[0]&&u.value?q?ji(u.value,i.value[0]):Ii(u.value,i.value[0]):!0,k=(q,ae)=>{const be=()=>i.value?ae?i.value[0]||null:i.value[1]:null,ke=i.value&&Array.isArray(i.value)?be():null;return vn(nt(q.value),ke)},v=q=>{const ae=Array.isArray(i.value)?i.value[0]:null;return q?!Ii(u.value||null,ae):!0},A=(q,ae=!0)=>(r.range||r.weekPicker)&&Array.isArray(i.value)&&i.value.length===2?r.hideOffsetDates&&!q.current?!1:vn(nt(q.value),i.value[ae?0:1]):r.range?k(q,ae)&&v(ae)||vn(q.value,Array.isArray(i.value)?i.value[0]:null)&&y(ae):!1,T=(q,ae,be)=>Array.isArray(i.value)&&i.value[0]&&i.value.length===1?q?!1:be?ji(i.value[0],ae.value):Ii(i.value[0],ae.value):!1,x=q=>!i.value||r.hideOffsetDates&&!q.current?!1:r.range?r.modelAuto&&Array.isArray(i.value)?vn(q.value,i.value[0]?i.value[0]:h.value):!1:r.multiDates&&Array.isArray(i.value)?i.value.some(ae=>vn(ae,q.value)):vn(q.value,i.value?i.value:h.value),C=q=>{if(r.autoRange||r.weekPicker){if(u.value){if(r.hideOffsetDates&&!q.current)return!1;const ae=Rr(u.value,+r.autoRange),be=d(nt(u.value));return r.weekPicker?vn(be[1],nt(q.value)):vn(ae,nt(q.value))}return!1}return!1},D=q=>{if(r.autoRange||r.weekPicker){if(u.value){const ae=Rr(u.value,+r.autoRange);if(r.hideOffsetDates&&!q.current)return!1;const be=d(nt(u.value));return r.weekPicker?ji(q.value,be[0])&&Ii(q.value,be[1]):ji(q.value,u.value)&&Ii(q.value,ae)}return!1}return!1},S=q=>{if(r.autoRange||r.weekPicker){if(u.value){if(r.hideOffsetDates&&!q.current)return!1;const ae=d(nt(u.value));return r.weekPicker?vn(ae[0],q.value):vn(u.value,q.value)}return!1}return!1},M=q=>h8(i.value,u.value,q.value),B=()=>r.modelAuto&&Array.isArray(r.internalModelValue)?!!r.internalModelValue[0]:!1,R=()=>r.modelAuto?_8(r.internalModelValue):!0,L=q=>{if(Array.isArray(i.value)&&i.value.length||r.weekPicker)return!1;const ae=r.range?!A(q)&&!A(q,!1):!0;return!l(q.value)&&!x(q)&&!(!q.current&&r.hideOffsetDates)&&ae},j=q=>r.range?r.modelAuto?B()&&x(q):!1:x(q),N=q=>{var ae;return r.highlight?o(q.value,(ae=r.arrMapValues)!=null&&ae.highlightedDates?r.arrMapValues.highlightedDates:r.highlight):!1},z=q=>l(q.value)&&r.highlightDisabledDays===!1,Z=q=>r.highlightWeekDays&&r.highlightWeekDays.includes(q.value.getDay()),K=q=>(r.range||r.weekPicker)&&(!(m.value.multiCalendars>0)||q.current)&&R()&&!(!q.current&&r.hideOffsetDates)&&!x(q)?M(q):!1,H=q=>{const{isRangeStart:ae,isRangeEnd:be}=me(q),ke=r.range?ae||be:!1;return{dp__cell_offset:!q.current,dp__pointer:!r.disabled&&!(!q.current&&r.hideOffsetDates)&&!l(q.value),dp__cell_disabled:l(q.value),dp__cell_highlight:!z(q)&&(N(q)||Z(q))&&!j(q)&&!ke,dp__cell_highlight_active:!z(q)&&(N(q)||Z(q))&&j(q),dp__today:!r.noToday&&vn(q.value,h.value)&&q.current}},Y=q=>({dp__active_date:j(q),dp__date_hover:L(q)}),oe=q=>({...re(q),...W(q),dp__range_between_week:K(q)&&r.weekPicker}),me=q=>{const ae=m.value.multiCalendars>0?q.current&&A(q)&&R():A(q)&&R(),be=m.value.multiCalendars>0?q.current&&A(q,!1)&&R():A(q,!1)&&R();return{isRangeStart:ae,isRangeEnd:be}},re=q=>{const{isRangeStart:ae,isRangeEnd:be}=me(q);return{dp__range_start:ae,dp__range_end:be,dp__range_between:K(q)&&!r.weekPicker,dp__date_hover_start:T(L(q),q,!0),dp__date_hover_end:T(L(q),q,!1)}},W=q=>({...re(q),dp__cell_auto_range:D(q),dp__cell_auto_range_start:S(q),dp__cell_auto_range_end:C(q)}),J=q=>r.range?r.autoRange?W(q):r.modelAuto?{...Y(q),...re(q)}:re(q):r.weekPicker?oe(q):Y(q);return{setHoverDate:f,clearHoverDate:g,getDayClassData:q=>r.hideOffsetDates&&!q.current?{}:{...H(q),...J(q),[r.dayClass?r.dayClass(q.value):""]:!0,[r.calendarCellClassName]:!!r.calendarCellClassName}}},lCe=["id","onKeydown"],cCe={key:0,class:"dp__sidebar_left"},dCe={key:1,class:"dp__preset_ranges"},uCe=["onClick"],hCe={key:2,class:"dp__sidebar_right"},fCe={key:3,class:"dp__action_extra"},pCe=Pi({__name:"DatepickerMenu",props:{openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},...Ds},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end"],setup(i,{expose:r,emit:l}){const o=i,d=Ge(()=>{const{openOnTop:Te,internalModelValue:He,arrMapValues:At,...Ut}=o;return Ut}),{setMenuFocused:m,setShiftKey:u,control:h}=f8(),{getCalendarDays:f,defaults:g}=_o(o),y=rf(),k=et(null),v=Ve({timePicker:!!(!o.enableTimePicker||o.timePicker||o.monthPicker),monthYearInput:!!o.timePicker,calendar:!1}),A=et([]),T=et([]),x=et(null),C=et(null),D=et(0),S=et(!1),M=et(0);Ue(()=>{var Te;S.value=!0,!((Te=o.presetRanges)!=null&&Te.length)&&!y["left-sidebar"]&&!y["right-sidebar"]&&(We(),window.addEventListener("resize",We));const He=Qn(C);if(He&&!o.textInput&&!o.inline&&(m(!0),z()),He){const At=Ut=>{o.allowPreventDefault&&Ut.preventDefault(),Ut.stopImmediatePropagation(),Ut.stopPropagation()};He.addEventListener("pointerdown",At),He.addEventListener("mousedown",At)}}),Aa(()=>{window.removeEventListener("resize",We)});const{arrowRight:B,arrowLeft:R,arrowDown:L,arrowUp:j}=Es(),N=Te=>{Te||Te===0?T.value[Te].triggerTransition(oe.value(Te),me.value(Te)):T.value.forEach((He,At)=>He.triggerTransition(oe.value(At),me.value(At)))},z=()=>{const Te=Qn(C);Te&&Te.focus({preventScroll:!0})},Z=()=>{var Te;(Te=o.flow)!=null&&Te.length&&M.value!==-1&&(M.value+=1,l("flow-step",M.value),Re())},K=()=>{M.value=-1},{calendars:H,modelValue:Y,month:oe,year:me,time:re,updateTime:W,updateMonthYear:J,selectDate:q,getWeekNum:ae,monthYearSelect:be,handleScroll:ke,handleArrow:se,handleSwipe:ee,getMarker:le,selectCurrentDate:te,presetDateRange:X}=uye(o,l,Z,N,M),{setHoverDate:ce,clearHoverDate:pe,getDayClassData:we}=aCe(Y,o),Ze={modelValue:Y,month:oe,year:me,time:re,updateTime:W,updateMonthYear:J,selectDate:q,presetDateRange:X,handleMonthYearChange:Te=>{A.value[0]&&A.value[0].handleMonthYearChange(Te)}};Bt(H,()=>{o.openOnTop&&setTimeout(()=>{l("recalculate-position")},0)},{deep:!0});const ne=la(y,"calendar"),de=la(y,"action"),ge=la(y,"timePicker"),Ee=la(y,"monthYear"),Ie=Ge(()=>o.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),Le=Ge(()=>J2e(o.yearRange,o.reverseYears)),ot=Ge(()=>X2e(o.formatLocale,o.locale,o.monthNameFormat)),We=()=>{const Te=Qn(k);Te&&(D.value=Te.getBoundingClientRect().width)},Fe=Ge(()=>Te=>f(oe.value(Te),me.value(Te))),Ae=Ge(()=>g.value.multiCalendars>0?[...Array(g.value.multiCalendars).keys()]:[0]),Be=Ge(()=>Te=>Te===1),$e=Ge(()=>o.monthPicker||o.timePicker||o.yearPicker),dt=Ge(()=>({dp__menu_inner:!0,dp__flex_display:g.value.multiCalendars>0})),mt=Ge(()=>({dp__instance_calendar:g.value.multiCalendars>0})),It=Ge(()=>({dp__menu_disabled:o.disabled,dp__menu_readonly:o.readonly})),Wt=Ge(()=>Te=>Ce(Fe,Te)),zt=Ge(()=>({dp__menu:!0,dp__menu_index:!o.inline,dp__relative:o.inline,[o.menuClassName]:!!o.menuClassName})),Ce=(Te,He)=>Te.value(He).map(At=>({...At,days:At.days.map(Ut=>(Ut.marker=le(Ut),Ut.classData=we(Ut),Ut))})),De=Te=>{Te.stopPropagation(),Te.stopImmediatePropagation()},Me=()=>{o.escClose&&l("close-picker")},Qe=(Te,He=!1)=>{q(Te,He),o.spaceConfirm&&l("select-date")},fe=Te=>{var He;(He=o.flow)!=null&&He.length&&(v[Te]=!0,Object.keys(v).filter(At=>!v[At]).length||Re())},Se=(Te,He,At,Ut,...Ci)=>{if(o.flow[M.value]===Te){const kt=Ut?He.value[0]:He.value;kt&&kt[At](...Ci)}},Re=()=>{Se("month",A,"toggleMonthPicker",!0,!0),Se("year",A,"toggleYearPicker",!0,!0),Se("calendar",x,"toggleTimePicker",!1,!1,!0),Se("time",x,"toggleTimePicker",!1,!0,!0);const Te=o.flow[M.value];(Te==="hours"||Te==="minutes"||Te==="seconds")&&Se(Te,x,"toggleTimePicker",!1,!0,!0,Te)},Je=Te=>{if(o.arrowNavigation){if(Te==="up")return j();if(Te==="down")return L();if(Te==="left")return R();if(Te==="right")return B()}else Te==="left"||Te==="up"?se("left",0,Te==="up"):se("right",0,Te==="down")},Et=Te=>{u(Te.shiftKey),!o.disableMonthYearSelect&&Te.code==="Tab"&&Te.target.classList.contains("dp__menu")&&h.value.shiftKeyInMenu&&(Te.preventDefault(),Te.stopImmediatePropagation(),l("close-picker"))},yt=()=>{z(),l("time-picker-close")},ht=Te=>{var He,At,Ut,Ci,kt;(He=x.value)==null||He.toggleTimePicker(!1,!1),(Ut=(At=A.value)==null?void 0:At[Te])==null||Ut.toggleMonthPicker(!1,!1),(kt=(Ci=A.value)==null?void 0:Ci[Te])==null||kt.toggleYearPicker(!1,!1)};return r({updateMonthYear:J,switchView:(Te,He=0)=>{var At,Ut,Ci,kt,kn;return Te==="month"?(Ut=(At=A.value)==null?void 0:At[He])==null?void 0:Ut.toggleMonthPicker(!1,!0):Te==="year"?(kt=(Ci=A.value)==null?void 0:Ci[He])==null?void 0:kt.toggleYearPicker(!1,!0):Te==="time"?(kn=x.value)==null?void 0:kn.toggleTimePicker(!0,!1):ht(He)}}),(Te,He)=>{var At;return F(),lt(Wr,{appear:"",name:(At=P(g).transitions)==null?void 0:At.menuAppear,css:!!Te.transitions},{default:qe(()=>{var Ut,Ci;return[b("div",{id:Te.uid?`dp-menu-${Te.uid}`:void 0,tabindex:"0",ref_key:"dpMenuRef",ref:C,role:"dialog",class:je(zt.value),onMouseleave:He[14]||(He[14]=(...kt)=>P(pe)&&P(pe)(...kt)),onClick:De,onKeydown:[St(Me,["esc"]),He[15]||(He[15]=St(mi(kt=>Je("left"),["prevent"]),["left"])),He[16]||(He[16]=St(mi(kt=>Je("up"),["prevent"]),["up"])),He[17]||(He[17]=St(mi(kt=>Je("down"),["prevent"]),["down"])),He[18]||(He[18]=St(mi(kt=>Je("right"),["prevent"]),["right"])),Et]},[(Te.disabled||Te.readonly)&&Te.inline?(F(),U("div",{key:0,class:je(It.value)},null,2)):ve("",!0),!Te.inline&&!Te.teleportCenter?(F(),U("div",{key:1,class:je(Ie.value)},null,2)):ve("",!0),b("div",{class:je({dp__menu_content_wrapper:((Ut=Te.presetRanges)==null?void 0:Ut.length)||!!Te.$slots["left-sidebar"]||!!Te.$slots["right-sidebar"]})},[Te.$slots["left-sidebar"]?(F(),U("div",cCe,[bt(Te.$slots,"left-sidebar",yi(po(Ze)))])):ve("",!0),(Ci=Te.presetRanges)!=null&&Ci.length?(F(),U("div",dCe,[(F(!0),U(xe,null,Xe(Te.presetRanges,(kt,kn)=>(F(),U("div",{key:kn,style:Vn(kt.style||{}),class:"dp__preset_range",onClick:Qt=>P(X)(kt.range,!!kt.slot)},[kt.slot?bt(Te.$slots,kt.slot,{key:0,presetDateRange:P(X),label:kt.label,range:kt.range}):(F(),U(xe,{key:1},[rt(_e(kt.label),1)],64))],12,uCe))),128))])):ve("",!0),b("div",{class:"dp__instance_calendar",ref_key:"calendarWrapperRef",ref:k,role:"document"},[b("div",{class:je(dt.value)},[(F(!0),U(xe,null,Xe(Ae.value,(kt,kn)=>(F(),U("div",{key:kt,class:je(mt.value)},[!Te.disableMonthYearSelect&&!Te.timePicker?(F(),lt(Wye,ai({key:0,ref_for:!0,ref:Qt=>{Qt&&(A.value[kn]=Qt)},months:ot.value,years:Le.value,month:P(oe)(kt),year:P(me)(kt),instance:kt,"internal-model-value":i.internalModelValue},d.value,{onMount:He[0]||(He[0]=Qt=>fe("monthYearInput")),onResetFlow:K,onUpdateMonthYear:Qt=>P(J)(kt,Qt),onMonthYearSelect:P(be),onOverlayClosed:z}),Ni({_:2},[Xe(P(Ee),(Qt,Ts)=>({name:Qt,fn:qe(qr=>[bt(Te.$slots,Qt,yi(po(qr)))])}))]),1040,["months","years","month","year","instance","internal-model-value","onUpdateMonthYear","onMonthYearSelect"])):ve("",!0),ue(Oye,ai({ref_for:!0,ref:Qt=>{Qt&&(T.value[kn]=Qt)},"specific-mode":$e.value,"get-week-num":P(ae),instance:kt,"mapped-dates":Wt.value(kt),month:P(oe)(kt),year:P(me)(kt)},d.value,{onSelectDate:Qt=>P(q)(Qt,!Be.value(kt)),onHandleSpace:Qt=>Qe(Qt,!Be.value(kt)),onSetHoverDate:He[1]||(He[1]=Qt=>P(ce)(Qt)),onHandleScroll:Qt=>P(ke)(Qt,kt),onHandleSwipe:Qt=>P(ee)(Qt,kt),onMount:He[2]||(He[2]=Qt=>fe("calendar")),onResetFlow:K,onTooltipOpen:He[3]||(He[3]=Qt=>Te.$emit("tooltip-open",Qt)),onTooltipClose:He[4]||(He[4]=Qt=>Te.$emit("tooltip-close",Qt))}),Ni({_:2},[Xe(P(ne),(Qt,Ts)=>({name:Qt,fn:qe(qr=>[bt(Te.$slots,Qt,yi(po({...qr})))])}))]),1040,["specific-mode","get-week-num","instance","mapped-dates","month","year","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])],2))),128))],2),b("div",null,[Te.$slots["time-picker"]?bt(Te.$slots,"time-picker",yi(ai({key:0},{time:P(re),updateTime:P(W)}))):(F(),U(xe,{key:1},[Te.enableTimePicker&&!Te.monthPicker&&!Te.weekPicker?(F(),lt(sCe,ai({key:0,ref_key:"timePickerRef",ref:x,hours:P(re).hours,minutes:P(re).minutes,seconds:P(re).seconds,"internal-model-value":i.internalModelValue},d.value,{onMount:He[5]||(He[5]=kt=>fe("timePicker")),"onUpdate:hours":He[6]||(He[6]=kt=>P(W)(kt)),"onUpdate:minutes":He[7]||(He[7]=kt=>P(W)(kt,!1)),"onUpdate:seconds":He[8]||(He[8]=kt=>P(W)(kt,!1,!0)),onResetFlow:K,onOverlayClosed:yt,onOverlayOpened:He[9]||(He[9]=kt=>Te.$emit("time-picker-open",kt)),onAmPmChange:He[10]||(He[10]=kt=>Te.$emit("am-pm-change",kt))}),Ni({_:2},[Xe(P(ge),(kt,kn)=>({name:kt,fn:qe(Qt=>[bt(Te.$slots,kt,yi(po(Qt)))])}))]),1040,["hours","minutes","seconds","internal-model-value"])):ve("",!0)],64))])],512),Te.$slots["right-sidebar"]?(F(),U("div",hCe,[bt(Te.$slots,"right-sidebar",yi(po(Ze)))])):ve("",!0),Te.$slots["action-extra"]?(F(),U("div",fCe,[Te.$slots["action-extra"]?bt(Te.$slots,"action-extra",{key:0,selectCurrentDate:P(te)}):ve("",!0)])):ve("",!0)],2),!Te.autoApply||Te.keepActionRow?(F(),lt(Aye,ai({key:2,"menu-mount":S.value,"calendar-width":D.value,"internal-model-value":i.internalModelValue},d.value,{onClosePicker:He[11]||(He[11]=kt=>Te.$emit("close-picker")),onSelectDate:He[12]||(He[12]=kt=>Te.$emit("select-date")),onInvalidSelect:He[13]||(He[13]=kt=>Te.$emit("invalid-select")),onSelectNow:P(te)}),Ni({_:2},[Xe(P(de),(kt,kn)=>({name:kt,fn:qe(Qt=>[bt(Te.$slots,kt,yi(po({...Qt})))])}))]),1040,["menu-mount","calendar-width","internal-model-value","onSelectNow"])):ve("",!0)],42,lCe)]}),_:3},8,["name","css"])}}}),mCe=typeof window<"u"?window:void 0,Bg=()=>{},gCe=i=>Kh()?(T0(i),!0):!1,_Ce=(i,r,l,o)=>{if(!i)return Bg;let d=Bg;const m=Bt(()=>P(i),h=>{d(),h&&(h.addEventListener(r,l,o),d=()=>{h.removeEventListener(r,l,o),d=Bg})},{immediate:!0,flush:"post"}),u=()=>{m(),d()};return gCe(u),u},bCe=(i,r,l,o={})=>{const{window:d=mCe,event:m="pointerdown"}=o;return d?_Ce(d,m,u=>{const h=Qn(i),f=Qn(r);!h||!f||h===u.target||u.composedPath().includes(h)||u.composedPath().includes(f)||l(u)},{passive:!0}):void 0},vCe=Pi({__name:"VueDatePicker",props:{...Ds},emits:["update:model-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end"],setup(i,{expose:r,emit:l}){const o=i,d=rf(),m=et(!1),u=kl(o,"modelValue"),h=kl(o,"timezone"),f=et(null),g=et(null),y=et(!1),k=et(null),v=Ve({disabledDates:null,allowedDates:null,highlightedDates:null}),{setMenuFocused:A,setShiftKey:T}=f8(),{clearArrowNav:x}=Es(),{validateDate:C,isValidTime:D,defaults:S,mapDatesArrToMap:M}=_o(o);Ue(()=>{oe(o.modelValue),o.inline||(K(k.value).addEventListener("scroll",be),window.addEventListener("resize",ke)),o.inline&&(m.value=!0),M(v)}),Aa(()=>{if(!o.inline){const Ae=K(k.value);Ae&&Ae.removeEventListener("scroll",be),window.removeEventListener("resize",ke)}});const B=la(d,"all",o.presetRanges),R=la(d,"input");Bt([u,h],()=>{oe(u.value)},{deep:!0});const{openOnTop:L,menuStyle:j,resetPosition:N,setMenuPosition:z,setInitialPosition:Z,getScrollableParent:K}=pye(f,g,l,o),{inputValue:H,internalModelValue:Y,parseExternalModelValue:oe,emitModelValue:me,formatInputValue:re,checkBeforeEmit:W}=hye(l,o,y),J=Ge(()=>({dp__main:!0,dp__theme_dark:o.dark,dp__theme_light:!o.dark,dp__flex_display:o.inline,dp__flex_display_with_input:o.inlineWithInput})),q=Ge(()=>o.dark?"dp__theme_dark":"dp__theme_light"),ae=Ge(()=>o.teleport?{to:typeof o.teleport=="boolean"?"body":o.teleport,disabled:o.inline}:{class:"dp__outer_menu_wrap"}),be=()=>{m.value&&(o.closeOnScroll?Ze():z())},ke=()=>{m.value&&z()},se=async()=>{var Ae,Be,$e;!o.disabled&&!o.readonly&&(N(),await eo(),m.value=!0,await eo(),Z(),await eo(),z(),delete j.value.opacity,!((Ae=S.value.transitions)!=null&&Ae.menuAppear)&&o.transitions&&(($e=(Be=f.value)==null?void 0:Be.$el)==null||$e.classList.add("dp__menu_transitioned")),m.value&&l("open"),m.value||we(),oe(o.modelValue))},ee=()=>{H.value="",we(),l("update:model-value",null),l("cleared"),o.closeOnClearValue&&Ze()},le=()=>{const Ae=Y.value;return!Ae||!Array.isArray(Ae)&&C(Ae)?!0:Array.isArray(Ae)?Ae.length===2&&C(Ae[0])&&C(Ae[1])?!0:C(Ae[0]):!1},te=()=>{W()&&le()?(me(),Ze()):l("invalid-select",Y.value)},X=Ae=>{ce(),me(),o.closeOnAutoApply&&!Ae&&Ze()},ce=()=>{g.value&&o.textInput&&g.value.setParsedDate(Y.value)},pe=(Ae=!1)=>{o.autoApply&&D(Y.value)&&le()&&(o.range&&Array.isArray(Y.value)?(o.partialRange||Y.value.length===2)&&X(Ae):X(Ae))},we=()=>{o.textInput||(Y.value=null)},Ze=()=>{o.inline||(m.value&&(m.value=!1,A(!1),T(!1),x(),l("closed"),Z(),H.value&&oe(u.value)),we())},ne=(Ae,Be)=>{if(!Ae){Y.value=null;return}Y.value=Ae,Be&&(te(),l("text-submit"))},de=()=>{o.autoApply&&D(Y.value)&&me(),ce()},ge=()=>m.value?Ze():se(),Ee=Ae=>{Y.value=Ae},Ie=()=>{o.textInput&&(y.value=!0,re()),l("focus")},Le=()=>{o.textInput&&(y.value=!1,oe(o.modelValue)),l("blur")},ot=Ae=>{f.value&&f.value.updateMonthYear(0,{month:U5(Ae.month),year:U5(Ae.year)})},We=Ae=>{oe(Ae||o.modelValue)},Fe=(Ae,Be)=>{var $e;($e=f.value)==null||$e.switchView(Ae,Be)};return bCe(f,g,o.onClickOutside?()=>o.onClickOutside(le):Ze),r({closeMenu:Ze,selectDate:te,clearValue:ee,openMenu:se,onScroll:be,formatInputValue:re,updateInternalModelValue:Ee,setMonthYear:ot,parseModel:We,switchView:Fe}),(Ae,Be)=>(F(),U("div",{class:je(J.value),ref_key:"pickerWrapperRef",ref:k},[ue(kye,ai({ref_key:"inputRef",ref:g,"is-menu-open":m.value,"input-value":P(H),"onUpdate:inputValue":Be[0]||(Be[0]=$e=>hn(H)?H.value=$e:null)},Ae.$props,{onClear:ee,onOpen:se,onSetInputDate:ne,onSetEmptyDate:P(me),onSelectDate:te,onToggle:ge,onClose:Ze,onFocus:Ie,onBlur:Le,onRealBlur:Be[1]||(Be[1]=$e=>y.value=!1)}),Ni({_:2},[Xe(P(R),($e,dt)=>({name:$e,fn:qe(mt=>[bt(Ae.$slots,$e,yi(po(mt)))])}))]),1040,["is-menu-open","input-value","onSetEmptyDate"]),m.value?(F(),lt(Yo(Ae.teleport?G3:"div"),yi(ai({key:0},ae.value)),{default:qe(()=>[m.value?(F(),lt(pCe,ai({key:0,ref_key:"dpMenuRef",ref:f,class:q.value,style:Ae.inline?void 0:P(j),"open-on-top":P(L),"arr-map-values":v},Ae.$props,{"internal-model-value":P(Y),"onUpdate:internalModelValue":Be[2]||(Be[2]=$e=>hn(Y)?Y.value=$e:null),onClosePicker:Ze,onSelectDate:te,onAutoApply:pe,onTimeUpdate:de,onFlowStep:Be[3]||(Be[3]=$e=>Ae.$emit("flow-step",$e)),onUpdateMonthYear:Be[4]||(Be[4]=$e=>Ae.$emit("update-month-year",$e)),onInvalidSelect:Be[5]||(Be[5]=$e=>Ae.$emit("invalid-select",P(Y))),onInvalidFixedRange:Be[6]||(Be[6]=$e=>Ae.$emit("invalid-fixed-range",$e)),onRecalculatePosition:P(z),onTooltipOpen:Be[7]||(Be[7]=$e=>Ae.$emit("tooltip-open",$e)),onTooltipClose:Be[8]||(Be[8]=$e=>Ae.$emit("tooltip-close",$e)),onTimePickerOpen:Be[9]||(Be[9]=$e=>Ae.$emit("time-picker-open",$e)),onTimePickerClose:Be[10]||(Be[10]=$e=>Ae.$emit("time-picker-close",$e)),onAmPmChange:Be[11]||(Be[11]=$e=>Ae.$emit("am-pm-change",$e)),onRangeStart:Be[12]||(Be[12]=$e=>Ae.$emit("range-start",$e)),onRangeEnd:Be[13]||(Be[13]=$e=>Ae.$emit("range-end",$e))}),Ni({_:2},[Xe(P(B),($e,dt)=>({name:$e,fn:qe(mt=>[bt(Ae.$slots,$e,yi(po({...mt})))])}))]),1040,["class","style","open-on-top","arr-map-values","internal-model-value","onRecalculatePosition"])):ve("",!0)]),_:3},16)):ve("",!0)],2))}}),O1=(()=>{const i=vCe;return i.install=r=>{r.component("Vue3DatePicker",i)},i})(),kCe=Object.freeze(Object.defineProperty({__proto__:null,default:O1},Symbol.toStringTag,{value:"Module"}));Object.entries(kCe).forEach(([i,r])=>{i!=="default"&&(O1[i]=r)});V6.beforeEach((i,r,l)=>{i.meta.title&&(document.title=i.meta.title),i.path&&window._hmt&&window._hmt.push(["_trackPageview",i.fullPath]),l(!0)});const Zo=kx(OF),wCe=LF();Zo.use(V6);Zo.use(wCe);Zo.use(mz);Zo.component("VueDatePicker",O1);o1.interceptors.request.use(i=>(localStorage.getItem("token")&&(i.headers.Authorization="Bearer "+localStorage.getItem("token")),i),i=>Promise.reject(i));Zo.config.globalProperties.get=o1.get;Zo.config.globalProperties.post=o1.post;Zo.config.globalProperties.urls=Bve;Zo.config.globalProperties.filters=Az;Zo.config.globalProperties.utils=Rve;Zo.config.globalProperties.bus=new fz;Zo.mount("#app");
